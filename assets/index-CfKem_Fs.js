(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(m){if(m.ep)return;m.ep=!0;const p=d(m);fetch(m.href,p)}})();function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rc={exports:{}},qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function u0(){if(Wm)return qs;Wm=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function d(o,m,p){var g=null;if(p!==void 0&&(g=""+p),m.key!==void 0&&(g=""+m.key),"key"in m){p={};for(var j in m)j!=="key"&&(p[j]=m[j])}else p=m;return m=p.ref,{$$typeof:r,type:o,key:g,ref:m!==void 0?m:null,props:p}}return qs.Fragment=c,qs.jsx=d,qs.jsxs=d,qs}var Im;function m0(){return Im||(Im=1,Rc.exports=u0()),Rc.exports}var a=m0(),Oc={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function f0(){if(ef)return fe;ef=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),y=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function x(O,U,Y){this.props=O,this.context=U,this.refs=E,this.updater=Y||R}x.prototype.isReactComponent={},x.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function v(){}v.prototype=x.prototype;function h(O,U,Y){this.props=O,this.context=U,this.refs=E,this.updater=Y||R}var M=h.prototype=new v;M.constructor=h,w(M,x.prototype),M.isPureReactComponent=!0;var _=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function Q(O,U,Y,Z,W,ae){return Y=ae.ref,{$$typeof:r,type:O,key:U,ref:Y!==void 0?Y:null,props:ae}}function se(O,U){return Q(O.type,U,void 0,void 0,void 0,O.props)}function ue(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function F(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Y){return U[Y]})}var pe=/\/+/g;function P(O,U){return typeof O=="object"&&O!==null&&O.key!=null?F(""+O.key):U.toString(36)}function ee(){}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ee,ee):(O.status="pending",O.then(function(U){O.status==="pending"&&(O.status="fulfilled",O.value=U)},function(U){O.status==="pending"&&(O.status="rejected",O.reason=U)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function I(O,U,Y,Z,W){var ae=typeof O;(ae==="undefined"||ae==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(ae){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case r:case c:ie=!0;break;case C:return ie=O._init,I(ie(O._payload),U,Y,Z,W)}}if(ie)return W=W(O),ie=Z===""?"."+P(O,0):Z,_(W)?(Y="",ie!=null&&(Y=ie.replace(pe,"$&/")+"/"),I(W,U,Y,"",function(la){return la})):W!=null&&(ue(W)&&(W=se(W,Y+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(pe,"$&/")+"/")+ie)),U.push(W)),1;ie=0;var De=Z===""?".":Z+":";if(_(O))for(var _e=0;_e<O.length;_e++)Z=O[_e],ae=De+P(Z,_e),ie+=I(Z,U,Y,ae,W);else if(_e=D(O),typeof _e=="function")for(O=_e.call(O),_e=0;!(Z=O.next()).done;)Z=Z.value,ae=De+P(Z,_e++),ie+=I(Z,U,Y,ae,W);else if(ae==="object"){if(typeof O.then=="function")return I(ne(O),U,Y,Z,W);throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ie}function q(O,U,Y){if(O==null)return O;var Z=[],W=0;return I(O,Z,"","",function(ae){return U.call(Y,ae,W++)}),Z}function X(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(Y){(O._status===0||O._status===-1)&&(O._status=1,O._result=Y)},function(Y){(O._status===0||O._status===-1)&&(O._status=2,O._result=Y)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function xe(){}return fe.Children={map:q,forEach:function(O,U,Y){q(O,function(){U.apply(this,arguments)},Y)},count:function(O){var U=0;return q(O,function(){U++}),U},toArray:function(O){return q(O,function(U){return U})||[]},only:function(O){if(!ue(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},fe.Component=x,fe.Fragment=d,fe.Profiler=m,fe.PureComponent=h,fe.StrictMode=o,fe.Suspense=N,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return S.H.useMemoCache(O)}},fe.cache=function(O){return function(){return O.apply(null,arguments)}},fe.cloneElement=function(O,U,Y){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=w({},O.props),W=O.key,ae=void 0;if(U!=null)for(ie in U.ref!==void 0&&(ae=void 0),U.key!==void 0&&(W=""+U.key),U)!T.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(Z[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)Z.children=Y;else if(1<ie){for(var De=Array(ie),_e=0;_e<ie;_e++)De[_e]=arguments[_e+2];Z.children=De}return Q(O.type,W,void 0,void 0,ae,Z)},fe.createContext=function(O){return O={$$typeof:g,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:p,_context:O},O},fe.createElement=function(O,U,Y){var Z,W={},ae=null;if(U!=null)for(Z in U.key!==void 0&&(ae=""+U.key),U)T.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=U[Z]);var ie=arguments.length-2;if(ie===1)W.children=Y;else if(1<ie){for(var De=Array(ie),_e=0;_e<ie;_e++)De[_e]=arguments[_e+2];W.children=De}if(O&&O.defaultProps)for(Z in ie=O.defaultProps,ie)W[Z]===void 0&&(W[Z]=ie[Z]);return Q(O,ae,void 0,void 0,null,W)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(O){return{$$typeof:j,render:O}},fe.isValidElement=ue,fe.lazy=function(O){return{$$typeof:C,_payload:{_status:-1,_result:O},_init:X}},fe.memo=function(O,U){return{$$typeof:f,type:O,compare:U===void 0?null:U}},fe.startTransition=function(O){var U=S.T,Y={};S.T=Y;try{var Z=O(),W=S.S;W!==null&&W(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(xe,le)}catch(ae){le(ae)}finally{S.T=U}},fe.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},fe.use=function(O){return S.H.use(O)},fe.useActionState=function(O,U,Y){return S.H.useActionState(O,U,Y)},fe.useCallback=function(O,U){return S.H.useCallback(O,U)},fe.useContext=function(O){return S.H.useContext(O)},fe.useDebugValue=function(){},fe.useDeferredValue=function(O,U){return S.H.useDeferredValue(O,U)},fe.useEffect=function(O,U,Y){var Z=S.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(O,U)},fe.useId=function(){return S.H.useId()},fe.useImperativeHandle=function(O,U,Y){return S.H.useImperativeHandle(O,U,Y)},fe.useInsertionEffect=function(O,U){return S.H.useInsertionEffect(O,U)},fe.useLayoutEffect=function(O,U){return S.H.useLayoutEffect(O,U)},fe.useMemo=function(O,U){return S.H.useMemo(O,U)},fe.useOptimistic=function(O,U){return S.H.useOptimistic(O,U)},fe.useReducer=function(O,U,Y){return S.H.useReducer(O,U,Y)},fe.useRef=function(O){return S.H.useRef(O)},fe.useState=function(O){return S.H.useState(O)},fe.useSyncExternalStore=function(O,U,Y){return S.H.useSyncExternalStore(O,U,Y)},fe.useTransition=function(){return S.H.useTransition()},fe.version="19.1.1",fe}var tf;function Pc(){return tf||(tf=1,Oc.exports=f0()),Oc.exports}var k=Pc();const et=d0(k);var zc={exports:{}},Bs={},Hc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af;function x0(){return af||(af=1,(function(r){function c(q,X){var le=q.length;q.push(X);e:for(;0<le;){var xe=le-1>>>1,O=q[xe];if(0<m(O,X))q[xe]=X,q[le]=O,le=xe;else break e}}function d(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var X=q[0],le=q.pop();if(le!==X){q[0]=le;e:for(var xe=0,O=q.length,U=O>>>1;xe<U;){var Y=2*(xe+1)-1,Z=q[Y],W=Y+1,ae=q[W];if(0>m(Z,le))W<O&&0>m(ae,Z)?(q[xe]=ae,q[W]=le,xe=W):(q[xe]=Z,q[Y]=le,xe=Y);else if(W<O&&0>m(ae,le))q[xe]=ae,q[W]=le,xe=W;else break e}}return X}function m(q,X){var le=q.sortIndex-X.sortIndex;return le!==0?le:q.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var g=Date,j=g.now();r.unstable_now=function(){return g.now()-j}}var N=[],f=[],C=1,y=null,D=3,R=!1,w=!1,E=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function _(q){for(var X=d(f);X!==null;){if(X.callback===null)o(f);else if(X.startTime<=q)o(f),X.sortIndex=X.expirationTime,c(N,X);else break;X=d(f)}}function S(q){if(E=!1,_(q),!w)if(d(N)!==null)w=!0,T||(T=!0,P());else{var X=d(f);X!==null&&I(S,X.startTime-q)}}var T=!1,Q=-1,se=5,ue=-1;function F(){return x?!0:!(r.unstable_now()-ue<se)}function pe(){if(x=!1,T){var q=r.unstable_now();ue=q;var X=!0;try{e:{w=!1,E&&(E=!1,h(Q),Q=-1),R=!0;var le=D;try{t:{for(_(q),y=d(N);y!==null&&!(y.expirationTime>q&&F());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,D=y.priorityLevel;var O=xe(y.expirationTime<=q);if(q=r.unstable_now(),typeof O=="function"){y.callback=O,_(q),X=!0;break t}y===d(N)&&o(N),_(q)}else o(N);y=d(N)}if(y!==null)X=!0;else{var U=d(f);U!==null&&I(S,U.startTime-q),X=!1}}break e}finally{y=null,D=le,R=!1}X=void 0}}finally{X?P():T=!1}}}var P;if(typeof M=="function")P=function(){M(pe)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=pe,P=function(){ne.postMessage(null)}}else P=function(){v(pe,0)};function I(q,X){Q=v(function(){q(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var X=3;break;default:X=D}var le=D;D=X;try{return q()}finally{D=le}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=D;D=q;try{return X()}finally{D=le}},r.unstable_scheduleCallback=function(q,X,le){var xe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,q={id:C++,callback:X,priorityLevel:q,startTime:le,expirationTime:O,sortIndex:-1},le>xe?(q.sortIndex=le,c(f,q),d(N)===null&&q===d(f)&&(E?(h(Q),Q=-1):E=!0,I(S,le-xe))):(q.sortIndex=O,c(N,q),w||R||(w=!0,T||(T=!0,P()))),q},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(q){var X=D;return function(){var le=D;D=X;try{return q.apply(this,arguments)}finally{D=le}}}})(qc)),qc}var lf;function h0(){return lf||(lf=1,Hc.exports=x0()),Hc.exports}var Bc={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function p0(){if(sf)return lt;sf=1;var r=Pc();function c(N){var f="https://react.dev/errors/"+N;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)f+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+N+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(c(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(N,f,C){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:y==null?null:""+y,children:N,containerInfo:f,implementation:C}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function j(N,f){if(N==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,lt.createPortal=function(N,f){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(c(299));return p(N,f,null,C)},lt.flushSync=function(N){var f=g.T,C=o.p;try{if(g.T=null,o.p=2,N)return N()}finally{g.T=f,o.p=C,o.d.f()}},lt.preconnect=function(N,f){typeof N=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(N,f))},lt.prefetchDNS=function(N){typeof N=="string"&&o.d.D(N)},lt.preinit=function(N,f){if(typeof N=="string"&&f&&typeof f.as=="string"){var C=f.as,y=j(C,f.crossOrigin),D=typeof f.integrity=="string"?f.integrity:void 0,R=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;C==="style"?o.d.S(N,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:D,fetchPriority:R}):C==="script"&&o.d.X(N,{crossOrigin:y,integrity:D,fetchPriority:R,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lt.preinitModule=function(N,f){if(typeof N=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var C=j(f.as,f.crossOrigin);o.d.M(N,{crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(N)},lt.preload=function(N,f){if(typeof N=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var C=f.as,y=j(C,f.crossOrigin);o.d.L(N,C,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lt.preloadModule=function(N,f){if(typeof N=="string")if(f){var C=j(f.as,f.crossOrigin);o.d.m(N,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(N)},lt.requestFormReset=function(N){o.d.r(N)},lt.unstable_batchedUpdates=function(N,f){return N(f)},lt.useFormState=function(N,f,C){return g.H.useFormState(N,f,C)},lt.useFormStatus=function(){return g.H.useHostTransitionStatus()},lt.version="19.1.1",lt}var nf;function g0(){if(nf)return Bc.exports;nf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Bc.exports=p0(),Bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf;function b0(){if(rf)return Bs;rf=1;var r=h0(),c=Pc(),d=g0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(p(e)!==e)throw Error(o(188))}function N(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return j(n),e;if(i===s)return j(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==s.return)l=n,s=i;else{for(var u=!1,b=n.child;b;){if(b===l){u=!0,l=n,s=i;break}if(b===s){u=!0,s=n,l=i;break}b=b.sibling}if(!u){for(b=i.child;b;){if(b===l){u=!0,l=i,s=n;break}if(b===s){u=!0,s=i,l=n;break}b=b.sibling}if(!u)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,y=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),M=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case M:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}var I=Array.isArray,q=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},xe=[],O=-1;function U(e){return{current:e}}function Y(e){0>O||(e.current=xe[O],xe[O]=null,O--)}function Z(e,t){O++,xe[O]=e.current,e.current=t}var W=U(null),ae=U(null),ie=U(null),De=U(null);function _e(e,t){switch(Z(ie,t),Z(ae,e),Z(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cm(t),e=Mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(W),Z(W,e)}function la(){Y(W),Y(ae),Y(ie)}function bi(e){e.memoizedState!==null&&Z(De,e);var t=W.current,l=Mm(t,e.type);t!==l&&(Z(ae,e),Z(W,l))}function Vs(e){ae.current===e&&(Y(W),Y(ae)),De.current===e&&(Y(De),Ds._currentValue=le)}var yi=Object.prototype.hasOwnProperty,vi=r.unstable_scheduleCallback,ji=r.unstable_cancelCallback,$f=r.unstable_shouldYield,Yf=r.unstable_requestPaint,Rt=r.unstable_now,Qf=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,io=r.unstable_UserBlockingPriority,Zs=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,ro=r.unstable_IdlePriority,Vf=r.log,Zf=r.unstable_setDisableYieldValue,Ul=null,dt=null;function sa(e){if(typeof Vf=="function"&&Zf(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Ul,e)}catch{}}var ut=Math.clz32?Math.clz32:Ff,Kf=Math.log,Jf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(Kf(e)/Jf|0)|0}var Ks=256,Js=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fs(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~i,s!==0?n=_a(s):(u&=b,u!==0?n=_a(u):l||(l=b&~e,l!==0&&(n=_a(l))))):(b=s&~i,b!==0?n=_a(b):u!==0?n=_a(u):l||(l=s&~e,l!==0&&(n=_a(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Gl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),e}function oo(){var e=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),e}function Ni(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function $l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wf(e,t,l,s,n,i){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,A=e.expirationTimes,L=e.hiddenUpdates;for(l=u&~l;0<l;){var V=31-ut(l),J=1<<V;b[V]=0,A[V]=-1;var G=L[V];if(G!==null)for(L[V]=null,V=0;V<G.length;V++){var $=G[V];$!==null&&($.lane&=-536870913)}l&=~J}s!==0&&uo(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function uo(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ut(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&4194090}function mo(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-ut(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function wi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fo(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Vm(e.type))}function If(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var na=Math.random().toString(36).slice(2),tt="__reactFiber$"+na,nt="__reactProps$"+na,Pa="__reactContainer$"+na,ki="__reactEvents$"+na,ex="__reactListeners$"+na,tx="__reactHandles$"+na,xo="__reactResources$"+na,Yl="__reactMarker$"+na;function Ci(e){delete e[tt],delete e[nt],delete e[ki],delete e[ex],delete e[tx]}function Wa(e){var t=e[tt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Pa]||l[tt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Tm(e);e!==null;){if(l=e[tt])return l;e=Tm(e)}return t}e=l,l=e.parentNode}return null}function Ia(e){if(e=e[tt]||e[Pa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function el(e){var t=e[xo];return t||(t=e[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Yl]=!0}var ho=new Set,po={};function Aa(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(po[e]=t,e=0;e<t.length;e++)ho.add(t[e])}var ax=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},bo={};function lx(e){return yi.call(bo,e)?!0:yi.call(go,e)?!1:ax.test(e)?bo[e]=!0:(go[e]=!0,!1)}function Ps(e,t,l){if(lx(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ws(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ut(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}var Mi,yo;function al(e){if(Mi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Mi=t&&t[1]||"",yo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+e+yo}var Ei=!1;function _i(e,t){if(!e||Ei)return"";Ei=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var G=$}Reflect.construct(e,[],J)}else{try{J.call()}catch($){G=$}e.call(J.prototype)}}else{try{throw Error()}catch($){G=$}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),u=i[0],b=i[1];if(u&&b){var A=u.split(`
`),L=b.split(`
`);for(n=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;n<L.length&&!L[n].includes("DetermineComponentFrameRoot");)n++;if(s===A.length||n===L.length)for(s=A.length-1,n=L.length-1;1<=s&&0<=n&&A[s]!==L[n];)n--;for(;1<=s&&0<=n;s--,n--)if(A[s]!==L[n]){if(s!==1||n!==1)do if(s--,n--,0>n||A[s]!==L[n]){var V=`
`+A[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=n);break}}}finally{Ei=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?al(l):""}function sx(e){switch(e.tag){case 26:case 27:case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return _i(e.type,!1);case 11:return _i(e.type.render,!1);case 1:return _i(e.type,!0);case 31:return al("Activity");default:return""}}function vo(e){try{var t="";do t+=sx(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=jo(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){s=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(u){s=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=nx(e))}function No(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=jo(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function en(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ix=/[\n"\\]/g;function vt(e){return e.replace(ix,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ai(e,t,l,s,n,i,u,b){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Ti(e,u,yt(t)):l!=null?Ti(e,u,yt(l)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+yt(b):e.removeAttribute("name")}function wo(e,t,l,s,n,i,u,b){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+yt(l):"",t=t!=null?""+yt(t):l,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function Ti(e,t,l){t==="number"&&en(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ll(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+yt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function So(e,t,l){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+yt(l):""}function ko(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(o(92));if(I(s)){if(1<s.length)throw Error(o(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=yt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s)}function sl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var rx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||rx.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Mo(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&Co(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Co(e,i,t[i])}function Di(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ox=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(e){return ox.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,il=null;function Eo(e){var t=Ia(e);if(t&&(e=t.stateNode)){var l=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ai(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[nt]||null;if(!n)throw Error(o(90));Ai(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&No(s)}break e;case"textarea":So(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ll(e,!!l.multiple,t,!1)}}}var zi=!1;function _o(e,t,l){if(zi)return e(t,l);zi=!0;try{var s=e(t);return s}finally{if(zi=!1,(nl!==null||il!==null)&&(Gn(),nl&&(t=nl,e=il,il=nl=null,Eo(t),e)))for(t=0;t<e.length;t++)Eo(e[t])}}function Xl(e,t){var l=e.stateNode;if(l===null)return null;var s=l[nt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(Gt)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Hi=!1}var ia=null,qi=null,an=null;function Ao(){if(an)return an;var e,t=qi,l=t.length,s,n="value"in ia?ia.value:ia.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var u=l-e;for(s=1;s<=u&&t[l-s]===n[i-s];s++);return an=n.slice(e,1<s?1-s:void 0)}function ln(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sn(){return!0}function To(){return!1}function it(e){function t(l,s,n,i,u){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(i):i[b]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sn:To,this.isPropagationStopped=To,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=it(Ta),Zl=C({},Ta,{view:0,detail:0}),dx=it(Zl),Bi,Li,Kl,rn=C({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Bi=e.screenX-Kl.screenX,Li=e.screenY-Kl.screenY):Li=Bi=0,Kl=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),Do=it(rn),ux=C({},rn,{dataTransfer:0}),mx=it(ux),fx=C({},Zl,{relatedTarget:0}),Ui=it(fx),xx=C({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=it(xx),px=C({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gx=it(px),bx=C({},Ta,{data:0}),Ro=it(bx),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jx[e])?!!t[e]:!1}function Gi(){return Nx}var wx=C({},Zl,{key:function(e){if(e.key){var t=yx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ln(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(e){return e.type==="keypress"?ln(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ln(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sx=it(wx),kx=C({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=it(kx),Cx=C({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),Mx=it(Cx),Ex=C({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=it(Ex),Ax=C({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tx=it(Ax),Dx=C({},Ta,{newState:0,oldState:0}),Rx=it(Dx),Ox=[9,13,27,32],$i=Gt&&"CompositionEvent"in window,Jl=null;Gt&&"documentMode"in document&&(Jl=document.documentMode);var zx=Gt&&"TextEvent"in window&&!Jl,zo=Gt&&(!$i||Jl&&8<Jl&&11>=Jl),Ho=" ",qo=!1;function Bo(e,t){switch(e){case"keyup":return Ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function Hx(e,t){switch(e){case"compositionend":return Lo(t);case"keypress":return t.which!==32?null:(qo=!0,Ho);case"textInput":return e=t.data,e===Ho&&qo?null:e;default:return null}}function qx(e,t){if(rl)return e==="compositionend"||!$i&&Bo(e,t)?(e=Ao(),an=qi=ia=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zo&&t.locale!=="ko"?null:t.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bx[e.type]:t==="textarea"}function Go(e,t,l,s){nl?il?il.push(s):il=[s]:nl=s,t=Zn(t,"onChange"),0<t.length&&(l=new nn("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Fl=null,Pl=null;function Lx(e){jm(e,0)}function cn(e){var t=Ql(e);if(No(t))return e}function $o(e,t){if(e==="change")return t}var Yo=!1;if(Gt){var Yi;if(Gt){var Qi="oninput"in document;if(!Qi){var Qo=document.createElement("div");Qo.setAttribute("oninput","return;"),Qi=typeof Qo.oninput=="function"}Yi=Qi}else Yi=!1;Yo=Yi&&(!document.documentMode||9<document.documentMode)}function Xo(){Fl&&(Fl.detachEvent("onpropertychange",Vo),Pl=Fl=null)}function Vo(e){if(e.propertyName==="value"&&cn(Pl)){var t=[];Go(t,Pl,e,Oi(e)),_o(Lx,t)}}function Ux(e,t,l){e==="focusin"?(Xo(),Fl=t,Pl=l,Fl.attachEvent("onpropertychange",Vo)):e==="focusout"&&Xo()}function Gx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cn(Pl)}function $x(e,t){if(e==="click")return cn(t)}function Yx(e,t){if(e==="input"||e==="change")return cn(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:Qx;function Wl(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!yi.call(t,n)||!mt(e[n],t[n]))return!1}return!0}function Zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ko(e,t){var l=Zo(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zo(l)}}function Jo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=en(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=en(e.document)}return t}function Xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xx=Gt&&"documentMode"in document&&11>=document.documentMode,cl=null,Vi=null,Il=null,Zi=!1;function Po(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zi||cl==null||cl!==en(s)||(s=cl,"selectionStart"in s&&Xi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Il&&Wl(Il,s)||(Il=s,s=Zn(Vi,"onSelect"),0<s.length&&(t=new nn("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=cl)))}function Da(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ol={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Ki={},Wo={};Gt&&(Wo=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ra(e){if(Ki[e])return Ki[e];if(!ol[e])return e;var t=ol[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Wo)return Ki[e]=t[l];return e}var Io=Ra("animationend"),ed=Ra("animationiteration"),td=Ra("animationstart"),Vx=Ra("transitionrun"),Zx=Ra("transitionstart"),Kx=Ra("transitioncancel"),ad=Ra("transitionend"),ld=new Map,Ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ji.push("scrollEnd");function Et(e,t){ld.set(e,t),Aa(t,[e])}var sd=new WeakMap;function jt(e,t){if(typeof e=="object"&&e!==null){var l=sd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:vo(t)},sd.set(e,t),t)}return{value:e,source:t,stack:vo(t)}}var Nt=[],dl=0,Fi=0;function on(){for(var e=dl,t=Fi=dl=0;t<e;){var l=Nt[t];Nt[t++]=null;var s=Nt[t];Nt[t++]=null;var n=Nt[t];Nt[t++]=null;var i=Nt[t];if(Nt[t++]=null,s!==null&&n!==null){var u=s.pending;u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n}i!==0&&nd(l,n,i)}}function dn(e,t,l,s){Nt[dl++]=e,Nt[dl++]=t,Nt[dl++]=l,Nt[dl++]=s,Fi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Pi(e,t,l,s){return dn(e,t,l,s),un(e)}function ul(e,t){return dn(e,null,null,t),un(e)}function nd(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ut(l),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),i):null}function un(e){if(50<Ss)throw Ss=0,lc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ml={};function Jx(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,l,s){return new Jx(e,t,l,s)}function Wi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,t){var l=e.alternate;return l===null?(l=ft(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function id(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mn(e,t,l,s,n,i){var u=0;if(s=e,typeof e=="function")Wi(e)&&(u=1);else if(typeof e=="string")u=Ph(e,l,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=ft(31,l,t,n),e.elementType=ue,e.lanes=i,e;case w:return Oa(l.children,n,i,t);case E:u=8,n|=24;break;case x:return e=ft(12,l,t,n|2),e.elementType=x,e.lanes=i,e;case S:return e=ft(13,l,t,n),e.elementType=S,e.lanes=i,e;case T:return e=ft(19,l,t,n),e.elementType=T,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v:case M:u=10;break e;case h:u=9;break e;case _:u=11;break e;case Q:u=14;break e;case se:u=16,s=null;break e}u=29,l=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=ft(u,l,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Oa(e,t,l,s){return e=ft(7,e,s,t),e.lanes=l,e}function Ii(e,t,l){return e=ft(6,e,null,t),e.lanes=l,e}function er(e,t,l){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fl=[],xl=0,fn=null,xn=0,wt=[],St=0,za=null,Yt=1,Qt="";function Ha(e,t){fl[xl++]=xn,fl[xl++]=fn,fn=e,xn=t}function rd(e,t,l){wt[St++]=Yt,wt[St++]=Qt,wt[St++]=za,za=e;var s=Yt;e=Qt;var n=32-ut(s)-1;s&=~(1<<n),l+=1;var i=32-ut(t)+n;if(30<i){var u=n-n%5;i=(s&(1<<u)-1).toString(32),s>>=u,n-=u,Yt=1<<32-ut(t)+n|l<<n|s,Qt=i+e}else Yt=1<<i|l<<n|s,Qt=e}function tr(e){e.return!==null&&(Ha(e,1),rd(e,1,0))}function ar(e){for(;e===fn;)fn=fl[--xl],fl[xl]=null,xn=fl[--xl],fl[xl]=null;for(;e===za;)za=wt[--St],wt[St]=null,Qt=wt[--St],wt[St]=null,Yt=wt[--St],wt[St]=null}var st=null,He=null,we=!1,qa=null,Ot=!1,lr=Error(o(519));function Ba(e){var t=Error(o(418,""));throw as(jt(t,e)),lr}function cd(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[tt]=e,t[nt]=s,l){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(l=0;l<Cs.length;l++)ye(Cs[l],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),wo(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Is(t);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),ko(t,s.value,s.defaultValue,s.children),Is(t)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||km(t.textContent,l)?(s.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),s.onScroll!=null&&ye("scroll",t),s.onScrollEnd!=null&&ye("scrollend",t),s.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||Ba(e)}function od(e){for(st=e.return;st;)switch(st.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:st=st.return}}function es(e){if(e!==st)return!1;if(!we)return od(e),we=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||yc(e.type,e.memoizedProps)),l=!l),l&&He&&Ba(e),od(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){He=At(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,Na(e.type)?(e=wc,wc=null,He=e):He=t):He=st?At(e.stateNode.nextSibling):null;return!0}function ts(){He=st=null,we=!1}function dd(){var e=qa;return e!==null&&(ot===null?ot=e:ot.push.apply(ot,e),qa=null),e}function as(e){qa===null?qa=[e]:qa.push(e)}var sr=U(null),La=null,Xt=null;function ra(e,t,l){Z(sr,t._currentValue),t._currentValue=l}function Vt(e){e._currentValue=sr.current,Y(sr)}function nr(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function ir(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var u=n.child;i=i.firstContext;e:for(;i!==null;){var b=i;i=n;for(var A=0;A<t.length;A++)if(b.context===t[A]){i.lanes|=l,b=i.alternate,b!==null&&(b.lanes|=l),nr(i.return,l,e),s||(u=null);break e}i=b.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=l,i=u.alternate,i!==null&&(i.lanes|=l),nr(u,l,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function ls(e,t,l,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var b=n.type;mt(n.pendingProps.value,u.value)||(e!==null?e.push(b):e=[b])}}else if(n===De.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ds):e=[Ds])}n=n.return}e!==null&&ir(t,e,l,s),t.flags|=262144}function hn(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){La=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return ud(La,e)}function pn(e,t){return La===null&&Ua(e),ud(e,t)}function ud(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Xt===null){if(e===null)throw Error(o(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return l}var Fx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Px=r.unstable_scheduleCallback,Wx=r.unstable_NormalPriority,Ye={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rr(){return{controller:new Fx,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&Px(Wx,function(){e.controller.abort()})}var ns=null,cr=0,hl=0,pl=null;function Ix(e,t){if(ns===null){var l=ns=[];cr=0,hl=dc(),pl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return cr++,t.then(md,md),t}function md(){if(--cr===0&&ns!==null){pl!==null&&(pl.status="fulfilled");var e=ns;ns=null,hl=0,pl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eh(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var fd=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ix(e,t),fd!==null&&fd(e,t)};var Ga=U(null);function or(){var e=Ga.current;return e!==null?e:Te.pooledCache}function gn(e,t){t===null?Z(Ga,Ga.current):Z(Ga,t.pool)}function xd(){var e=or();return e===null?null:{parent:Ye._currentValue,pool:e}}var is=Error(o(460)),hd=Error(o(474)),bn=Error(o(542)),dr={then:function(){}};function pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yn(){}function gd(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(yn,yn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e}throw rs=t,is}}var rs=null;function bd(){if(rs===null)throw Error(o(459));var e=rs;return rs=null,e}function yd(e){if(e===is||e===bn)throw Error(o(483))}var ca=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=un(e),nd(e,null,l),t}return dn(e,s,t,l),un(e)}function cs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,mo(e,l)}}function fr(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=u:i=i.next=u,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var xr=!1;function os(){if(xr){var e=pl;if(e!==null)throw e}}function ds(e,t,l,s){xr=!1;var n=e.updateQueue;ca=!1;var i=n.firstBaseUpdate,u=n.lastBaseUpdate,b=n.shared.pending;if(b!==null){n.shared.pending=null;var A=b,L=A.next;A.next=null,u===null?i=L:u.next=L,u=A;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==u&&(b===null?V.firstBaseUpdate=L:b.next=L,V.lastBaseUpdate=A))}if(i!==null){var J=n.baseState;u=0,V=L=A=null,b=i;do{var G=b.lane&-536870913,$=G!==b.lane;if($?(ve&G)===G:(s&G)===G){G!==0&&G===hl&&(xr=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=e,ce=b;G=t;var Ee=l;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){J=de.call(Ee,J,G);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,G=typeof de=="function"?de.call(Ee,J,G):de,G==null)break e;J=C({},J,G);break e;case 2:ca=!0}}G=b.callback,G!==null&&(e.flags|=64,$&&(e.flags|=8192),$=n.callbacks,$===null?n.callbacks=[G]:$.push(G))}else $={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(L=V=$,A=J):V=V.next=$,u|=G;if(b=b.next,b===null){if(b=n.shared.pending,b===null)break;$=b,b=$.next,$.next=null,n.lastBaseUpdate=$,n.shared.pending=null}}while(!0);V===null&&(A=J),n.baseState=A,n.firstBaseUpdate=L,n.lastBaseUpdate=V,i===null&&(n.shared.lanes=0),ba|=u,e.lanes=u,e.memoizedState=J}}function vd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function jd(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)vd(l[e],t)}var gl=U(null),vn=U(0);function Nd(e,t){e=It,Z(vn,e),Z(gl,t),It=e|t.baseLanes}function hr(){Z(vn,It),Z(gl,gl.current)}function pr(){It=vn.current,Y(gl),Y(vn)}var ua=0,he=null,Ce=null,Ge=null,jn=!1,bl=!1,$a=!1,Nn=0,us=0,yl=null,th=0;function Le(){throw Error(o(321))}function gr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!mt(e[l],t[l]))return!1;return!0}function br(e,t,l,s,n,i){return ua=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?nu:iu,$a=!1,i=l(s,n),$a=!1,bl&&(i=Sd(t,l,s,n)),wd(e),i}function wd(e){q.H=En;var t=Ce!==null&&Ce.next!==null;if(ua=0,Ge=Ce=he=null,jn=!1,us=0,yl=null,t)throw Error(o(300));e===null||Ve||(e=e.dependencies,e!==null&&hn(e)&&(Ve=!0))}function Sd(e,t,l,s){he=e;var n=0;do{if(bl&&(yl=null),us=0,bl=!1,25<=n)throw Error(o(301));if(n+=1,Ge=Ce=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}q.H=ch,i=t(l,s)}while(bl);return i}function ah(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(he.flags|=1024),t}function yr(){var e=Nn!==0;return Nn=0,e}function vr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function jr(e){if(jn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jn=!1}ua=0,Ge=Ce=he=null,bl=!1,us=Nn=0,yl=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?he.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function $e(){if(Ce===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ge===null?he.memoizedState:Ge.next;if(t!==null)Ge=t,Ce=e;else{if(e===null)throw he.alternate===null?Error(o(467)):Error(o(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ge===null?he.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var t=us;return us+=1,yl===null&&(yl=[]),e=gd(yl,e,t),t=he,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?nu:iu),e}function wn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===M)return at(e)}throw Error(o(438,String(e)))}function wr(e){var t=null,l=he.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=he.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Nr(),he.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=F;return t.index++,l}function Zt(e,t){return typeof t=="function"?t(e):t}function Sn(e){var t=$e();return Sr(t,Ce,e)}function Sr(e,t,l){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=l;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var u=n.next;n.next=i.next,i.next=u}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var b=u=null,A=null,L=t,V=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(ve&J)===J:(ua&J)===J){var G=L.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===hl&&(V=!0);else if((ua&G)===G){L=L.next,G===hl&&(V=!0);continue}else J={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(b=A=J,u=i):A=A.next=J,he.lanes|=G,ba|=G;J=L.action,$a&&l(i,J),i=L.hasEagerState?L.eagerState:l(i,J)}else G={lane:J,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(b=A=G,u=i):A=A.next=G,he.lanes|=J,ba|=J;L=L.next}while(L!==null&&L!==t);if(A===null?u=i:A.next=b,!mt(i,e.memoizedState)&&(Ve=!0,V&&(l=pl,l!==null)))throw l;e.memoizedState=i,e.baseState=u,e.baseQueue=A,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function kr(e){var t=$e(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var u=n=n.next;do i=e(i,u.action),u=u.next;while(u!==n);mt(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,s]}function kd(e,t,l){var s=he,n=$e(),i=we;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var u=!mt((Ce||n).memoizedState,l);u&&(n.memoizedState=l,Ve=!0),n=n.queue;var b=Ed.bind(null,s,n,e);if(fs(2048,8,b,[e]),n.getSnapshot!==t||u||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,vl(9,kn(),Md.bind(null,s,n,l,t),null),Te===null)throw Error(o(349));i||(ua&124)!==0||Cd(s,t,l)}return l}function Cd(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=he.updateQueue,t===null?(t=Nr(),he.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Md(e,t,l,s){t.value=l,t.getSnapshot=s,_d(t)&&Ad(e)}function Ed(e,t,l){return l(function(){_d(t)&&Ad(e)})}function _d(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!mt(e,l)}catch{return!0}}function Ad(e){var t=ul(e,2);t!==null&&bt(t,e,2)}function Cr(e){var t=rt();if(typeof e=="function"){var l=e;if(e=l(),$a){sa(!0);try{l()}finally{sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:e},t}function Td(e,t,l,s){return e.baseState=l,Sr(e,Ce,typeof s=="function"?s:Zt)}function lh(e,t,l,s,n){if(Mn(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};q.T!==null?l(!0):i.isTransition=!1,s(i),l=t.pending,l===null?(i.next=t.pending=i,Dd(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Dd(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=q.T,u={};q.T=u;try{var b=l(n,s),A=q.S;A!==null&&A(u,b),Rd(e,t,b)}catch(L){Mr(e,t,L)}finally{q.T=i}}else try{i=l(n,s),Rd(e,t,i)}catch(L){Mr(e,t,L)}}function Rd(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Od(e,t,s)},function(s){return Mr(e,t,s)}):Od(e,t,l)}function Od(e,t,l){t.status="fulfilled",t.value=l,zd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Dd(e,l)))}function Mr(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,zd(t),t=t.next;while(t!==s)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hd(e,t){return t}function qd(e,t){if(we){var l=Te.formState;if(l!==null){e:{var s=he;if(we){if(He){t:{for(var n=He,i=Ot;n.nodeType!==8;){if(!i){n=null;break t}if(n=At(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){He=At(n.nextSibling),s=n.data==="F!";break e}}Ba(s)}s=!1}s&&(t=l[0])}}return l=rt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},l.queue=s,l=au.bind(null,he,s),s.dispatch=l,s=Cr(!1),i=Dr.bind(null,he,!1,s.queue),s=rt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=lh.bind(null,he,n,i,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function Bd(e){var t=$e();return Ld(t,Ce,e)}function Ld(e,t,l){if(t=Sr(e,t,Hd)[0],e=Sn(Zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ms(t)}catch(u){throw u===is?bn:u}else s=t;t=$e();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(he.flags|=2048,vl(9,kn(),sh.bind(null,n,l),null)),[s,i,e]}function sh(e,t){e.action=t}function Ud(e){var t=$e(),l=Ce;if(l!==null)return Ld(t,l,e);$e(),t=t.memoizedState,l=$e();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function vl(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=he.updateQueue,t===null&&(t=Nr(),he.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function kn(){return{destroy:void 0,resource:void 0}}function Gd(){return $e().memoizedState}function Cn(e,t,l,s){var n=rt();s=s===void 0?null:s,he.flags|=e,n.memoizedState=vl(1|t,kn(),l,s)}function fs(e,t,l,s){var n=$e();s=s===void 0?null:s;var i=n.memoizedState.inst;Ce!==null&&s!==null&&gr(s,Ce.memoizedState.deps)?n.memoizedState=vl(t,i,l,s):(he.flags|=e,n.memoizedState=vl(1|t,i,l,s))}function $d(e,t){Cn(8390656,8,e,t)}function Yd(e,t){fs(2048,8,e,t)}function Qd(e,t){return fs(4,2,e,t)}function Xd(e,t){return fs(4,4,e,t)}function Vd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,l){l=l!=null?l.concat([e]):null,fs(4,4,Vd.bind(null,t,e),l)}function Er(){}function Kd(e,t){var l=$e();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&gr(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Jd(e,t){var l=$e();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&gr(t,s[1]))return s[0];if(s=e(),$a){sa(!0);try{e()}finally{sa(!1)}}return l.memoizedState=[s,t],s}function _r(e,t,l){return l===void 0||(ua&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=Wu(),he.lanes|=e,ba|=e,l)}function Fd(e,t,l,s){return mt(l,t)?l:gl.current!==null?(e=_r(e,l,s),mt(e,t)||(Ve=!0),e):(ua&42)===0?(Ve=!0,e.memoizedState=l):(e=Wu(),he.lanes|=e,ba|=e,t)}function Pd(e,t,l,s,n){var i=X.p;X.p=i!==0&&8>i?i:8;var u=q.T,b={};q.T=b,Dr(e,!1,t,l);try{var A=n(),L=q.S;if(L!==null&&L(b,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=eh(A,s);xs(e,t,V,gt(e))}else xs(e,t,s,gt(e))}catch(J){xs(e,t,{then:function(){},status:"rejected",reason:J},gt())}finally{X.p=i,q.T=u}}function nh(){}function Ar(e,t,l,s){if(e.tag!==5)throw Error(o(476));var n=Wd(e).queue;Pd(e,n,t,le,l===null?nh:function(){return Id(e),l(s)})}function Wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:le},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Id(e){var t=Wd(e).next.queue;xs(e,t,{},gt())}function Tr(){return at(Ds)}function eu(){return $e().memoizedState}function tu(){return $e().memoizedState}function ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=gt();e=oa(l);var s=da(t,e,l);s!==null&&(bt(s,t,l),cs(s,t,l)),t={cache:rr()},e.payload=t;return}t=t.return}}function rh(e,t,l){var s=gt();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Mn(e)?lu(t,l):(l=Pi(e,t,l,s),l!==null&&(bt(l,e,s),su(l,t,s)))}function au(e,t,l){var s=gt();xs(e,t,l,s)}function xs(e,t,l,s){var n={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mn(e))lu(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,b=i(u,l);if(n.hasEagerState=!0,n.eagerState=b,mt(b,u))return dn(e,t,n,0),Te===null&&on(),!1}catch{}finally{}if(l=Pi(e,t,n,s),l!==null)return bt(l,e,s),su(l,t,s),!0}return!1}function Dr(e,t,l,s){if(s={lane:2,revertLane:dc(),action:s,hasEagerState:!1,eagerState:null,next:null},Mn(e)){if(t)throw Error(o(479))}else t=Pi(e,l,s,2),t!==null&&bt(t,e,2)}function Mn(e){var t=e.alternate;return e===he||t!==null&&t===he}function lu(e,t){bl=jn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function su(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,mo(e,l)}}var En={readContext:at,use:wn,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},nu={readContext:at,use:wn,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:$d,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Cn(4194308,4,Vd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Cn(4194308,4,e,t)},useInsertionEffect:function(e,t){Cn(4,2,e,t)},useMemo:function(e,t){var l=rt();t=t===void 0?null:t;var s=e();if($a){sa(!0);try{e()}finally{sa(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=rt();if(l!==void 0){var n=l(t);if($a){sa(!0);try{l(t)}finally{sa(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=rh.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cr(e);var t=e.queue,l=au.bind(null,he,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Er,useDeferredValue:function(e,t){var l=rt();return _r(l,e,t)},useTransition:function(){var e=Cr(!1);return e=Pd.bind(null,he,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=he,n=rt();if(we){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Te===null)throw Error(o(349));(ve&124)!==0||Cd(s,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,$d(Ed.bind(null,s,i,e),[e]),s.flags|=2048,vl(9,kn(),Md.bind(null,s,i,l,t),null),l},useId:function(){var e=rt(),t=Te.identifierPrefix;if(we){var l=Qt,s=Yt;l=(s&~(1<<32-ut(s)-1)).toString(32)+l,t=""+t+"R"+l,l=Nn++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=th++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Tr,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Dr.bind(null,he,!0,l),l.dispatch=t,[e,t]},useMemoCache:wr,useCacheRefresh:function(){return rt().memoizedState=ih.bind(null,he)}},iu={readContext:at,use:wn,useCallback:Kd,useContext:at,useEffect:Yd,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Jd,useReducer:Sn,useRef:Gd,useState:function(){return Sn(Zt)},useDebugValue:Er,useDeferredValue:function(e,t){var l=$e();return Fd(l,Ce.memoizedState,e,t)},useTransition:function(){var e=Sn(Zt)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:kd,useId:eu,useHostTransitionStatus:Tr,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var l=$e();return Td(l,Ce,e,t)},useMemoCache:wr,useCacheRefresh:tu},ch={readContext:at,use:wn,useCallback:Kd,useContext:at,useEffect:Yd,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Jd,useReducer:kr,useRef:Gd,useState:function(){return kr(Zt)},useDebugValue:Er,useDeferredValue:function(e,t){var l=$e();return Ce===null?_r(l,e,t):Fd(l,Ce.memoizedState,e,t)},useTransition:function(){var e=kr(Zt)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:kd,useId:eu,useHostTransitionStatus:Tr,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var l=$e();return Ce!==null?Td(l,Ce,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:wr,useCacheRefresh:tu},jl=null,hs=0;function _n(e){var t=hs;return hs+=1,jl===null&&(jl=[]),gd(jl,e,t)}function ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function An(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ru(e){var t=e._init;return t(e._payload)}function cu(e){function t(H,z){if(e){var B=H.deletions;B===null?(H.deletions=[z],H.flags|=16):B.push(z)}}function l(H,z){if(!e)return null;for(;z!==null;)t(H,z),z=z.sibling;return null}function s(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function n(H,z){return H=$t(H,z),H.index=0,H.sibling=null,H}function i(H,z,B){return H.index=B,e?(B=H.alternate,B!==null?(B=B.index,B<z?(H.flags|=67108866,z):B):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function u(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function b(H,z,B,K){return z===null||z.tag!==6?(z=Ii(B,H.mode,K),z.return=H,z):(z=n(z,B),z.return=H,z)}function A(H,z,B,K){var te=B.type;return te===w?V(H,z,B.props.children,K,B.key):z!==null&&(z.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===se&&ru(te)===z.type)?(z=n(z,B.props),ps(z,B),z.return=H,z):(z=mn(B.type,B.key,B.props,null,H.mode,K),ps(z,B),z.return=H,z)}function L(H,z,B,K){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=er(B,H.mode,K),z.return=H,z):(z=n(z,B.children||[]),z.return=H,z)}function V(H,z,B,K,te){return z===null||z.tag!==7?(z=Oa(B,H.mode,K,te),z.return=H,z):(z=n(z,B),z.return=H,z)}function J(H,z,B){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ii(""+z,H.mode,B),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return B=mn(z.type,z.key,z.props,null,H.mode,B),ps(B,z),B.return=H,B;case R:return z=er(z,H.mode,B),z.return=H,z;case se:var K=z._init;return z=K(z._payload),J(H,z,B)}if(I(z)||P(z))return z=Oa(z,H.mode,B,null),z.return=H,z;if(typeof z.then=="function")return J(H,_n(z),B);if(z.$$typeof===M)return J(H,pn(H,z),B);An(H,z)}return null}function G(H,z,B,K){var te=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return te!==null?null:b(H,z,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===te?A(H,z,B,K):null;case R:return B.key===te?L(H,z,B,K):null;case se:return te=B._init,B=te(B._payload),G(H,z,B,K)}if(I(B)||P(B))return te!==null?null:V(H,z,B,K,null);if(typeof B.then=="function")return G(H,z,_n(B),K);if(B.$$typeof===M)return G(H,z,pn(H,B),K);An(H,B)}return null}function $(H,z,B,K,te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return H=H.get(B)||null,b(z,H,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return H=H.get(K.key===null?B:K.key)||null,A(z,H,K,te);case R:return H=H.get(K.key===null?B:K.key)||null,L(z,H,K,te);case se:var ge=K._init;return K=ge(K._payload),$(H,z,B,K,te)}if(I(K)||P(K))return H=H.get(B)||null,V(z,H,K,te,null);if(typeof K.then=="function")return $(H,z,B,_n(K),te);if(K.$$typeof===M)return $(H,z,B,pn(z,K),te);An(z,K)}return null}function de(H,z,B,K){for(var te=null,ge=null,re=z,oe=z=0,Ke=null;re!==null&&oe<B.length;oe++){re.index>oe?(Ke=re,re=null):Ke=re.sibling;var Ne=G(H,re,B[oe],K);if(Ne===null){re===null&&(re=Ke);break}e&&re&&Ne.alternate===null&&t(H,re),z=i(Ne,z,oe),ge===null?te=Ne:ge.sibling=Ne,ge=Ne,re=Ke}if(oe===B.length)return l(H,re),we&&Ha(H,oe),te;if(re===null){for(;oe<B.length;oe++)re=J(H,B[oe],K),re!==null&&(z=i(re,z,oe),ge===null?te=re:ge.sibling=re,ge=re);return we&&Ha(H,oe),te}for(re=s(re);oe<B.length;oe++)Ke=$(re,H,oe,B[oe],K),Ke!==null&&(e&&Ke.alternate!==null&&re.delete(Ke.key===null?oe:Ke.key),z=i(Ke,z,oe),ge===null?te=Ke:ge.sibling=Ke,ge=Ke);return e&&re.forEach(function(Ma){return t(H,Ma)}),we&&Ha(H,oe),te}function ce(H,z,B,K){if(B==null)throw Error(o(151));for(var te=null,ge=null,re=z,oe=z=0,Ke=null,Ne=B.next();re!==null&&!Ne.done;oe++,Ne=B.next()){re.index>oe?(Ke=re,re=null):Ke=re.sibling;var Ma=G(H,re,Ne.value,K);if(Ma===null){re===null&&(re=Ke);break}e&&re&&Ma.alternate===null&&t(H,re),z=i(Ma,z,oe),ge===null?te=Ma:ge.sibling=Ma,ge=Ma,re=Ke}if(Ne.done)return l(H,re),we&&Ha(H,oe),te;if(re===null){for(;!Ne.done;oe++,Ne=B.next())Ne=J(H,Ne.value,K),Ne!==null&&(z=i(Ne,z,oe),ge===null?te=Ne:ge.sibling=Ne,ge=Ne);return we&&Ha(H,oe),te}for(re=s(re);!Ne.done;oe++,Ne=B.next())Ne=$(re,H,oe,Ne.value,K),Ne!==null&&(e&&Ne.alternate!==null&&re.delete(Ne.key===null?oe:Ne.key),z=i(Ne,z,oe),ge===null?te=Ne:ge.sibling=Ne,ge=Ne);return e&&re.forEach(function(o0){return t(H,o0)}),we&&Ha(H,oe),te}function Ee(H,z,B,K){if(typeof B=="object"&&B!==null&&B.type===w&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var te=B.key;z!==null;){if(z.key===te){if(te=B.type,te===w){if(z.tag===7){l(H,z.sibling),K=n(z,B.props.children),K.return=H,H=K;break e}}else if(z.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===se&&ru(te)===z.type){l(H,z.sibling),K=n(z,B.props),ps(K,B),K.return=H,H=K;break e}l(H,z);break}else t(H,z);z=z.sibling}B.type===w?(K=Oa(B.props.children,H.mode,K,B.key),K.return=H,H=K):(K=mn(B.type,B.key,B.props,null,H.mode,K),ps(K,B),K.return=H,H=K)}return u(H);case R:e:{for(te=B.key;z!==null;){if(z.key===te)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){l(H,z.sibling),K=n(z,B.children||[]),K.return=H,H=K;break e}else{l(H,z);break}else t(H,z);z=z.sibling}K=er(B,H.mode,K),K.return=H,H=K}return u(H);case se:return te=B._init,B=te(B._payload),Ee(H,z,B,K)}if(I(B))return de(H,z,B,K);if(P(B)){if(te=P(B),typeof te!="function")throw Error(o(150));return B=te.call(B),ce(H,z,B,K)}if(typeof B.then=="function")return Ee(H,z,_n(B),K);if(B.$$typeof===M)return Ee(H,z,pn(H,B),K);An(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,z!==null&&z.tag===6?(l(H,z.sibling),K=n(z,B),K.return=H,H=K):(l(H,z),K=Ii(B,H.mode,K),K.return=H,H=K),u(H)):l(H,z)}return function(H,z,B,K){try{hs=0;var te=Ee(H,z,B,K);return jl=null,te}catch(re){if(re===is||re===bn)throw re;var ge=ft(29,re,null,H.mode);return ge.lanes=K,ge.return=H,ge}finally{}}}var Nl=cu(!0),ou=cu(!1),kt=U(null),zt=null;function ma(e){var t=e.alternate;Z(Qe,Qe.current&1),Z(kt,e),zt===null&&(t===null||gl.current!==null||t.memoizedState!==null)&&(zt=e)}function du(e){if(e.tag===22){if(Z(Qe,Qe.current),Z(kt,e),zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zt=e)}}else fa()}function fa(){Z(Qe,Qe.current),Z(kt,kt.current)}function Kt(e){Y(kt),zt===e&&(zt=null),Y(Qe)}var Qe=U(0);function Tn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Nc(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Rr(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:C({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Or={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=gt(),n=oa(s);n.payload=t,l!=null&&(n.callback=l),t=da(e,n,s),t!==null&&(bt(t,e,s),cs(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=gt(),n=oa(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=da(e,n,s),t!==null&&(bt(t,e,s),cs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=gt(),s=oa(l);s.tag=2,t!=null&&(s.callback=t),t=da(e,s,l),t!==null&&(bt(t,e,l),cs(t,e,l))}};function uu(e,t,l,s,n,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,u):t.prototype&&t.prototype.isPureReactComponent?!Wl(l,s)||!Wl(n,i):!0}function mu(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Or.enqueueReplaceState(t,t.state,null)}function Ya(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=C({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var Dn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fu(e){Dn(e)}function xu(e){console.error(e)}function hu(e){Dn(e)}function Rn(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function pu(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function zr(e,t,l){return l=oa(l),l.tag=3,l.payload={element:null},l.callback=function(){Rn(e,t)},l}function gu(e){return e=oa(e),e.tag=3,e}function bu(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){pu(t,l,s)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){pu(t,l,s),typeof n!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function oh(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&ls(t,l,n,!0),l=kt.current,l!==null){switch(l.tag){case 13:return zt===null?nc():l.alternate===null&&qe===0&&(qe=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===dr?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),rc(e,s,n)),!1;case 22:return l.flags|=65536,s===dr?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),rc(e,s,n)),!1}throw Error(o(435,l.tag))}return rc(e,s,n),nc(),!1}if(we)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==lr&&(e=Error(o(422),{cause:s}),as(jt(e,l)))):(s!==lr&&(t=Error(o(423),{cause:s}),as(jt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=jt(s,l),n=zr(e.stateNode,s,n),fr(e,n),qe!==4&&(qe=2)),!1;var i=Error(o(520),{cause:s});if(i=jt(i,l),ws===null?ws=[i]:ws.push(i),qe!==4&&(qe=2),t===null)return!0;s=jt(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=zr(l.stateNode,s,e),fr(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ya===null||!ya.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=gu(n),bu(n,e,l,s),fr(l,n),!1}l=l.return}while(l!==null);return!1}var yu=Error(o(461)),Ve=!1;function Fe(e,t,l,s){t.child=e===null?ou(t,null,l,s):Nl(t,e.child,l,s)}function vu(e,t,l,s,n){l=l.render;var i=t.ref;if("ref"in s){var u={};for(var b in s)b!=="ref"&&(u[b]=s[b])}else u=s;return Ua(t),s=br(e,t,l,u,i,n),b=yr(),e!==null&&!Ve?(vr(e,t,n),Jt(e,t,n)):(we&&b&&tr(t),t.flags|=1,Fe(e,t,s,n),t.child)}function ju(e,t,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!Wi(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Nu(e,t,i,s,n)):(e=mn(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Yr(e,n)){var u=i.memoizedProps;if(l=l.compare,l=l!==null?l:Wl,l(u,s)&&e.ref===t.ref)return Jt(e,t,n)}return t.flags|=1,e=$t(i,s),e.ref=t.ref,e.return=t,t.child=e}function Nu(e,t,l,s,n){if(e!==null){var i=e.memoizedProps;if(Wl(i,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=i,Yr(e,n))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,Jt(e,t,n)}return Hr(e,t,l,s,n)}function wu(e,t,l){var s=t.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~s}else t.childLanes=0,t.child=null;return Su(e,t,s,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gn(t,i!==null?i.cachePool:null),i!==null?Nd(t,i):hr(),du(t);else return t.lanes=t.childLanes=536870912,Su(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(gn(t,i.cachePool),Nd(t,i),fa(),t.memoizedState=null):(e!==null&&gn(t,null),hr(),fa());return Fe(e,t,n,l),t.child}function Su(e,t,l,s){var n=or();return n=n===null?null:{parent:Ye._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&gn(t,null),hr(),du(t),e!==null&&ls(e,t,s,!0),null}function On(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Hr(e,t,l,s,n){return Ua(t),l=br(e,t,l,s,void 0,n),s=yr(),e!==null&&!Ve?(vr(e,t,n),Jt(e,t,n)):(we&&s&&tr(t),t.flags|=1,Fe(e,t,l,n),t.child)}function ku(e,t,l,s,n,i){return Ua(t),t.updateQueue=null,l=Sd(t,s,l,n),wd(e),s=yr(),e!==null&&!Ve?(vr(e,t,i),Jt(e,t,i)):(we&&s&&tr(t),t.flags|=1,Fe(e,t,l,i),t.child)}function Cu(e,t,l,s,n){if(Ua(t),t.stateNode===null){var i=ml,u=l.contextType;typeof u=="object"&&u!==null&&(i=at(u)),i=new l(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Or,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},ur(t),u=l.contextType,i.context=typeof u=="object"&&u!==null?at(u):ml,i.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(Rr(t,l,u,s),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&Or.enqueueReplaceState(i,i.state,null),ds(t,s,i,n),os(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var b=t.memoizedProps,A=Ya(l,b);i.props=A;var L=i.context,V=l.contextType;u=ml,typeof V=="object"&&V!==null&&(u=at(V));var J=l.getDerivedStateFromProps;V=typeof J=="function"||typeof i.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(b||L!==u)&&mu(t,i,s,u),ca=!1;var G=t.memoizedState;i.state=G,ds(t,s,i,n),os(),L=t.memoizedState,b||G!==L||ca?(typeof J=="function"&&(Rr(t,l,J,s),L=t.memoizedState),(A=ca||uu(t,l,A,s,G,L,u))?(V||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=L),i.props=s,i.state=L,i.context=u,s=A):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,mr(e,t),u=t.memoizedProps,V=Ya(l,u),i.props=V,J=t.pendingProps,G=i.context,L=l.contextType,A=ml,typeof L=="object"&&L!==null&&(A=at(L)),b=l.getDerivedStateFromProps,(L=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==J||G!==A)&&mu(t,i,s,A),ca=!1,G=t.memoizedState,i.state=G,ds(t,s,i,n),os();var $=t.memoizedState;u!==J||G!==$||ca||e!==null&&e.dependencies!==null&&hn(e.dependencies)?(typeof b=="function"&&(Rr(t,l,b,s),$=t.memoizedState),(V=ca||uu(t,l,V,s,G,$,A)||e!==null&&e.dependencies!==null&&hn(e.dependencies))?(L||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,$,A),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,$,A)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=$),i.props=s,i.state=$,i.context=A,s=V):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,On(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Nl(t,e.child,null,n),t.child=Nl(t,null,l,n)):Fe(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Jt(e,t,n),e}function Mu(e,t,l,s){return ts(),t.flags|=256,Fe(e,t,l,s),t.child}var qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Br(e){return{baseLanes:e,cachePool:xd()}}function Lr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ct),e}function Eu(e,t,l){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(n?ma(t):fa(),we){var b=He,A;if(A=b){e:{for(A=b,b=Ot;A.nodeType!==8;){if(!b){b=null;break e}if(A=At(A.nextSibling),A===null){b=null;break e}}b=A}b!==null?(t.memoizedState={dehydrated:b,treeContext:za!==null?{id:Yt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},A=ft(18,null,null,0),A.stateNode=b,A.return=t,t.child=A,st=t,He=null,A=!0):A=!1}A||Ba(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Nc(b)?t.lanes=32:t.lanes=536870912,null;Kt(t)}return b=s.children,s=s.fallback,n?(fa(),n=t.mode,b=zn({mode:"hidden",children:b},n),s=Oa(s,n,l,null),b.return=t,s.return=t,b.sibling=s,t.child=b,n=t.child,n.memoizedState=Br(l),n.childLanes=Lr(e,u,l),t.memoizedState=qr,s):(ma(t),Ur(t,b))}if(A=e.memoizedState,A!==null&&(b=A.dehydrated,b!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=Gr(e,t,l)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),n=s.fallback,b=t.mode,s=zn({mode:"visible",children:s.children},b),n=Oa(n,b,l,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Nl(t,e.child,null,l),s=t.child,s.memoizedState=Br(l),s.childLanes=Lr(e,u,l),t.memoizedState=qr,t=n);else if(ma(t),Nc(b)){if(u=b.nextSibling&&b.nextSibling.dataset,u)var L=u.dgst;u=L,s=Error(o(419)),s.stack="",s.digest=u,as({value:s,source:null,stack:null}),t=Gr(e,t,l)}else if(Ve||ls(e,t,l,!1),u=(l&e.childLanes)!==0,Ve||u){if(u=Te,u!==null&&(s=l&-l,s=(s&42)!==0?1:wi(s),s=(s&(u.suspendedLanes|l))!==0?0:s,s!==0&&s!==A.retryLane))throw A.retryLane=s,ul(e,s),bt(u,e,s),yu;b.data==="$?"||nc(),t=Gr(e,t,l)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,He=At(b.nextSibling),st=t,we=!0,qa=null,Ot=!1,e!==null&&(wt[St++]=Yt,wt[St++]=Qt,wt[St++]=za,Yt=e.id,Qt=e.overflow,za=t),t=Ur(t,s.children),t.flags|=4096);return t}return n?(fa(),n=s.fallback,b=t.mode,A=e.child,L=A.sibling,s=$t(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,L!==null?n=$t(L,n):(n=Oa(n,b,l,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,b=e.child.memoizedState,b===null?b=Br(l):(A=b.cachePool,A!==null?(L=Ye._currentValue,A=A.parent!==L?{parent:L,pool:L}:A):A=xd(),b={baseLanes:b.baseLanes|l,cachePool:A}),n.memoizedState=b,n.childLanes=Lr(e,u,l),t.memoizedState=qr,s):(ma(t),l=e.child,e=l.sibling,l=$t(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function Ur(e,t){return t=zn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zn(e,t){return e=ft(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gr(e,t,l){return Nl(t,e.child,null,l),e=Ur(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _u(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),nr(e.return,t,l)}function $r(e,t,l,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n)}function Au(e,t,l){var s=t.pendingProps,n=s.revealOrder,i=s.tail;if(Fe(e,t,s.children,l),s=Qe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_u(e,l,t);else if(e.tag===19)_u(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(Z(Qe,s),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Tn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),$r(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Tn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}$r(t,!0,l,null,i);break;case"together":$r(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(ls(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=$t(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=$t(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Yr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hn(e)))}function dh(e,t,l){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),ra(t,Ye,e.memoizedState.cache),ts();break;case 27:case 5:bi(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ma(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Eu(e,t,l):(ma(t),e=Jt(e,t,l),e!==null?e.sibling:null);ma(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(ls(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return Au(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Z(Qe,Qe.current),s)break;return null;case 22:case 23:return t.lanes=0,wu(e,t,l);case 24:ra(t,Ye,e.memoizedState.cache)}return Jt(e,t,l)}function Tu(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Yr(e,l)&&(t.flags&128)===0)return Ve=!1,dh(e,t,l);Ve=(e.flags&131072)!==0}else Ve=!1,we&&(t.flags&1048576)!==0&&rd(t,xn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Wi(s)?(e=Ya(s,e),t.tag=1,t=Cu(null,t,s,e,l)):(t.tag=0,t=Hr(null,t,s,e,l));else{if(s!=null){if(n=s.$$typeof,n===_){t.tag=11,t=vu(null,t,s,e,l);break e}else if(n===Q){t.tag=14,t=ju(null,t,s,e,l);break e}}throw t=ne(s)||s,Error(o(306,t,""))}}return t;case 0:return Hr(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=Ya(s,t.pendingProps),Cu(e,t,s,n,l);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,mr(e,t),ds(t,s,null,l);var u=t.memoizedState;if(s=u.cache,ra(t,Ye,s),s!==i.cache&&ir(t,[Ye],l,!0),os(),s=u.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Mu(e,t,s,l);break e}else if(s!==n){n=jt(Error(o(424)),t),as(n),t=Mu(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=At(e.firstChild),st=t,we=!0,qa=null,Ot=!0,l=ou(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ts(),s===n){t=Jt(e,t,l);break e}Fe(e,t,s,l)}t=t.child}return t;case 26:return On(e,t),e===null?(l=zm(t.type,null,t.pendingProps,null))?t.memoizedState=l:we||(l=t.type,e=t.pendingProps,s=Jn(ie.current).createElement(l),s[tt]=t,s[nt]=e,We(s,l,e),Xe(s),t.stateNode=s):t.memoizedState=zm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bi(t),e===null&&we&&(s=t.stateNode=Dm(t.type,t.pendingProps,ie.current),st=t,Ot=!0,n=He,Na(t.type)?(wc=n,He=At(s.firstChild)):He=n),Fe(e,t,t.pendingProps.children,l),On(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((n=s=He)&&(s=Bh(s,t.type,t.pendingProps,Ot),s!==null?(t.stateNode=s,st=t,He=At(s.firstChild),Ot=!1,n=!0):n=!1),n||Ba(t)),bi(t),n=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,s=i.children,yc(n,i)?s=null:u!==null&&yc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=br(e,t,ah,null,null,l),Ds._currentValue=n),On(e,t),Fe(e,t,s,l),t.child;case 6:return e===null&&we&&((e=l=He)&&(l=Lh(l,t.pendingProps,Ot),l!==null?(t.stateNode=l,st=t,He=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Eu(e,t,l);case 4:return _e(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Nl(t,null,s,l):Fe(e,t,s,l),t.child;case 11:return vu(e,t,t.type,t.pendingProps,l);case 7:return Fe(e,t,t.pendingProps,l),t.child;case 8:return Fe(e,t,t.pendingProps.children,l),t.child;case 12:return Fe(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,ra(t,t.type,s.value),Fe(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Ua(t),n=at(n),s=s(n),t.flags|=1,Fe(e,t,s,l),t.child;case 14:return ju(e,t,t.type,t.pendingProps,l);case 15:return Nu(e,t,t.type,t.pendingProps,l);case 19:return Au(e,t,l);case 31:return s=t.pendingProps,l=t.mode,s={mode:s.mode,children:s.children},e===null?(l=zn(s,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=$t(e.child,s),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return wu(e,t,l);case 24:return Ua(t),s=at(Ye),e===null?(n=or(),n===null&&(n=Te,i=rr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:s,cache:n},ur(t),ra(t,Ye,n)):((e.lanes&l)!==0&&(mr(e,t),ds(t,null,null,l),os()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ra(t,Ye,s)):(s=i.cache,ra(t,Ye,s),s!==n.cache&&ir(t,[Ye],l,!0))),Fe(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ft(e){e.flags|=4}function Du(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Um(t)){if(t=kt.current,t!==null&&((ve&4194048)===ve?zt!==null:(ve&62914560)!==ve&&(ve&536870912)===0||t!==zt))throw rs=dr,hd;e.flags|=8192}}function Hn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?oo():536870912,e.lanes|=t,Cl|=t)}function gs(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function uh(e,t,l){var s=t.pendingProps;switch(ar(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Vt(Ye),la(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(es(t)?Ft(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,dd())),ze(t),null;case 26:return l=t.memoizedState,e===null?(Ft(t),l!==null?(ze(t),Du(t,l)):(ze(t),t.flags&=-16777217)):l?l!==e.memoizedState?(Ft(t),ze(t),Du(t,l)):(ze(t),t.flags&=-16777217):(e.memoizedProps!==s&&Ft(t),ze(t),t.flags&=-16777217),null;case 27:Vs(t),l=ie.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return ze(t),null}e=W.current,es(t)?cd(t):(e=Dm(n,s,l),t.stateNode=e,Ft(t))}return ze(t),null;case 5:if(Vs(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return ze(t),null}if(e=W.current,es(t))cd(t);else{switch(n=Jn(ie.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(l,{is:s.is}):n.createElement(l)}}e[tt]=t,e[nt]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(We(e,l,s),l){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ft(t)}}return ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=ie.current,es(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=st,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[tt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||km(e.nodeValue,l)),e||Ba(t)}else e=Jn(e).createTextNode(s),e[tt]=t,t.stateNode=e}return ze(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=es(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[tt]=t}else ts(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),n=!1}else n=dd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Kt(t),t):(Kt(t),null)}if(Kt(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=s!==null,e=e!==null&&e.memoizedState!==null,l){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),Hn(t,t.updateQueue),ze(t),null;case 4:return la(),e===null&&xc(t.stateNode.containerInfo),ze(t),null;case 10:return Vt(t.type),ze(t),null;case 19:if(Y(Qe),n=t.memoizedState,n===null)return ze(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)gs(n,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Tn(e),i!==null){for(t.flags|=128,gs(n,!1),e=i.updateQueue,t.updateQueue=e,Hn(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)id(l,e),l=l.sibling;return Z(Qe,Qe.current&1|2),t.child}e=e.sibling}n.tail!==null&&Rt()>Ln&&(t.flags|=128,s=!0,gs(n,!1),t.lanes=4194304)}else{if(!s)if(e=Tn(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Hn(t,e),gs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!we)return ze(t),null}else 2*Rt()-n.renderingStartTime>Ln&&l!==536870912&&(t.flags|=128,s=!0,gs(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Rt(),t.sibling=null,e=Qe.current,Z(Qe,s?e&1|2:e&1),t):(ze(t),null);case 22:case 23:return Kt(t),pr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),l=t.updateQueue,l!==null&&Hn(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&Y(Ga),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Vt(Ye),ze(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function mh(e,t){switch(ar(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vt(Ye),la(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vs(t),null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Qe),null;case 4:return la(),null;case 10:return Vt(t.type),null;case 22:case 23:return Kt(t),pr(),e!==null&&Y(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vt(Ye),null;case 25:return null;default:return null}}function Ru(e,t){switch(ar(t),t.tag){case 3:Vt(Ye),la();break;case 26:case 27:case 5:Vs(t);break;case 4:la();break;case 13:Kt(t);break;case 19:Y(Qe);break;case 10:Vt(t.type);break;case 22:case 23:Kt(t),pr(),e!==null&&Y(Ga);break;case 24:Vt(Ye)}}function bs(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var i=l.create,u=l.inst;s=i(),u.destroy=s}l=l.next}while(l!==n)}}catch(b){Ae(t,t.return,b)}}function xa(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var u=s.inst,b=u.destroy;if(b!==void 0){u.destroy=void 0,n=t;var A=l,L=b;try{L()}catch(V){Ae(n,A,V)}}}s=s.next}while(s!==i)}}catch(V){Ae(t,t.return,V)}}function Ou(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{jd(t,l)}catch(s){Ae(e,e.return,s)}}}function zu(e,t,l){l.props=Ya(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ae(e,t,s)}}function ys(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){Ae(e,t,n)}}function Ht(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){Ae(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Ae(e,t,n)}else l.current=null}function Hu(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){Ae(e,e.return,n)}}function Qr(e,t,l){try{var s=e.stateNode;Rh(s,e.type,l,t),s[nt]=t}catch(n){Ae(e,e.return,n)}}function qu(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function Xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Kn));else if(s!==4&&(s===27&&Na(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Vr(e,t,l),e=e.sibling;e!==null;)Vr(e,t,l),e=e.sibling}function qn(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Na(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(qn(e,t,l),e=e.sibling;e!==null;)qn(e,t,l),e=e.sibling}function Bu(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);We(t,s,l),t[tt]=e,t[nt]=l}catch(i){Ae(e,e.return,i)}}var Pt=!1,Ue=!1,Zr=!1,Lu=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function fh(e,t){if(e=e.containerInfo,gc=ti,e=Fo(e),Xi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var u=0,b=-1,A=-1,L=0,V=0,J=e,G=null;t:for(;;){for(var $;J!==l||n!==0&&J.nodeType!==3||(b=u+n),J!==i||s!==0&&J.nodeType!==3||(A=u+s),J.nodeType===3&&(u+=J.nodeValue.length),($=J.firstChild)!==null;)G=J,J=$;for(;;){if(J===e)break t;if(G===l&&++L===n&&(b=u),G===i&&++V===s&&(A=u),($=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=$}l=b===-1||A===-1?null:{start:b,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(bc={focusedElem:e,selectionRange:l},ti=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var de=Ya(l.type,n,l.elementType===l.type);e=s.getSnapshotBeforeUpdate(de,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ae(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)jc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Uu(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ha(e,l),s&4&&bs(5,l);break;case 1:if(ha(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){Ae(l,l.return,u)}else{var n=Ya(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ae(l,l.return,u)}}s&64&&Ou(l),s&512&&ys(l,l.return);break;case 3:if(ha(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{jd(e,t)}catch(u){Ae(l,l.return,u)}}break;case 27:t===null&&s&4&&Bu(l);case 26:case 5:ha(e,l),t===null&&s&4&&Hu(l),s&512&&ys(l,l.return);break;case 12:ha(e,l);break;case 13:ha(e,l),s&4&&Yu(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Nh.bind(null,l),Uh(e,l))));break;case 22:if(s=l.memoizedState!==null||Pt,!s){t=t!==null&&t.memoizedState!==null||Ue,n=Pt;var i=Ue;Pt=s,(Ue=t)&&!i?pa(e,l,(l.subtreeFlags&8772)!==0):ha(e,l),Pt=n,Ue=i}break;case 30:break;default:ha(e,l)}}function Gu(e){var t=e.alternate;t!==null&&(e.alternate=null,Gu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,ct=!1;function Wt(e,t,l){for(l=l.child;l!==null;)$u(e,t,l),l=l.sibling}function $u(e,t,l){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ul,l)}catch{}switch(l.tag){case 26:Ue||Ht(l,t),Wt(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ue||Ht(l,t);var s=Re,n=ct;Na(l.type)&&(Re=l.stateNode,ct=!1),Wt(e,t,l),Es(l.stateNode),Re=s,ct=n;break;case 5:Ue||Ht(l,t);case 6:if(s=Re,n=ct,Re=null,Wt(e,t,l),Re=s,ct=n,Re!==null)if(ct)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(l.stateNode)}catch(i){Ae(l,t,i)}else try{Re.removeChild(l.stateNode)}catch(i){Ae(l,t,i)}break;case 18:Re!==null&&(ct?(e=Re,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Hs(e)):Am(Re,l.stateNode));break;case 4:s=Re,n=ct,Re=l.stateNode.containerInfo,ct=!0,Wt(e,t,l),Re=s,ct=n;break;case 0:case 11:case 14:case 15:Ue||xa(2,l,t),Ue||xa(4,l,t),Wt(e,t,l);break;case 1:Ue||(Ht(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&zu(l,t,s)),Wt(e,t,l);break;case 21:Wt(e,t,l);break;case 22:Ue=(s=Ue)||l.memoizedState!==null,Wt(e,t,l),Ue=s;break;default:Wt(e,t,l)}}function Yu(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hs(e)}catch(l){Ae(t,t.return,l)}}function xh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lu),t;default:throw Error(o(435,e.tag))}}function Kr(e,t){var l=xh(e);t.forEach(function(s){var n=wh.bind(null,e,s);l.has(s)||(l.add(s),s.then(n,n))})}function xt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],i=e,u=t,b=u;e:for(;b!==null;){switch(b.tag){case 27:if(Na(b.type)){Re=b.stateNode,ct=!1;break e}break;case 5:Re=b.stateNode,ct=!1;break e;case 3:case 4:Re=b.stateNode.containerInfo,ct=!0;break e}b=b.return}if(Re===null)throw Error(o(160));$u(i,u,n),Re=null,ct=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Qu(t,e),t=t.sibling}var _t=null;function Qu(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),ht(e),s&4&&(xa(3,e,e.return),bs(3,e),xa(5,e,e.return));break;case 1:xt(t,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),s&64&&Pt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=_t;if(xt(t,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Yl]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),We(i,s,l),i[tt]=e,Xe(i),s=i;break e;case"link":var u=Bm("link","href",n).get(s+(l.href||""));if(u){for(var b=0;b<u.length;b++)if(i=u[b],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(b,1);break t}}i=n.createElement(s),We(i,s,l),n.head.appendChild(i);break;case"meta":if(u=Bm("meta","content",n).get(s+(l.content||""))){for(b=0;b<u.length;b++)if(i=u[b],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(b,1);break t}}i=n.createElement(s),We(i,s,l),n.head.appendChild(i);break;default:throw Error(o(468,s))}i[tt]=e,Xe(i),s=i}e.stateNode=s}else Lm(n,e.type,e.stateNode);else e.stateNode=qm(n,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?Lm(n,e.type,e.stateNode):qm(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Qr(e,e.memoizedProps,l.memoizedProps)}break;case 27:xt(t,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),l!==null&&s&4&&Qr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(xt(t,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),e.flags&32){n=e.stateNode;try{sl(n,"")}catch($){Ae(e,e.return,$)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Qr(e,n,l!==null?l.memoizedProps:n)),s&1024&&(Zr=!0);break;case 6:if(xt(t,e),ht(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){Ae(e,e.return,$)}}break;case 3:if(Wn=null,n=_t,_t=Fn(t.containerInfo),xt(t,e),_t=n,ht(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch($){Ae(e,e.return,$)}Zr&&(Zr=!1,Xu(e));break;case 4:s=_t,_t=Fn(e.stateNode.containerInfo),xt(t,e),ht(e),_t=s;break;case 12:xt(t,e),ht(e);break;case 13:xt(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ec=Rt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 22:n=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,L=Pt,V=Ue;if(Pt=L||n,Ue=V||A,xt(t,e),Ue=V,Pt=L,ht(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||A||Pt||Ue||Qa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(i=A.stateNode,n)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{b=A.stateNode;var J=A.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){Ae(A,A.return,$)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=n?"":A.memoizedProps}catch($){Ae(A,A.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Kr(e,l))));break;case 19:xt(t,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 30:break;case 21:break;default:xt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(qu(s)){l=s;break}s=s.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=Xr(e);qn(e,i,n);break;case 5:var u=l.stateNode;l.flags&32&&(sl(u,""),l.flags&=-33);var b=Xr(e);qn(e,b,u);break;case 3:case 4:var A=l.stateNode.containerInfo,L=Xr(e);Vr(e,L,A);break;default:throw Error(o(161))}}catch(V){Ae(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xu(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uu(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xa(4,t,t.return),Qa(t);break;case 1:Ht(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&zu(t,t.return,l),Qa(t);break;case 27:Es(t.stateNode);case 26:case 5:Ht(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function pa(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:pa(n,i,l),bs(4,i);break;case 1:if(pa(n,i,l),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(L){Ae(s,s.return,L)}if(s=i,n=s.updateQueue,n!==null){var b=s.stateNode;try{var A=n.shared.hiddenCallbacks;if(A!==null)for(n.shared.hiddenCallbacks=null,n=0;n<A.length;n++)vd(A[n],b)}catch(L){Ae(s,s.return,L)}}l&&u&64&&Ou(i),ys(i,i.return);break;case 27:Bu(i);case 26:case 5:pa(n,i,l),l&&s===null&&u&4&&Hu(i),ys(i,i.return);break;case 12:pa(n,i,l);break;case 13:pa(n,i,l),l&&u&4&&Yu(n,i);break;case 22:i.memoizedState===null&&pa(n,i,l),ys(i,i.return);break;case 30:break;default:pa(n,i,l)}t=t.sibling}}function Jr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ss(l))}function Fr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e))}function qt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vu(e,t,l,s),t=t.sibling}function Vu(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,l,s),n&2048&&bs(9,t);break;case 1:qt(e,t,l,s);break;case 3:qt(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e)));break;case 12:if(n&2048){qt(e,t,l,s),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,b=i.onPostCommit;typeof b=="function"&&b(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ae(t,t.return,A)}}else qt(e,t,l,s);break;case 13:qt(e,t,l,s);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?qt(e,t,l,s):vs(e,t):i._visibility&2?qt(e,t,l,s):(i._visibility|=2,wl(e,t,l,s,(t.subtreeFlags&10256)!==0)),n&2048&&Jr(u,t);break;case 24:qt(e,t,l,s),n&2048&&Fr(t.alternate,t);break;default:qt(e,t,l,s)}}function wl(e,t,l,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,u=t,b=l,A=s,L=u.flags;switch(u.tag){case 0:case 11:case 15:wl(i,u,b,A,n),bs(8,u);break;case 23:break;case 22:var V=u.stateNode;u.memoizedState!==null?V._visibility&2?wl(i,u,b,A,n):vs(i,u):(V._visibility|=2,wl(i,u,b,A,n)),n&&L&2048&&Jr(u.alternate,u);break;case 24:wl(i,u,b,A,n),n&&L&2048&&Fr(u.alternate,u);break;default:wl(i,u,b,A,n)}t=t.sibling}}function vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:vs(l,s),n&2048&&Jr(s.alternate,s);break;case 24:vs(l,s),n&2048&&Fr(s.alternate,s);break;default:vs(l,s)}t=t.sibling}}var js=8192;function Sl(e){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Zu(e),e=e.sibling}function Zu(e){switch(e.tag){case 26:Sl(e),e.flags&js&&e.memoizedState!==null&&Ih(_t,e.memoizedState,e.memoizedProps);break;case 5:Sl(e);break;case 3:case 4:var t=_t;_t=Fn(e.stateNode.containerInfo),Sl(e),_t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=js,js=16777216,Sl(e),js=t):Sl(e));break;default:Sl(e)}}function Ku(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Ze=s,Fu(s,e)}Ku(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ju(e),e=e.sibling}function Ju(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&xa(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bn(e)):Ns(e);break;default:Ns(e)}}function Bn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Ze=s,Fu(s,e)}Ku(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xa(8,t,t.return),Bn(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Bn(t));break;default:Bn(t)}e=e.sibling}}function Fu(e,t){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:xa(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ss(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ze=s;else e:for(l=e;Ze!==null;){s=Ze;var n=s.sibling,i=s.return;if(Gu(s),s===l){Ze=null;break e}if(n!==null){n.return=i,Ze=n;break e}Ze=i}}}var hh={getCacheForType:function(e){var t=at(Ye),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},ph=typeof WeakMap=="function"?WeakMap:Map,Se=0,Te=null,be=null,ve=0,ke=0,pt=null,ga=!1,kl=!1,Pr=!1,It=0,qe=0,ba=0,Xa=0,Wr=0,Ct=0,Cl=0,ws=null,ot=null,Ir=!1,ec=0,Ln=1/0,Un=null,ya=null,Pe=0,va=null,Ml=null,El=0,tc=0,ac=null,Pu=null,Ss=0,lc=null;function gt(){if((Se&2)!==0&&ve!==0)return ve&-ve;if(q.T!==null){var e=hl;return e!==0?e:dc()}return fo()}function Wu(){Ct===0&&(Ct=(ve&536870912)===0||we?co():536870912);var e=kt.current;return e!==null&&(e.flags|=32),Ct}function bt(e,t,l){(e===Te&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(_l(e,0),ja(e,ve,Ct,!1)),$l(e,l),((Se&2)===0||e!==Te)&&(e===Te&&((Se&2)===0&&(Xa|=l),qe===4&&ja(e,ve,Ct,!1)),Bt(e))}function Iu(e,t,l){if((Se&6)!==0)throw Error(o(327));var s=!l&&(t&124)===0&&(t&e.expiredLanes)===0||Gl(e,t),n=s?yh(e,t):ic(e,t,!0),i=s;do{if(n===0){kl&&!s&&ja(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!gh(l)){n=ic(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var b=e;n=ws;var A=b.current.memoizedState.isDehydrated;if(A&&(_l(b,u).flags|=256),u=ic(b,u,!1),u!==2){if(Pr&&!A){b.errorRecoveryDisabledLanes|=i,Xa|=i,n=4;break e}i=ot,ot=n,i!==null&&(ot===null?ot=i:ot.push.apply(ot,i))}n=u}if(i=!1,n!==2)continue}}if(n===1){_l(e,0),ja(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ja(s,t,Ct,!ga);break e;case 2:ot=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=ec+300-Rt(),10<n)){if(ja(s,t,Ct,!ga),Fs(s,0,!0)!==0)break e;s.timeoutHandle=Em(em.bind(null,s,l,ot,Un,Ir,t,Ct,Xa,Cl,ga,i,2,-0,0),n);break e}em(s,l,ot,Un,Ir,t,Ct,Xa,Cl,ga,i,0,-0,0)}}break}while(!0);Bt(e)}function em(e,t,l,s,n,i,u,b,A,L,V,J,G,$){if(e.timeoutHandle=-1,J=t.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:Wh},Zu(t),J=e0(),J!==null)){e.cancelPendingCommit=J(rm.bind(null,e,t,i,l,s,n,u,b,A,V,1,G,$)),ja(e,i,u,!L);return}rm(e,t,i,l,s,n,u,b,A)}function gh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!mt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ja(e,t,l,s){t&=~Wr,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-ut(n),u=1<<i;s[i]=-1,n&=~u}l!==0&&uo(e,l,t)}function Gn(){return(Se&6)===0?(ks(0),!1):!0}function sc(){if(be!==null){if(ke===0)var e=be.return;else e=be,Xt=La=null,jr(e),jl=null,hs=0,e=be;for(;e!==null;)Ru(e.alternate,e),e=e.return;be=null}}function _l(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,zh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),sc(),Te=e,be=l=$t(e.current,null),ve=t,ke=0,pt=null,ga=!1,kl=Gl(e,t),Pr=!1,Cl=Ct=Wr=Xa=ba=qe=0,ot=ws=null,Ir=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-ut(s),i=1<<n;t|=e[n],s&=~i}return It=t,on(),l}function tm(e,t){he=null,q.H=En,t===is||t===bn?(t=bd(),ke=3):t===hd?(t=bd(),ke=4):ke=t===yu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pt=t,be===null&&(qe=1,Rn(e,jt(t,e.current)))}function am(){var e=q.H;return q.H=En,e===null?En:e}function lm(){var e=q.A;return q.A=hh,e}function nc(){qe=4,ga||(ve&4194048)!==ve&&kt.current!==null||(kl=!0),(ba&134217727)===0&&(Xa&134217727)===0||Te===null||ja(Te,ve,Ct,!1)}function ic(e,t,l){var s=Se;Se|=2;var n=am(),i=lm();(Te!==e||ve!==t)&&(Un=null,_l(e,t)),t=!1;var u=qe;e:do try{if(ke!==0&&be!==null){var b=be,A=pt;switch(ke){case 8:sc(),u=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var L=ke;if(ke=0,pt=null,Al(e,b,A,L),l&&kl){u=0;break e}break;default:L=ke,ke=0,pt=null,Al(e,b,A,L)}}bh(),u=qe;break}catch(V){tm(e,V)}while(!0);return t&&e.shellSuspendCounter++,Xt=La=null,Se=s,q.H=n,q.A=i,be===null&&(Te=null,ve=0,on()),u}function bh(){for(;be!==null;)sm(be)}function yh(e,t){var l=Se;Se|=2;var s=am(),n=lm();Te!==e||ve!==t?(Un=null,Ln=Rt()+500,_l(e,t)):kl=Gl(e,t);e:do try{if(ke!==0&&be!==null){t=be;var i=pt;t:switch(ke){case 1:ke=0,pt=null,Al(e,t,i,1);break;case 2:case 9:if(pd(i)){ke=0,pt=null,nm(t);break}t=function(){ke!==2&&ke!==9||Te!==e||(ke=7),Bt(e)},i.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:pd(i)?(ke=0,pt=null,nm(t)):(ke=0,pt=null,Al(e,t,i,7));break;case 5:var u=null;switch(be.tag){case 26:u=be.memoizedState;case 5:case 27:var b=be;if(!u||Um(u)){ke=0,pt=null;var A=b.sibling;if(A!==null)be=A;else{var L=b.return;L!==null?(be=L,$n(L)):be=null}break t}}ke=0,pt=null,Al(e,t,i,5);break;case 6:ke=0,pt=null,Al(e,t,i,6);break;case 8:sc(),qe=6;break e;default:throw Error(o(462))}}vh();break}catch(V){tm(e,V)}while(!0);return Xt=La=null,q.H=s,q.A=n,Se=l,be!==null?0:(Te=null,ve=0,on(),qe)}function vh(){for(;be!==null&&!$f();)sm(be)}function sm(e){var t=Tu(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?$n(e):be=t}function nm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ku(l,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=ku(l,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:jr(t);default:Ru(l,t),t=be=id(t,It),t=Tu(l,t,It)}e.memoizedProps=e.pendingProps,t===null?$n(e):be=t}function Al(e,t,l,s){Xt=La=null,jr(t),jl=null,hs=0;var n=t.return;try{if(oh(e,n,t,l,ve)){qe=1,Rn(e,jt(l,e.current)),be=null;return}}catch(i){if(n!==null)throw be=n,i;qe=1,Rn(e,jt(l,e.current)),be=null;return}t.flags&32768?(we||s===1?e=!0:kl||(ve&536870912)!==0?e=!1:(ga=e=!0,(s===2||s===9||s===3||s===6)&&(s=kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),im(t,e)):$n(t)}function $n(e){var t=e;do{if((t.flags&32768)!==0){im(t,ga);return}e=t.return;var l=uh(t.alternate,t,It);if(l!==null){be=l;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);qe===0&&(qe=5)}function im(e,t){do{var l=mh(e.alternate,e);if(l!==null){l.flags&=32767,be=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=l}while(e!==null);qe=6,be=null}function rm(e,t,l,s,n,i,u,b,A){e.cancelPendingCommit=null;do Yn();while(Pe!==0);if((Se&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=Fi,Wf(e,l,i,u,b,A),e===Te&&(be=Te=null,ve=0),Ml=t,va=e,El=l,tc=i,ac=n,Pu=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sh(Zs,function(){return mm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,n=X.p,X.p=2,u=Se,Se|=4;try{fh(e,t,l)}finally{Se=u,X.p=n,q.T=s}}Pe=1,cm(),om(),dm()}}function cm(){if(Pe===1){Pe=0;var e=va,t=Ml,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var s=X.p;X.p=2;var n=Se;Se|=4;try{Qu(t,e);var i=bc,u=Fo(e.containerInfo),b=i.focusedElem,A=i.selectionRange;if(u!==b&&b&&b.ownerDocument&&Jo(b.ownerDocument.documentElement,b)){if(A!==null&&Xi(b)){var L=A.start,V=A.end;if(V===void 0&&(V=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(V,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var $=G.getSelection(),de=b.textContent.length,ce=Math.min(A.start,de),Ee=A.end===void 0?ce:Math.min(A.end,de);!$.extend&&ce>Ee&&(u=Ee,Ee=ce,ce=u);var H=Ko(b,ce),z=Ko(b,Ee);if(H&&z&&($.rangeCount!==1||$.anchorNode!==H.node||$.anchorOffset!==H.offset||$.focusNode!==z.node||$.focusOffset!==z.offset)){var B=J.createRange();B.setStart(H.node,H.offset),$.removeAllRanges(),ce>Ee?($.addRange(B),$.extend(z.node,z.offset)):(B.setEnd(z.node,z.offset),$.addRange(B))}}}}for(J=[],$=b;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var K=J[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ti=!!gc,bc=gc=null}finally{Se=n,X.p=s,q.T=l}}e.current=t,Pe=2}}function om(){if(Pe===2){Pe=0;var e=va,t=Ml,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var s=X.p;X.p=2;var n=Se;Se|=4;try{Uu(e,t.alternate,t)}finally{Se=n,X.p=s,q.T=l}}Pe=3}}function dm(){if(Pe===4||Pe===3){Pe=0,Yf();var e=va,t=Ml,l=El,s=Pu;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,Ml=va=null,um(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ya=null),Si(l),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,n=X.p,X.p=2,q.T=null;try{for(var i=e.onRecoverableError,u=0;u<s.length;u++){var b=s[u];i(b.value,{componentStack:b.stack})}}finally{q.T=t,X.p=n}}(El&3)!==0&&Yn(),Bt(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===lc?Ss++:(Ss=0,lc=e):Ss=0,ks(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ss(t)))}function Yn(e){return cm(),om(),dm(),mm()}function mm(){if(Pe!==5)return!1;var e=va,t=tc;tc=0;var l=Si(El),s=q.T,n=X.p;try{X.p=32>l?32:l,q.T=null,l=ac,ac=null;var i=va,u=El;if(Pe=0,Ml=va=null,El=0,(Se&6)!==0)throw Error(o(331));var b=Se;if(Se|=4,Ju(i.current),Vu(i,i.current,u,l),Se=b,ks(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ul,i)}catch{}return!0}finally{X.p=n,q.T=s,um(e,t)}}function fm(e,t,l){t=jt(l,t),t=zr(e.stateNode,t,2),e=da(e,t,2),e!==null&&($l(e,2),Bt(e))}function Ae(e,t,l){if(e.tag===3)fm(e,e,l);else for(;t!==null;){if(t.tag===3){fm(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=jt(l,e),l=gu(2),s=da(t,l,2),s!==null&&(bu(l,s,t,e),$l(s,2),Bt(s));break}}t=t.return}}function rc(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new ph;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(Pr=!0,n.add(l),e=jh.bind(null,e,t,l),t.then(e,e))}function jh(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Te===e&&(ve&l)===l&&(qe===4||qe===3&&(ve&62914560)===ve&&300>Rt()-ec?(Se&2)===0&&_l(e,0):Wr|=l,Cl===ve&&(Cl=0)),Bt(e)}function xm(e,t){t===0&&(t=oo()),e=ul(e,t),e!==null&&($l(e,t),Bt(e))}function Nh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),xm(e,l)}function wh(e,t){var l=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),xm(e,l)}function Sh(e,t){return vi(e,t)}var Qn=null,Tl=null,cc=!1,Xn=!1,oc=!1,Va=0;function Bt(e){e!==Tl&&e.next===null&&(Tl===null?Qn=Tl=e:Tl=Tl.next=e),Xn=!0,cc||(cc=!0,Ch())}function ks(e,t){if(!oc&&Xn){oc=!0;do for(var l=!1,s=Qn;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var u=s.suspendedLanes,b=s.pingedLanes;i=(1<<31-ut(42|e)+1)-1,i&=n&~(u&~b),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,bm(s,i))}else i=ve,i=Fs(s,s===Te?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||Gl(s,i)||(l=!0,bm(s,i));s=s.next}while(l);oc=!1}}function kh(){hm()}function hm(){Xn=cc=!1;var e=0;Va!==0&&(Oh()&&(e=Va),Va=0);for(var t=Rt(),l=null,s=Qn;s!==null;){var n=s.next,i=pm(s,t);i===0?(s.next=null,l===null?Qn=n:l.next=n,n===null&&(Tl=l)):(l=s,(e!==0||(i&3)!==0)&&(Xn=!0)),s=n}ks(e)}function pm(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-ut(i),b=1<<u,A=n[u];A===-1?((b&l)===0||(b&s)!==0)&&(n[u]=Pf(b,t)):A<=t&&(e.expiredLanes|=b),i&=~b}if(t=Te,l=ve,l=Fs(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ji(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Gl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&ji(s),Si(l)){case 2:case 8:l=io;break;case 32:l=Zs;break;case 268435456:l=ro;break;default:l=Zs}return s=gm.bind(null,e),l=vi(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&ji(s),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Yn()&&e.callbackNode!==l)return null;var s=ve;return s=Fs(e,e===Te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Iu(e,s,t),pm(e,Rt()),e.callbackNode!=null&&e.callbackNode===l?gm.bind(null,e):null)}function bm(e,t){if(Yn())return null;Iu(e,t,!0)}function Ch(){Hh(function(){(Se&6)!==0?vi(no,kh):hm()})}function dc(){return Va===0&&(Va=co()),Va}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tn(""+e)}function vm(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Mh(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var i=ym((n[nt]||null).action),u=s.submitter;u&&(t=(t=u[nt]||null)?ym(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var b=new nn("action","action",null,s,n);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Va!==0){var A=u?vm(n,u):new FormData(n);Ar(l,{pending:!0,data:A,method:n.method,action:i},null,A)}}else typeof i=="function"&&(b.preventDefault(),A=u?vm(n,u):new FormData(n),Ar(l,{pending:!0,data:A,method:n.method,action:i},i,A))},currentTarget:n}]})}}for(var uc=0;uc<Ji.length;uc++){var mc=Ji[uc],Eh=mc.toLowerCase(),_h=mc[0].toUpperCase()+mc.slice(1);Et(Eh,"on"+_h)}Et(Io,"onAnimationEnd"),Et(ed,"onAnimationIteration"),Et(td,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(Vx,"onTransitionRun"),Et(Zx,"onTransitionStart"),Et(Kx,"onTransitionCancel"),Et(ad,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ah=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function jm(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var u=s.length-1;0<=u;u--){var b=s[u],A=b.instance,L=b.currentTarget;if(b=b.listener,A!==i&&n.isPropagationStopped())break e;i=b,n.currentTarget=L;try{i(n)}catch(V){Dn(V)}n.currentTarget=null,i=A}else for(u=0;u<s.length;u++){if(b=s[u],A=b.instance,L=b.currentTarget,b=b.listener,A!==i&&n.isPropagationStopped())break e;i=b,n.currentTarget=L;try{i(n)}catch(V){Dn(V)}n.currentTarget=null,i=A}}}}function ye(e,t){var l=t[ki];l===void 0&&(l=t[ki]=new Set);var s=e+"__bubble";l.has(s)||(Nm(t,e,2,!1),l.add(s))}function fc(e,t,l){var s=0;t&&(s|=4),Nm(l,e,s,t)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[Vn]){e[Vn]=!0,ho.forEach(function(l){l!=="selectionchange"&&(Ah.has(l)||fc(l,!1,e),fc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vn]||(t[Vn]=!0,fc("selectionchange",!1,t))}}function Nm(e,t,l,s){switch(Vm(t)){case 2:var n=l0;break;case 8:n=s0;break;default:n=Ec}l=n.bind(null,t,l,e),n=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function hc(e,t,l,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var b=s.stateNode.containerInfo;if(b===n)break;if(u===4)for(u=s.return;u!==null;){var A=u.tag;if((A===3||A===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;b!==null;){if(u=Wa(b),u===null)return;if(A=u.tag,A===5||A===6||A===26||A===27){s=i=u;continue e}b=b.parentNode}}s=s.return}_o(function(){var L=i,V=Oi(l),J=[];e:{var G=ld.get(e);if(G!==void 0){var $=nn,de=e;switch(e){case"keypress":if(ln(l)===0)break e;case"keydown":case"keyup":$=Sx;break;case"focusin":de="focus",$=Ui;break;case"focusout":de="blur",$=Ui;break;case"beforeblur":case"afterblur":$=Ui;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Mx;break;case Io:case ed:case td:$=hx;break;case ad:$=_x;break;case"scroll":case"scrollend":$=dx;break;case"wheel":$=Tx;break;case"copy":case"cut":case"paste":$=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Oo;break;case"toggle":case"beforetoggle":$=Rx}var ce=(t&4)!==0,Ee=!ce&&(e==="scroll"||e==="scrollend"),H=ce?G!==null?G+"Capture":null:G;ce=[];for(var z=L,B;z!==null;){var K=z;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||H===null||(K=Xl(z,H),K!=null&&ce.push(Ms(z,K,B))),Ee)break;z=z.return}0<ce.length&&(G=new $(G,de,null,l,V),J.push({event:G,listeners:ce}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",G&&l!==Ri&&(de=l.relatedTarget||l.fromElement)&&(Wa(de)||de[Pa]))break e;if(($||G)&&(G=V.window===V?V:(G=V.ownerDocument)?G.defaultView||G.parentWindow:window,$?(de=l.relatedTarget||l.toElement,$=L,de=de?Wa(de):null,de!==null&&(Ee=p(de),ce=de.tag,de!==Ee||ce!==5&&ce!==27&&ce!==6)&&(de=null)):($=null,de=L),$!==de)){if(ce=Do,K="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Oo,K="onPointerLeave",H="onPointerEnter",z="pointer"),Ee=$==null?G:Ql($),B=de==null?G:Ql(de),G=new ce(K,z+"leave",$,l,V),G.target=Ee,G.relatedTarget=B,K=null,Wa(V)===L&&(ce=new ce(H,z+"enter",de,l,V),ce.target=B,ce.relatedTarget=Ee,K=ce),Ee=K,$&&de)t:{for(ce=$,H=de,z=0,B=ce;B;B=Dl(B))z++;for(B=0,K=H;K;K=Dl(K))B++;for(;0<z-B;)ce=Dl(ce),z--;for(;0<B-z;)H=Dl(H),B--;for(;z--;){if(ce===H||H!==null&&ce===H.alternate)break t;ce=Dl(ce),H=Dl(H)}ce=null}else ce=null;$!==null&&wm(J,G,$,ce,!1),de!==null&&Ee!==null&&wm(J,Ee,de,ce,!0)}}e:{if(G=L?Ql(L):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var te=$o;else if(Uo(G))if(Yo)te=Yx;else{te=Gx;var ge=Ux}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&Di(L.elementType)&&(te=$o):te=$x;if(te&&(te=te(e,L))){Go(J,te,l,V);break e}ge&&ge(e,G,L),e==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&Ti(G,"number",G.value)}switch(ge=L?Ql(L):window,e){case"focusin":(Uo(ge)||ge.contentEditable==="true")&&(cl=ge,Vi=L,Il=null);break;case"focusout":Il=Vi=cl=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,Po(J,l,V);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":Po(J,l,V)}var re;if($i)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else rl?Bo(e,l)&&(oe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(oe="onCompositionStart");oe&&(zo&&l.locale!=="ko"&&(rl||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&rl&&(re=Ao()):(ia=V,qi="value"in ia?ia.value:ia.textContent,rl=!0)),ge=Zn(L,oe),0<ge.length&&(oe=new Ro(oe,e,null,l,V),J.push({event:oe,listeners:ge}),re?oe.data=re:(re=Lo(l),re!==null&&(oe.data=re)))),(re=zx?Hx(e,l):qx(e,l))&&(oe=Zn(L,"onBeforeInput"),0<oe.length&&(ge=new Ro("onBeforeInput","beforeinput",null,l,V),J.push({event:ge,listeners:oe}),ge.data=re)),Mh(J,e,L,l,V)}jm(J,t)})}function Ms(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Zn(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Xl(e,l),n!=null&&s.unshift(Ms(e,n,i)),n=Xl(e,t),n!=null&&s.push(Ms(e,n,i))),e.tag===3)return s;e=e.return}return[]}function Dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wm(e,t,l,s,n){for(var i=t._reactName,u=[];l!==null&&l!==s;){var b=l,A=b.alternate,L=b.stateNode;if(b=b.tag,A!==null&&A===s)break;b!==5&&b!==26&&b!==27||L===null||(A=L,n?(L=Xl(l,i),L!=null&&u.unshift(Ms(l,L,A))):n||(L=Xl(l,i),L!=null&&u.push(Ms(l,L,A)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var Th=/\r\n?/g,Dh=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Dh,"")}function km(e,t){return t=Sm(t),Sm(e)===t}function Kn(){}function Me(e,t,l,s,n,i){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||sl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&sl(e,""+s);break;case"className":Ws(e,"class",s);break;case"tabIndex":Ws(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,l,s);break;case"style":Mo(e,s,i);break;case"data":if(t!=="object"){Ws(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Me(e,t,"name",n.name,n,null),Me(e,t,"formEncType",n.formEncType,n,null),Me(e,t,"formMethod",n.formMethod,n,null),Me(e,t,"formTarget",n.formTarget,n,null)):(Me(e,t,"encType",n.encType,n,null),Me(e,t,"method",n.method,n,null),Me(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Kn);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=tn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Ps(e,"popover",s);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ps(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cx.get(l)||l,Ps(e,l,s))}}function pc(e,t,l,s,n,i){switch(l){case"style":Mo(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof s=="string"?sl(e,s):(typeof s=="number"||typeof s=="bigint")&&sl(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[nt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Ps(e,l,s)}}}function We(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];if(u!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Me(e,t,i,u,l,null)}}n&&Me(e,t,"srcSet",l.srcSet,l,null),s&&Me(e,t,"src",l.src,l,null);return;case"input":ye("invalid",e);var b=i=u=n=null,A=null,L=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":n=V;break;case"type":u=V;break;case"checked":A=V;break;case"defaultChecked":L=V;break;case"value":i=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:Me(e,t,s,V,l,null)}}wo(e,i,b,A,L,u,n,!1),Is(e);return;case"select":ye("invalid",e),s=u=i=null;for(n in l)if(l.hasOwnProperty(n)&&(b=l[n],b!=null))switch(n){case"value":i=b;break;case"defaultValue":u=b;break;case"multiple":s=b;default:Me(e,t,n,b,l,null)}t=i,l=u,e.multiple=!!s,t!=null?ll(e,!!s,t,!1):l!=null&&ll(e,!!s,l,!0);return;case"textarea":ye("invalid",e),i=n=s=null;for(u in l)if(l.hasOwnProperty(u)&&(b=l[u],b!=null))switch(u){case"value":s=b;break;case"defaultValue":n=b;break;case"children":i=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Me(e,t,u,b,l,null)}ko(e,s,n,i),Is(e);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Me(e,t,A,s,l,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<Cs.length;s++)ye(Cs[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(s=l[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Me(e,t,L,s,l,null)}return;default:if(Di(t)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&pc(e,t,V,s,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(s=l[b],s!=null&&Me(e,t,b,s,l,null))}function Rh(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,u=null,b=null,A=null,L=null,V=null;for($ in l){var J=l[$];if(l.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":A=J;default:s.hasOwnProperty($)||Me(e,t,$,null,s,J)}}for(var G in s){var $=s[G];if(J=l[G],s.hasOwnProperty(G)&&($!=null||J!=null))switch(G){case"type":i=$;break;case"name":n=$;break;case"checked":L=$;break;case"defaultChecked":V=$;break;case"value":u=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:$!==J&&Me(e,t,G,$,s,J)}}Ai(e,u,b,A,L,V,i,n);return;case"select":$=u=b=G=null;for(i in l)if(A=l[i],l.hasOwnProperty(i)&&A!=null)switch(i){case"value":break;case"multiple":$=A;default:s.hasOwnProperty(i)||Me(e,t,i,null,s,A)}for(n in s)if(i=s[n],A=l[n],s.hasOwnProperty(n)&&(i!=null||A!=null))switch(n){case"value":G=i;break;case"defaultValue":b=i;break;case"multiple":u=i;default:i!==A&&Me(e,t,n,i,s,A)}t=b,l=u,s=$,G!=null?ll(e,!!l,G,!1):!!s!=!!l&&(t!=null?ll(e,!!l,t,!0):ll(e,!!l,l?[]:"",!1));return;case"textarea":$=G=null;for(b in l)if(n=l[b],l.hasOwnProperty(b)&&n!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Me(e,t,b,null,s,n)}for(u in s)if(n=s[u],i=l[u],s.hasOwnProperty(u)&&(n!=null||i!=null))switch(u){case"value":G=n;break;case"defaultValue":$=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Me(e,t,u,n,s,i)}So(e,G,$);return;case"option":for(var de in l)if(G=l[de],l.hasOwnProperty(de)&&G!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Me(e,t,de,null,s,G)}for(A in s)if(G=s[A],$=l[A],s.hasOwnProperty(A)&&G!==$&&(G!=null||$!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Me(e,t,A,G,s,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)G=l[ce],l.hasOwnProperty(ce)&&G!=null&&!s.hasOwnProperty(ce)&&Me(e,t,ce,null,s,G);for(L in s)if(G=s[L],$=l[L],s.hasOwnProperty(L)&&G!==$&&(G!=null||$!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:Me(e,t,L,G,s,$)}return;default:if(Di(t)){for(var Ee in l)G=l[Ee],l.hasOwnProperty(Ee)&&G!==void 0&&!s.hasOwnProperty(Ee)&&pc(e,t,Ee,void 0,s,G);for(V in s)G=s[V],$=l[V],!s.hasOwnProperty(V)||G===$||G===void 0&&$===void 0||pc(e,t,V,G,s,$);return}}for(var H in l)G=l[H],l.hasOwnProperty(H)&&G!=null&&!s.hasOwnProperty(H)&&Me(e,t,H,null,s,G);for(J in s)G=s[J],$=l[J],!s.hasOwnProperty(J)||G===$||G==null&&$==null||Me(e,t,J,G,s,$)}var gc=null,bc=null;function Jn(e){return e.nodeType===9?e:e.ownerDocument}function Cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=null;function Oh(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(qh)}:Em;function qh(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function Am(e,t){var l=t,s=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<s&&8>s){l=s;var u=e.ownerDocument;if(l&1&&Es(u.documentElement),l&2&&Es(u.body),l&4)for(l=u.head,Es(l),u=l.firstChild;u;){var b=u.nextSibling,A=u.nodeName;u[Yl]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=b}}if(n===0){e.removeChild(i),Hs(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:s=l.charCodeAt(0)-48;else s=0;l=i}while(l);Hs(t)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jc(l),Ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Bh(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Yl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=At(e.nextSibling),e===null)break}return null}function Lh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=At(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Uh(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wc=null;function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function Dm(e,t,l){switch(t=Jn(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Es(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ci(e)}var Mt=new Map,Rm=new Set;function Fn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ea=X.d;X.d={f:Gh,r:$h,D:Yh,C:Qh,L:Xh,m:Vh,X:Kh,S:Zh,M:Jh};function Gh(){var e=ea.f(),t=Gn();return e||t}function $h(e){var t=Ia(e);t!==null&&t.tag===5&&t.type==="form"?Id(t):ea.r(e)}var Rl=typeof document>"u"?null:document;function Om(e,t,l){var s=Rl;if(s&&typeof t=="string"&&t){var n=vt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Rm.has(n)||(Rm.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),We(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Yh(e){ea.D(e),Om("dns-prefetch",e,null)}function Qh(e,t){ea.C(e,t),Om("preconnect",e,t)}function Xh(e,t,l){ea.L(e,t,l);var s=Rl;if(s&&e&&t){var n='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+vt(l.imageSizes)+'"]')):n+='[href="'+vt(e)+'"]';var i=n;switch(t){case"style":i=Ol(e);break;case"script":i=zl(e)}Mt.has(i)||(e=C({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Mt.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(_s(i))||t==="script"&&s.querySelector(As(i))||(t=s.createElement("link"),We(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Vh(e,t){ea.m(e,t);var l=Rl;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+vt(s)+'"][href="'+vt(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zl(e)}if(!Mt.has(i)&&(e=C({rel:"modulepreload",href:e},t),Mt.set(i,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(As(i)))return}s=l.createElement("link"),We(s,"link",e),Xe(s),l.head.appendChild(s)}}}function Zh(e,t,l){ea.S(e,t,l);var s=Rl;if(s&&e){var n=el(s).hoistableStyles,i=Ol(e);t=t||"default";var u=n.get(i);if(!u){var b={loading:0,preload:null};if(u=s.querySelector(_s(i)))b.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Mt.get(i))&&Sc(e,l);var A=u=s.createElement("link");Xe(A),We(A,"link",e),A._p=new Promise(function(L,V){A.onload=L,A.onerror=V}),A.addEventListener("load",function(){b.loading|=1}),A.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pn(u,t,s)}u={type:"stylesheet",instance:u,count:1,state:b},n.set(i,u)}}}function Kh(e,t){ea.X(e,t);var l=Rl;if(l&&e){var s=el(l).hoistableScripts,n=zl(e),i=s.get(n);i||(i=l.querySelector(As(n)),i||(e=C({src:e,async:!0},t),(t=Mt.get(n))&&kc(e,t),i=l.createElement("script"),Xe(i),We(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Jh(e,t){ea.M(e,t);var l=Rl;if(l&&e){var s=el(l).hoistableScripts,n=zl(e),i=s.get(n);i||(i=l.querySelector(As(n)),i||(e=C({src:e,async:!0,type:"module"},t),(t=Mt.get(n))&&kc(e,t),i=l.createElement("script"),Xe(i),We(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function zm(e,t,l,s){var n=(n=ie.current)?Fn(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ol(l.href),l=el(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ol(l.href);var i=el(n).hoistableStyles,u=i.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=n.querySelector(_s(e)))&&!i._p&&(u.instance=i,u.state.loading=5),Mt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Mt.set(e,l),i||Fh(n,e,l,u.state))),t&&s===null)throw Error(o(528,""));return u}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zl(l),l=el(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ol(e){return'href="'+vt(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function Hm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Fh(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),We(t,"link",l),Xe(t),e.head.appendChild(t))}function zl(e){return'[src="'+vt(e)+'"]'}function As(e){return"script[async]"+e}function qm(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+vt(l.href)+'"]');if(s)return t.instance=s,Xe(s),s;var n=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Xe(s),We(s,"style",n),Pn(s,l.precedence,e),t.instance=s;case"stylesheet":n=Ol(l.href);var i=e.querySelector(_s(n));if(i)return t.state.loading|=4,t.instance=i,Xe(i),i;s=Hm(l),(n=Mt.get(n))&&Sc(s,n),i=(e.ownerDocument||e).createElement("link"),Xe(i);var u=i;return u._p=new Promise(function(b,A){u.onload=b,u.onerror=A}),We(i,"link",s),t.state.loading|=4,Pn(i,l.precedence,e),t.instance=i;case"script":return i=zl(l.src),(n=e.querySelector(As(i)))?(t.instance=n,Xe(n),n):(s=l,(n=Mt.get(i))&&(s=C({},l),kc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Xe(n),We(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Pn(s,l.precedence,e));return t.instance}function Pn(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,u=0;u<s.length;u++){var b=s[u];if(b.dataset.precedence===t)i=b;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wn=null;function Bm(e,t,l){if(Wn===null){var s=new Map,n=Wn=new Map;n.set(l,s)}else n=Wn,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Yl]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var b=s.get(u);b?b.push(i):s.set(u,[i])}}return s}function Lm(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Ph(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ts=null;function Wh(){}function Ih(e,t,l){if(Ts===null)throw Error(o(475));var s=Ts;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Ol(l.href),i=e.querySelector(_s(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=In.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=i,Xe(i);return}i=e.ownerDocument||e,l=Hm(l),(n=Mt.get(n))&&Sc(l,n),i=i.createElement("link"),Xe(i);var u=i;u._p=new Promise(function(b,A){u.onload=b,u.onerror=A}),We(i,"link",l),t.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=In.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function e0(){if(Ts===null)throw Error(o(475));var e=Ts;return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function In(){if(this.count--,this.count===0){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ei=null;function Cc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ei=new Map,t.forEach(t0,e),ei=null,In.call(e))}function t0(e,t){if(!(t.state.loading&4)){var l=ei.get(e);if(l)var s=l.get(null);else{l=new Map,ei.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var u=n[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),s=u)}s&&l.set(null,s)}n=t.instance,u=n.getAttribute("data-precedence"),i=l.get(u)||s,i===s&&l.set(null,n),l.set(u,n),this.count++,s=In.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ds={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function a0(e,t,l,s,n,i,u,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Gm(e,t,l,s,n,i,u,b,A,L,V,J){return e=new a0(e,t,l,u,b,A,L,J),t=1,i===!0&&(t|=24),i=ft(3,null,null,t),e.current=i,i.stateNode=e,t=rr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:t},ur(i),e}function $m(e){return e?(e=ml,e):ml}function Ym(e,t,l,s,n,i){n=$m(n),s.context===null?s.context=n:s.pendingContext=n,s=oa(t),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=da(e,s,t),l!==null&&(bt(l,e,t),cs(l,e,t))}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Mc(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function Xm(e){if(e.tag===13){var t=ul(e,67108864);t!==null&&bt(t,e,67108864),Mc(e,67108864)}}var ti=!0;function l0(e,t,l,s){var n=q.T;q.T=null;var i=X.p;try{X.p=2,Ec(e,t,l,s)}finally{X.p=i,q.T=n}}function s0(e,t,l,s){var n=q.T;q.T=null;var i=X.p;try{X.p=8,Ec(e,t,l,s)}finally{X.p=i,q.T=n}}function Ec(e,t,l,s){if(ti){var n=_c(s);if(n===null)hc(e,t,s,ai,l),Zm(e,s);else if(i0(n,e,t,l,s))s.stopPropagation();else if(Zm(e,s),t&4&&-1<n0.indexOf(e)){for(;n!==null;){var i=Ia(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=_a(i.pendingLanes);if(u!==0){var b=i;for(b.pendingLanes|=2,b.entangledLanes|=2;u;){var A=1<<31-ut(u);b.entanglements[1]|=A,u&=~A}Bt(i),(Se&6)===0&&(Ln=Rt()+500,ks(0))}}break;case 13:b=ul(i,2),b!==null&&bt(b,i,2),Gn(),Mc(i,2)}if(i=_c(s),i===null&&hc(e,t,s,ai,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else hc(e,t,s,null,l)}}function _c(e){return e=Oi(e),Ac(e)}var ai=null;function Ac(e){if(ai=null,e=Wa(e),e!==null){var t=p(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ai=e,null}function Vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qf()){case no:return 2;case io:return 8;case Zs:case Xf:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Tc=!1,wa=null,Sa=null,ka=null,Rs=new Map,Os=new Map,Ca=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function zs(e,t,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ia(t),t!==null&&Xm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function i0(e,t,l,s,n){switch(t){case"focusin":return wa=zs(wa,e,t,l,s,n),!0;case"dragenter":return Sa=zs(Sa,e,t,l,s,n),!0;case"mouseover":return ka=zs(ka,e,t,l,s,n),!0;case"pointerover":var i=n.pointerId;return Rs.set(i,zs(Rs.get(i)||null,e,t,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Os.set(i,zs(Os.get(i)||null,e,t,l,s,n)),!0}return!1}function Km(e){var t=Wa(e.target);if(t!==null){var l=p(t);if(l!==null){if(t=l.tag,t===13){if(t=g(l),t!==null){e.blockedOn=t,If(e.priority,function(){if(l.tag===13){var s=gt();s=wi(s);var n=ul(l,s);n!==null&&bt(n,l,s),Mc(l,s)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=_c(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ri=s,l.target.dispatchEvent(s),Ri=null}else return t=Ia(l),t!==null&&Xm(t),e.blockedOn=l,!1;t.shift()}return!0}function Jm(e,t,l){li(e)&&l.delete(t)}function r0(){Tc=!1,wa!==null&&li(wa)&&(wa=null),Sa!==null&&li(Sa)&&(Sa=null),ka!==null&&li(ka)&&(ka=null),Rs.forEach(Jm),Os.forEach(Jm)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r0)))}var ni=null;function Fm(e){ni!==e&&(ni=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ni===e&&(ni=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Ac(s||l)===null)continue;break}var i=Ia(l);i!==null&&(e.splice(t,3),t-=3,Ar(i,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Hs(e){function t(A){return si(A,e)}wa!==null&&si(wa,e),Sa!==null&&si(Sa,e),ka!==null&&si(ka,e),Rs.forEach(t),Os.forEach(t);for(var l=0;l<Ca.length;l++){var s=Ca[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)Km(l),l.blockedOn===null&&Ca.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],i=l[s+1],u=n[nt]||null;if(typeof i=="function")u||Fm(l);else if(u){var b=null;if(i&&i.hasAttribute("formAction")){if(n=i,u=i[nt]||null)b=u.formAction;else if(Ac(n)!==null)continue}else b=u.action;typeof b=="function"?l[s+1]=b:(l.splice(s,3),s-=3),Fm(l)}}}function Dc(e){this._internalRoot=e}ii.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,s=gt();Ym(l,s,e,t,null,null)},ii.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ym(e.current,2,null,e,null,null),Gn(),t[Pa]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=fo();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ca.length&&t!==0&&t<Ca[l].priority;l++);Ca.splice(l,0,e),l===0&&Km(e)}};var Pm=c.version;if(Pm!=="19.1.1")throw Error(o(527,Pm,"19.1.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=N(t),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var c0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Ul=ri.inject(c0),dt=ri}catch{}}return Bs.createRoot=function(e,t){if(!m(e))throw Error(o(299));var l=!1,s="",n=fu,i=xu,u=hu,b=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Gm(e,1,!1,null,null,l,s,n,i,u,b,null),e[Pa]=t.current,xc(e),new Dc(t)},Bs.hydrateRoot=function(e,t,l){if(!m(e))throw Error(o(299));var s=!1,n="",i=fu,u=xu,b=hu,A=null,L=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(L=l.formState)),t=Gm(e,1,!0,t,l??null,s,n,i,u,b,A,L),t.context=$m(null),l=t.current,s=gt(),s=wi(s),n=oa(s),n.callback=null,da(l,n,s),l=s,t.current.lanes=l,$l(t,l),Bt(t),e[Pa]=t.current,xc(e),new ii(t)},Bs.version="19.1.1",Bs}var cf;function y0(){if(cf)return zc.exports;cf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),zc.exports=b0(),zc.exports}var v0=y0();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var of="popstate";function j0(r={}){function c(o,m){let{pathname:p,search:g,hash:j}=o.location;return Jc("",{pathname:p,search:g,hash:j},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function d(o,m){return typeof m=="string"?m:Ys(m)}return w0(c,d,null,r)}function Oe(r,c){if(r===!1||r===null||typeof r>"u")throw new Error(c)}function Tt(r,c){if(!r){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function N0(){return Math.random().toString(36).substring(2,10)}function df(r,c){return{usr:r.state,key:r.key,idx:c}}function Jc(r,c,d=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof c=="string"?ql(c):c,state:d,key:c&&c.key||o||N0()}}function Ys({pathname:r="/",search:c="",hash:d=""}){return c&&c!=="?"&&(r+=c.charAt(0)==="?"?c:"?"+c),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function ql(r){let c={};if(r){let d=r.indexOf("#");d>=0&&(c.hash=r.substring(d),r=r.substring(0,d));let o=r.indexOf("?");o>=0&&(c.search=r.substring(o),r=r.substring(0,o)),r&&(c.pathname=r)}return c}function w0(r,c,d,o={}){let{window:m=document.defaultView,v5Compat:p=!1}=o,g=m.history,j="POP",N=null,f=C();f==null&&(f=0,g.replaceState({...g.state,idx:f},""));function C(){return(g.state||{idx:null}).idx}function y(){j="POP";let x=C(),v=x==null?null:x-f;f=x,N&&N({action:j,location:E.location,delta:v})}function D(x,v){j="PUSH";let h=Jc(E.location,x,v);f=C()+1;let M=df(h,f),_=E.createHref(h);try{g.pushState(M,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;m.location.assign(_)}p&&N&&N({action:j,location:E.location,delta:1})}function R(x,v){j="REPLACE";let h=Jc(E.location,x,v);f=C();let M=df(h,f),_=E.createHref(h);g.replaceState(M,"",_),p&&N&&N({action:j,location:E.location,delta:0})}function w(x){return S0(x)}let E={get action(){return j},get location(){return r(m,g)},listen(x){if(N)throw new Error("A history only accepts one active listener");return m.addEventListener(of,y),N=x,()=>{m.removeEventListener(of,y),N=null}},createHref(x){return c(m,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:D,replace:R,go(x){return g.go(x)}};return E}function S0(r,c=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(d,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:Ys(r);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=d+o),new URL(o,d)}function jf(r,c,d="/"){return k0(r,c,d,!1)}function k0(r,c,d,o){let m=typeof c=="string"?ql(c):c,p=aa(m.pathname||"/",d);if(p==null)return null;let g=Nf(r);C0(g);let j=null;for(let N=0;j==null&&N<g.length;++N){let f=q0(p);j=z0(g[N],f,o)}return j}function Nf(r,c=[],d=[],o="",m=!1){let p=(g,j,N=m,f)=>{let C={relativePath:f===void 0?g.path||"":f,caseSensitive:g.caseSensitive===!0,childrenIndex:j,route:g};if(C.relativePath.startsWith("/")){if(!C.relativePath.startsWith(o)&&N)return;Oe(C.relativePath.startsWith(o),`Absolute route path "${C.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(o.length)}let y=ta([o,C.relativePath]),D=d.concat(C);g.children&&g.children.length>0&&(Oe(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Nf(g.children,c,D,y,N)),!(g.path==null&&!g.index)&&c.push({path:y,score:R0(y,g.index),routesMeta:D})};return r.forEach((g,j)=>{if(g.path===""||!g.path?.includes("?"))p(g,j);else for(let N of wf(g.path))p(g,j,!0,N)}),c}function wf(r){let c=r.split("/");if(c.length===0)return[];let[d,...o]=c,m=d.endsWith("?"),p=d.replace(/\?$/,"");if(o.length===0)return m?[p,""]:[p];let g=wf(o.join("/")),j=[];return j.push(...g.map(N=>N===""?p:[p,N].join("/"))),m&&j.push(...g),j.map(N=>r.startsWith("/")&&N===""?"/":N)}function C0(r){r.sort((c,d)=>c.score!==d.score?d.score-c.score:O0(c.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}var M0=/^:[\w-]+$/,E0=3,_0=2,A0=1,T0=10,D0=-2,uf=r=>r==="*";function R0(r,c){let d=r.split("/"),o=d.length;return d.some(uf)&&(o+=D0),c&&(o+=_0),d.filter(m=>!uf(m)).reduce((m,p)=>m+(M0.test(p)?E0:p===""?A0:T0),o)}function O0(r,c){return r.length===c.length&&r.slice(0,-1).every((o,m)=>o===c[m])?r[r.length-1]-c[c.length-1]:0}function z0(r,c,d=!1){let{routesMeta:o}=r,m={},p="/",g=[];for(let j=0;j<o.length;++j){let N=o[j],f=j===o.length-1,C=p==="/"?c:c.slice(p.length)||"/",y=xi({path:N.relativePath,caseSensitive:N.caseSensitive,end:f},C),D=N.route;if(!y&&f&&d&&!o[o.length-1].route.index&&(y=xi({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},C)),!y)return null;Object.assign(m,y.params),g.push({params:m,pathname:ta([p,y.pathname]),pathnameBase:G0(ta([p,y.pathnameBase])),route:D}),y.pathnameBase!=="/"&&(p=ta([p,y.pathnameBase]))}return g}function xi(r,c){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,o]=H0(r.path,r.caseSensitive,r.end),m=c.match(d);if(!m)return null;let p=m[0],g=p.replace(/(.)\/+$/,"$1"),j=m.slice(1);return{params:o.reduce((f,{paramName:C,isOptional:y},D)=>{if(C==="*"){let w=j[D]||"";g=p.slice(0,p.length-w.length).replace(/(.)\/+$/,"$1")}const R=j[D];return y&&!R?f[C]=void 0:f[C]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:p,pathnameBase:g,pattern:r}}function H0(r,c=!1,d=!0){Tt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,j,N)=>(o.push({paramName:j,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,c?void 0:"i"),o]}function q0(r){try{return r.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return Tt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),r}}function aa(r,c){if(c==="/")return r;if(!r.toLowerCase().startsWith(c.toLowerCase()))return null;let d=c.endsWith("/")?c.length-1:c.length,o=r.charAt(d);return o&&o!=="/"?null:r.slice(d)||"/"}function B0(r,c="/"){let{pathname:d,search:o="",hash:m=""}=typeof r=="string"?ql(r):r;return{pathname:d?d.startsWith("/")?d:L0(d,c):c,search:$0(o),hash:Y0(m)}}function L0(r,c){let d=c.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?d.length>1&&d.pop():m!=="."&&d.push(m)}),d.length>1?d.join("/"):"/"}function Lc(r,c,d,o){return`Cannot include a '${r}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U0(r){return r.filter((c,d)=>d===0||c.route.path&&c.route.path.length>0)}function Wc(r){let c=U0(r);return c.map((d,o)=>o===c.length-1?d.pathname:d.pathnameBase)}function Ic(r,c,d,o=!1){let m;typeof r=="string"?m=ql(r):(m={...r},Oe(!m.pathname||!m.pathname.includes("?"),Lc("?","pathname","search",m)),Oe(!m.pathname||!m.pathname.includes("#"),Lc("#","pathname","hash",m)),Oe(!m.search||!m.search.includes("#"),Lc("#","search","hash",m)));let p=r===""||m.pathname==="",g=p?"/":m.pathname,j;if(g==null)j=d;else{let y=c.length-1;if(!o&&g.startsWith("..")){let D=g.split("/");for(;D[0]==="..";)D.shift(),y-=1;m.pathname=D.join("/")}j=y>=0?c[y]:"/"}let N=B0(m,j),f=g&&g!=="/"&&g.endsWith("/"),C=(p||g===".")&&d.endsWith("/");return!N.pathname.endsWith("/")&&(f||C)&&(N.pathname+="/"),N}var ta=r=>r.join("/").replace(/\/\/+/g,"/"),G0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Q0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Sf=["POST","PUT","PATCH","DELETE"];new Set(Sf);var X0=["GET",...Sf];new Set(X0);var Bl=k.createContext(null);Bl.displayName="DataRouter";var pi=k.createContext(null);pi.displayName="DataRouterState";k.createContext(!1);var kf=k.createContext({isTransitioning:!1});kf.displayName="ViewTransition";var V0=k.createContext(new Map);V0.displayName="Fetchers";var Z0=k.createContext(null);Z0.displayName="Await";var Dt=k.createContext(null);Dt.displayName="Navigation";var Qs=k.createContext(null);Qs.displayName="Location";var Lt=k.createContext({outlet:null,matches:[],isDataRoute:!1});Lt.displayName="Route";var eo=k.createContext(null);eo.displayName="RouteError";function K0(r,{relative:c}={}){Oe(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:o}=k.useContext(Dt),{hash:m,pathname:p,search:g}=Xs(r,{relative:c}),j=p;return d!=="/"&&(j=p==="/"?d:ta([d,p])),o.createHref({pathname:j,search:g,hash:m})}function Ll(){return k.useContext(Qs)!=null}function Ea(){return Oe(Ll(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Qs).location}var Cf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mf(r){k.useContext(Dt).static||k.useLayoutEffect(r)}function Je(){let{isDataRoute:r}=k.useContext(Lt);return r?rp():J0()}function J0(){Oe(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Bl),{basename:c,navigator:d}=k.useContext(Dt),{matches:o}=k.useContext(Lt),{pathname:m}=Ea(),p=JSON.stringify(Wc(o)),g=k.useRef(!1);return Mf(()=>{g.current=!0}),k.useCallback((N,f={})=>{if(Tt(g.current,Cf),!g.current)return;if(typeof N=="number"){d.go(N);return}let C=Ic(N,JSON.parse(p),m,f.relative==="path");r==null&&c!=="/"&&(C.pathname=C.pathname==="/"?c:ta([c,C.pathname])),(f.replace?d.replace:d.push)(C,f.state,f)},[c,d,p,m,r])}k.createContext(null);function Xs(r,{relative:c}={}){let{matches:d}=k.useContext(Lt),{pathname:o}=Ea(),m=JSON.stringify(Wc(d));return k.useMemo(()=>Ic(r,JSON.parse(m),o,c==="path"),[r,m,o,c])}function F0(r,c){return Ef(r,c)}function Ef(r,c,d,o,m){Oe(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=k.useContext(Dt),{matches:g}=k.useContext(Lt),j=g[g.length-1],N=j?j.params:{},f=j?j.pathname:"/",C=j?j.pathnameBase:"/",y=j&&j.route;{let h=y&&y.path||"";_f(f,!y||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let D=Ea(),R;if(c){let h=typeof c=="string"?ql(c):c;Oe(C==="/"||h.pathname?.startsWith(C),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${C}" but pathname "${h.pathname}" was given in the \`location\` prop.`),R=h}else R=D;let w=R.pathname||"/",E=w;if(C!=="/"){let h=C.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(h.length).join("/")}let x=jf(r,{pathname:E});Tt(y||x!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Tt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=tp(x&&x.map(h=>Object.assign({},h,{params:Object.assign({},N,h.params),pathname:ta([C,p.encodeLocation?p.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?C:ta([C,p.encodeLocation?p.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),g,d,o,m);return c&&v?k.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},v):v}function P0(){let r=ip(),c=Q0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:o},p={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",r),g=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:p},"ErrorBoundary")," or"," ",k.createElement("code",{style:p},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},c),d?k.createElement("pre",{style:m},d):null,g)}var W0=k.createElement(P0,null),I0=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,c){return c.location!==r.location||c.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:c.error,location:c.location,revalidation:r.revalidation||c.revalidation}}componentDidCatch(r,c){this.props.unstable_onError?this.props.unstable_onError(r,c):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(Lt.Provider,{value:this.props.routeContext},k.createElement(eo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ep({routeContext:r,match:c,children:d}){let o=k.useContext(Bl);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),k.createElement(Lt.Provider,{value:r},d)}function tp(r,c=[],d=null,o=null,m=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(c.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let p=r,g=d?.errors;if(g!=null){let f=p.findIndex(C=>C.route.id&&g?.[C.route.id]!==void 0);Oe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),p=p.slice(0,Math.min(p.length,f+1))}let j=!1,N=-1;if(d)for(let f=0;f<p.length;f++){let C=p[f];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(N=f),C.route.id){let{loaderData:y,errors:D}=d,R=C.route.loader&&!y.hasOwnProperty(C.route.id)&&(!D||D[C.route.id]===void 0);if(C.route.lazy||R){j=!0,N>=0?p=p.slice(0,N+1):p=[p[0]];break}}}return p.reduceRight((f,C,y)=>{let D,R=!1,w=null,E=null;d&&(D=g&&C.route.id?g[C.route.id]:void 0,w=C.route.errorElement||W0,j&&(N<0&&y===0?(_f("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,E=null):N===y&&(R=!0,E=C.route.hydrateFallbackElement||null)));let x=c.concat(p.slice(0,y+1)),v=()=>{let h;return D?h=w:R?h=E:C.route.Component?h=k.createElement(C.route.Component,null):C.route.element?h=C.route.element:h=f,k.createElement(ep,{match:C,routeContext:{outlet:f,matches:x,isDataRoute:d!=null},children:h})};return d&&(C.route.ErrorBoundary||C.route.errorElement||y===0)?k.createElement(I0,{location:d.location,revalidation:d.revalidation,component:w,error:D,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:o}):v()},null)}function to(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ap(r){let c=k.useContext(Bl);return Oe(c,to(r)),c}function lp(r){let c=k.useContext(pi);return Oe(c,to(r)),c}function sp(r){let c=k.useContext(Lt);return Oe(c,to(r)),c}function ao(r){let c=sp(r),d=c.matches[c.matches.length-1];return Oe(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function np(){return ao("useRouteId")}function ip(){let r=k.useContext(eo),c=lp("useRouteError"),d=ao("useRouteError");return r!==void 0?r:c.errors?.[d]}function rp(){let{router:r}=ap("useNavigate"),c=ao("useNavigate"),d=k.useRef(!1);return Mf(()=>{d.current=!0}),k.useCallback(async(m,p={})=>{Tt(d.current,Cf),d.current&&(typeof m=="number"?r.navigate(m):await r.navigate(m,{fromRouteId:c,...p}))},[r,c])}var mf={};function _f(r,c,d){!c&&!mf[r]&&(mf[r]=!0,Tt(!1,d))}k.memo(cp);function cp({routes:r,future:c,state:d,unstable_onError:o}){return Ef(r,void 0,d,o,c)}function op({to:r,replace:c,state:d,relative:o}){Oe(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=k.useContext(Dt);Tt(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=k.useContext(Lt),{pathname:g}=Ea(),j=Je(),N=Ic(r,Wc(p),g,o==="path"),f=JSON.stringify(N);return k.useEffect(()=>{j(JSON.parse(f),{replace:c,state:d,relative:o})},[j,f,o,c,d]),null}function je(r){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dp({basename:r="/",children:c=null,location:d,navigationType:o="POP",navigator:m,static:p=!1}){Oe(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),j=k.useMemo(()=>({basename:g,navigator:m,static:p,future:{}}),[g,m,p]);typeof d=="string"&&(d=ql(d));let{pathname:N="/",search:f="",hash:C="",state:y=null,key:D="default"}=d,R=k.useMemo(()=>{let w=aa(N,g);return w==null?null:{location:{pathname:w,search:f,hash:C,state:y,key:D},navigationType:o}},[g,N,f,C,y,D,o]);return Tt(R!=null,`<Router basename="${g}"> is not able to match the URL "${N}${f}${C}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:k.createElement(Dt.Provider,{value:j},k.createElement(Qs.Provider,{children:c,value:R}))}function up({children:r,location:c}){return F0(Fc(r),c)}function Fc(r,c=[]){let d=[];return k.Children.forEach(r,(o,m)=>{if(!k.isValidElement(o))return;let p=[...c,m];if(o.type===k.Fragment){d.push.apply(d,Fc(o.props.children,p));return}Oe(o.type===je,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||p.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Fc(o.props.children,p)),d.push(g)}),d}var mi="get",fi="application/x-www-form-urlencoded";function gi(r){return r!=null&&typeof r.tagName=="string"}function mp(r){return gi(r)&&r.tagName.toLowerCase()==="button"}function fp(r){return gi(r)&&r.tagName.toLowerCase()==="form"}function xp(r){return gi(r)&&r.tagName.toLowerCase()==="input"}function hp(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pp(r,c){return r.button===0&&(!c||c==="_self")&&!hp(r)}var ci=null;function gp(){if(ci===null)try{new FormData(document.createElement("form"),0),ci=!1}catch{ci=!0}return ci}var bp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uc(r){return r!=null&&!bp.has(r)?(Tt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fi}"`),null):r}function yp(r,c){let d,o,m,p,g;if(fp(r)){let j=r.getAttribute("action");o=j?aa(j,c):null,d=r.getAttribute("method")||mi,m=Uc(r.getAttribute("enctype"))||fi,p=new FormData(r)}else if(mp(r)||xp(r)&&(r.type==="submit"||r.type==="image")){let j=r.form;if(j==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=r.getAttribute("formaction")||j.getAttribute("action");if(o=N?aa(N,c):null,d=r.getAttribute("formmethod")||j.getAttribute("method")||mi,m=Uc(r.getAttribute("formenctype"))||Uc(j.getAttribute("enctype"))||fi,p=new FormData(j,r),!gp()){let{name:f,type:C,value:y}=r;if(C==="image"){let D=f?`${f}.`:"";p.append(`${D}x`,"0"),p.append(`${D}y`,"0")}else f&&p.append(f,y)}}else{if(gi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=mi,o=null,m=fi,g=r}return p&&m==="text/plain"&&(g=p,p=void 0),{action:o,method:d.toLowerCase(),encType:m,formData:p,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lo(r,c){if(r===!1||r===null||typeof r>"u")throw new Error(c)}function vp(r,c,d){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${d}`:c&&aa(o.pathname,c)==="/"?o.pathname=`${c.replace(/\/$/,"")}/_root.${d}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${d}`,o}async function jp(r,c){if(r.id in c)return c[r.id];try{let d=await import(r.module);return c[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Np(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wp(r,c,d){let o=await Promise.all(r.map(async m=>{let p=c.routes[m.route.id];if(p){let g=await jp(p,d);return g.links?g.links():[]}return[]}));return Mp(o.flat(1).filter(Np).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function ff(r,c,d,o,m,p){let g=(N,f)=>d[f]?N.route.id!==d[f].route.id:!0,j=(N,f)=>d[f].pathname!==N.pathname||d[f].route.path?.endsWith("*")&&d[f].params["*"]!==N.params["*"];return p==="assets"?c.filter((N,f)=>g(N,f)||j(N,f)):p==="data"?c.filter((N,f)=>{let C=o.routes[N.route.id];if(!C||!C.hasLoader)return!1;if(g(N,f)||j(N,f))return!0;if(N.route.shouldRevalidate){let y=N.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Sp(r,c,{includeHydrateFallback:d}={}){return kp(r.map(o=>{let m=c.routes[o.route.id];if(!m)return[];let p=[m.module];return m.clientActionModule&&(p=p.concat(m.clientActionModule)),m.clientLoaderModule&&(p=p.concat(m.clientLoaderModule)),d&&m.hydrateFallbackModule&&(p=p.concat(m.hydrateFallbackModule)),m.imports&&(p=p.concat(m.imports)),p}).flat(1))}function kp(r){return[...new Set(r)]}function Cp(r){let c={},d=Object.keys(r).sort();for(let o of d)c[o]=r[o];return c}function Mp(r,c){let d=new Set;return new Set(c),r.reduce((o,m)=>{let p=JSON.stringify(Cp(m));return d.has(p)||(d.add(p),o.push({key:p,link:m})),o},[])}function Af(){let r=k.useContext(Bl);return lo(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ep(){let r=k.useContext(pi);return lo(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var so=k.createContext(void 0);so.displayName="FrameworkContext";function Tf(){let r=k.useContext(so);return lo(r,"You must render this element inside a <HydratedRouter> element"),r}function _p(r,c){let d=k.useContext(so),[o,m]=k.useState(!1),[p,g]=k.useState(!1),{onFocus:j,onBlur:N,onMouseEnter:f,onMouseLeave:C,onTouchStart:y}=c,D=k.useRef(null);k.useEffect(()=>{if(r==="render"&&g(!0),r==="viewport"){let E=v=>{v.forEach(h=>{g(h.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return D.current&&x.observe(D.current),()=>{x.disconnect()}}},[r]),k.useEffect(()=>{if(o){let E=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(E)}}},[o]);let R=()=>{m(!0)},w=()=>{m(!1),g(!1)};return d?r!=="intent"?[p,D,{}]:[p,D,{onFocus:Ls(j,R),onBlur:Ls(N,w),onMouseEnter:Ls(f,R),onMouseLeave:Ls(C,w),onTouchStart:Ls(y,R)}]:[!1,D,{}]}function Ls(r,c){return d=>{r&&r(d),d.defaultPrevented||c(d)}}function Ap({page:r,...c}){let{router:d}=Af(),o=k.useMemo(()=>jf(d.routes,r,d.basename),[d.routes,r,d.basename]);return o?k.createElement(Dp,{page:r,matches:o,...c}):null}function Tp(r){let{manifest:c,routeModules:d}=Tf(),[o,m]=k.useState([]);return k.useEffect(()=>{let p=!1;return wp(r,c,d).then(g=>{p||m(g)}),()=>{p=!0}},[r,c,d]),o}function Dp({page:r,matches:c,...d}){let o=Ea(),{manifest:m,routeModules:p}=Tf(),{basename:g}=Af(),{loaderData:j,matches:N}=Ep(),f=k.useMemo(()=>ff(r,c,N,m,o,"data"),[r,c,N,m,o]),C=k.useMemo(()=>ff(r,c,N,m,o,"assets"),[r,c,N,m,o]),y=k.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let w=new Set,E=!1;if(c.forEach(v=>{let h=m.routes[v.route.id];!h||!h.hasLoader||(!f.some(M=>M.route.id===v.route.id)&&v.route.id in j&&p[v.route.id]?.shouldRevalidate||h.hasClientLoader?E=!0:w.add(v.route.id))}),w.size===0)return[];let x=vp(r,g,"data");return E&&w.size>0&&x.searchParams.set("_routes",c.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[g,j,o,m,f,c,r,p]),D=k.useMemo(()=>Sp(C,m),[C,m]),R=Tp(C);return k.createElement(k.Fragment,null,y.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...d})),D.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...d})),R.map(({key:w,link:E})=>k.createElement("link",{key:w,nonce:d.nonce,...E})))}function Rp(...r){return c=>{r.forEach(d=>{typeof d=="function"?d(c):d!=null&&(d.current=c)})}}var Df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Df&&(window.__reactRouterVersion="7.9.1")}catch{}function Op({basename:r,children:c,window:d}){let o=k.useRef();o.current==null&&(o.current=j0({window:d,v5Compat:!0}));let m=o.current,[p,g]=k.useState({action:m.action,location:m.location}),j=k.useCallback(N=>{k.startTransition(()=>g(N))},[g]);return k.useLayoutEffect(()=>m.listen(j),[m,j]),k.createElement(dp,{basename:r,children:c,location:p.location,navigationType:p.action,navigator:m})}var Rf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=k.forwardRef(function({onClick:c,discover:d="render",prefetch:o="none",relative:m,reloadDocument:p,replace:g,state:j,target:N,to:f,preventScrollReset:C,viewTransition:y,...D},R){let{basename:w}=k.useContext(Dt),E=typeof f=="string"&&Rf.test(f),x,v=!1;if(typeof f=="string"&&E&&(x=f,Df))try{let ue=new URL(window.location.href),F=f.startsWith("//")?new URL(ue.protocol+f):new URL(f),pe=aa(F.pathname,w);F.origin===ue.origin&&pe!=null?f=pe+F.search+F.hash:v=!0}catch{Tt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=K0(f,{relative:m}),[M,_,S]=_p(o,D),T=Bp(f,{replace:g,state:j,target:N,preventScrollReset:C,relative:m,viewTransition:y});function Q(ue){c&&c(ue),ue.defaultPrevented||T(ue)}let se=k.createElement("a",{...D,...S,href:x||h,onClick:v||p?c:Q,ref:Rp(R,_),target:N,"data-discover":!E&&d==="render"?"true":void 0});return M&&!E?k.createElement(k.Fragment,null,se,k.createElement(Ap,{page:h})):se});Of.displayName="Link";var zp=k.forwardRef(function({"aria-current":c="page",caseSensitive:d=!1,className:o="",end:m=!1,style:p,to:g,viewTransition:j,children:N,...f},C){let y=Xs(g,{relative:f.relative}),D=Ea(),R=k.useContext(pi),{navigator:w,basename:E}=k.useContext(Dt),x=R!=null&&Yp(y)&&j===!0,v=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,h=D.pathname,M=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;d||(h=h.toLowerCase(),M=M?M.toLowerCase():null,v=v.toLowerCase()),M&&E&&(M=aa(M,E)||M);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=h===v||!m&&h.startsWith(v)&&h.charAt(_)==="/",T=M!=null&&(M===v||!m&&M.startsWith(v)&&M.charAt(v.length)==="/"),Q={isActive:S,isPending:T,isTransitioning:x},se=S?c:void 0,ue;typeof o=="function"?ue=o(Q):ue=[o,S?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let F=typeof p=="function"?p(Q):p;return k.createElement(Of,{...f,"aria-current":se,className:ue,ref:C,style:F,to:g,viewTransition:j},typeof N=="function"?N(Q):N)});zp.displayName="NavLink";var Hp=k.forwardRef(({discover:r="render",fetcherKey:c,navigate:d,reloadDocument:o,replace:m,state:p,method:g=mi,action:j,onSubmit:N,relative:f,preventScrollReset:C,viewTransition:y,...D},R)=>{let w=Gp(),E=$p(j,{relative:f}),x=g.toLowerCase()==="get"?"get":"post",v=typeof j=="string"&&Rf.test(j),h=M=>{if(N&&N(M),M.defaultPrevented)return;M.preventDefault();let _=M.nativeEvent.submitter,S=_?.getAttribute("formmethod")||g;w(_||M.currentTarget,{fetcherKey:c,method:S,navigate:d,replace:m,state:p,relative:f,preventScrollReset:C,viewTransition:y})};return k.createElement("form",{ref:R,method:x,action:E,onSubmit:o?N:h,...D,"data-discover":!v&&r==="render"?"true":void 0})});Hp.displayName="Form";function qp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zf(r){let c=k.useContext(Bl);return Oe(c,qp(r)),c}function Bp(r,{target:c,replace:d,state:o,preventScrollReset:m,relative:p,viewTransition:g}={}){let j=Je(),N=Ea(),f=Xs(r,{relative:p});return k.useCallback(C=>{if(pp(C,c)){C.preventDefault();let y=d!==void 0?d:Ys(N)===Ys(f);j(r,{replace:y,state:o,preventScrollReset:m,relative:p,viewTransition:g})}},[N,j,f,d,o,c,r,m,p,g])}var Lp=0,Up=()=>`__${String(++Lp)}__`;function Gp(){let{router:r}=zf("useSubmit"),{basename:c}=k.useContext(Dt),d=np();return k.useCallback(async(o,m={})=>{let{action:p,method:g,encType:j,formData:N,body:f}=yp(o,c);if(m.navigate===!1){let C=m.fetcherKey||Up();await r.fetch(C,d,m.action||p,{preventScrollReset:m.preventScrollReset,formData:N,body:f,formMethod:m.method||g,formEncType:m.encType||j,flushSync:m.flushSync})}else await r.navigate(m.action||p,{preventScrollReset:m.preventScrollReset,formData:N,body:f,formMethod:m.method||g,formEncType:m.encType||j,replace:m.replace,state:m.state,fromRouteId:d,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,c,d])}function $p(r,{relative:c}={}){let{basename:d}=k.useContext(Dt),o=k.useContext(Lt);Oe(o,"useFormAction must be used inside a RouteContext");let[m]=o.matches.slice(-1),p={...Xs(r||".",{relative:c})},g=Ea();if(r==null){p.search=g.search;let j=new URLSearchParams(p.search),N=j.getAll("index");if(N.some(C=>C==="")){j.delete("index"),N.filter(y=>y).forEach(y=>j.append("index",y));let C=j.toString();p.search=C?`?${C}`:""}}return(!r||r===".")&&m.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(p.pathname=p.pathname==="/"?d:ta([d,p.pathname])),Ys(p)}function Yp(r,{relative:c}={}){let d=k.useContext(kf);Oe(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=zf("useViewTransitionState"),m=Xs(r,{relative:c});if(!d.isTransitioning)return!1;let p=aa(d.currentLocation.pathname,o)||d.currentLocation.pathname,g=aa(d.nextLocation.pathname,o)||d.nextLocation.pathname;return xi(m.pathname,g)!=null||xi(m.pathname,p)!=null}const xf=r=>{let c;const d=new Set,o=(f,C)=>{const y=typeof f=="function"?f(c):f;if(!Object.is(y,c)){const D=c;c=C??(typeof y!="object"||y===null)?y:Object.assign({},c,y),d.forEach(R=>R(c,D))}},m=()=>c,j={setState:o,getState:m,getInitialState:()=>N,subscribe:f=>(d.add(f),()=>d.delete(f))},N=c=r(o,m,j);return j},Qp=(r=>r?xf(r):xf),Xp=r=>r;function Vp(r,c=Xp){const d=et.useSyncExternalStore(r.subscribe,et.useCallback(()=>c(r.getState()),[r,c]),et.useCallback(()=>c(r.getInitialState()),[r,c]));return et.useDebugValue(d),d}const hf=r=>{const c=Qp(r),d=o=>Vp(c,o);return Object.assign(d,c),d},Zp=(r=>r?hf(r):hf),Kp={id:"sakura",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:"  .    .",dialogues:{0:"...   ?",20:"  .",40:"    .",60:" ...  .",80:"     ...",100:"      ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Jp={id:"yuki",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:"  .    .",dialogues:{0:"... ...",20:" ...  ?",40:"   .",60:" ...   .",80:" ... ?",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Fp={id:"luna",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:" .      .",dialogues:{0:"!  ? !",20:"   !",40:"      .",60:"     .",80:"    .",100:"  .  ."},sprite:"",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Pp={id:"mystery",name:"???",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:" .      .",dialogues:{0:"... ?",20:" .",40:"   .",60:" ...   ?",80:"...   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",unlockCondition:{day:10,totalAffection:150}},Wp={id:"akane",name:"",role:"",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[""," ",""],baseText:"  .   .",dialogues:{0:".   ?",20:"   .",40:"  ...   .",60:"      .",80:" ...    ...",100:"  ... ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},Ip={id:"hana",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[" ","",""],baseText:"   .   .",dialogues:{0:" ?    ?",20:"    .",40:"    .",60:"    .",80:"    .",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},eg={id:"rin",name:"",role:" ",affectionStart:0,affectionMax:100,likes:[""," "," "],dislikes:["  ","",""],baseText:"  .     .",dialogues:{0:"!   ?",20:"     !",40:"     .",60:"   .",80:" ...   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080"},tg={id:"mei",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["","","  "],baseText:"   .   .",dialogues:{0:"...  ?",20:"  ?",40:"  .",60:"   .",80:"   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},ag={id:"sora",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[""," ",""],baseText:" .   .",dialogues:{0:"  .",20:"  .",40:"...    .",60:"     .",80:"    .",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},Fa={sakura:Kp,yuki:Jp,luna:Fp,mystery:Pp,akane:Wp,hana:Ip,rin:eg,mei:tg,sora:ag},lg=[{id:"sakura_training",name:" ",trigger:{location:"training",character:"sakura",minAffection:20,chance:.5},description:"   .",choices:[{text:",  !",effects:{affection:{sakura:10},stats:{stamina:2},text:"    ."}},{text:"  ...",effects:{affection:{sakura:-5},text:"   ."}}]},{id:"yuki_library",name:" ",trigger:{location:"library",character:"yuki",minAffection:30,chance:.4},description:"    .",choices:[{text:" !",effects:{affection:{yuki:15},stats:{intelligence:3},text:"    ."}},{text:",   .",effects:{affection:{yuki:-3},text:"   ."}}]},{id:"luna_magic",name:" ",trigger:{location:"classroom",character:"luna",minAffection:15,chance:.6},description:"    .",choices:[{text:"!  !",effects:{affection:{luna:12},stats:{intelligence:2,charm:1},text:"   ."}},{text:"  ?",effects:{affection:{luna:5},text:"  ."}}]},{id:"random_exam",name:" ",trigger:{location:"classroom",minDay:5,chance:.2},description:"  !",choices:[{text:" ",condition:{minIntelligence:15},effects:{stats:{intelligence:2,charm:1},text:"  !  ."}},{text:" ",effects:{stats:{stamina:-1},text:" ..."}}]},{id:"confession_sakura",name:" ",trigger:{character:"sakura",minAffection:80,minDay:20,once:!0},description:"   ...",choices:[{text:" ",effects:{affection:{sakura:20},flag:"sakura_route",text:"  !"}},{text:",  ",effects:{affection:{sakura:-30},text:"    ."}}]},{id:"mystery_encounter",name:" ",trigger:{minDay:10,totalAffection:150,chance:.1,once:!0},description:"   ...",choices:[{text:"?",effects:{unlockCharacter:"mystery",text:"  !"}}]},{id:"sakura_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"sakura",minAffection:50,chance:.6},description:"       .    .",choices:[{text:"  ?",effects:{affection:{sakura:20},stats:{stamina:3,charm:2},text:"      .     ."}},{text:" ",effects:{affection:{sakura:15},stats:{charm:1},text:"   .    ."}},{text:"  ",effects:{text:"  ."}}]},{id:"yuki_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"yuki",minAffection:50,chance:.6},description:"      .       .",choices:[{text:"   ",effects:{affection:{yuki:20},stats:{intelligence:3,charm:2},text:"     .   ."}},{text:"  ",effects:{affection:{yuki:15},stats:{intelligence:2,charm:1},text:"     .    ."}},{text:"  ",effects:{affection:{yuki:5},text:"      ."}}]},{id:"luna_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"luna",minAffection:50,chance:.6},description:"        .      .",choices:[{text:" ",condition:{minIntelligence:15},effects:{affection:{luna:25},stats:{intelligence:2,charm:3,luck:1},text:"     .       ."}},{text:" ",effects:{affection:{luna:15},stats:{charm:2},text:"    .     ."}},{text:" ",effects:{text:"      ."}}]},{id:"secret_garden_stargazing",name:"  ",trigger:{location:"secretGarden",time:"night",minAffection:30,chance:.4},description:"     ,   .",choices:[{text:"   ",effects:{stats:{charm:2,luck:1},text:"     ."}},{text:"  ",effects:{stats:{intelligence:2,charm:1},text:"     ."}}]},{id:"secret_garden_confession",name:"  ",trigger:{location:"secretGarden",minAffection:80,chance:.3,once:!0},description:"       .      .",choices:[{text:"  ",effects:{flag:"secret_garden_confession",text:"    .   ."}},{text:"    ",effects:{text:"  ,    ."}}]}],sg={events:lg},hi=Fa,ng=sg,ig=Object.keys(hi).reduce((r,c)=>(r[c]=hi[c].affectionStart||0,r),{}),oi={name:"",level:1,experience:0,hp:100,maxHp:100,mp:50,maxMp:50,stamina:100,maxStamina:100,stats:{intelligence:10,charm:10,strength:10,agility:10,luck:10},inventory:[],equipment:{},affection:ig,location:"classroom",day:1,timeOfDay:"morning",money:1e3,flags:{},dungeonProgress:{currentFloor:1,maxFloorReached:1,position:{x:0,y:0}},achievements:[],achievementPoints:0,statistics:{monstersDefeated:0,treasuresFound:0,quizStreak:0,bestCardTime:1/0,loginStreak:1},metHeroines:[],defeatedMonsterTypes:[],defeatedBosses:[],collectedItems:[],unlockedEndings:[],participatedEvents:[]},Gc=["morning","noon","afternoon","evening","night"],rg=30,me=Zp((r,c)=>({player:oi,unlockedCharacters:["sakura","yuki","luna","mystery","akane","hana","rin","mei","sora"],completedEvents:[],currentEvent:null,gameMessage:"  !",gameEnding:null,gameDate:{year:2024,month:4,day:1},lastActivity:null,dailyActivitiesCount:0,actions:{loadInitialGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const o=JSON.parse(d);r({player:o.player,unlockedCharacters:o.unlockedCharacters,completedEvents:o.completedEvents})}},saveGame:()=>{const{player:d,unlockedCharacters:o,completedEvents:m}=c(),p={player:d,unlockedCharacters:o,completedEvents:m,timestamp:Date.now(),version:"1.0.0"};localStorage.setItem("academyDatingSim",JSON.stringify(p)),r({gameMessage:" !"})},loadGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const o=JSON.parse(d);r({player:o.player,unlockedCharacters:o.unlockedCharacters,completedEvents:o.completedEvents,gameMessage:" !"})}else r({gameMessage:"  ."})},resetGame:d=>{const o={...oi,name:d?.playerName||oi.name,stats:d?.startingStats||{...oi.stats},affection:Object.keys(hi).reduce((m,p)=>(m[p]=hi[p].affectionStart||0,m),{})};r({player:o,unlockedCharacters:["sakura","yuki","luna","mystery","akane","hana","rin","mei","sora"],completedEvents:[],currentEvent:null,gameEnding:null,gameMessage:d?`${o.name}   !`:"  !",lastActivity:null}),localStorage.removeItem("academyDatingSim")},updateStats:d=>r(o=>({player:{...o.player,stats:{...o.player.stats,...d}}})),updateHpMp:(d,o)=>r(m=>({player:{...m.player,hp:Math.min(m.player.maxHp,m.player.hp+d),mp:Math.min(m.player.maxMp,m.player.mp+o)}})),updateAffection:(d,o)=>{r(m=>({player:{...m.player,affection:{...m.player.affection,[d]:Math.max(0,Math.min(100,(m.player.affection[d]||0)+o))}}})),o>0&&c().actions.gainExperience(o*2)},moveToLocation:d=>{r(o=>({player:{...o.player,location:d}})),c().actions.checkForEvents(d)},advanceTime:()=>{r(d=>{const m=Gc.indexOf(d.player.timeOfDay)+1;if(m>=Gc.length){const p=d.player.day+1;return p>rg?(c().actions.checkEnding(),{}):{player:{...d.player,day:p,timeOfDay:"morning",hp:Math.min(d.player.hp+20,d.player.maxHp),mp:Math.min(d.player.mp+10,d.player.maxMp),stamina:d.player.maxStamina},dailyActivitiesCount:0}}return{player:{...d.player,timeOfDay:Gc[m]}}})},checkForEvents:d=>{const{player:o,completedEvents:m}=c(),p=d||o.location,g=ng.events.filter(j=>!(j.trigger.location&&j.trigger.location!==p||j.trigger.once&&m.includes(j.id)||j.trigger.minDay&&o.day<j.trigger.minDay||j.trigger.character&&j.trigger.minAffection&&(o.affection[j.trigger.character]||0)<j.trigger.minAffection||j.trigger.totalAffection&&Object.values(o.affection).reduce((f,C)=>f+C,0)<j.trigger.totalAffection||j.trigger.chance&&Math.random()>j.trigger.chance));if(g.length>0){const j=g[Math.floor(Math.random()*g.length)];r({currentEvent:j})}},handleEventChoice:(d,o)=>{const m=d.choices[o],{player:p,actions:g}=c();if(m.condition?.minIntelligence&&p.stats.intelligence<m.condition.minIntelligence){r({gameMessage:" !"});return}m.effects.affection&&Object.entries(m.effects.affection).forEach(([j,N])=>g.updateAffection(j,N)),m.effects.stats&&g.updateStats(m.effects.stats),m.effects.item&&g.addItem(m.effects.item),m.effects.money&&r(j=>({player:{...j.player,money:j.player.money+m.effects.money}})),m.effects.flag&&r(j=>({player:{...j.player,flags:{...j.player.flags,[m.effects.flag]:!0}}})),m.effects.unlockCharacter&&r(j=>({unlockedCharacters:[...j.unlockedCharacters,m.effects.unlockCharacter]})),r({gameMessage:m.effects.text}),d.trigger.once&&r(j=>({completedEvents:[...j.completedEvents,d.id]})),r({currentEvent:null})},addItem:d=>r(o=>({player:{...o.player,inventory:[...o.player.inventory,d]}})),buyItem:d=>{c().actions.addItem(d)},updateMoney:d=>{r(o=>({player:{...o.player,money:o.player.money+d}}))},sellItem:(d,o)=>{const{player:m}=c(),p=m.inventory.indexOf(d);if(p>-1){const g=[...m.inventory];return g.splice(p,1),r(j=>({player:{...j.player,inventory:g,money:j.player.money+o}})),r({gameMessage:`${d}() .`}),!0}return r({gameMessage:"  ."}),!1},purchaseItem:(d,o)=>{const{player:m}=c();return m.money>=o?(r(p=>({player:{...p.player,inventory:[...p.player.inventory,d],money:p.player.money-o}})),!0):!1},useItem:(d,o)=>{const{player:m}=c(),p=m.inventory.indexOf(d);if(p===-1){r({gameMessage:"   ."});return}const g=[...m.inventory];g.splice(p,1);let j={...m,inventory:g},N=`${d}() .`;switch(d){case"healingPotion":j.hp=Math.min(j.hp+50,j.maxHp),N="  . HP +50";break;case"manaPotion":j.mp=Math.min(j.mp+30,j.maxMp),N="  . MP +30";break;case"energyDrink":j.stats.stamina+=2,N="  .  +2";break;default:if(o){const f=d.includes("flower")?10:5;j.affection={...j.affection,[o]:Math.min((j.affection[o]||0)+f,100)},N=`${o} ${d}() .  +${f}`}break}r({player:j,gameMessage:N})},performActivity:(d,o)=>{const{player:m,dailyActivitiesCount:p}=c(),g=c().actions;if(p>=2&&![""," ",""," "].includes(d)){r({gameMessage:"     .    ."});return}const N={:20,:30,:15,:25,:10,:15,:10,:25,:5,:5,:0,:5," ":30}[d]||10;if(m.stamina<N&&d!==""){r({gameMessage:` . (: ${N}, : ${m.stamina})`});return}let f={...m},C="",y=!0;switch(d!==""&&(f.stamina=Math.max(0,f.stamina-N)),d){case"":f.stats.intelligence+=2,C=" .  +2",g.gainExperience(15);break;case"":f.stats.strength+=3,f.stats.agility+=1,C=" .  +3,  +1",g.gainExperience(20);break;case"":f.stats.charm+=2,f.stats.luck+=1,C=" .  +2,  +1",g.gainExperience(15);break;case"":f.money+=500,f.stats.strength+=1,C=" . 500 ,  +1",g.gainExperience(10);break;case"":f.mp=Math.min(f.mp+20,f.maxMp),f.stats.intelligence+=1,C=" . MP +20,  +1",g.gainExperience(10);break;case"":f.stats.charm+=1,f.stats.agility+=1,C=" .  +1,  +1",g.gainExperience(10);break;case"":f.stats.intelligence+=3,C=" .  +3",g.gainExperience(12);break;case"":f.stats.agility+=3,f.maxStamina=Math.min(f.maxStamina+2,200),C=" .  +3,   +2",g.gainExperience(15);break;case"":f.stats.luck+=2,C=" .  +2",g.gainExperience(5);break;case"":f.stats.charm+=1,f.hp=Math.min(f.hp+10,f.maxHp),C=" .  +1, HP +10",g.gainExperience(5);break;case"":f.hp=Math.min(f.hp+20,f.maxHp),f.mp=Math.min(f.mp+10,f.maxMp),f.stamina=Math.min(f.stamina+40,f.maxStamina),C=" . HP +20, MP +10,  +40";break;case"":if(o){r({gameMessage:" ..."}),o("/shopping");return}C=" .",y=!1;break;case" ":if(o){r({gameMessage:" ..."}),o("/dungeon");return}C="  .",y=!1;break;default:C=`${d}() .`;break}let D=p;["","","","","","","","","",""].includes(d)&&D++,r({player:f,gameMessage:C,lastActivity:d,dailyActivitiesCount:D}),y&&(g.advanceTime(),g.checkForEvents())},checkEnding:()=>{const{player:d}=c(),o=Object.entries(d.affection).reduce((m,[p,g])=>g>m.value?{char:p,value:g}:m,{char:"",value:0});o.value>=80?d.flags[`${o.char}_route`]?r({gameEnding:o.char}):r({gameEnding:"good"}):o.value>=50?r({gameEnding:"normal"}):r({gameEnding:"solo"})},setCurrentEvent:d=>r({currentEvent:d}),updatePlayer:d=>r(o=>({player:{...o.player,...d}})),goToNextFloor:()=>r(d=>{const o=d.player.dungeonProgress.currentFloor+1;return{player:{...d.player,dungeonProgress:{...d.player.dungeonProgress,currentFloor:o,maxFloorReached:Math.max(d.player.dungeonProgress.maxFloorReached,o),position:{x:1,y:1}}}}}),gainExperience:d=>r(o=>{let m=o.player.experience+d,p=o.player.level,g=!1;for(;m>=p*100;)m-=p*100,p++,g=!0;const j={...o.player,experience:m,level:p};return g&&(j.maxHp=100+(p-1)*10,j.maxMp=50+(p-1)*5,j.hp=j.maxHp,j.mp=j.maxMp,j.stats={...j.stats,intelligence:j.stats.intelligence+1,charm:j.stats.charm+1,strength:j.stats.strength+1,agility:j.stats.agility+1,luck:j.stats.luck+1},j.maxStamina=Math.min(j.maxStamina+5,200),j.stamina=j.maxStamina),{player:j,gameMessage:g?`! Lv.${p} ! HP/MP .   +1`:` ${d} . (${m}/${p*100})`}}),addGold:d=>r(o=>({player:{...o.player,money:o.player.money+d}})),clearLastActivity:()=>r({lastActivity:null})}})),Hf=et.memo(()=>{const r=me(R=>R.player),c=Je(),d=k.useCallback((R,w=20)=>{const E=R/w*100;return E>=75?"text-green-500":E>=50?"text-yellow-500":E>=25?"text-orange-500":"text-red-500"},[]),o=k.useCallback((R,w=20)=>Math.min(R/w*100,100),[]),m=k.useMemo(()=>({morning:"",noon:"",afternoon:"",evening:"",night:""}),[]),p=k.useCallback(R=>m[R]||R,[m]),g=k.useMemo(()=>({sakura:"",yuki:"",haruka:"",ayumi:"",miku:"",rina:"",luna:"",nova:"",aria:""}),[]),{currentHP:j,maxHP:N,currentMP:f,maxMP:C,hpPercentage:y,mpPercentage:D}=k.useMemo(()=>{const R=r.hp??100,w=r.maxHp??100,E=r.mp??50,x=r.maxMp??50;return{currentHP:R,maxHP:w,currentMP:E,maxMP:x,hpPercentage:R/w*100,mpPercentage:E/x*100}},[r.hp,r.maxHp,r.mp,r.maxMp]);return a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border text-text-primary p-6 mb-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-red-800/20 p-4 rounded-xl border border-red-500/30 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:""})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg font-bold text-red-400",children:""}),a.jsx("div",{className:"text-xs text-red-300",children:"Health Points"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-3xl font-bold text-red-400",children:j}),a.jsxs("span",{className:"text-red-300 text-xl",children:["/",N]}),a.jsxs("div",{className:"text-xs text-red-300",children:[Math.round(y),"%"]})]})]}),a.jsx("div",{className:"w-full bg-red-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":N,"aria-label":"",children:a.jsx("div",{className:"bg-gradient-to-r from-red-500 via-red-400 to-red-300 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${y}%`}})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/20 p-4 rounded-xl border border-blue-500/30 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:""})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg font-bold text-blue-400",children:""}),a.jsx("div",{className:"text-xs text-blue-300",children:"Magic Points"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-3xl font-bold text-blue-400",children:f}),a.jsxs("span",{className:"text-blue-300 text-xl",children:["/",C]}),a.jsxs("div",{className:"text-xs text-blue-300",children:[Math.round(D),"%"]})]})]}),a.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":C,"aria-label":"",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-400 to-cyan-400 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${D}%`}})})]})]})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-xl font-bold text-pink-200",children:r.name}),a.jsxs("div",{className:"text-sm bg-purple-900/50 px-3 py-1 rounded-full",children:[" ",r.level,"  ",r.day,"  ",p(r.timeOfDay)]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-green-900/30 px-4 py-2 rounded-lg border border-green-500/30",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-400",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-green-300",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-20 bg-green-950/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full transition-all duration-300",style:{width:`${r.stamina/r.maxStamina*100}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-green-400",children:[r.stamina,"/",r.maxStamina]})]})]})]})}),a.jsxs("div",{className:"flex items-center gap-2 bg-yellow-600/20 px-3 py-1 rounded-full",children:[a.jsx("span",{className:"text-yellow-300",children:""}),a.jsxs("span",{className:"font-semibold text-yellow-200",children:[r.money.toLocaleString(),""]})]})]})]}),a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-purple-300",children:""}),a.jsxs("span",{className:"text-sm font-medium text-purple-200",children:[" (Lv.",r.level,")"]})]}),a.jsxs("span",{className:"font-bold text-purple-200",children:[r.experience,"/",r.level*100]})]}),a.jsx("div",{className:"w-full bg-purple-950/50 rounded-full h-2",role:"progressbar","aria-valuenow":r.experience,"aria-valuemin":0,"aria-valuemax":r.level*100,"aria-label":"",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${r.experience/(r.level*100)*100}%`}})})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mt-4",children:[a.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-blue-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.intelligence)}`,children:r.stats.intelligence})]}),a.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.intelligence,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.intelligence,50)}%`}})})]}),a.jsxs("div",{className:"bg-pink-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-pink-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-pink-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.charm)}`,children:r.stats.charm})]}),a.jsx("div",{className:"w-full bg-pink-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.charm,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.charm,50)}%`}})})]}),a.jsxs("div",{className:"bg-green-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-green-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.stamina)}`,children:r.stats.stamina})]}),a.jsx("div",{className:"w-full bg-green-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.stamina,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.stamina,50)}%`}})})]}),a.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-orange-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.strength)}`,children:r.stats.strength})]}),a.jsx("div",{className:"w-full bg-orange-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.strength,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.strength,50)}%`}})})]}),a.jsxs("div",{className:"bg-cyan-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-cyan-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-cyan-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.agility)}`,children:r.stats.agility})]}),a.jsx("div",{className:"w-full bg-cyan-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.agility,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.agility,50)}%`}})})]}),a.jsxs("div",{className:"bg-yellow-900/30 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-yellow-300",children:""}),a.jsx("span",{className:"text-xs font-medium text-yellow-200",children:""})]}),a.jsx("span",{className:`font-bold text-xs ${d(r.stats.luck)}`,children:r.stats.luck})]}),a.jsx("div",{className:"w-full bg-yellow-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.luck,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.luck,50)}%`}})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-bold text-purple-300",children:" "}),a.jsx("button",{onClick:()=>c("/heroines"),className:"text-xs text-purple-400 hover:text-purple-300 transition-colors",children:"  "})]}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-2",children:Object.entries(r.affection).map(([R,w])=>{const E=g[R]||R,x=w>=80?"":w>=60?"":w>=40?"":w>=20?"":"";return a.jsx("button",{onClick:()=>c("/heroines"),className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 hover:from-purple-800/50 hover:to-pink-800/50 p-2 rounded-lg transition-all transform hover:scale-105 border border-purple-500/20 hover:border-purple-400/40",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg mb-1",children:x}),a.jsx("div",{className:"text-xs font-bold text-purple-200",children:E}),a.jsxs("div",{className:"text-xs text-purple-300",children:[w,"%"]}),a.jsx("div",{className:"mt-1",children:a.jsx("div",{className:"w-full bg-purple-950/50 rounded-full h-1",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-1 rounded-full transition-all duration-300",style:{width:`${w}%`}})})})]})},R)})})]})]})});Hf.displayName="StatusBar";const cg=({currentLocation:r,player:c,onPerformActivity:d,onMoveToLocation:o,availableLocations:m,characters:p,onInteractCharacter:g})=>{const j=y=>({:"",:"",:"",:"",:"",:"",:""," ":"",:"",:"",:""," ":""})[y]||"",N=y=>({classroom:"",library:"",cafeteria:"",gym:"",garden:"",shopping:"",secret:""})[y]||"",f=y=>y.time!=="any"&&y.time!==c.timeOfDay?!1:y.name===""||y.name===""||y.name===""||y.name===""||y.name===" "?!0:c.stats.stamina>0,C=y=>y.unlockCondition?!(y.unlockCondition.item&&!c.inventory.includes(y.unlockCondition.item)||y.unlockCondition.flag&&!c.flags[y.unlockCondition.flag]):!0;return a.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-3xl",children:N(r.id)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-secondary",children:r.name}),a.jsx("p",{className:"text-text-secondary text-sm",children:r.description})]})]}),a.jsxs("div",{className:"text-sm text-text-secondary italic",children:[c.timeOfDay==="morning"&&"   .",c.timeOfDay==="noon"&&"  .",c.timeOfDay==="afternoon"&&"    .",c.timeOfDay==="evening"&&"   .",c.timeOfDay==="night"&&"   ."]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),r.activities.length>0?a.jsx("div",{className:"space-y-3",children:r.activities.map((y,D)=>{const R=f(y);return a.jsx("button",{onClick:()=>d(y.name),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:j(y.name)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:y.name}),a.jsx("div",{className:"text-xs text-purple-300",children:y.time!=="any"&&`${y.time} `})]})]}),a.jsx("div",{className:"text-xs space-y-1",children:Object.entries(y.effect).map(([w,E])=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:E>0?"text-green-400":"text-red-400",children:[E>0?"+":"",E]}),a.jsx("span",{className:"text-purple-300 capitalize",children:w})]},w))})]})},D)})}):a.jsx("p",{className:"text-purple-400 text-sm italic",children:"     ."})]}),a.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),a.jsx("div",{className:"space-y-3",children:Object.entries(m).filter(([y])=>y!==r.id).map(([y,D])=>{const R=C(D);return a.jsx("button",{onClick:()=>o(y),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:N(y)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:D.name}),a.jsx("div",{className:"text-xs text-purple-300",children:!R&&D.unlockCondition&&a.jsxs("span",{className:"text-red-400",children:[D.unlockCondition.item&&" ",D.unlockCondition.flag&&" "]})})]})]})},y)})})]})]}),(()=>{const y=r.characterSchedule?r.characterSchedule[c.timeOfDay]||[]:r.characters||[];return y.length>0&&a.jsxs("div",{className:"mt-6 bg-black/20 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-secondary mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),"  "]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:y.map(D=>{const R=p[D];return R?a.jsxs("button",{onClick:()=>g?.(D),className:"bg-primary/20 px-4 py-2 rounded-full text-sm font-medium text-text-primary border border-border flex items-center gap-2 hover:bg-primary/30 hover:scale-105 transition-all duration-200 cursor-pointer",children:[a.jsx("span",{className:"text-xl",children:R.sprite}),a.jsx("span",{children:R.name}),a.jsx("span",{className:"text-xs text-pink-300",children:""})]},D):null})})]})})(),a.jsxs("div",{className:"mt-4 flex justify-between items-center text-xs text-text-secondary",children:[a.jsx("div",{children:c.stats.stamina<=2&&a.jsx("span",{className:"text-red-400 font-medium",children:"  !"})}),a.jsx("div",{children:"   "})]})]})},og=({characters:r,items:c})=>{const{player:d,unlockedCharacters:o}=me(),m=me(_=>_.actions.useItem),p=me(_=>_.actions.updateAffection),[g,j]=k.useState(null),[N,f]=k.useState(!1),[C,y]=k.useState({active:!1,messages:[]}),D=_=>({sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""})[_]||"",R=_=>_>=80?{level:" ",color:"text-pink-400",bgColor:"bg-pink-500/20"}:_>=60?{level:"",color:"text-purple-400",bgColor:"bg-purple-500/20"}:_>=40?{level:"",color:"text-blue-400",bgColor:"bg-blue-500/20"}:_>=20?{level:"",color:"text-green-400",bgColor:"bg-green-500/20"}:{level:"",color:"text-gray-400",bgColor:"bg-gray-500/20"},w=(_,S)=>{const T={low:[{heroine:`... ${d.name}?`,choices:[{text:"!   ?",affectionChange:2},{text:"... ",affectionChange:0},{text:" ",affectionChange:-3}]},{heroine:"  ...",choices:[{text:" !  ?",affectionChange:3},{text:",  ",affectionChange:1},{text:"  ?",affectionChange:-2}]}],medium:[{heroine:`${d.name}!  !`,choices:[{text:"   !",affectionChange:4},{text:",  ",affectionChange:2},{text:"  ",affectionChange:-2}]},{heroine:"  ?",choices:[{text:"  !",affectionChange:5},{text:"  ...",affectionChange:2},{text:"   ?",affectionChange:-3}]}],high:[{heroine:`${d.name}...  ...`,choices:[{text:"   . ",affectionChange:6},{text:"  ",affectionChange:3},{text:"... ",affectionChange:-1}]},{heroine:"   ...",choices:[{text:" .  ",affectionChange:5},{text:" ?",affectionChange:2},{text:" ",affectionChange:-2}]}]};let Q;return S<30?Q=T.low:S<70?Q=T.medium:Q=T.high,Q[Math.floor(Math.random()*Q.length)]},E=_=>{const S=d.affection[_.id]||0,T=w(_,S);y({active:!0,messages:[{speaker:_.name,text:T.heroine,isPlayer:!1}],choices:T.choices})},x=_=>{g&&(y(S=>({...S,messages:[...S.messages,{speaker:d.name,text:_.text,isPlayer:!0}],choices:void 0})),_.affectionChange!==0&&p(g.id,_.affectionChange),setTimeout(()=>{let S;_.affectionChange>3?S=" ! ":_.affectionChange>0?S="... ":_.affectionChange<0?S="  ... ":S="... .",y(T=>({...T,messages:[...T.messages,{speaker:g.name,text:S,isPlayer:!1}]})),setTimeout(()=>{y({active:!1,messages:[]})},2e3)},1e3))},v=(_,S)=>{m(S,_.id),f(!1)},h=d.inventory.map(_=>c[_]).filter(_=>_&&_.type==="gift"),M=_=>({sakura:"from-pink-600 via-rose-500 to-pink-600",yuki:"from-blue-600 via-cyan-500 to-blue-600",luna:"from-purple-600 via-indigo-500 to-purple-600",mystery:"from-gray-600 via-slate-500 to-gray-600",akane:"from-red-600 via-orange-500 to-red-600",hana:"from-yellow-500 via-amber-400 to-yellow-500",rin:"from-violet-600 via-purple-500 to-violet-600",mei:"from-emerald-600 via-green-500 to-emerald-600",sora:"from-sky-500 via-blue-400 to-sky-500"})[_]||"from-purple-600 via-pink-500 to-purple-600";return a.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[a.jsxs("h2",{className:"text-2xl font-bold text-pink-200 mb-6 flex items-center gap-2",children:[a.jsx("span",{children:""})," "]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:o.map(_=>{const S=r[_];if(!S)return null;const T=d.affection[_]||0,Q=R(T);return a.jsx("button",{onClick:()=>j(S),className:`p-4 rounded-lg transition-all duration-200 hover:scale-105 bg-gradient-to-br ${M(_)} hover:brightness-110`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:D(_)}),a.jsx("h3",{className:"font-bold text-lg text-white",children:S.name}),a.jsx("p",{className:"text-xs text-gray-200 mb-2",children:S.role}),a.jsxs("div",{className:`text-xs px-2 py-1 rounded-full ${Q.bgColor} ${Q.color} font-medium`,children:[Q.level," (",T,"/100)"]}),a.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]})},_)})}),C.active&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:" ..."})}),a.jsx("div",{className:"space-y-3 mb-4",children:C.messages.map((_,S)=>a.jsxs("div",{className:`p-3 rounded-lg ${_.isPlayer?"bg-blue-600/50 ml-8 text-right":"bg-purple-600/50 mr-8"}`,children:[a.jsx("div",{className:"font-semibold text-white mb-1",children:_.speaker}),a.jsx("div",{className:"text-gray-100",children:_.text})]},S))}),C.choices&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-300 mb-2",children:" :"}),C.choices.map((_,S)=>a.jsxs("button",{onClick:()=>x(_),className:"w-full p-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg text-white text-left transition-all duration-200 hover:scale-[1.02]",children:[_.text,_.affectionChange>0&&a.jsxs("span",{className:"ml-2 text-xs text-green-300",children:["( +",_.affectionChange,")"]}),_.affectionChange<0&&a.jsxs("span",{className:"ml-2 text-xs text-red-300",children:["( ",_.affectionChange,")"]})]},S))]}),!C.choices&&C.messages.length>1&&a.jsx("button",{onClick:()=>y({active:!1,messages:[]}),className:"mt-4 w-full bg-gray-600 hover:bg-gray-500 p-2 rounded-lg text-white transition-all duration-200",children:" "})]})}),g&&!C.active&&a.jsxs("div",{className:`bg-gradient-to-r ${M(g.id)} rounded-lg p-6 shadow-inner`,children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-6xl mb-3",children:D(g.id)}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:g.name}),a.jsx("p",{className:"text-gray-200",children:g.role})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[a.jsx("div",{className:"text-sm text-gray-200 mb-3",children:g.baseText}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-300 mb-1",children:" :"}),a.jsx("div",{className:"space-y-1",children:g.likes.map((_,S)=>a.jsxs("div",{className:"text-green-200",children:[" ",_]},S))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-red-300 mb-1",children:" :"}),a.jsx("div",{className:"space-y-1",children:g.dislikes.map((_,S)=>a.jsxs("div",{className:"text-red-200",children:[" ",_]},S))})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[a.jsxs("button",{onClick:()=>E(g),className:"bg-blue-600/80 hover:bg-blue-500/80 px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),a.jsxs("button",{onClick:()=>f(!N),disabled:h.length===0,className:`px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2 ${h.length>0?"bg-pink-600/80 hover:bg-pink-500/80":"bg-gray-600/50 cursor-not-allowed opacity-50"}`,children:[a.jsx("span",{children:""})," (",h.length,")"]})]}),N&&h.length>0&&a.jsxs("div",{className:"mt-4 bg-black/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-pink-200 mb-3",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.map(_=>{const S=_.preferredBy?.includes(g.id);return a.jsx("button",{onClick:()=>v(g,_.id),className:`p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 ${S?"bg-yellow-600/60 hover:bg-yellow-500/60 border border-yellow-400/50":"bg-purple-800/60 hover:bg-purple-700/60"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:_.name}),a.jsx("div",{className:"text-xs text-gray-300",children:_.description}),S&&a.jsx("div",{className:"text-xs text-yellow-300 font-medium mt-1",children:"  !"})]}),a.jsx("div",{className:"text-lg",children:""})]})},_.id)})}),a.jsx("button",{onClick:()=>f(!1),className:"mt-3 w-full bg-gray-600/60 hover:bg-gray-500/60 px-4 py-2 rounded-lg text-sm transition-all duration-200",children:""})]})]}),!g&&a.jsxs("div",{className:"text-center text-purple-300 py-8",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{children:"  "})]})]})},dg=({event:r,character:c,player:d,onChoice:o,onClose:m})=>{const[p,g]=k.useState(""),[j,N]=k.useState(!0),[f,C]=k.useState(!1);k.useEffect(()=>{g(""),N(!0),C(!1);let w=0;const E=r.description,x=setInterval(()=>{w<E.length?(g(E.substring(0,w+1)),w++):(N(!1),C(!0),clearInterval(x))},30);return()=>clearInterval(x)},[r]);const y=()=>{g(r.description),N(!1),C(!0)},D=w=>{const E=r.choices[w];if(E.condition){if(E.condition.minIntelligence&&d.stats.intelligence<E.condition.minIntelligence){alert(" !");return}if(E.condition.minCharm&&d.stats.charm<E.condition.minCharm){alert(" !");return}if(E.condition.minStamina&&d.stats.stamina<E.condition.minStamina){alert(" !");return}}o(r,w)},R=()=>{const w={classroom:"https://images.unsplash.com/photo-1580582932707-520aed937b7b",library:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570",garden:"https://images.unsplash.com/photo-1585320806297-9794b3e4eeae",dormitory:"https://images.unsplash.com/photo-1555854877-bab0e564b8d5",cafeteria:"https://images.unsplash.com/photo-1567521464027-f127ff144326",training_ground:"https://images.unsplash.com/photo-1569163139394-de4798aa62b6"};return w[r.trigger.location||"classroom"]||w.classroom};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50",onClick:y,children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-1000",style:{backgroundImage:`url(${R()})`,filter:"blur(8px) brightness(0.7)"}}),c&&a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 h-full w-full flex items-end justify-center",children:a.jsx("img",{src:c.image,alt:c.name,className:"h-5/6 object-contain"})}),a.jsx("div",{className:"relative w-full max-w-4xl mx-auto mb-4 z-10",children:a.jsxs("div",{className:"bg-background/80 backdrop-blur-md rounded-xl shadow-2xl border border-border",children:[c&&a.jsx("div",{className:"px-6 py-2 bg-primary/50 rounded-t-xl",children:a.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:c.name})}),a.jsxs("div",{className:"p-6 min-h-[120px] text-xl text-text-primary leading-relaxed",children:[p,j&&a.jsx("span",{className:"animate-pulse",children:"|"})]}),f&&r.choices.length>0&&a.jsx("div",{className:"p-4 grid grid-cols-1 gap-3",children:r.choices.map((w,E)=>a.jsxs("button",{onClick:()=>D(E),disabled:!!(w.condition?.minIntelligence&&d.stats.intelligence<w.condition.minIntelligence)||!!(w.condition?.minCharm&&d.stats.charm<w.condition.minCharm)||!!(w.condition?.minStamina&&d.stats.stamina<w.condition.minStamina),className:"w-full text-left p-4 rounded-lg bg-primary/20 hover:bg-primary/40 text-text-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[w.text,w.condition&&a.jsxs("span",{className:"text-xs text-yellow-400 ml-2",children:["(:",w.condition.minIntelligence&&`  ${w.condition.minIntelligence}`,w.condition.minCharm&&`  ${w.condition.minCharm}`,w.condition.minStamina&&`  ${w.condition.minStamina}`,")"]})]},E))})]})})]})},ug=JSON.parse('{"flower":{"id":"flower","name":"","description":"      . , ,       .","detailedDescription":"         .","usage":"     ","useLocation":"   ","usableBy":"   ","lore":"          ,    .","type":"gift","rarity":"common","value":100,"effect":{"affection":10},"preferredBy":["sakura","luna"],"icon":"","category":""},"book":{"id":"book","name":" ","description":"     .            .","detailedDescription":"        .       .","usage":"   ,      ","useLocation":",  ,  ","usableBy":" ,   ","lore":"        ,     .","type":"gift","rarity":"uncommon","value":200,"effect":{"affection":15},"preferredBy":["yuki"],"icon":"","category":""},"charm":{"id":"charm","name":" ","description":"     .        .","detailedDescription":"    ,       .","usage":"  ,        ","useLocation":", ,  ","usableBy":",      ","lore":"     ,  10%    .","type":"gift","rarity":"rare","value":300,"effect":{"affection":12},"preferredBy":["luna","mystery"],"icon":"","category":""},"studyGuide":{"id":"studyGuide","name":" ","description":"       .           .","detailedDescription":"    ,        .","usage":"    ,     ","useLocation":",  , ","usableBy":"  ","lore":"     ,     .","type":"consumable","rarity":"common","value":150,"effect":{"intelligence":5},"icon":"","category":""},"energyDrink":{"id":"energyDrink","name":" ","description":"      .         ,    .","detailedDescription":"        .","usage":" HP       ","useLocation":"  ,  ","usableBy":" ","lore":"    ,       .","type":"consumable","rarity":"common","value":50,"effect":{"stamina":3,"hp":20},"icon":"","category":""},"mirror":{"id":"mirror","name":" ","description":"       .         .","detailedDescription":"   ,       .","usage":"       ","useLocation":", ,  ","usableBy":" ","lore":"      ,    .","type":"consumable","rarity":"uncommon","value":120,"effect":{"charm":3},"icon":"","category":""},"lunchbox":{"id":"lunchbox","name":"","description":"    .              .","detailedDescription":"          .","usage":"   ,    ","useLocation":" ,  ,  ","usableBy":"  ","lore":"     ,       .","type":"gift","rarity":"common","value":80,"effect":{"affection":8,"stamina":2},"preferredBy":["sakura","yuki","luna"],"icon":"","category":""},"trainingGear":{"id":"trainingGear","name":" ","description":"      . , ,    ,     .","detailedDescription":"        .","usage":"     ,    ","useLocation":" , ","usableBy":" ,   ","lore":"     ,   .","type":"gift","rarity":"rare","value":500,"effect":{"affection":20},"preferredBy":["sakura"],"icon":"","category":""},"mysteryKey":{"id":"mysteryKey","name":" ","description":"      .           ,     .","detailedDescription":"  ,      .","usage":"   ,   ,    ","useLocation":" ,  ,  ","usableBy":" ,    ","lore":"       ,    .","type":"special","rarity":"legendary","value":1000,"effect":{"unlockSecret":true},"icon":"","category":""},"basicSword":{"id":"basicSword","name":" ","description":"      .   ,      .      .","detailedDescription":"    ,     .","usage":" ,  ,    ","useLocation":" , , ","usableBy":" 1   ","lore":"       .     .","type":"weapon","rarity":"common","value":200,"effect":{"strength":5,"agility":2},"requirements":{"level":1},"icon":"","category":""},"steelSword":{"id":"steelSword","name":" ","description":"     .     ,     .    .","detailedDescription":"       .","usage":"   ,    ,  ","useLocation":"  , ,   ","usableBy":" 5 ,  15  ","lore":"    ,       .","type":"weapon","rarity":"uncommon","value":800,"effect":{"strength":12,"agility":5},"requirements":{"level":5,"stats":{"strength":15}},"icon":"","category":""},"mysticStaff":{"id":"mysticStaff","name":" ","description":"      .    ,       .      .","detailedDescription":"      .","usage":"   ,  ,    ","useLocation":",  , ","usableBy":" 8 ,  20    ","lore":"    ,    .","type":"weapon","rarity":"rare","value":1200,"effect":{"intelligence":15,"mp":30,"charm":8},"requirements":{"level":8,"stats":{"intelligence":20}},"icon":"","category":""},"leatherArmor":{"id":"leatherArmor","name":" ","description":"       .      ,      .","detailedDescription":"     .","usage":"  ,   ,  ","useLocation":", ,  ","usableBy":" 2   ","lore":"           .","type":"armor","rarity":"common","value":300,"effect":{"hp":20,"agility":3},"requirements":{"level":2},"icon":"","category":""},"plateArmor":{"id":"plateArmor","name":"","description":"    .       ,     .  .","detailedDescription":"    ,   .","usage":" ,  ,  ","useLocation":" ,   ","usableBy":" 6 ,  18    ","lore":"    ,     .","type":"armor","rarity":"uncommon","value":1000,"effect":{"hp":50,"strength":8},"requirements":{"level":6,"stats":{"strength":18}},"icon":"","category":""},"mageRobe":{"id":"mageRobe","name":" ","description":"        .         ,     .","detailedDescription":"       .","usage":"  ,  ,   ","useLocation":",  ,  ","usableBy":" 7 ,  22    ","lore":"    ,     .","type":"armor","rarity":"rare","value":1500,"effect":{"mp":40,"intelligence":12,"charm":10},"requirements":{"level":7,"stats":{"intelligence":22}},"icon":"","category":""},"luckRing":{"id":"luckRing","name":" ","description":"    .    ,    .      .","detailedDescription":"    ,    .","usage":"    ,   ,      ","useLocation":", ,   ","usableBy":" 3   ","lore":"         .","type":"accessory","rarity":"uncommon","value":600,"effect":{"luck":10,"charm":5},"requirements":{"level":3},"icon":"","category":""},"strengthAmulet":{"id":"strengthAmulet","name":" ","description":"    .       ,     .      .","detailedDescription":"    ,      .","usage":" ,   ,   ","useLocation":", ,  ","usableBy":" 5 ,   ","lore":"       ,       .","type":"accessory","rarity":"rare","value":900,"effect":{"strength":8,"stamina":6,"hp":25},"requirements":{"level":5},"icon":"","category":""},"wisdomPendant":{"id":"wisdomPendant","name":" ","description":"       .     ,     .   .","detailedDescription":"       .","usage":"   ,  ,   ","useLocation":" ,   ,  ","usableBy":" 10 ,  25    ","lore":"    ,       .","type":"accessory","rarity":"epic","value":1800,"effect":{"intelligence":15,"mp":35,"experience":50},"requirements":{"level":10,"stats":{"intelligence":25}},"icon":"","category":""},"healingPotion":{"id":"healingPotion","name":" ","description":"     .     ,          .","detailedDescription":"    ,       .","usage":"      ,    ","useLocation":",  ,  ","usableBy":" ","lore":"          .","type":"consumable","rarity":"common","value":100,"effect":{"hp":50},"icon":"","category":""},"manaPotion":{"id":"manaPotion","name":" ","description":"     .     ,      .      .","detailedDescription":"    ,     .","usage":"     ,    ","useLocation":"  ,  ,  ","usableBy":"   ","lore":"    ,     .","type":"consumable","rarity":"common","value":120,"effect":{"mp":40},"icon":"","category":""},"experienceScroll":{"id":"experienceScroll","name":" ","description":"      .          ,    .","detailedDescription":"       .","usage":"    ,     ","useLocation":",  ,  ","usableBy":" ","lore":"         .","type":"consumable","rarity":"uncommon","value":250,"effect":{"experience":100},"icon":"","category":""},"statBooster":{"id":"statBooster","name":" ","description":"     .      ,     .        .","detailedDescription":"   ,   .","usage":"   ,     ","useLocation":"  ,   ,   ","usableBy":"  (,   )","lore":"         ,    .","type":"consumable","rarity":"rare","value":500,"effect":{"intelligence":3,"charm":3,"stamina":3,"strength":3,"agility":3,"luck":3},"icon":"","category":""},"chocolateBox":{"id":"chocolateBox","name":"  ","description":"     .      12     ,     .","detailedDescription":"      .","usage":"    ,    ","useLocation":",  ,  ","usableBy":",     ","lore":"        .","type":"gift","rarity":"uncommon","value":350,"effect":{"affection":18},"preferredBy":["yuki","luna"],"icon":"","category":""},"jewelryBox":{"id":"jewelryBox","name":"","description":"      . , ,              .","detailedDescription":"      ,    .","usage":"       ","useLocation":" ,  ","usableBy":",      ","lore":"        ,       .","type":"gift","rarity":"epic","value":1200,"effect":{"affection":35},"preferredBy":["luna","mystery"],"icon":"","category":""}}'),qf={items:ug},mg=({onClose:r})=>{const{player:c,unlockedCharacters:d}=me(),o=me(T=>T.actions.useItem),m=qf.items,p=Fa,[g,j]=k.useState(null),[N,f]=k.useState(null),[C,y]=k.useState(!1),[D,R]=k.useState("all"),w=T=>{const Q={common:{color:"border-gray-400 bg-gray-500/10",text:"text-gray-400",name:""},uncommon:{color:"border-green-400 bg-green-500/10",text:"text-green-400",name:""},rare:{color:"border-blue-400 bg-blue-500/10",text:"text-blue-400",name:""},epic:{color:"border-purple-400 bg-purple-500/10",text:"text-purple-400",name:""},legendary:{color:"border-yellow-400 bg-yellow-500/10",text:"text-yellow-400",name:""}};return T.rarity?Q[T.rarity]:Q.common},E=c.inventory.reduce((T,Q)=>(m[Q]&&(T[Q]?T[Q].count++:T[Q]={item:m[Q],count:1}),T),{}),x=Object.values(E).filter(({item:T})=>D==="all"?!0:T.type===D),v=T=>{T.type==="gift"?(j(T),y(!0)):["weapon","armor","accessory"].includes(T.type)?h(T)?(o(T.id),j(null)):alert("    ."):(o(T.id),j(null))},h=T=>{if(!T.requirements)return!0;if(T.requirements.level&&c.level<T.requirements.level)return!1;if(T.requirements.stats){for(const[Q,se]of Object.entries(T.requirements.stats))if(c.stats[Q]<se)return!1}return!0},M=T=>{g&&(o(g.id,T),j(null),y(!1))},_=T=>({intelligence:"",charm:"",stamina:"",strength:"",agility:"",luck:""})[T]||T,S=T=>({sakura:"",yuki:"",luna:"",mystery:""})[T]||"";return a.jsxs("div",{className:"bg-background text-text-primary rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-secondary flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),a.jsxs("div",{className:"text-sm text-text-secondary",children:[" ",Object.values(E).reduce((T,{count:Q})=>T+Q,0)," "]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{key:"all",label:"",icon:""},{key:"gift",label:"",icon:""},{key:"consumable",label:"",icon:""},{key:"weapon",label:"",icon:""},{key:"armor",label:"",icon:""},{key:"accessory",label:"",icon:""},{key:"special",label:"",icon:""}].map(({key:T,label:Q,icon:se})=>a.jsxs("button",{onClick:()=>R(T),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${D===T?"bg-primary text-white shadow-lg":"bg-black/30 text-text-secondary hover:bg-primary/50"}`,children:[a.jsx("span",{children:se}),Q]},T))}),Object.keys(E).length===0?a.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{children:" "})]}):x.length===0?a.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{children:"   "})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(({item:T,count:Q})=>{const se=w(T);return a.jsxs("div",{onClick:()=>f(T),className:`bg-black/30 rounded-lg p-4 border transition-all duration-200 hover:scale-105 cursor-pointer ${se.color}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:T.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-text-primary",children:T.name}),a.jsx("p",{className:`text-xs ${se.text} capitalize`,children:T.type})]})]}),Q>1&&a.jsxs("div",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:["",Q]})]}),a.jsx("p",{className:"text-sm text-text-secondary mb-4",children:T.description}),a.jsxs("div",{className:"space-y-1 mb-4",children:[T.effect.affection&&a.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.affection]})]}),T.effect.hp&&a.jsxs("div",{className:"text-xs text-red-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.hp]})]}),T.effect.mp&&a.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.mp]})]}),T.effect.intelligence&&a.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.intelligence]})]}),T.effect.charm&&a.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.charm]})]}),T.effect.stamina&&a.jsxs("div",{className:"text-xs text-green-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.stamina]})]}),T.effect.strength&&a.jsxs("div",{className:"text-xs text-orange-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.strength]})]}),T.effect.agility&&a.jsxs("div",{className:"text-xs text-cyan-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.agility]})]}),T.effect.luck&&a.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.luck]})]}),T.effect.experience&&a.jsxs("div",{className:"text-xs text-purple-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[" +",T.effect.experience]})]}),T.effect.unlockSecret&&a.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",a.jsx("span",{children:" "})]})]}),T.requirements&&a.jsxs("div",{className:"mb-4 p-2 bg-red-900/20 rounded border border-red-500/30",children:[a.jsx("div",{className:"text-xs text-red-300 font-medium mb-1",children:" :"}),a.jsxs("div",{className:"space-y-1",children:[T.requirements.level&&a.jsxs("div",{className:"text-xs text-red-400",children:[" ",T.requirements.level," "]}),T.requirements.stats&&Object.entries(T.requirements.stats).map(([ue,F])=>a.jsxs("div",{className:"text-xs text-red-400",children:[_(ue)," ",F," "]},ue))]})]}),T.value&&a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",a.jsxs("span",{children:[": ",T.value," "]})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:`text-xs font-medium ${se.text}`,children:[": ",se.name]})}),T.preferredBy&&T.preferredBy.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-xs text-yellow-300 mb-1",children:"  :"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:T.preferredBy.map(ue=>a.jsx("span",{className:"text-xs bg-yellow-600/20 text-yellow-200 px-2 py-1 rounded-full",children:p[ue]?.name||ue},ue))})]}),a.jsx("button",{onClick:()=>v(T),disabled:!h(T),className:`w-full py-2 rounded-lg text-sm font-medium transition-all duration-200 ${h(T)?T.type==="gift"?"bg-secondary hover:bg-secondary/80 text-white":T.type==="consumable"?"bg-green-600/80 hover:bg-green-500/80 text-white":["weapon","armor","accessory"].includes(T.type)?"bg-blue-600/80 hover:bg-blue-500/80 text-white":"bg-yellow-600/80 hover:bg-yellow-500/80 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:T.type==="gift"?"":T.type==="consumable"?"":["weapon","armor","accessory"].includes(T.type)?"":""})]},T.id)})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>f(null),children:a.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",onClick:T=>T.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-secondary",children:" "}),a.jsx("button",{onClick:()=>f(null),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:""})]}),a.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-2xl",children:N.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-text-primary",children:N.name}),a.jsx("div",{className:"text-sm text-text-secondary",children:N.description})]})]})})]})})}),C&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-secondary",children:"  "}),a.jsx("button",{onClick:()=>y(!1),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:""})]}),a.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-2xl",children:g.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-text-primary",children:g.name}),a.jsx("div",{className:"text-sm text-text-secondary",children:g.description})]})]})}),a.jsx("div",{className:"space-y-3",children:d.map(T=>{const Q=p[T];if(!Q)return null;const se=g.preferredBy?.includes(T);return a.jsxs("button",{onClick:()=>M(T),className:`w-full p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 flex items-center gap-3 ${se?"bg-accent/60 hover:bg-accent/50 border border-accent/50":"bg-primary/60 hover:bg-primary/50"}`,children:[a.jsx("span",{className:"text-2xl",children:S(T)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-text-primary",children:Q.name}),a.jsx("div",{className:"text-xs text-text-secondary",children:Q.role}),se&&a.jsx("div",{className:"text-xs text-accent font-medium",children:"  !"})]})]},T)})})]})})})]})},fg={conversations:[{id:"sakura_first_meeting",requiredAffection:0,dialogue:["   .         .","    .    .","    .    .","...  . .","    .","  . 2    .","    ...  .","     .","...    ?  .","      .   .","  ."," ... ,    .","   ?    ?"],choices:[{text:"  .    ?",affectionChange:7,response:`  .
? !      .
   .
  .     .
...      .`},{text:"   .   .",affectionChange:5,response:`     .   .
, ?     ...
   .
...   .  ?`},{text:"   ?   .",affectionChange:2,response:`    .
...    .  .
       .
   . ...   .`}]},{id:"sakura_training_together",requiredAffection:15,dialogue:["   .     ."," !  .","    .    .","    .    .","    .      .","   .    ."," ,  ,    .","     .     .","...  , ...","      .","...  ? , !","    .  .","...      .","      ...","   .     ."],choices:[{text:"     .    .",affectionChange:10,response:`  .    .
...  ?
...      .
    .
...  . ,   ...`},{text:"   .  .",affectionChange:6,response:`    .
!   .
       .
      .  .`},{text:"     ?",affectionChange:3,response:`  .
... .  .
   .  ...
     .`}]},{id:"sakura_secret_revealed",requiredAffection:40,dialogue:[" ,    .    .","! !","        .","...    .","    .    .","   .      .","       .","  ."," .   ...   .","  .    ...","  ,      .","....   .","      .","...  .   .","  .   .","     ..."],choices:[{text:"    .  .",affectionChange:15,response:`   .
...    ...
    .
. ...  .
...       .
    .
.   .    .`},{text:" .   .",affectionChange:8,response:`  .
 ... .   .
...    .
.    . .`},{text:" .     .",affectionChange:5,response:`  . ...
      .
  .      .`}]},{id:"sakura_confession",requiredAffection:70,dialogue:["   ,  .    .","     .   .","...       ...","   .       .","    ?    ."," ...    .","   .     .","      ...","       .","    ,    .","      ."," ...       ..."," .","     ."," ...  ?"," , ,     ."],choices:[{text:"  .  .",affectionChange:25,response:`   .    .
... ?  ?
    .
...    ?
    .  ...
    .
... ,  .`},{text:"  .     .",affectionChange:0,response:`   .
...   .
. .    ...
     . .`},{text:"...   .",affectionChange:-20,response:`   .    .
... .  .
    .
...     ...
. ...  .
  .    .`}]}]},xg={conversations:[{id:"yuki_library_encounter",requiredAffection:0,dialogue:["   ,    .     .","         .   .","    .    .","...?     ?","   .   .","     . ?",",   .  .","    .  .","...      .","  .     .","   ' ' .   .","    ."," ...  . ?","   ? ...","   ?"],choices:[{text:"    .",affectionChange:8,response:`  .    .
...?   ...
  .
...    ...
   .
.     .
.     .`},{text:"   .   ?",affectionChange:5,response:`  .
?  .
     .
 ...  .
.   .    .`},{text:" .   .",affectionChange:-2,response:`   .
.   ...
      .
    .
   . .`}]},{id:"yuki_magic_lesson",requiredAffection:20,dialogue:[" .     .    .",".      .","       .","    .","      .","   .     .",", , ...        .","    .    .","    ...  .","  ."," ,    .","  .  ...","  .","  .  ...","     .","    .   ."],choices:[{text:"   .   .",affectionChange:12,response:`  .
...  ?
    .
...        .
   .    .
   . ...   ...`},{text:"  .   .",affectionChange:7,response:`   .
.  .
  .      .
 ...     .`},{text:"    .",affectionChange:-3,response:`   .
....   .
  .
  . .`}]},{id:"yuki_forbidden_magic",requiredAffection:45,dialogue:[",     .     .","     .","      .","...    .","     .   ."," .  ,    ."," ...     .     .","   .","  .   ."," .     ...","    .","  ...  ."," ...      .","     .    ."," ...    .","? ...  ."],choices:[{text:" .   .",affectionChange:18,response:`    .    .
...      ?
... .  .
...    .
    .
  .   .   .`},{text:"  .     .",affectionChange:10,response:`    .
 ...  ?
...     ...
.    .   ...`},{text:" .      .",affectionChange:-5,response:`  .
...  .
.     .
    .`}]},{id:"yuki_true_feelings",requiredAffection:75,dialogue:["   .   ,    .","     .","   .   .","   .   .","    .","5   , 10   .","   ...    .","   ."," .  ,  ,   .","  ...      .","    ."," .      ...","       ...","     .","   .","...  ."," ...  .","      ...   ."],choices:[{text:"  .    .",affectionChange:30,response:`   .    .
  ...   ...
...  .
    .   .
     .
    .
  .      .`},{text:" .     .",affectionChange:5,response:`    .
...   .
         .
.      .`},{text:"...    .",affectionChange:-25,response:`   .   .
....  .
   ...   .
     .
. ...   .
  .    .`}]}]},hg={conversations:[{id:"luna_moonlight_meeting",requiredAffection:0,dialogue:["  .     .","         .","       .","....","  .    .","   ...   ?","    .",".    ."," .  ."," ... '' .","   .","   .   ...",".     .","   .   ."," . ?","   ...   ."],choices:[{text:"     .",affectionChange:10,response:`     .
...?
     .
...  ?
   .
 .     .
.    '' .`},{text:"  ,   .",affectionChange:6,response:`  .
 ... .  .
     .
    .`},{text:"... ?",affectionChange:3,response:`  .
...  .
.   .   .
   ...  ,  ?`}]},{id:"luna_blood_moon",requiredAffection:30,dialogue:["   .     .","  ...   ?","      .","...    .","     .","    .","500 ...      ."," ...  .","  .    ."," ...  .",".    ...","    .   .","...     ...","...   .","  .","  ...  .","...      ."],choices:[{text:"   .  .",affectionChange:20,response:`   .
...      ?
   ...   .
    .
...     ...
     .
... ...    .
    .   .
...    .`},{text:"  .  ...",affectionChange:8,response:`  .
 ...  .
   ... .
.   .  ...`},{text:"    .",affectionChange:5,response:` ...  .
    .
 .   ...`}]},{id:"luna_past_revealed",requiredAffection:55,dialogue:["     .","...    .","   .    .","300 ,    ."," ,   ...","    .","     ...","  ...   ..."," .    .","   .","   . 300 ."," ,  .","...  .","  ."," ...       .",", , ... .","  .    .","...   ?"],choices:[{text:"  .   .",affectionChange:25,response:`    .
300 ...  .
    ...
   .
  .    ...
   .
   ... ,  ...`},{text:" .   .",affectionChange:15,response:`     .
...   ?
300     ?
 ...  .`},{text:"  .",affectionChange:5,response:`...     .
   ...
 .   .`}]},{id:"luna_eternal_love",requiredAffection:80,dialogue:["  .     .","  .    .","   .       .","...    .","   .   .","' '.       .","  ...    .","     .  ,  ...","    .","500 ...       .","      .","     ."," ...      ..."," .  ,   .","      .","?   ..."],choices:[{text:"   .   .",affectionChange:35,response:`  . 500   .
...    .
 .     .
...  .  !
    .
  .  ...
  .   .
...   60 ...   .`},{text:"  .   .",affectionChange:10,response:`  .
  . ...
      .
   .    .`},{text:"  .   .",affectionChange:-30,response:`  .
... ?
 500   ...
    .
...   ...
   .
...   .`}]}]},Bf={sakura:fg,yuki:xg,luna:hg},pg={classroom:{id:"classroom",name:"",description:"  .   .",activities:[{name:" ",effect:{intelligence:2,stamina:-1},time:"morning"},{name:"",effect:{intelligence:1},time:"any"}],characterSchedule:{morning:["luna","yuki"],noon:[],afternoon:["luna"],evening:[],night:[]},sprite:""},library:{id:"library",name:"",description:"  .   .",activities:[{name:" ",effect:{intelligence:3,charm:1},time:"any"},{name:" ",effect:{stamina:2},time:"any"}],characterSchedule:{morning:[],noon:["yuki"],afternoon:["yuki","luna"],evening:["yuki"],night:[]},sprite:""},training:{id:"training",name:"",description:" .    .",activities:[{name:"",effect:{stamina:3,intelligence:-1},time:"any"},{name:" ",effect:{stamina:2,charm:1},time:"afternoon"}],characterSchedule:{morning:["sakura"],noon:[],afternoon:["sakura"],evening:["sakura"],night:[]},sprite:""},cafeteria:{id:"cafeteria",name:"",description:"   .  .",activities:[{name:"",effect:{stamina:3},time:"noon"},{name:" ",effect:{charm:2},time:"any"}],characterSchedule:{morning:[],noon:["luna","yuki","sakura"],afternoon:[],evening:["luna"],night:[]},sprite:""},garden:{id:"garden",name:"",description:"   . .",activities:[{name:"",effect:{stamina:1,charm:1},time:"any"},{name:" ",effect:{charm:2},time:"afternoon"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["yuki"],night:["luna","sakura"]},sprite:""},dormitory:{id:"dormitory",name:"",description:"  .",activities:[{name:"",effect:{stamina:5},time:"evening"},{name:" ",effect:{charm:1,intelligence:1},time:"night"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:["yuki","sakura"]},sprite:""},shop:{id:"shop",name:"",description:"      .",activities:[{name:"",effect:{},time:"any",special:"shop"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:[]},sprite:""},secretGarden:{id:"secretGarden",name:" ",description:"  .      .",activities:[{name:" ",effect:{charm:5},time:"any"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["mystery"],night:["mystery"]},sprite:"",unlockCondition:{item:"mysteryKey"}}},gg={locations:pg},Za=Fa,pf=gg,bg=()=>{const r=Je(),c=me(Y=>Y.player);me(Y=>Y.unlockedCharacters);const d=me(Y=>Y.currentEvent),o=me(Y=>Y.gameMessage),m=me(Y=>Y.dailyActivitiesCount||0),{saveGame:p,loadGame:g,performActivity:j,moveToLocation:N,advanceTime:f,handleEventChoice:C,updateAffection:y}=me(Y=>Y.actions),D=k.useMemo(()=>pf.locations[c.location],[c.location]),[R,w]=et.useState(!1),[E,x]=et.useState("location"),[v,h]=et.useState(!1),[M,_]=et.useState(null),[S,T]=et.useState(!1),[Q,se]=et.useState(null),[ue,F]=et.useState(0),[pe,P]=et.useState(null),[ee,ne]=et.useState(!1),[I,q]=et.useState([]),X=k.useCallback(Y=>{if(!Za[Y])return;const W=c.affection[Y]||0,ae=Bf[Y]?.conversations||[];let ie=ae[0];for(const De of ae)if(De.requiredAffection<=W)ie=De;else break;ie&&(P(ie),q(ie.dialogue),F(0),ne(!1)),se(Y),T(!0)},[c.affection]),le=k.useCallback(()=>{if(!pe){T(!1),se(null);return}ee||(ue<I.length-1?F(Y=>Y+1):pe.choices&&pe.choices.length>0?ne(!0):(pe.effects?.affection&&Q&&y(Q,pe.effects.affection),T(!1),se(null),F(0),P(null),q([])))},[pe,ue,I,ee,Q,y]),xe=k.useCallback(Y=>{Y.effects?.affection&&Q&&y(Q,Y.effects.affection),Y.response?(P(null),q([Y.response]),F(0),ne(!1)):(T(!1),se(null),F(0),P(null),q([]))},[Q,y]);k.useCallback(Y=>{r("/heroines")},[r]);const O=m<2,U=c.timeOfDay==="evening"||c.timeOfDay==="night";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-4 mb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Labyrinth Academy"}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsx("button",{onClick:()=>r("/game-menu"),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"  ",role:"button",children:" "}),a.jsx("button",{onClick:()=>r("/heroines"),className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:"  "}),a.jsx("button",{onClick:()=>r("/quests"),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),a.jsx("button",{onClick:()=>r("/dungeon"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),a.jsx("button",{onClick:()=>r("/shopping"),className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"",role:"button",children:" "}),a.jsx("button",{onClick:()=>r("/pets"),className:"px-4 py-2 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),a.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"   ",role:"button",children:" "}),a.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"  ",role:"button",children:" "}),a.jsx("button",{onClick:()=>w(!R),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":R?" ":" ","aria-expanded":R,role:"button",children:" "})]})]})}),a.jsx(Hf,{}),a.jsx("div",{className:"bg-black/20 border border-border rounded-2xl p-4 mb-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:""}),a.jsx("p",{className:"font-medium text-text-primary flex-1",children:o})]})}),a.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600/50 rounded-2xl p-4 mb-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-yellow-400 text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-yellow-300",children:" "}),a.jsxs("p",{className:"text-sm text-yellow-200",children:[m,"/2  ",m>=2&&" -     "]})]})]}),a.jsx("div",{className:"text-yellow-400",children:U?" . .":" "})]})}),a.jsxs("div",{className:`grid grid-cols-1 ${R?"lg:grid-cols-5":"lg:grid-cols-3"} gap-6`,children:[a.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[a.jsxs("div",{className:"flex gap-3 mb-6",role:"tablist","aria-label":"  ",children:[a.jsx("button",{onClick:()=>x("location"),disabled:!O&&c.location!=="dormitory",className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${E==="location"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":!O&&c.location!=="dormitory"?"bg-black/30 backdrop-blur-md text-gray-500 opacity-50 cursor-not-allowed border border-border":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":E==="location","aria-controls":"location-panel",tabIndex:E==="location"?0:-1,children:"  "}),a.jsx("button",{onClick:()=>x("characters"),className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${E==="characters"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":E==="characters","aria-controls":"characters-panel",tabIndex:E==="characters"?0:-1,children:" "})]}),a.jsx("div",{id:E==="location"?"location-panel":"characters-panel",role:"tabpanel","aria-labelledby":E==="location"?"location-tab":"characters-tab",children:E==="location"?a.jsx(cg,{currentLocation:D,player:c,onPerformActivity:Y=>j(Y,r),onMoveToLocation:Y=>{!O&&Y!=="dormitory"||N(Y)},availableLocations:pf.locations,characters:Za,onInteractCharacter:X,canPerformActivity:O}):a.jsx(og,{characters:Za,items:{}})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:""}),a.jsx("h3",{className:"text-lg font-bold text-text-primary",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-4",children:[a.jsxs("div",{className:"text-2xl font-bold text-text-primary mb-1",children:["Day ",c.day]}),a.jsxs("div",{className:"text-lg text-text-secondary",children:[yg(c.timeOfDay)," ",vg(c.timeOfDay)]})]}),a.jsx("button",{onClick:f,className:"w-full px-4 py-3 bg-primary text-white rounded-xl hover:bg-secondary transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium","aria-label":"    ",role:"button",children:"  "})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-white text-sm",children:""}),a.jsx("h3",{className:"text-lg font-bold text-text-primary",children:" "})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:""}),a.jsxs("span",{className:"font-bold text-yellow-400",children:["Lv.",c.level]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:""}),a.jsxs("span",{className:"font-bold text-green-400",children:[c.money,"G"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:""}),a.jsxs("span",{className:"font-bold text-red-400",children:[c.hp,"/",c.maxHp]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:""}),a.jsxs("span",{className:"font-bold text-blue-400",children:[c.mp,"/",c.maxMp]})]})]})]})]})]}),R&&a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border h-full",children:[a.jsxs("div",{className:"sticky top-0 bg-background/80 backdrop-blur-md border-b border-border p-4 flex justify-between items-center",children:[a.jsx("h2",{id:"inventory-title",className:"text-2xl font-bold text-text-primary",children:" "}),a.jsx("button",{onClick:()=>w(!1),className:"text-text-secondary hover:text-text-primary text-2xl","aria-label":"  ",role:"button",children:""})]}),a.jsx("div",{className:"p-4 max-h-[calc(100vh-120px)] overflow-y-auto",children:a.jsx(mg,{onClose:()=>w(!1)})})]})})]}),d&&a.jsx(dg,{event:d,character:d.trigger.character?Za[d.trigger.character]:void 0,player:c,onChoice:C,onClose:()=>{console.log("Closing event dialog")}}),S&&Q&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:a.jsx("div",{className:"max-w-4xl w-full mx-4 bg-background/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-primary/20 overflow-hidden",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[a.jsx("div",{className:"text-6xl",children:Za[Q]?.sprite||""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:Za[Q]?.name||"Unknown"}),a.jsx("div",{className:"text-text-secondary",children:Za[Q]?.role||""})]})]}),a.jsx("div",{className:"bg-black/30 rounded-xl p-6 mb-6 min-h-[150px]",children:a.jsx("p",{className:"text-lg text-text-primary leading-relaxed",children:I[ue]||"..."})}),ee&&pe?.choices&&a.jsx("div",{className:"space-y-3 mb-6",children:pe.choices.map((Y,Z)=>a.jsx("button",{onClick:()=>xe(Y),className:"w-full text-left bg-primary/20 hover:bg-primary/30 border border-primary/30 p-4 rounded-lg transition-all duration-200",children:Y.text},Z))}),!ee&&pe&&a.jsx("button",{onClick:le,className:"bg-primary hover:bg-secondary px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:ue<I.length-1?"":pe?.choices?" ":" "}),!pe&&a.jsx("button",{onClick:()=>{T(!1),se(null),F(0),q([])},className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:""})]})})})]})})},yg=r=>({morning:"",noon:"",afternoon:"",evening:"",night:""})[r]||"",vg=r=>({morning:"",noon:"",afternoon:"",evening:"",night:""})[r]||r,jg=({onRestart:r,onMainMenu:c})=>{const{player:d,gameEnding:o}=me(),m=o;if(!m)return a.jsx("div",{children:"  ..."});const[p,g]=k.useState(!1),[j,N]=k.useState(0),C=(E=>{switch(E){case"true":return{title:" ",description:"     .     .",background:"from-yellow-400 via-pink-500 to-purple-600",emoji:"",message:"!   !",achievement:" True Ending Master"};case"good":return{title:" ",description:"      .      .",background:"from-pink-400 via-purple-500 to-blue-500",emoji:"",message:" !",achievement:" Happy Life"};case"sakura":return{title:" ",description:"     .        .",background:"from-pink-300 via-pink-500 to-rose-600",emoji:"",message:': "   !"',achievement:" Cherry Blossom Love"};case"yuki":return{title:" ",description:"        .      .",background:"from-blue-300 via-cyan-500 to-blue-700",emoji:"",message:': "    ..."',achievement:" Winter Romance"};case"luna":return{title:" ",description:"     .      .",background:"from-purple-400 via-indigo-500 to-purple-700",emoji:"",message:': "    ..."',achievement:" Moonlight Mystery"};case"mystery":return{title:" ",description:"      .      .",background:"from-gray-400 via-purple-500 to-black",emoji:"",message:'???: "   ..."',achievement:" Truth Seeker"};case"normal":return{title:" ",description:"   .   ,    .",background:"from-gray-400 via-purple-400 to-gray-500",emoji:"",message:"    .",achievement:" Student Life"};case"bad":return{title:" ",description:"         ...    .",background:"from-red-400 via-orange-500 to-red-600",emoji:"",message:"    !",achievement:" Learning Experience"};case"solo":return{title:"",description:"   .      .",background:"from-blue-400 via-teal-500 to-green-500",emoji:"",message:"     .",achievement:" Self Growth"};default:return{title:" ",description:"  .     .",background:"from-purple-400 via-pink-500 to-purple-600",emoji:"",message:"   !"}}})(m);k.useEffect(()=>{const E=setTimeout(()=>N(1),500),x=setTimeout(()=>N(2),1500),v=setTimeout(()=>N(3),2500);return()=>{clearTimeout(E),clearTimeout(x),clearTimeout(v)}},[]);const D=(()=>{const E=Object.values(d.affection).reduce((v,h)=>v+h,0),x=Object.entries(d.affection).reduce((v,[h,M])=>M>v.value?{char:h,value:M}:v,{char:"",value:0});return{totalAffection:E,maxAffection:x,totalStats:d.stats.intelligence+d.stats.charm+d.stats.stamina,inventoryCount:d.inventory.length,moneyEarned:d.money}})(),w=m==="true"?{grade:"S+",color:"text-yellow-400"}:m==="good"||["sakura","yuki","luna","mystery"].includes(m)?{grade:"A",color:"text-pink-400"}:m==="normal"?{grade:"B",color:"text-blue-400"}:m==="solo"?{grade:"C",color:"text-green-400"}:{grade:"D",color:"text-red-400"};return a.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${C.background} flex items-center justify-center p-4 relative overflow-hidden`,children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:[...Array(20)].map((E,x)=>a.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`},children:C.emoji},x))}),a.jsx("div",{className:"max-w-4xl w-full relative z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`transition-all duration-1000 ${j>=1?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[a.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:C.emoji}),a.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg",children:C.title}),a.jsxs("div",{className:`text-2xl font-bold mb-8 ${w.color}`,children:["GRADE: ",w.grade]})]}),a.jsx("div",{className:`transition-all duration-1000 delay-500 ${j>=2?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:a.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/20",children:[a.jsx("p",{className:"text-lg md:text-xl text-white leading-relaxed mb-6",children:C.description}),a.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:a.jsxs("p",{className:"text-yellow-200 font-medium italic",children:['"',C.message,'"']})})]})}),C.achievement&&a.jsx("div",{className:`transition-all duration-1000 delay-1000 ${j>=3?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:a.jsx("div",{className:"bg-yellow-500/20 border-2 border-yellow-400/50 rounded-xl p-4 mb-8 backdrop-blur-sm",children:a.jsxs("div",{className:"text-yellow-300 font-bold text-lg",children:["  : ",C.achievement]})})}),a.jsx("div",{className:`transition-all duration-1000 delay-1500 ${j>=3?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs("button",{onClick:()=>g(!p),className:"bg-blue-600/80 hover:bg-blue-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[a.jsx("span",{children:""}),p?" ":" "]}),a.jsxs("button",{onClick:r,className:"bg-green-600/80 hover:bg-green-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:c,className:"bg-purple-600/80 hover:bg-purple-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[a.jsx("span",{children:""})," "]})]})}),p&&a.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/20 animate-fadeIn",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:" "}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-300",children:" "}),a.jsx("span",{className:"text-white font-medium",children:d.stats.intelligence})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-pink-300",children:" "}),a.jsx("span",{className:"text-white font-medium",children:d.stats.charm})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-300",children:" "}),a.jsx("span",{className:"text-white font-medium",children:d.stats.stamina})]}),a.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[a.jsx("span",{className:"text-yellow-300",children:""}),a.jsx("span",{className:"text-white",children:D.totalStats})]})]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:""}),a.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(d.affection).map(([E,x])=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-purple-300 capitalize",children:E}),a.jsx("span",{className:"text-white font-medium",children:x})]},E)),a.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[a.jsx("span",{className:"text-yellow-300",children:""}),a.jsx("span",{className:"text-white",children:D.totalAffection})]}),a.jsxs("div",{className:"text-xs text-purple-300 mt-2",children:[": ",D.maxAffection.char," (",D.maxAffection.value,")"]})]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:" "}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-300",children:"  "}),a.jsxs("span",{className:"text-white font-medium",children:[d.day,"/30"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-green-300",children:"  "}),a.jsxs("span",{className:"text-white font-medium",children:[D.moneyEarned.toLocaleString(),""]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-yellow-300",children:"  "}),a.jsxs("span",{className:"text-white font-medium",children:[D.inventoryCount,""]})]})]})]})]})]})]})}),a.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          25% { transform: translateY(-10px) rotate(5deg); }
          50% { transform: translateY(-5px) rotate(-5deg); }
          75% { transform: translateY(-15px) rotate(3deg); }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},$s=({characterId:r,emotion:c="neutral",size:d="medium",className:o=""})=>{const m={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},p=y=>{const D="#FFE5B4",R="#2C1810";let w="",E="";switch(y){case"happy":w='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":w='<circle cx="40" cy="47" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="47" r="2" fill="#000" opacity="0.8"/>',E='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"angry":w='<line x1="35" y1="42" x2="45" y2="47" stroke="#000" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#000" stroke-width="2"/>',E='<line x1="45" y1="58" x2="55" y2="58" stroke="#FF0000" stroke-width="2"/>';break;case"surprised":w='<circle cx="40" cy="45" r="3" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="3" fill="#000" opacity="0.8"/>',E='<ellipse cx="50" cy="58" rx="3" ry="5" fill="#000" opacity="0.6"/>';break;case"love":w='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:w='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FF6B9D, #C44569)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 40 Q 50 15 80 40 Q 75 30 50 25 Q 25 30 20 40" fill="${R}"/>
        <path d="M 15 45 Q 20 35 30 40 Q 25 50 15 55 Z" fill="${R}"/>
        <path d="M 70 40 Q 80 35 85 45 Q 75 50 85 55 Z" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${D}"/>

        <!-- Eyes -->
        ${w}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="30" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="70" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Hair accessories -->
        <circle cx="25" cy="35" r="2" fill="#FF4757"/>
        <circle cx="75" cy="35" r="2" fill="#FF4757"/>
      </svg>
    `},g=y=>{const D="#FFEEE6",R="#4A4A4A";let w="",E="";switch(y){case"happy":w='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":w='<circle cx="40" cy="47" r="2" fill="#4A90E2"/> <circle cx="60" cy="47" r="2" fill="#4A90E2"/>',E='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"love":w='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:w='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #A8E6CF, #7FCDCD)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 25 35 Q 50 20 75 35 Q 70 25 50 22 Q 30 25 25 35" fill="${R}"/>
        <rect x="45" y="22" width="10" height="25" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="23" ry="28" fill="${D}"/>

        <!-- Eyes -->
        ${w}

        <!-- Glasses -->
        <circle cx="40" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <circle cx="60" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <line x1="48" y1="45" x2="52" y2="45" stroke="#333" stroke-width="1"/>

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="28" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>
        <circle cx="72" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>

        <!-- Book -->
        <rect x="15" y="70" width="12" height="8" fill="#8B4513" rx="1"/>
        <line x1="21" y1="70" x2="21" y2="78" stroke="#654321" stroke-width="1"/>
      </svg>
    `},j=y=>{const D="#FFE8D6",R="#FFD700";let w="",E="";switch(y){case"happy":w='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"love":w='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:w='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',E='<path d="M 45 55 Q 50 58 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FFB347, #FFCC5C)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 38 Q 50 18 80 38 Q 75 28 50 23 Q 25 28 20 38" fill="${R}"/>
        <path d="M 15 42 Q 25 32 35 38 Q 30 48 20 52" fill="${R}"/>
        <path d="M 65 38 Q 75 32 85 42 Q 80 48 70 52" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${D}"/>

        <!-- Eyes -->
        ${w}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="29" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="71" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Magic sparkles -->
        <circle cx="20" cy="25" r="1" fill="#FFD700"/>
        <circle cx="80" cy="30" r="1" fill="#FFD700"/>
        <circle cx="85" cy="60" r="1" fill="#FFD700"/>
        <circle cx="15" cy="65" r="1" fill="#FFD700"/>

        <!-- Star accessory -->
        <path d="M 70 30 L 72 35 L 77 35 L 73 38 L 75 43 L 70 40 L 65 43 L 67 38 L 63 35 L 68 35 Z" fill="#9B59B6"/>
      </svg>
    `},N=y=>{const D="#F5F5DC",R="#2C2C2C";let w="",E="";switch(y){case"happy":w='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#666" stroke-width="2" fill="none"/>';break;case"love":w='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:w='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #2C3E50, #34495E)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 18 40 Q 50 15 82 40 Q 77 25 50 20 Q 23 25 18 40" fill="${R}"/>
        <path d="M 12 48 Q 18 38 28 42 Q 23 52 12 58" fill="${R}"/>
        <path d="M 72 42 Q 82 38 88 48 Q 77 52 88 58" fill="${R}"/>

        <!-- Face (partially in shadow) -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${D}"/>
        <path d="M 25 45 Q 35 40 50 45 L 50 85 Q 35 80 25 75 Z" fill="#000" opacity="0.3"/>

        <!-- Eyes -->
        ${w}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Mystery mask -->
        <path d="M 35 35 Q 50 32 65 35 Q 60 42 50 40 Q 40 42 35 35" fill="#000" opacity="0.7"/>

        <!-- Mysterious aura -->
        <circle cx="30" cy="20" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="70" cy="25" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="85" cy="70" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="15" cy="75" r="1" fill="#9B59B6" opacity="0.8"/>
      </svg>
    `},f=y=>{const D="#FDBCB4",R="#8B4513";let w="",E="";switch(y){case"happy":w='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"determined":w='<line x1="35" y1="42" x2="45" y2="47" stroke="#654321" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#654321" stroke-width="2"/>',E='<line x1="45" y1="58" x2="55" y2="58" stroke="#333" stroke-width="2"/>';break;default:w='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #3498DB, #2980B9)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 22 38 Q 50 18 78 38 Q 73 28 50 23 Q 27 28 22 38" fill="${R}"/>
        <path d="M 18 45 Q 28 35 38 40 Q 33 50 23 55" fill="${R}"/>
        <path d="M 62 40 Q 72 35 82 45 Q 77 50 67 55" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${D}"/>

        <!-- Eyes -->
        ${w}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.7"/>

        <!-- Mouth -->
        ${E}

        <!-- Sword emblem -->
        <rect x="75" y="15" width="2" height="15" fill="#C0C0C0"/>
        <rect x="73" y="12" width="6" height="3" fill="#FFD700"/>
      </svg>
    `},C=()=>{switch(r){case"sakura":return a.jsx("div",{dangerouslySetInnerHTML:{__html:p(c)}});case"yuki":return a.jsx("div",{dangerouslySetInnerHTML:{__html:g(c)}});case"luna":return a.jsx("div",{dangerouslySetInnerHTML:{__html:j(c)}});case"mystery":return a.jsx("div",{dangerouslySetInnerHTML:{__html:N(c)}});case"hero":return a.jsx("div",{dangerouslySetInnerHTML:{__html:f(c)}});default:return a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-2xl",children:"?"})}};return a.jsx("div",{className:`${m[d]} ${o} rounded-full overflow-hidden shadow-lg border-2 border-white/20`,children:C()})},Lf=et.memo(({isLoggedIn:r,user:c,onLogout:d})=>{const o=Je(),{resetGame:m,loadGame:p}=me(h=>h.actions),[g,j]=k.useState(0),[N,f]=k.useState(!1);k.useEffect(()=>{const h=localStorage.getItem("academyDatingSim");f(!!h)},[]);const C=k.useCallback(()=>{d(),window.location.reload()},[d]);k.useEffect(()=>{const h=setInterval(()=>{j(M=>(M+1)%4)},2e3);return()=>clearInterval(h)},[]);const y=k.useCallback(()=>{m(),o("/character-creation")},[m,o]),D=k.useCallback(()=>{p(),o("/game")},[p,o]),R=k.useCallback(()=>{o("/account-creation")},[o]),w=k.useCallback(()=>{o("/login")},[o]),E=k.useCallback(()=>{o("/settings")},[o]),x=k.useCallback(()=>{o("/game-info")},[o]),v=k.useMemo(()=>Array.from({length:20},(h,M)=>a.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`},"aria-hidden":"true",children:a.jsx("div",{className:"w-2 h-2 bg-white/20 rounded-full"})},M)),[]);return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden","aria-hidden":"true",children:v}),a.jsxs("div",{className:"relative z-10 max-w-6xl w-full",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-gradient mb-4 animate-pulse-glow",children:"Labyrinth Academy"}),a.jsx("h2",{className:"text-2xl md:text-3xl text-text-primary mb-2",children:"  "}),a.jsx("p",{className:"text-lg text-text-secondary",children:"      "})]}),a.jsxs("div",{className:"flex justify-center items-center gap-8 mb-12",children:[a.jsxs("div",{className:`transition-all duration-1000 ${g===0?"scale-110":"scale-100"}`,children:[a.jsx($s,{characterId:"sakura",emotion:g===0?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"text-text-primary font-semibold",children:""}),a.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),a.jsxs("div",{className:`transition-all duration-1000 ${g===1?"scale-110":"scale-100"}`,children:[a.jsx($s,{characterId:"yuki",emotion:g===1?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"text-text-primary font-semibold",children:""}),a.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),a.jsxs("div",{className:`transition-all duration-1000 ${g===2?"scale-110":"scale-100"}`,children:[a.jsx($s,{characterId:"luna",emotion:g===2?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"text-text-primary font-semibold",children:""}),a.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),a.jsxs("div",{className:`transition-all duration-1000 ${g===3?"scale-110":"scale-100"}`,children:[a.jsx($s,{characterId:"mystery",emotion:g===3?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"text-text-primary font-semibold",children:"???"}),a.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]})]}),a.jsxs("div",{className:"glass-card p-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),r&&c&&a.jsxs("div",{className:"glass-card p-3 mb-4 border-accent/30",children:[a.jsx("div",{className:"text-accent text-sm",children:""}),a.jsx("div",{className:"text-text-primary font-medium",children:c.username})]}),a.jsx("button",{onClick:y,disabled:!r,className:`w-full py-4 px-6 font-bold rounded-xl transition-all duration-300 transform ${r?"btn-primary hover:scale-105":"bg-gray-500 cursor-not-allowed opacity-50 text-gray-300"}`,"aria-label":r?"  ":"    ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),a.jsx("span",{children:r?"  ":"   "})]})}),N&&a.jsx("button",{onClick:D,className:"w-full py-4 px-6 btn-glass font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"  ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),a.jsx("span",{children:" "})]})}),a.jsx("button",{onClick:R,className:"w-full py-4 px-6 btn-accent font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"  ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),a.jsx("span",{children:" "})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),a.jsx("button",{onClick:r?C:w,className:"w-full py-4 px-6 btn-secondary font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":r?" ":" ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-2xl","aria-hidden":"true",children:r?"":""}),a.jsx("span",{children:r?"":""})]})}),a.jsx("button",{onClick:E,className:"w-full py-3 px-6 btn-ghost font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 border border-border","aria-label":"   ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:""}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:x,className:"w-full py-3 px-6 btn-ghost font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 border border-border","aria-label":"   ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:""}),a.jsx("span",{children:" "})]})}),a.jsx("button",{onClick:()=>o("/api-test"),className:"w-full py-3 px-6 btn-ghost font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 border border-primary/30","aria-label":"API    ",role:"button",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:""}),a.jsx("span",{children:"API "})]})})]})]}),a.jsxs("div",{className:"mt-8 border-t border-border pt-6",children:[a.jsx("h4",{className:"text-lg font-bold text-text-primary mb-4",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"text-text-primary font-semibold",children:""}),a.jsx("div",{className:"text-text-secondary text-sm",children:"   "})]}),a.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"text-text-primary font-semibold",children:" "}),a.jsx("div",{className:"text-text-secondary text-sm",children:"  "})]}),a.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"text-text-primary font-semibold",children:" "}),a.jsx("div",{className:"text-text-secondary text-sm",children:"  "})]})]})]})]}),a.jsx("div",{className:"text-center mt-8 text-text-secondary",children:a.jsx("p",{children:" 2024 Labyrinth Academy Dating Sim. Made with "})})]})]})});Lf.displayName="Homepage";const Ng=({onLogin:r})=>{const[c,d]=k.useState(""),[o,m]=k.useState(""),[p,g]=k.useState(!1),[j,N]=k.useState(""),f=Je(),C=async y=>{y.preventDefault(),g(!0),N("");try{await new Promise(R=>setTimeout(R,1e3)),r(c,o)?f("/"):N("   .")}catch{N("   .")}finally{g(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),a.jsx("p",{className:"text-purple-200",children:"   "})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),a.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:" ",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),a.jsx("input",{type:"password",value:o,onChange:y=>m(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:" ",required:!0})]}),j&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:a.jsx("p",{className:"text-red-300 text-sm",children:j})}),a.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:p?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:" ..."})]}):""})]}),a.jsxs("div",{className:"mt-6 text-center space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 h-px bg-white/20"}),a.jsx("span",{className:"text-white/50 text-sm",children:""}),a.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),a.jsx("button",{onClick:()=>f("/character-creation"),className:"w-full py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105",children:"  "}),a.jsx("button",{onClick:()=>f("/"),className:"w-full py-2 px-4 text-purple-300 hover:text-white transition-colors",children:" "}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{className:"text-purple-300 hover:text-white text-sm transition-colors",children:" ?"})})]}),a.jsxs("div",{className:"mt-6 bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:" "}),a.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[a.jsx("p",{children:": demo"}),a.jsx("p",{children:": password"})]})]})]})})},wg=({onCancel:r})=>{const c=Je(),{resetGame:d}=me(S=>S.actions),[o,m]=k.useState(1),[p,g]=k.useState(!1),[j,N]=k.useState(""),[f,C]=k.useState({playerName:"",startingStats:{intelligence:10,charm:10,stamina:10,strength:10,agility:10,luck:10}}),y=Object.values(f.startingStats).reduce((S,T)=>S+T,0),D=80,R=D-y,w=(S,T)=>{C(Q=>({...Q,[S]:T}))},E=(S,T)=>{const Q=Math.max(5,Math.min(20,T));Object.values(f.startingStats).reduce((F,pe)=>F+pe,0)-f.startingStats[S]+Q<=D&&C(F=>({...F,startingStats:{...F.startingStats,[S]:Q}}))},x=()=>f.playerName.trim()?f.playerName.length<2?"   2  .":null:"  .",v=()=>{if(N(""),o===1){const S=x();if(S){N(S);return}}m(S=>S+1)},h=async()=>{N(""),g(!0);try{await new Promise(S=>setTimeout(S,1e3)),d(f),c("/game")}catch{N("    .")}finally{g(!1)}},M=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" "}),a.jsx("p",{className:"text-purple-200",children:"    "})]}),a.jsx("div",{className:"text-center mb-6",children:a.jsx($s,{characterId:"hero",size:"large"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:" "}),a.jsx("input",{type:"text",value:f.playerName,onChange:S=>w("playerName",S.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 text-center",placeholder:"  "})]}),a.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:" "}),a.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[a.jsx("p",{children:"   "}),a.jsx("p",{children:"       "}),a.jsx("p",{children:"        "})]})]})]}),_=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" "}),a.jsxs("p",{className:"text-purple-200",children:[" ",D,"    ( : ",R,")"]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(f.startingStats).map(([S,T])=>{const se={intelligence:{name:"",icon:"",color:"blue"},charm:{name:"",icon:"",color:"pink"},stamina:{name:"",icon:"",color:"green"},strength:{name:"",icon:"",color:"orange"},agility:{name:"",icon:"",color:"cyan"},luck:{name:"",icon:"",color:"yellow"}}[S];return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 w-24",children:[a.jsx("span",{className:"text-lg",children:se.icon}),a.jsx("span",{className:"text-white font-medium",children:se.name})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("button",{onClick:()=>E(S,T-1),disabled:T<=5,className:"w-8 h-8 bg-red-500/50 hover:bg-red-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"-"}),a.jsxs("div",{className:"flex-1 mx-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-white",children:T}),a.jsxs("span",{className:"text-gray-400",children:[T,"/20"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r from-${se.color}-400 to-${se.color}-600 h-2 rounded-full transition-all duration-300`,style:{width:`${T/20*100}%`}})})]}),a.jsx("button",{onClick:()=>E(S,T+1),disabled:T>=20||R<=0,className:"w-8 h-8 bg-green-500/50 hover:bg-green-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"+"})]})]},S)})}),a.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:" "}),a.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[a.jsx("p",{children:" :      "}),a.jsx("p",{children:" :    "}),a.jsx("p",{children:" :      "}),a.jsx("p",{children:" :    "}),a.jsx("p",{children:" :    "}),a.jsx("p",{children:" :    "})]})]})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-lg w-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between text-sm text-purple-300 mb-2",children:[a.jsxs("span",{children:[" ",o,"/2"]}),a.jsxs("span",{children:[Math.round(o/2*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${o/2*100}%`}})})]}),o===1&&M(),o===2&&_(),j&&a.jsx("div",{className:"mt-6 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:a.jsx("p",{className:"text-red-300 text-sm",children:j})}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[o>1&&a.jsx("button",{onClick:()=>m(S=>S-1),className:"flex-1 py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:""}),o<2?a.jsx("button",{onClick:v,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105",children:""}):a.jsx("button",{onClick:h,disabled:p||R!==0,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:p?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:" ..."})]}):" "})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{onClick:()=>r?r():c("/"),className:"text-purple-300 hover:text-white text-sm transition-colors",children:r?"":" "})})]})})},Sg=[{id:1,name:" ",description:"    .     .",layout:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,2,0,1,0,3,1],[1,0,0,0,1,0,0,1],[1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,1],[1,0,4,0,0,0,5,1],[1,1,1,1,1,1,1,1]],enemies:[{id:"dustBunny",name:" ",hp:15,maxHp:15,attack:5,defense:2,agility:8,experience:10,drops:[{itemId:"energyDrink",chance:.3,quantity:1}],sprite:"",description:"     .  ."}],treasures:[{id:"chest1",position:{x:2,y:2},contents:[{itemId:"healingPotion",chance:1,quantity:2},{itemId:"flower",chance:.5,quantity:1}],opened:!1},{id:"chest2",position:{x:6,y:2},contents:[{itemId:"studyGuide",chance:1,quantity:1}],opened:!1}],nextFloorRequirement:{bossDefeated:!1}},{id:2,name:" ",description:"  .    .",layout:[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,1,0,0,0,1],[1,0,2,0,0,0,0,3,0,1],[1,0,0,0,1,1,0,0,0,1],[1,1,0,1,1,1,1,0,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,1,0,0,6,1],[1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"magicBook",name:"",hp:25,maxHp:25,attack:8,defense:4,agility:6,experience:20,drops:[{itemId:"manaPotion",chance:.4,quantity:1},{itemId:"mirror",chance:.2,quantity:1}],sprite:"",description:"  .   ."}],treasures:[{id:"magicChest1",position:{x:2,y:2},contents:[{itemId:"manaPotion",chance:1,quantity:3},{itemId:"charm",chance:.3,quantity:1}],opened:!1},{id:"magicChest2",position:{x:7,y:2},contents:[{itemId:"mysticStaff",chance:.8,quantity:1}],opened:!1},{id:"secretChest",position:{x:8,y:8},contents:[{itemId:"mysteryKey",chance:1,quantity:1}],opened:!1}],boss:{id:"shadowMage",name:" ",hp:80,maxHp:80,attack:15,defense:8,agility:10,experience:100,drops:[{itemId:"mageRobe",chance:.8,quantity:1},{itemId:"wisdomPendant",chance:.3,quantity:1},{itemId:"experienceScroll",chance:1,quantity:3}],sprite:"",description:"    .    ."},nextFloorRequirement:{bossDefeated:!0}},{id:3,name:" ",description:"     .   .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,1,1,1,1,0,3,0,1],[1,0,0,0,1,0,0,1,0,0,0,1],[1,0,1,0,1,0,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,0,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"ancientGuardian",name:" ",hp:50,maxHp:50,attack:12,defense:10,agility:4,experience:40,drops:[{itemId:"strengthAmulet",chance:.2,quantity:1},{itemId:"plateArmor",chance:.1,quantity:1}],sprite:"",description:"    .  ."}],treasures:[{id:"ancientChest1",position:{x:2,y:2},contents:[{itemId:"steelSword",chance:.7,quantity:1},{itemId:"healingPotion",chance:1,quantity:5}],opened:!1},{id:"ancientChest2",position:{x:9,y:2},contents:[{itemId:"luckRing",chance:.6,quantity:1}],opened:!1},{id:"sacredAltar",position:{x:6,y:10},contents:[{itemId:"jewelryBox",chance:1,quantity:1},{itemId:"statBooster",chance:.5,quantity:1}],opened:!1}],boss:{id:"ancientDragon",name:" ",hp:150,maxHp:150,attack:25,defense:15,agility:8,experience:200,drops:[{itemId:"wisdomPendant",chance:1,quantity:1},{itemId:"jewelryBox",chance:.8,quantity:1},{itemId:"experienceScroll",chance:1,quantity:5}],sprite:"",description:"   .   ."},nextFloorRequirement:{bossDefeated:!0,itemRequired:"mysteryKey"}},{id:4,name:" ",description:"  .    .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,1,1,0,0,0,3,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,4,4,0,0,0,0,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,1,1,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"iceGolem",name:" ",hp:80,maxHp:80,attack:18,defense:15,agility:3,experience:60,gold:80,drops:[{itemId:"iceShard",chance:.3,quantity:1}],sprite:"",description:"   "},{id:"frostSprite",name:" ",hp:45,maxHp:45,attack:22,defense:8,agility:12,experience:45,gold:60,sprite:"",description:"   "}],treasures:[{id:"iceChest1",position:{x:5,y:5},contents:[{itemId:"frostArmor",chance:.8,quantity:1}],opened:!1},{id:"iceChest2",position:{x:6,y:5},contents:[{itemId:"healingPotion",chance:1,quantity:10}],opened:!1}],boss:{id:"iceQueen",name:" ",hp:250,maxHp:250,attack:35,defense:20,agility:10,experience:300,gold:500,drops:[{itemId:"iceQueenCrown",chance:.7,quantity:1},{itemId:"experienceScroll",chance:1,quantity:10}],sprite:"",description:"   "},nextFloorRequirement:{bossDefeated:!0}},{id:5,name:" ",description:"    .    .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,0,1,1,0,0,0,0,3,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,4,4,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,1,1,6,6,1,1,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"lavaSerpent",name:" ",hp:90,maxHp:90,attack:28,defense:10,agility:15,experience:80,gold:100,sprite:"",description:"    "},{id:"fireElemental",name:" ",hp:70,maxHp:70,attack:32,defense:5,agility:8,experience:70,gold:90,sprite:"",description:"   "}],treasures:[{id:"lavaChest1",position:{x:6,y:5},contents:[{itemId:"fireResistRing",chance:.9,quantity:1}],opened:!1},{id:"lavaChest2",position:{x:7,y:5},contents:[{itemId:"phoenixFeather",chance:.5,quantity:1}],opened:!1}],boss:{id:"firedragon",name:" ",hp:400,maxHp:400,attack:45,defense:25,agility:12,experience:500,gold:1e3,drops:[{itemId:"dragonScale",chance:.8,quantity:1},{itemId:"legendaryWeapon",chance:.3,quantity:1}],sprite:"",description:"  ,   "},nextFloorRequirement:{bossDefeated:!0,levelRequired:30}}],Us={floors:Sg},kg={fireball:{id:"fireball",name:"",description:"   ",icon:"",type:"attack",element:"fire",mpCost:10,damage:30,cooldown:0,level:1,requiredLevel:1,requiredInt:15},heal:{id:"heal",name:"",description:"HP ",icon:"",type:"heal",element:"light",mpCost:15,healAmount:50,cooldown:2,level:1,requiredLevel:1,requiredInt:10},lightning:{id:"lightning",name:"",description:"  ",icon:"",type:"attack",element:"electric",mpCost:25,damage:50,cooldown:1,level:1,requiredLevel:10,requiredInt:25},ice_shard:{id:"ice_shard",name:" ",description:"  ",icon:"",type:"attack",element:"ice",mpCost:20,damage:35,freezeChance:.3,cooldown:1,level:1,requiredLevel:5,requiredInt:20},shield:{id:"shield",name:"",description:"  ",icon:"",type:"buff",element:"neutral",mpCost:20,defenseBoost:20,duration:3,cooldown:3,level:1,requiredLevel:8},berserk:{id:"berserk",name:"",description:" ,  ",icon:"",type:"buff",element:"neutral",mpCost:15,attackBoost:50,defenseReduce:20,duration:5,cooldown:5,level:1,requiredLevel:12,requiredStrength:30},poison_blade:{id:"poison_blade",name:"",description:"  ",icon:"",type:"attack",element:"poison",mpCost:15,damage:25,poisonDamage:5,poisonDuration:5,cooldown:2,level:1,requiredLevel:7},teleport:{id:"teleport",name:"",description:"   ",icon:"",type:"utility",element:"space",mpCost:30,cooldown:10,level:1,requiredLevel:15,requiredInt:35},summon_familiar:{id:"summon_familiar",name:" ",description:"   ",icon:"",type:"summon",element:"spirit",mpCost:40,familiarHp:50,familiarAttack:15,duration:10,cooldown:15,level:1,requiredLevel:20,requiredInt:40},meteor:{id:"meteor",name:"",description:"   ",icon:"",type:"attack",element:"fire",mpCost:50,damage:100,aoe:!0,cooldown:5,level:1,requiredLevel:25,requiredInt:50}},Cg={skills:kg},Ka=Cg.skills,Mg=({enemy:r,onVictory:c,onDefeat:d,onFlee:o})=>{const m=me(P=>P.player),{updateHpMp:p,gainExperience:g,addItem:j,updateMoney:N}=me(P=>P.actions),[f,C]=k.useState({playerHp:m.hp,playerMp:m.mp,enemyHp:r.hp||r.maxHp,enemyMp:r.mp||50,turn:"player",battleLog:[`${r.name}()  !`],playerEffects:[],enemyEffects:[],turnCount:0,skillCooldowns:{},isAnimating:!1,currentAnimation:null}),[y,D]=k.useState(null),[R,w]=k.useState(!1),E=[Ka.fireball,Ka.heal,Ka.lightning,Ka.ice_shard,Ka.shield,Ka.poison_blade].filter(P=>P&&m.level>=(P.requiredLevel||1)),x=P=>{C(ee=>({...ee,battleLog:[...ee.battleLog.slice(-4),P]}))},v=(P,ee)=>{C(ne=>{const I=P==="player"?"playerEffects":"enemyEffects";return ne[I].find(X=>X.name===ee.name)?{...ne,[I]:ne[I].map(X=>X.name===ee.name?{...X,duration:ee.duration}:X)}:{...ne,[I]:[...ne[I],ee]}})},h=P=>{C(ee=>{const ne=P==="player"?"playerEffects":"enemyEffects",I=P==="player"?"playerHp":"enemyHp";let q=ee[I],X=[];const le=ee[ne].reduce((xe,O)=>{if(O.effect.dotDamage&&(q-=O.effect.dotDamage,X.push(`${P==="player"?"":r.name} ${O.name} ${O.effect.dotDamage}  !`)),O.effect.healOverTime){const Y=P==="player"?m.maxHp:r.maxHp;q=Math.min(Y,q+O.effect.healOverTime),X.push(`${P==="player"?"":r.name} ${O.name} ${O.effect.healOverTime} HP !`)}const U=O.duration-1;return U>0?xe.push({...O,duration:U}):X.push(`${O.name}  .`),xe},[]);return X.forEach(xe=>x(xe)),{...ee,[ne]:le,[I]:Math.max(0,q)}})},M=(P,ee)=>{const ne=ee==="player"?f.playerEffects:f.enemyEffects,I=ee==="player"?f.enemyEffects:f.playerEffects;let q=P;return ne.forEach(X=>{X.effect.attack&&(q+=X.effect.attack)}),I.forEach(X=>{X.effect.defense&&(q=Math.max(1,q-X.effect.defense))}),q=Math.floor(q*(.9+Math.random()*.2)),Math.max(1,q)},_=()=>{if(f.isAnimating||R)return;C(ne=>({...ne,isAnimating:!0,currentAnimation:"attack"}));const P=m.stats?.strength||10,ee=M(P,"player");setTimeout(()=>{C(ne=>({...ne,enemyHp:Math.max(0,ne.enemyHp-ee),isAnimating:!1,currentAnimation:null})),x(` ! ${r.name} ${ee} !`),f.enemyHp-ee<=0?ue():Q()},500)},S=P=>{if(f.isAnimating||R)return;const ee=Ka[P];if(ee){if(f.playerMp<ee.mpCost){x("MP !");return}if(f.skillCooldowns[P]>0){x(`${ee.name}()   ! (${f.skillCooldowns[P]})`);return}C(ne=>({...ne,isAnimating:!0,currentAnimation:`skill-${ee.element}`,playerMp:ne.playerMp-ee.mpCost,skillCooldowns:{...ne.skillCooldowns,[P]:ee.cooldown||0}})),setTimeout(()=>{let ne=`${ee.name} !`;if(ee.type==="attack"){const I=M(ee.damage||20,"player");C(q=>({...q,enemyHp:Math.max(0,q.enemyHp-I)})),ne+=` ${r.name} ${I} ${ee.element} !`,ee.element==="fire"&&Math.random()<.3?(v("enemy",{name:"",icon:"",duration:3,type:"debuff",effect:{dotDamage:5}}),ne+="   !"):ee.element==="ice"&&Math.random()<.3?(v("enemy",{name:"",icon:"",duration:2,type:"debuff",effect:{speed:-5}}),ne+="   !"):ee.element==="electric"&&Math.random()<.3&&(v("enemy",{name:"",icon:"",duration:2,type:"debuff",effect:{attack:-3,defense:-3}}),ne+="   !")}else if(ee.type==="heal"){const I=ee.healAmount||30;C(q=>({...q,playerHp:Math.min(m.maxHp,q.playerHp+I)})),ne+=` HP ${I} !`}else ee.type==="buff"&&(v("player",{name:ee.name,icon:ee.icon,duration:ee.duration||3,type:"buff",effect:ee.effect||{}}),ne+="   !");x(ne),C(I=>({...I,isAnimating:!1,currentAnimation:null})),f.enemyHp<=0?ue():Q()},800)}},T=()=>{f.isAnimating||R||(v("player",{name:" ",icon:"",duration:1,type:"buff",effect:{defense:10}}),C(P=>({...P,playerMp:Math.min(m.maxMp,P.playerMp+5)})),x(" !   MP 5 ."),Q())},Q=()=>{h("player"),C(P=>({...P,skillCooldowns:Object.entries(P.skillCooldowns).reduce((ee,[ne,I])=>(ee[ne]=Math.max(0,I-1),ee),{}),turn:"enemy",turnCount:P.turnCount+1})),setTimeout(()=>se(),1e3)},se=()=>{if(R)return;C(ee=>({...ee,isAnimating:!0,currentAnimation:"enemy-attack"}));const P=Math.random();setTimeout(()=>{if(P<.6){const ee=M(r.attack||5,"enemy");C(ne=>({...ne,playerHp:Math.max(0,ne.playerHp-ee)})),x(`${r.name} ! ${ee}  !`)}else if(P<.9&&f.enemyMp>=10){const ee=M((r.attack||5)*1.5,"enemy");C(ne=>({...ne,playerHp:Math.max(0,ne.playerHp-ee),enemyMp:ne.enemyMp-10})),x(`${r.name}  ! ${ee}   !`),Math.random()<.3&&(v("player",{name:"",icon:"",duration:2,type:"debuff",effect:{attack:-3}}),x("  !"))}else C(ee=>({...ee,enemyHp:Math.min(r.maxHp,ee.enemyHp+10)})),x(`${r.name}() !`);h("enemy"),C(ee=>({...ee,isAnimating:!1,currentAnimation:null,turn:"player"})),f.playerHp<=0&&F()},800)},ue=()=>{w(!0),x(`! ${r.name}() !`);const P=r.experience||10,ee=r.gold||Math.floor(Math.random()*20)+10;if(g(P),N(ee),r.drops&&Math.random()<.5){const ne=r.drops[Math.floor(Math.random()*r.drops.length)];ne&&(j(ne.itemId),x(`${ne.itemId}() !`))}x(` +${P},  +${ee}`),p(f.playerHp,f.playerMp),setTimeout(()=>{c()},2e3)},F=()=>{w(!0),x("...");const P=Math.floor(m.money*.1);N(-P),p(1,m.mp),x(` ${P} .`),setTimeout(()=>{d()},2e3)},pe=()=>{if(f.isAnimating||R)return;const P=.6+(m.stats?.agility||10)*.02;Math.random()<P?(x("!"),p(f.playerHp,f.playerMp),setTimeout(()=>o(),1e3)):(x(" !"),Q())};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",children:a.jsxs("div",{className:"w-full max-w-6xl h-full max-h-[90vh] glass-card p-6 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"glass-card p-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-text-primary mb-2",children:[m.name," (Lv.",m.level,")"]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-red-400",children:"HP"}),a.jsxs("span",{className:"text-text-secondary",children:[f.playerHp,"/",m.maxHp]})]}),a.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${f.playerHp/m.maxHp*100}%`}})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-blue-400",children:"MP"}),a.jsxs("span",{className:"text-text-secondary",children:[f.playerMp,"/",m.maxMp]})]}),a.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300",style:{width:`${f.playerMp/m.maxMp*100}%`}})})]}),f.playerEffects.length>0&&a.jsx("div",{className:"flex gap-2 mt-2",children:f.playerEffects.map((P,ee)=>a.jsxs("div",{className:`badge ${P.type==="buff"?"badge-success":"badge-error"}`,title:P.name,children:[P.icon," ",P.duration]},ee))})]}),a.jsx("div",{className:`h-48 flex items-center justify-center ${f.currentAnimation==="attack"?"animate-pulse":""}`,children:a.jsx("div",{className:"text-8xl",children:""})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"glass-card p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:r.name}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-red-400",children:"HP"}),a.jsxs("span",{className:"text-text-secondary",children:[f.enemyHp,"/",r.maxHp]})]}),a.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${f.enemyHp/r.maxHp*100}%`}})})]}),f.enemyEffects.length>0&&a.jsx("div",{className:"flex gap-2 mt-2",children:f.enemyEffects.map((P,ee)=>a.jsxs("div",{className:`badge ${P.type==="buff"?"badge-success":"badge-error"}`,title:P.name,children:[P.icon," ",P.duration]},ee))})]}),a.jsx("div",{className:`h-48 flex items-center justify-center ${f.currentAnimation==="enemy-attack"?"animate-bounce":""}`,children:a.jsx("div",{className:"text-8xl",children:r.icon||""})})]})]}),a.jsx("div",{className:"glass-card p-3 h-24 mb-4 overflow-y-auto",children:f.battleLog.map((P,ee)=>a.jsx("div",{className:"text-sm text-text-secondary",children:P},ee))}),a.jsx("div",{className:"glass-card p-4",children:f.turn==="player"&&!R?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{onClick:_,disabled:f.isAnimating,className:"btn-primary px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),a.jsx("button",{onClick:()=>D(y?null:"skills"),disabled:f.isAnimating,className:"btn-accent px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),a.jsx("button",{onClick:T,disabled:f.isAnimating,className:"btn-secondary px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),a.jsx("button",{onClick:pe,disabled:f.isAnimating,className:"btn-ghost px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "})]}),y==="skills"&&a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3 p-3 bg-background-dark rounded-lg",children:E.map(P=>{const ee=f.skillCooldowns[P.id]>0,ne=f.playerMp<P.mpCost;return a.jsx("button",{onClick:()=>S(P.id),disabled:f.isAnimating||ee||ne,className:`p-3 rounded-lg text-left transition-all ${ee||ne?"bg-gray-700 opacity-50 cursor-not-allowed":"bg-primary/20 hover:bg-primary/30"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:P.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-text-primary",children:P.name}),a.jsxs("div",{className:"text-xs text-text-secondary",children:["MP: ",P.mpCost,ee&&` (CD: ${f.skillCooldowns[P.id]})`]})]})]})},P.id)})})]}):f.turn==="enemy"&&!R?a.jsx("div",{className:"text-center text-text-secondary py-4",children:a.jsx("div",{className:"animate-pulse",children:" ..."})}):R?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-2xl font-bold text-text-primary mb-2",children:" !"}),a.jsx("button",{onClick:f.playerHp>0?c:d,className:"btn-primary px-6 py-3 rounded-lg font-semibold",children:""})]}):null})]})})},$c=0,di=1,Yc=2,gf=3,bf=4,Qc=5,Xc=6,Eg=()=>{const r=Je(),c=me(U=>U.player),{updatePlayer:d,updateHpMp:o,addItem:m,updateMoney:p,gainExperience:g}=me(U=>U.actions),j=(c.dungeonProgress?.currentFloor||1)-1,N=Us.floors[j]||Us.floors[0],[f,C]=k.useState(!1),[y,D]=k.useState(null),R=U=>{for(let Y=0;Y<U.length;Y++)for(let Z=0;Z<U[Y].length;Z++)if(U[Y][Z]===Yc)return{x:Z,y:Y};for(let Y=0;Y<U.length;Y++)for(let Z=0;Z<U[Y].length;Z++)if(U[Y][Z]===$c)return{x:Z,y:Y};return{x:1,y:1}},[w,E]=k.useState(()=>N.layout.map(U=>[...U])),[x,v]=k.useState(()=>{const U=c.dungeonProgress?.position;return U&&U.x!==void 0&&U.y!==void 0&&w[U.y]&&w[U.y][U.x]!==di?U:R(w)}),[h,M]=k.useState(()=>{const U=x;return new Set([`${U.x},${U.y}`])}),[_,S]=k.useState(" !"),[T,Q]=k.useState(new Set),[se,ue]=k.useState(new Set),[F,pe]=k.useState(new Map);k.useEffect(()=>{const U=new Map;if(N.enemies&&N.enemies.length>0){const Y=[];for(let W=0;W<w.length;W++)for(let ae=0;ae<w[W].length;ae++)if(w[W][ae]===$c){const ie={x:ae,y:W},De=R(w);Math.abs(ie.x-De.x)+Math.abs(ie.y-De.y)>2&&Y.push(ie)}const Z=Math.min(Y.length,3+Math.floor(Math.random()*3));for(let W=0;W<Z;W++)if(Y.length>0){const ae=Math.floor(Math.random()*Y.length),ie=Y[ae],De=N.enemies[Math.floor(Math.random()*N.enemies.length)];U.set(`${ie.x},${ie.y}`,{...De}),Y.splice(ae,1)}}pe(U)},[N]),k.useEffect(()=>{d({dungeonProgress:{...c.dungeonProgress,position:x}})},[x]),k.useEffect(()=>{const U=new Set(h);for(let Y=-1;Y<=1;Y++)for(let Z=-1;Z<=1;Z++){const W=x.x+Z,ae=x.y+Y;W>=0&&ae>=0&&ae<w.length&&W<w[0].length&&U.add(`${W},${ae}`)}M(U)},[x]);const P=k.useCallback((U,Y)=>{const Z=x.x+U,W=x.y+Y;if(Z<0||W<0||W>=w.length||Z>=w[0].length){S(" !");return}const ae=w[W][Z];if(ae===di){S(" !");return}v({x:Z,y:W}),ee(Z,W,ae)},[x,w]),ee=(U,Y,Z)=>{const W=`${U},${Y}`;if(F.has(W)&&!se.has(W)){const ae=F.get(W);D(ae),C(!0),S(`${ae.name}() !`);return}switch(Z){case $c:case Yc:S("  ...");break;case gf:T.has(W)?S("  ."):ne(U,Y);break;case bf:I();break;case Qc:q();break;case Xc:se.has(W)?S("  ."):X();break}},ne=(U,Y)=>{const Z=N.treasures||[{name:" ",effect:"HP +20",value:20},{name:"",effect:"Gold +50",value:50},{name:" ",effect:"MP +10",value:10}],W=Z[Math.floor(Math.random()*Z.length)];S(` ! ${W.name}() !`),W.effect.includes("HP")?o(Math.min(c.maxHp,c.hp+W.value),c.mp):W.effect.includes("MP")?o(c.hp,Math.min(c.maxMp,c.mp+W.value)):W.effect.includes("Gold")&&p(W.value),Q(ae=>new Set(ae).add(`${U},${Y}`))},I=()=>{const U=Math.floor(Math.random()*10)+5;S(` ! ${U}  !`),o(Math.max(1,c.hp-U),c.mp)},q=()=>{j<Us.floors.length-1?(S("  !"),d({dungeonProgress:{...c.dungeonProgress,currentFloor:j+2,position:{x:1,y:1}}}),E(Us.floors[j+1].layout),v(R(Us.floors[j+1].layout)),M(new Set),Q(new Set),ue(new Set)):(S("!  !"),g(100),p(500),r("/game"))},X=(U,Y)=>{const Z=N.boss;if(!Z){S(" .");return}D(Z),C(!0),S(` ${Z.name}()  !`)},le=()=>{const U=`${x.x},${x.y}`;ue(Y=>new Set([...Y,U])),C(!1),D(null),S(" !")},xe=()=>{C(!1),D(null);const U=R(w);v(U),o(Math.floor(c.maxHp*.5),c.mp),S(" .   .")},O=()=>{C(!1),D(null);const U=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];for(const Y of U){const Z=x.x+Y.dx,W=x.y+Y.dy;if(Z>=0&&W>=0&&W<w.length&&Z<w[0].length&&w[W][Z]!==di){v({x:Z,y:W});break}}S(" .")};return k.useEffect(()=>{const U=Y=>{if(!f)switch(Y.key){case"ArrowUp":case"w":P(0,-1);break;case"ArrowDown":case"s":P(0,1);break;case"ArrowLeft":case"a":P(-1,0);break;case"ArrowRight":case"d":P(1,0);break}};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[P,f]),f&&y?a.jsx(Mg,{enemy:y,onVictory:le,onDefeat:xe,onFlee:O}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"glass-card p-4 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:["  - ",N.name]}),a.jsxs("p",{className:"text-text-secondary",children:[": ",N.id," | : (",x.x,", ",x.y,")"]})]}),a.jsx("button",{onClick:()=>r("/game"),className:"btn-secondary px-6 py-3 rounded-xl font-semibold",children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"glass-card p-6",children:[a.jsx("div",{className:"grid grid-cols-8 gap-1 mb-4",children:w.map((U,Y)=>U.map((Z,W)=>{const ae=`${W},${Y}`,ie=h.has(ae),De=W===x.x&&Y===x.y,_e=F.has(ae)&&!se.has(ae);return a.jsx("div",{className:`
                          aspect-square flex items-center justify-center rounded
                          ${ie?Z===di?"bg-gray-700":Z===Yc?"bg-green-800":Z===Qc?"bg-yellow-800":Z===Xc?"bg-red-900":"bg-gray-600":"bg-gray-800"}
                          ${De?"ring-2 ring-primary animate-pulse":""}
                        `,children:ie&&a.jsx(a.Fragment,{children:De?a.jsx("div",{className:"text-2xl",children:""}):a.jsxs("div",{className:"text-xl",children:[Z===gf&&!T.has(ae)&&"",Z===Qc&&"",Z===Xc&&!se.has(ae)&&"",Z===bf&&"",_e&&a.jsx("span",{className:"animate-pulse",children:F.get(ae)?.icon||""})]})})},ae)}))}),a.jsxs("div",{className:"glass-card p-4",children:[a.jsx("p",{className:"text-text-secondary text-center mb-3",children:"  WASD "}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-xs mx-auto",children:[a.jsx("div",{}),a.jsx("button",{onClick:()=>P(0,-1),className:"btn-primary p-3 rounded-lg",children:""}),a.jsx("div",{}),a.jsx("button",{onClick:()=>P(-1,0),className:"btn-primary p-3 rounded-lg",children:""}),a.jsx("button",{onClick:()=>P(0,1),className:"btn-primary p-3 rounded-lg",children:""}),a.jsx("button",{onClick:()=>P(1,0),className:"btn-primary p-3 rounded-lg",children:""})]})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glass-card p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:" "}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-red-400",children:"HP"}),a.jsxs("span",{className:"text-text-secondary",children:[c.hp,"/",c.maxHp]})]}),a.jsx("div",{className:"w-full h-2 bg-background-dark rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${c.hp/c.maxHp*100}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-blue-400",children:"MP"}),a.jsxs("span",{className:"text-text-secondary",children:[c.mp,"/",c.maxMp]})]}),a.jsx("div",{className:"w-full h-2 bg-background-dark rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300",style:{width:`${c.mp/c.maxMp*100}%`}})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-background-dark p-2 rounded",children:[a.jsx("span",{className:"text-yellow-400",children:""}),a.jsx("span",{className:"float-right text-text-primary",children:c.level})]}),a.jsxs("div",{className:"bg-background-dark p-2 rounded",children:[a.jsx("span",{className:"text-green-400",children:""}),a.jsx("span",{className:"float-right text-text-primary",children:c.money})]})]})]}),a.jsxs("div",{className:"glass-card p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:""}),a.jsx("div",{className:"bg-background-dark p-3 rounded-lg h-32 overflow-y-auto",children:a.jsx("p",{className:"text-text-secondary",children:_})})]}),a.jsxs("div",{className:"glass-card p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:""}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-text-secondary",children:""})]})]})]})]})]})]})})},Vc=qf.items,_g=()=>{const r=Je(),c=me(S=>S.player),{buyItem:d,updateMoney:o,sellItem:m}=me(S=>S.actions),[p,g]=k.useState("buy"),[j,N]=k.useState(null),[f,C]=k.useState(""),y=Object.values(Vc).filter(S=>S.type==="gift"||S.type==="consumable"),D=["","","",""],R=y.filter(S=>f===""?!0:f===""?S.category==="":f===""?S.category==="":f===""?S.rarity==="rare"||S.rarity==="legendary":!0),w=me(S=>S.player.inventory),E=k.useMemo(()=>{const S=w.reduce((T,Q)=>(T[Q]=(T[Q]||0)+1,T),{});return Object.entries(S).map(([T,Q])=>({...Vc[T],count:Q}))},[w]),x=S=>{if(c.money<S.value){alert(" !");return}o(-S.value),d(S.id),alert(`${S.name}() !`)},v=S=>{const T=Math.floor(S.value/2);m(S.id,T),alert(`${S.name}() ${T}G !`),N(null)},h=S=>{g(S),N(null)},M=S=>{switch(S){case"common":return"";case"uncommon":return"";case"rare":return"";case"epic":return"";case"legendary":return"";default:return""}},_=j?Vc[j]:null;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 to-purple-200 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"  "}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-yellow-600",children:""}),a.jsxs("span",{className:"font-semibold text-gray-800",children:[c.money," "]})]})]}),a.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transition",children:" "})]})}),a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-1 rounded-xl shadow-md",children:[a.jsxs("button",{onClick:()=>h("buy"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${p==="buy"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[a.jsx("span",{role:"img","aria-label":"buy",children:""})," "]}),a.jsxs("button",{onClick:()=>h("sell"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${p==="sell"?"bg-gradient-to-r from-green-500 to-teal-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[a.jsx("span",{role:"img","aria-label":"sell",children:""})," "]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:p==="buy"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex gap-2 mb-4",children:D.map(S=>a.jsx("button",{onClick:()=>C(S),className:`px-4 py-2 rounded-lg font-medium transition ${f===S?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:S},S))}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:R.map(S=>a.jsx("div",{onClick:()=>N(S.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${j===S.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:S.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:S.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${S.rarity==="legendary"?"bg-yellow-100 text-yellow-800":S.rarity==="epic"?"bg-purple-100 text-purple-800":S.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:M(S.rarity)}),a.jsxs("span",{className:"font-bold text-yellow-700",children:[S.value," G"]})]})]})]})},S.id))})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:E.length>0?E.map(S=>a.jsx("div",{onClick:()=>N(S.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${j===S.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:S.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:[S.name," ",a.jsxs("span",{className:"text-sm text-gray-500",children:["x",S.count]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${S.rarity==="legendary"?"bg-yellow-100 text-yellow-800":S.rarity==="epic"?"bg-purple-100 text-purple-800":S.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:M(S.rarity)}),a.jsxs("span",{className:"font-bold text-green-700",children:[": ",Math.floor(S.value/2)," G"]})]})]})]})},S.id)):a.jsxs("div",{className:"col-span-full text-center text-gray-500 py-8",children:[a.jsx("span",{className:"text-4xl mb-4 block",children:""}),a.jsx("p",{children:"  ."})]})})}),a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),_?a.jsxs("div",{children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-6xl mb-2",children:_.icon}),a.jsx("h4",{className:"text-xl font-bold text-gray-800",children:_.name})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:""}),a.jsx("p",{className:"text-sm text-gray-600",children:_.description})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:""}),a.jsx("div",{className:"space-y-1 text-sm",children:_.effects?.map((S,T)=>a.jsxs("div",{className:"text-gray-600",children:[" ",S.type,": ",S.value]},T))})]})]}),a.jsx("div",{className:"border-t pt-3",children:p==="buy"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"font-medium",children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-600",children:""}),a.jsxs("span",{className:"font-bold text-yellow-800",children:[_.value," "]})]})]}),a.jsx("button",{onClick:()=>x(_),disabled:c.money<_.value,className:`w-full py-3 rounded-lg font-bold transition ${c.money>=_.value?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:c.money>=_.value?"":" "})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-600",children:""}),a.jsxs("span",{className:"font-bold text-green-800",children:[Math.floor(_.value/2)," "]})]})]}),a.jsx("button",{onClick:()=>v(_),className:"w-full py-3 rounded-lg font-bold transition bg-red-500 hover:bg-red-600 text-white",children:""})]})})]}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx("span",{className:"text-4xl mb-4 block",children:""}),a.jsx("p",{children:"      ."})]})]})]})]})})},Ag={fullName:"  ( )",age:18,birthday:"4 5",height:"165cm",bloodType:"O",hobby:[" ","  "," "],favorite:["",""," "],dislike:["",""," "],background:"   '' . 5   ,     3   .       .",secretStory:"        .       ,       .",personality:"  .       .      .",relationships:{yuki:"  .   .",luna:"    ."},specialSkills:["  "," "," "],weakness:"  .     .",dream:"   ,      "},Tg={fullName:"  ( )",age:17,birthday:"12 24",height:"158cm",bloodType:"AB",hobby:[" "," "," "],favorite:[""," ","  "],dislike:[" ",""," "],background:"     . 10    ,    .       .",secretStory:"       .       ,       .",personality:" .   ,      .",relationships:{sakura:"   .",luna:"    ."},specialSkills:["  "," "," "],weakness:" ,    .     .",dream:"   ,     "},Dg={fullName:"  (Luna Crimson)",age:"???",birthday:"10 31",height:"162cm",bloodType:"",hobby:["  ","  "," "],favorite:[""," "," "],dislike:["","","(?)"],background:"  .   ,    .     ,      .",secretStory:"500     ,    .        .     ,          .",personality:" ,     .         .",relationships:{sakura:"   .",yuki:"      ."},specialSkills:[" "," "," "," "],weakness:"    .   .",dream:"      ,     "},Rg={fullName:"??? ()",age:"",birthday:"",height:"",bloodType:"",hobby:[""," "," "],favorite:["","  "," "],dislike:["  ",""," "],background:"    .  ,  ,   .   .",secretStory:"    .        .      .",personality:"  ,      .",relationships:{all:"   ."},specialSkills:[" "," ","   "],weakness:"    .",dream:"    . ... ?"},Og={fullName:"  ( )",age:18,birthday:"9 15",height:"168cm",bloodType:"A",hobby:[" "," "," "],favorite:[""," "," "],dislike:["",""," "],background:"  .    ,   .      .",secretStory:"      .        .",personality:"   .       .",relationships:{hana:" .   .",rin:"  .",mei:"   ."},specialSkills:[" ","  "," "],weakness:"  .    .",dream:"         "},zg={fullName:"  ( )",age:17,birthday:"3 8",height:"160cm",bloodType:"B",hobby:[" "," "," "],favorite:[""," ","  "],dislike:[" "," "," "],background:"       .      .",secretStory:"     ,     .         .",personality:"    .   .",relationships:{akane:"   .   .",rin:"    .",sora:"    ."},specialSkills:["  "," "," "],weakness:"     .    .",dream:"        "},Hg={fullName:"  ( )",age:16,birthday:"7 21",height:"163cm",bloodType:"O",hobby:[" "," "," "],favorite:[""," "," "],dislike:["  ",""," "],background:"   .       .",secretStory:"       .       .     .",personality:"  .    .",relationships:{sakura:"  .",hana:"   .",sora:"   ."},specialSkills:[" "," "," "],weakness:"   .    .",dream:"   ,      "},qg={fullName:"  ( )",age:17,birthday:"11 3",height:"155cm",bloodType:"AB",hobby:[" "," "," "],favorite:["",""," "],dislike:[" ","","  "],background:"     .     .",secretStory:"     .      .       .",personality:" .      .",relationships:{luna:"   .",akane:"    .",sora:"    ."},specialSkills:["  ","  "," "],weakness:" .     .",dream:"     ,     "},Bg={fullName:"  ( )",age:16,birthday:"2 14",height:"152cm",bloodType:"B",hobby:["",""," "],favorite:["","",""],dislike:["","",""],background:"IQ 180  . 12  , 15  .       .",secretStory:"    ,    .       .",personality:" .      .",relationships:{yuki:"  .",hana:"   .",mei:"    ."},specialSkills:[" ","  "," "],weakness:"   .   .",dream:"   ,     "},Uf={sakura:Ag,yuki:Tg,luna:Dg,mystery:Rg,akane:Og,hana:zg,rin:Hg,mei:qg,sora:Bg},Lg=({currentCharacter:r,onCharacterSelect:c})=>{const d=Uf,o=d[r];if(!o||!o.relationships)return null;const m={sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""},p={sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""};return a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-3 text-secondary flex items-center gap-2",children:"  "}),a.jsx("div",{className:"space-y-3",children:Object.entries(o.relationships).map(([g,j])=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/30 rounded-lg hover:bg-black/40 transition-colors",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center text-xl border-2 border-primary/30 ${c?"cursor-pointer hover:scale-110 transition-transform":""}`,onClick:()=>c?.(g),children:m[g]||""}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-accent",children:p[g]||g}),c&&a.jsx("button",{onClick:()=>c(g),className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded hover:bg-primary/30 transition-colors",children:""})]}),a.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:j})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-pink-400 to-red-400 rounded-full animate-pulse"})})]},g))}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-border/30",children:[a.jsx("h6",{className:"text-sm font-medium text-text-secondary mb-2",children:"  "}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(o.relationships).map(g=>{const N=d[g]?.relationships?.[r];return N?a.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-black/20 rounded",children:[a.jsxs("span",{className:"text-accent",children:[p[g]," :"]}),a.jsx("span",{className:"text-text-primary flex-1",children:N})]},g):null})})]})]})},yf=Fa,Ie=Uf,Gf=et.memo(()=>{const r=Je(),c=me(h=>h.player),d=me(h=>h.unlockedCharacters),[o,m]=k.useState(d[0]||"sakura"),p=k.useMemo(()=>({sakura:"",yuki:"",luna:"",mystery:"???"}),[]),g=k.useMemo(()=>({morning:"  ",noon:"",afternoon:" ",evening:"",night:" "}),[]),j=k.useCallback(h=>{const M=c.affection[h]||0;return{poise:Math.max(60+Math.floor(M/5),0),stress:Math.max(40-Math.floor(M/3),0),arousal:Math.min(20+Math.floor(M/8),100),affection:M}},[c.affection]),N=k.useCallback(h=>p[h]||" ",[p]),f=k.useCallback(h=>(c.affection[h]||0)>=70?"  ":g[c.timeOfDay]||" ",[c.affection,c.timeOfDay,g]),C=k.useCallback(h=>{const M=c.affection[h]||0;return M>=80?" ":M>=60?" ":M>=40?"  ()":" "},[c.affection]),y=k.useCallback(h=>{const M=c.affection[h]||0;return M>=90?"":M>=75?" ":M>=60?" ":M>=40?"":M>=20?"":" "},[c.affection]),D=k.useCallback((h,M)=>{const _=c.affection[M]||0;if(_===0)return"  .  .";const S=Object.keys(h.dialogues).map(Number).sort((T,Q)=>Q-T);for(const T of S)if(_>=T)return h.dialogues[T.toString()]||"  .  .";return h.dialogues[0]||"  .  ."},[c.affection]),R=k.useMemo(()=>({morning:"8:30 AM",noon:"12:00 PM",afternoon:"3:00 PM",evening:"6:30 PM",night:"10:00 PM"}),[]),w=k.useCallback(()=>R[c.timeOfDay]||"Unknown",[c.timeOfDay,R]),E=k.useMemo(()=>{const h=new Date,M=h.getMonth()+1,_=h.getDate(),T=["","","","","","",""][h.getDay()];return`${h.getFullYear()}-${M.toString().padStart(2,"0")}-${_.toString().padStart(2,"0")} ${T}`},[]),x=k.useMemo(()=>yf[o],[o]),v=k.useCallback(()=>{r("/game")},[r]);return a.jsx("div",{className:"min-h-screen bg-background p-4 text-text-primary",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg shadow-lg p-4 mb-4 border border-border",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"  "}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-primary hover:bg-secondary text-white rounded-lg transition","aria-label":"   ",role:"button",children:"  "})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:a.jsxs("div",{className:"lg:col-span-4",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-t-lg shadow-lg p-4 border-b border-border",children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-text-primary text-center",children:" "}),a.jsx("div",{className:"flex gap-4 justify-center overflow-x-auto pb-2",children:d.map(h=>{const M=yf[h];return M?a.jsxs("button",{onClick:()=>m(h),className:`px-6 py-3 rounded-lg transition-all border-2 flex flex-col items-center gap-2 min-w-[120px] ${o===h?"border-primary bg-primary/20 scale-105 shadow-lg":"border-border hover:border-primary hover:bg-primary/10 hover:shadow-md"}`,"aria-label":`${M.name}  `,"aria-pressed":o===h,role:"button",children:[a.jsx("span",{className:"text-3xl","aria-hidden":"true",children:M.sprite}),a.jsx("div",{className:"font-bold text-text-primary text-sm whitespace-nowrap",children:M.name})]},h):null})})]}),x&&a.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-b-2xl shadow-2xl overflow-hidden border border-border border-t-0",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 min-h-[700px]",children:[a.jsxs("div",{className:"bg-black/20 p-8 flex flex-col items-center justify-center relative",children:["                    ",a.jsx("div",{className:"absolute top-4 right-4 text-6xl opacity-10",children:x.sprite}),a.jsxs("div",{className:"w-56 h-56 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-8xl mb-6 shadow-xl border-4 border-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx("span",{className:"relative z-10",children:x.sprite})]}),a.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2 text-center",children:x.name}),a.jsx("p",{className:"text-secondary font-medium text-lg mb-4",children:x.role}),a.jsx("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4 w-full",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-secondary",children:j(o).affection}),a.jsx("div",{className:"text-sm text-text-secondary",children:""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-primary",children:y(o)}),a.jsx("div",{className:"text-sm text-text-secondary",children:""})]})]})})]}),a.jsxs("div",{className:"lg:col-span-2 p-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),a.jsx("div",{className:"font-medium text-lg text-text-primary",children:N(o)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),a.jsx("div",{className:"font-medium text-lg text-text-primary",children:C(o)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),a.jsx("div",{className:"font-medium text-lg text-text-primary",children:f(o)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),a.jsx("div",{className:"font-medium text-lg text-text-primary",children:y(o)})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:" "}),a.jsx("div",{className:"space-y-4",children:Object.entries(j(o)).map(([h,M])=>{const S={poise:{icon:"",label:"",color:"from-blue-400 to-blue-600"},stress:{icon:"",label:"",color:"from-orange-400 to-orange-600"},arousal:{icon:"",label:"",color:"from-pink-400 to-pink-600"},affection:{icon:"",label:"",color:"from-red-400 to-red-600"}}[h];return S?a.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"font-medium flex items-center gap-2 text-text-primary",children:[a.jsx("span",{className:"text-xl",children:S.icon}),a.jsx("span",{children:S.label})]}),a.jsxs("span",{className:"font-bold text-lg text-text-primary",children:[M,"%"]})]}),a.jsx("div",{className:"w-full bg-black/50 rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${S.color} transition-all duration-1000 ease-out relative`,style:{width:`${Math.max(M,0)}%`},children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent rounded-full"})})})]},h):null})})]}),Ie[o]&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary",children:":"})," ",a.jsx("span",{className:"text-text-primary",children:Ie[o].fullName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary",children:":"})," ",a.jsx("span",{className:"text-text-primary",children:Ie[o].age})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary",children:":"})," ",a.jsx("span",{className:"text-text-primary",children:Ie[o].birthday})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary",children:":"})," ",a.jsx("span",{className:"text-text-primary",children:Ie[o].bloodType})]})]})]}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),a.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:Ie[o].background})]}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),a.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:Ie[o].personality})]}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" & "}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary text-sm",children:":"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[o].hobby?.map((h,M)=>a.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs",children:h},M))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary text-sm",children:" :"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[o].favorite?.map((h,M)=>a.jsxs("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs",children:[" ",h]},M))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-secondary text-sm",children:" :"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[o].dislike?.map((h,M)=>a.jsxs("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs",children:[" ",h]},M))})]})]})]}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Ie[o].specialSkills?.map((h,M)=>a.jsxs("span",{className:"bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-sm font-medium border border-purple-500/30",children:[" ",h]},M))})]}),Ie[o].weakness&&a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),a.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:[" ",Ie[o].weakness]})]}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),a.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:[" ",Ie[o].dream]})]}),Ie[o].secretStory&&c.affection[o]>=50&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 backdrop-blur-sm rounded-lg p-4 border border-purple-500/30",children:[a.jsxs("h5",{className:"text-md font-semibold mb-2 text-purple-300 flex items-center gap-2",children:["  ",a.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded",children:" 50+ "})]}),a.jsx("p",{className:"text-sm text-purple-100 leading-relaxed",children:Ie[o].secretStory})]}),Ie[o].secretStory&&c.affection[o]<50&&a.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-gray-600/30",children:[a.jsxs("h5",{className:"text-md font-semibold mb-2 text-gray-400 flex items-center gap-2",children:["  ",a.jsx("span",{className:"text-xs bg-gray-600/20 text-gray-400 px-2 py-1 rounded",children:" 50 "})]}),a.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"        ..."})]}),a.jsx(Lg,{currentCharacter:o,onCharacterSelect:h=>{d.includes(h)&&m(h)}})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),a.jsx("div",{className:"bg-black/20 rounded-lg p-6 border-l-4 border-primary",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:x.sprite}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-primary mb-2",children:x.name}),a.jsxs("p",{className:"text-text-secondary italic leading-relaxed",children:['"',D(x,o),'"']})]})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.likes?.slice(0,8).map((h,M)=>a.jsx("span",{className:"bg-primary/20 text-primary px-4 py-2 rounded-full text-sm font-medium border border-primary/50",children:h},M))})]}),a.jsxs("div",{className:"border-t border-border pt-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-6 text-sm text-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:E})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:w()})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"bg-accent text-background px-3 py-1 rounded-full text-sm font-medium",children:["Day ",c.day]})})]})]})]})})]})})]})})});Gf.displayName="CharacterCardPage";const Ug=({onCreateAccount:r})=>{const c=Je(),[d,o]=k.useState(!1),[m,p]=k.useState(""),[g,j]=k.useState({username:"",email:"",password:"",confirmPassword:""}),N=(y,D)=>{j(R=>({...R,[y]:D}))},f=()=>g.username.trim()?g.username.length<3?"  3  .":g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)?g.password.trim()?g.password.length<6?"  6  .":g.password!==g.confirmPassword?"  .":null:" .":"   .":" .":" .",C=async y=>{y.preventDefault(),p("");const D=f();if(D){p(D);return}o(!0);try{await new Promise(w=>setTimeout(w,2e3)),r(g)?(alert("  !"),c("/login")):p("    .")}catch{p("    .")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-2",children:" "}),a.jsx("p",{className:"text-purple-200",children:"Labyrinth Academy   "})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),a.jsx("input",{type:"text",value:g.username,onChange:y=>N("username",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  (3 )",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),a.jsx("input",{type:"email",value:g.email,onChange:y=>N("email",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),a.jsx("input",{type:"password",value:g.password,onChange:y=>N("password",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  (6 )",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:" "}),a.jsx("input",{type:"password",value:g.confirmPassword,onChange:y=>N("confirmPassword",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  ",required:!0})]}),m&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:a.jsx("p",{className:"text-red-300 text-sm",children:m})}),a.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[a.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:" "}),a.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[a.jsx("p",{children:"   18   "}),a.jsx("p",{children:"     "}),a.jsx("p",{children:"    "})]})]}),a.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:d?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"  ..."})]}):" "})]}),a.jsxs("div",{className:"flex justify-between items-center mt-6 text-sm",children:[a.jsx("button",{onClick:()=>c("/"),className:"text-purple-300 hover:text-white transition-colors",children:"  "}),a.jsx("button",{onClick:()=>c("/login"),className:"text-purple-300 hover:text-white transition-colors",children:"  ?  "})]})]})})},Gg=()=>{const r=Je();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:" "}),a.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:" "})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"text-purple-200 space-y-3",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Labyrinth Academy"}),"         ."]}),a.jsx("p",{children:"       ,  ,    ."}),a.jsx("p",{children:" 30         !"})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"   "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-purple-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:" "}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:":"}),"     "]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:" :"}),' " "  ']}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:":"}),"    "]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:":"}),"     "]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:" "}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"/:"}),"   "]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:":"}),"    "]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:":"}),' " "  ']}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:" :"}),"    "]})]})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-pink-300 mb-3",children:"  "}),a.jsxs("div",{className:"text-purple-200 space-y-2",children:[a.jsx("p",{children:"      "}),a.jsx("p",{children:"      "}),a.jsx("p",{children:"       "})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-3",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-purple-200",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Intelligence)"}),a.jsx("div",{className:"text-sm",children:"   "})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Charm)"}),a.jsx("div",{className:"text-sm",children:"  "})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Stamina)"}),a.jsx("div",{className:"text-sm",children:"  "})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Strength)"}),a.jsx("div",{className:"text-sm",children:"   "})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Agility)"}),a.jsx("div",{className:"text-sm",children:"  "})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:" (Luck)"}),a.jsx("div",{className:"text-sm",children:"  "})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-3",children:"  "}),a.jsxs("div",{className:"text-purple-200 space-y-2",children:[a.jsx("p",{children:"  5  : , , , , "}),a.jsx("p",{children:"        "}),a.jsx("p",{children:"  30      "})]})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-pink-500/20 p-4 rounded-lg border border-pink-400/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:""}),a.jsx("p",{className:"text-pink-300",children:" "})]})]}),a.jsx("p",{className:"text-purple-200 text-sm",children:"    .      ."})]}),a.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-400/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:""}),a.jsx("p",{className:"text-blue-300",children:" "})]})]}),a.jsx("p",{className:"text-purple-200 text-sm",children:"    .      ."})]}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg border border-purple-400/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:""}),a.jsx("p",{className:"text-purple-300",children:" "})]})]}),a.jsx("p",{className:"text-purple-200 text-sm",children:"  .        ."})]}),a.jsxs("div",{className:"bg-gray-500/20 p-4 rounded-lg border border-gray-400/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"???"}),a.jsx("p",{className:"text-gray-300",children:" "})]})]}),a.jsx("p",{className:"text-purple-200 text-sm",children:"     .     ."})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"text-purple-200 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"     .   !"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"         ."})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"       ."})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"     ,   ."})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"   .   !"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-400 mt-1",children:""}),a.jsx("p",{children:"       ."})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"text-purple-200 space-y-3",children:[a.jsx("p",{children:"     :"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"bg-pink-500/20 p-3 rounded border border-pink-400/30",children:[a.jsx("div",{className:"font-semibold text-pink-300",children:"  "}),a.jsx("div",{className:"text-sm",children:"    "})]}),a.jsxs("div",{className:"bg-green-500/20 p-3 rounded border border-green-400/30",children:[a.jsx("div",{className:"font-semibold text-green-300",children:"  "}),a.jsx("div",{className:"text-sm",children:"   "})]}),a.jsxs("div",{className:"bg-blue-500/20 p-3 rounded border border-blue-400/30",children:[a.jsx("div",{className:"font-semibold text-blue-300",children:"  "}),a.jsx("div",{className:"text-sm",children:"   "})]}),a.jsxs("div",{className:"bg-gray-500/20 p-3 rounded border border-gray-400/30",children:[a.jsx("div",{className:"font-semibold text-gray-300",children:"  "}),a.jsx("div",{className:"text-sm",children:"   "})]})]})]})]})]})})},ui={masterVolume:80,musicVolume:70,soundVolume:80,voiceVolume:80,difficulty:"normal",autoSave:!0,fastText:!1,skipRead:!1,fullscreen:!1,animations:!0},$g=()=>{const r=Je(),[c,d]=k.useState(ui),[o,m]=k.useState(!1);k.useEffect(()=>{const y=localStorage.getItem("academyDatingSimSettings");if(y)try{const D=JSON.parse(y);d({...ui,...D})}catch(D){console.error("Failed to load settings:",D)}},[]);const p=(y,D)=>{d(R=>({...R,[y]:D})),m(!0)},g=()=>{localStorage.setItem("academyDatingSimSettings",JSON.stringify(c)),m(!1),alert(" !")},j=()=>{confirm("   ?")&&(d(ui),m(!0))},N=()=>{const y=JSON.stringify(c,null,2),D=new Blob([y],{type:"application/json"}),R=URL.createObjectURL(D),w=document.createElement("a");w.href=R,w.download="academy-dating-sim-settings.json",w.click(),URL.revokeObjectURL(R)},f=y=>{const D=y.target.files?.[0];if(D){const R=new FileReader;R.onload=w=>{try{const E=JSON.parse(w.target?.result);d({...ui,...E}),m(!0),alert(" !")}catch{alert("    .")}},R.readAsText(D)}},C=()=>{confirm("    ?     .")&&confirm(" ?  ,     .")&&(localStorage.removeItem("academyDatingSim"),localStorage.removeItem("academyDatingSimSettings"),alert("  ."),r("/"))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[o&&a.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition",children:" "}),a.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:" "})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.masterVolume,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.masterVolume,onChange:y=>p("masterVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.musicVolume,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.musicVolume,onChange:y=>p("musicVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.soundVolume,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.soundVolume,onChange:y=>p("soundVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.voiceVolume,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.voiceVolume,onChange:y=>p("voiceVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-3",children:""}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","normal","hard"].map(y=>a.jsxs("button",{onClick:()=>p("difficulty",y),className:`p-3 rounded-lg border transition ${c.difficulty===y?"bg-purple-600 border-purple-400 text-white":"bg-purple-800/30 border-purple-600/30 text-purple-200 hover:bg-purple-700/40"}`,children:[y==="easy"&&" ",y==="normal"&&" ",y==="hard"&&" "]},y))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.autoSave,onChange:y=>p("autoSave",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.fastText,onChange:y=>p("fastText",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.skipRead,onChange:y=>p("skipRead",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),a.jsx("span",{children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.animations,onChange:y=>p("animations",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),a.jsx("span",{children:" "})]})]})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),a.jsx("div",{className:"space-y-4",children:a.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.fullscreen,onChange:y=>p("fullscreen",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),a.jsx("span",{children:" "})]})})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("button",{onClick:N,className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"  "}),a.jsxs("label",{className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition flex items-center justify-center gap-2 cursor-pointer",children:["  ",a.jsx("input",{type:"file",accept:".json",onChange:f,className:"hidden"})]}),a.jsx("button",{onClick:j,className:"px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:" "}),a.jsx("button",{onClick:C,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"   "})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" /"}),a.jsxs("div",{className:"text-purple-200 space-y-4",children:[a.jsx("p",{children:"       ."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:" "}),a.jsx("p",{className:"text-sm",children:"    ."})]}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:" "}),a.jsx("p",{className:"text-sm",children:"        ."})]})]})]})]}),o&&a.jsx("div",{className:"fixed bottom-4 right-4 bg-orange-600 text-white p-4 rounded-lg shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"   "}),a.jsx("button",{onClick:g,className:"ml-2 px-3 py-1 bg-white text-orange-600 rounded hover:bg-gray-100 transition",children:""})]})})]})})},Yg=[{id:"first_love",name:"",description:"    50 ",icon:"",points:10,category:"romance",condition:{type:"affection",value:50}},{id:"popular",name:"/",description:"   30 ",icon:"",points:20,category:"romance",condition:{type:"all_affection",value:30}},{id:"true_love",name:" ",description:"   100 ",icon:"",points:30,category:"romance",condition:{type:"max_affection",value:100}},{id:"monster_slayer",name:" ",description:" 100 ",icon:"",points:15,category:"combat",condition:{type:"monsters_defeated",value:100}},{id:"dragon_slayer",name:" ",description:"  ",icon:"",points:50,category:"combat",condition:{type:"boss_defeated",value:"fire_dragon"}},{id:"dungeon_master",name:" ",description:"   ",icon:"",points:40,category:"exploration",condition:{type:"dungeon_clear",value:5}},{id:"treasure_hunter",name:" ",description:" 50 ",icon:"",points:20,category:"exploration",condition:{type:"treasures_found",value:50}},{id:"millionaire",name:"",description:"100  ",icon:"",points:25,category:"wealth",condition:{type:"gold",value:1e6}},{id:"quiz_master",name:" ",description:"  10  ",icon:"",points:15,category:"minigame",condition:{type:"quiz_streak",value:10}},{id:"card_shark",name:" ",description:"  30  ",icon:"",points:15,category:"minigame",condition:{type:"card_time",value:30}},{id:"level_50",name:" 50 ",description:"  50 ",icon:"",points:30,category:"growth",condition:{type:"level",value:50}},{id:"stat_master",name:" ",description:"  50 ",icon:"",points:35,category:"growth",condition:{type:"all_stats",value:50}},{id:"perfect_attendance",name:"",description:"30  ",icon:"",points:20,category:"dedication",condition:{type:"login_streak",value:30}},{id:"night_owl",name:"",description:"  ",icon:"",points:5,category:"special",condition:{type:"play_time",value:"midnight"}},{id:"completionist",name:"",description:"  ",icon:"",points:100,category:"special",condition:{type:"all_achievements",value:!0}}],Ja={achievements:Yg};class Hl{constructor(){this.bgmAudio=null,this.sfxVolume=.5,this.bgmVolume=.3,this.isMuted=!1,this.bgmTracks={menu:"/sounds/bgm/menu.mp3",game:"/sounds/bgm/game.mp3",battle:"/sounds/bgm/battle.mp3",dungeon:"/sounds/bgm/dungeon.mp3",victory:"/sounds/bgm/victory.mp3",romantic:"/sounds/bgm/romantic.mp3"},this.sfxTracks={click:"/sounds/sfx/click.mp3",hover:"/sounds/sfx/hover.mp3",success:"/sounds/sfx/success.mp3",error:"/sounds/sfx/error.mp3",levelUp:"/sounds/sfx/levelup.mp3",attack:"/sounds/sfx/attack.mp3",damage:"/sounds/sfx/damage.mp3",heal:"/sounds/sfx/heal.mp3",coin:"/sounds/sfx/coin.mp3",open:"/sounds/sfx/open.mp3",close:"/sounds/sfx/close.mp3",notification:"/sounds/sfx/notification.mp3"};const c=localStorage.getItem("soundSettings");if(c){const d=JSON.parse(c);this.sfxVolume=d.sfxVolume??.5,this.bgmVolume=d.bgmVolume??.3,this.isMuted=d.isMuted??!1}}static getInstance(){return Hl.instance||(Hl.instance=new Hl),Hl.instance}playBGM(c){try{this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0),this.bgmAudio=new Audio(this.bgmTracks[c]),this.bgmAudio.volume=this.isMuted?0:this.bgmVolume,this.bgmAudio.loop=!0;const d=this.bgmAudio.play();d!==void 0&&d.catch(o=>{console.log("BGM autoplay prevented:",o)})}catch(d){console.error("Error playing BGM:",d)}}stopBGM(){this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0)}pauseBGM(){this.bgmAudio&&this.bgmAudio.pause()}resumeBGM(){this.bgmAudio&&!this.isMuted&&this.bgmAudio.play().catch(c=>{console.log("BGM resume prevented:",c)})}playSFX(c){if(!this.isMuted)try{const d=new Audio(this.sfxTracks[c]);d.volume=this.sfxVolume;const o=d.play();o!==void 0&&o.catch(m=>{console.log("SFX play prevented:",m)})}catch(d){console.error("Error playing SFX:",d)}}setSFXVolume(c){this.sfxVolume=Math.max(0,Math.min(1,c)),this.saveSettings()}setBGMVolume(c){this.bgmVolume=Math.max(0,Math.min(1,c)),this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}toggleMute(){return this.isMuted=!this.isMuted,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings(),this.isMuted}setMute(c){this.isMuted=c,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}getSFXVolume(){return this.sfxVolume}getBGMVolume(){return this.bgmVolume}isMutedStatus(){return this.isMuted}saveSettings(){const c={sfxVolume:this.sfxVolume,bgmVolume:this.bgmVolume,isMuted:this.isMuted};localStorage.setItem("soundSettings",JSON.stringify(c))}playClickSound(){this.playSFX("click")}playHoverSound(){this.playSFX("hover")}playSuccessSound(){this.playSFX("success")}playErrorSound(){this.playSFX("error")}playLevelUpSound(){this.playSFX("levelUp")}playCoinSound(){this.playSFX("coin")}playNotificationSound(){this.playSFX("notification")}playAttackSound(){this.playSFX("attack")}playDamageSound(){this.playSFX("damage")}playHealSound(){this.playSFX("heal")}}const Be=Hl.getInstance(),Qg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState(r.achievements||[]),[m,p]=k.useState("all"),[g,j]=k.useState(null),N=[{id:"all",name:"",icon:""},{id:"romance",name:"",icon:""},{id:"combat",name:"",icon:""},{id:"exploration",name:"",icon:""},{id:"wealth",name:"",icon:""},{id:"minigame",name:"",icon:""},{id:"growth",name:"",icon:""},{id:"dedication",name:"",icon:""},{id:"special",name:"",icon:""}],f=E=>{if(d.includes(E.id))return!0;switch(E.condition.type){case"affection":return Object.values(r.affection||{}).some(x=>x>=E.condition.value);case"all_affection":return Object.values(r.affection||{}).every(x=>x>=E.condition.value);case"max_affection":return Object.values(r.affection||{}).some(x=>x>=E.condition.value);case"monsters_defeated":return(r.statistics?.monstersDefeated||0)>=E.condition.value;case"boss_defeated":return r.defeatedBosses?.includes(E.condition.value)||!1;case"dungeon_clear":return(r.dungeonProgress?.floor||1)>=E.condition.value;case"treasures_found":return(r.statistics?.treasuresFound||0)>=E.condition.value;case"gold":return r.gold>=E.condition.value;case"level":return r.level>=E.condition.value;case"all_stats":return r.strength>=E.condition.value&&r.intelligence>=E.condition.value&&r.charm>=E.condition.value&&r.luck>=E.condition.value;case"quiz_streak":return(r.statistics?.quizStreak||0)>=E.condition.value;case"card_time":return(r.statistics?.bestCardTime||1/0)<=E.condition.value;case"login_streak":return(r.statistics?.loginStreak||0)>=E.condition.value;case"play_time":if(E.condition.value==="midnight"){const x=new Date().getHours();return x>=0&&x<6}return!1;case"all_achievements":return d.length>=Ja.achievements.length-1;default:return!1}},C=E=>{if(!d.includes(E.id)){const x=[...d,E.id];o(x),c({achievements:x,achievementPoints:(r.achievementPoints||0)+E.points}),Be.playSuccessSound(),j(E),setTimeout(()=>{j(null)},3e3)}};k.useEffect(()=>{Ja.achievements.forEach(E=>{f(E)&&C(E)})},[r]);const y=Ja.achievements.filter(E=>m==="all"||E.category===m),D=Ja.achievements.reduce((E,x)=>E+x.points,0),R=Ja.achievements.filter(E=>d.includes(E.id)).reduce((E,x)=>E+x.points,0),w=Math.floor(d.length/Ja.achievements.length*100);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-pink-900 p-4",children:[g&&a.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-4xl",children:g.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:" !"}),a.jsx("div",{className:"text-lg",children:g.name}),a.jsxs("div",{className:"text-sm opacity-90",children:["+",g.points," "]})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm opacity-80",children:""}),a.jsxs("div",{className:"text-2xl font-bold",children:[w,"%"]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${w}%`}})})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm opacity-80",children:" "}),a.jsxs("div",{className:"text-2xl font-bold",children:[R," / ",D]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm opacity-80",children:" "}),a.jsxs("div",{className:"text-2xl font-bold",children:[d.length," / ",Ja.achievements.length]})]})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(E=>a.jsxs("button",{onClick:()=>p(E.id),className:`px-4 py-2 rounded-lg transition-all ${m===E.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("span",{className:"mr-2",children:E.icon}),E.name]},E.id))})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(E=>{const x=d.includes(E.id);return a.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${x?"bg-gradient-to-br from-yellow-400/20 to-orange-400/20 border-2 border-yellow-400/50":"bg-black/30 border-2 border-white/10"}`,children:[x&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs px-2 py-1 rounded-full",children:" "})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`text-4xl ${x?"":"opacity-30 grayscale"}`,children:E.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-bold text-lg ${x?"text-yellow-300":"text-white/70"}`,children:E.name}),a.jsx("p",{className:`text-sm mt-1 ${x?"text-white/90":"text-white/50"}`,children:E.description}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("span",{className:`text-sm ${x?"text-yellow-300":"text-white/40"}`,children:["+",E.points," "]})})]})]}),!x&&a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:"0%"}})})})]},E.id)})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})},Xg=()=>{const{player:r}=me(),[c,d]=k.useState("heroines"),o={heroines:r.metHeroines||[],monsters:r.defeatedMonsterTypes||[],items:r.collectedItems||[],endings:r.unlockedEndings||[]},m=[{id:"heroines",name:"",icon:""},{id:"monsters",name:"",icon:""},{id:"items",name:"",icon:""},{id:"endings",name:"",icon:""}],p=Object.entries(Fa).map(([w,E])=>({id:w,name:E.name,description:E.role||"",icon:E.sprite||"",category:"heroines",unlocked:o.heroines.includes(w),affection:r.affection?.[w]||0})),g=[{id:"slime",name:"",description:" ",icon:""},{id:"goblin",name:"",description:"  ",icon:""},{id:"skeleton",name:"",description:" ",icon:""},{id:"orc",name:"",description:" ",icon:""},{id:"ghost",name:"",description:" ",icon:""},{id:"vampire",name:"",description:"  ",icon:""},{id:"ice_golem",name:" ",description:"  ",icon:""},{id:"frost_spirit",name:" ",description:" ",icon:""},{id:"lava_serpent",name:" ",description:" ",icon:""},{id:"flame_elemental",name:" ",description:" ",icon:""},{id:"dark_knight",name:" ",description:"  ()",icon:""},{id:"lich_king",name:" ",description:"  ()",icon:""},{id:"ice_queen",name:" ",description:"  ()",icon:""},{id:"fire_dragon",name:" ",description:"  ()",icon:""}].map(w=>({...w,category:"monsters",unlocked:o.monsters.includes(w.id)})),j=[{id:"health_potion",name:" ",description:"HP ",icon:"",rarity:"common"},{id:"mana_potion",name:" ",description:"MP ",icon:"",rarity:"common"},{id:"sword",name:"",description:" ",icon:"",rarity:"common"},{id:"shield",name:"",description:"",icon:"",rarity:"common"},{id:"magic_staff",name:" ",description:"  ",icon:"",rarity:"rare"},{id:"dragon_scale",name:" ",description:" ",icon:"",rarity:"legendary"},{id:"phoenix_feather",name:" ",description:" ",icon:"",rarity:"legendary"},{id:"crystal_heart",name:" ",description:"  ",icon:"",rarity:"epic"},{id:"ancient_tome",name:" ",description:" ",icon:"",rarity:"epic"},{id:"golden_apple",name:" ",description:" ",icon:"",rarity:"legendary"}].map(w=>({...w,category:"items",unlocked:o.items.includes(w.id)})),N=[{id:"true_end_luna",name:"  ",description:"  ",icon:""},{id:"true_end_sakura",name:"  ",description:"  ",icon:""},{id:"true_end_ice",name:"  ",description:"  ",icon:""},{id:"true_end_rose",name:"  ",description:"  ",icon:""},{id:"true_end_star",name:"  ",description:"  ",icon:""},{id:"harem_ending",name:" ",description:"  ",icon:""},{id:"normal_ending",name:" ",description:"  ",icon:""},{id:"bad_ending",name:" ",description:" ",icon:""},{id:"secret_ending",name:" ",description:" ",icon:""},{id:"legend_ending",name:" ",description:" ",icon:""}].map(w=>({...w,category:"endings",unlocked:o.endings.includes(w.id)})),C=(()=>{switch(c){case"heroines":return p;case"monsters":return g;case"items":return j;case"endings":return N;default:return[]}})(),y=C.filter(w=>w.unlocked).length,D=Math.floor(y/C.length*100),R=w=>{switch(w){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"font-bold",children:[y," / ",C.length]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${D}%`}})}),a.jsxs("div",{className:"text-center mt-2 text-xl font-bold",children:[D,"%"]})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(w=>a.jsxs("button",{onClick:()=>d(w.id),className:`px-4 py-2 rounded-lg transition-all ${c===w.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("span",{className:"mr-2",children:w.icon}),w.name]},w.id))})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(w=>a.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${w.unlocked?"bg-gradient-to-br from-white/20 to-white/10 border-2 border-white/30":"bg-black/30 border-2 border-white/5"}`,children:[w.rarity&&w.unlocked&&a.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-bold text-white bg-gradient-to-r ${R(w.rarity)}`,children:w.rarity.toUpperCase()}),a.jsx("div",{className:`text-5xl text-center mb-3 ${w.unlocked?"":"grayscale opacity-30"}`,children:w.unlocked?w.icon:""}),a.jsx("h3",{className:`font-bold text-center ${w.unlocked?"text-white":"text-white/30"}`,children:w.unlocked?w.name:"???"}),w.unlocked&&a.jsx("p",{className:"text-xs text-white/70 text-center mt-2",children:w.description}),w.category==="heroines"&&w.unlocked&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:""}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${Math.min(w.affection,100)}%`}})}),a.jsxs("div",{className:"text-xs text-center text-white/80 mt-1",children:[w.affection,"/100"]})]}),!w.unlocked&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-3xl opacity-20",children:""})})]},w.id))}),C.length===0&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-xl",children:"   ."}),a.jsx("p",{className:"text-white/70 mt-2",children:"    !"})]})]})})},Vg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState([]),[m,p]=k.useState("daily"),[g,j]=k.useState(null),N=[{id:"daily_talk",title:" ",description:" 3 ",icon:"",requirement:{type:"talk",target:3},reward:{gold:500,exp:100}},{id:"daily_battle",title:" ",description:" 5 ",icon:"",requirement:{type:"battle",target:5},reward:{gold:800,exp:150}},{id:"daily_dungeon",title:" ",description:" 1 ",icon:"",requirement:{type:"dungeon",target:1},reward:{gold:1e3,exp:200}},{id:"daily_shop",title:"",description:"  ",icon:"",requirement:{type:"shop",target:1},reward:{gold:300,exp:50}},{id:"daily_minigame",title:" ",description:" 2 ",icon:"",requirement:{type:"minigame",target:2},reward:{gold:600,exp:120}}],f=[{id:"weekly_affection",title:"",description:"  50 ",icon:"",requirement:{type:"affection",target:50},reward:{gold:5e3,exp:1e3,achievementPoints:10}},{id:"weekly_monster",title:" ",description:" 50 ",icon:"",requirement:{type:"monster",target:50},reward:{gold:8e3,exp:1500,items:["rare_weapon"]}},{id:"weekly_level",title:" ",description:" 5 ",icon:"",requirement:{type:"level",target:5},reward:{gold:1e4,exp:2e3,achievementPoints:20}}],C=[{id:"special_boss",title:" ",description:"  ",icon:"",requirement:{type:"boss",target:1},reward:{gold:2e4,exp:5e3,items:["legendary_item"]}},{id:"special_perfect",title:" ",description:"   ",icon:"",requirement:{type:"all_daily",target:5},reward:{gold:15e3,achievementPoints:50}}];k.useEffect(()=>{const x=new Date().toDateString();if(localStorage.getItem("lastQuestDate")!==x){const h=N.map(Q=>({...Q,type:"daily",requirement:{...Q.requirement,current:0},completed:!1,claimed:!1})),_=new Date().getDay()===1?f.map(Q=>({...Q,type:"weekly",requirement:{...Q.requirement,current:0},completed:!1,claimed:!1})):y("weekly"),S=C.map(Q=>({...Q,type:"special",requirement:{...Q.requirement,current:0},completed:!1,claimed:!1})),T=[...h,..._,...S];o(T),localStorage.setItem("lastQuestDate",x),localStorage.setItem("dailyQuests",JSON.stringify(T))}else{const h=localStorage.getItem("dailyQuests");h&&o(JSON.parse(h))}},[]);const y=x=>{const v=localStorage.getItem("dailyQuests");return v?JSON.parse(v).filter(M=>M.type===x):[]},D=x=>{if(!x.completed||x.claimed)return;const v=x.reward;let h={...r};v.gold&&(h.gold=r.gold+v.gold),v.exp&&(h.experience=r.experience+v.exp),v.achievementPoints&&(h.achievementPoints=(r.achievementPoints||0)+v.achievementPoints),c(h);const M=d.map(_=>_.id===x.id?{..._,claimed:!0}:_);o(M),localStorage.setItem("dailyQuests",JSON.stringify(M)),j(x),Be.playCoinSound(),setTimeout(()=>{j(null)},2e3)},R=d.filter(x=>x.type===m),w=R.filter(x=>x.completed).length,E=R.length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-800 to-pink-900 p-4",children:[g&&a.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce-in",children:a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:[a.jsx("div",{className:"font-bold text-lg mb-2",children:" !"}),a.jsxs("div",{className:"flex items-center gap-3",children:[g.reward.gold&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["+",g.reward.gold]})]}),g.reward.exp&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["+",g.reward.exp," EXP"]})]})]})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between text-white text-sm mb-2",children:[a.jsx("span",{children:" "}),a.jsxs("span",{children:[w," / ",E]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${w/E*100}%`}})})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsx("div",{className:"flex gap-2",children:["daily","weekly","special"].map(x=>a.jsxs("button",{onClick:()=>p(x),className:`px-4 py-2 rounded-lg transition-all flex-1 ${m===x?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[x==="daily"&&"",x==="weekly"&&"",x==="special"&&""]},x))})}),a.jsx("div",{className:"space-y-4",children:R.map(x=>a.jsx("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${x.completed?"border-2 border-green-400/50":"border-2 border-white/10"}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`text-4xl ${x.completed?"":"opacity-50"}`,children:x.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:`font-bold text-lg ${x.completed?"text-green-400":"text-white"}`,children:x.title}),x.completed&&!x.claimed&&a.jsx("span",{className:"bg-green-400 text-black text-xs px-2 py-1 rounded-full font-bold",children:"!"}),x.claimed&&a.jsx("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:" "})]}),a.jsx("p",{className:"text-white/70 text-sm mt-1",children:x.description}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[x.requirement.current," / ",x.requirement.target]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-full rounded-full transition-all ${x.completed?"bg-gradient-to-r from-green-400 to-emerald-400":"bg-gradient-to-r from-blue-400 to-purple-400"}`,style:{width:`${x.requirement.current/x.requirement.target*100}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-3 text-sm",children:[a.jsx("span",{className:"text-white/60",children:":"}),x.reward.gold&&a.jsxs("span",{className:"text-yellow-400",children:[" ",x.reward.gold]}),x.reward.exp&&a.jsxs("span",{className:"text-blue-400",children:[" ",x.reward.exp," EXP"]}),x.reward.achievementPoints&&a.jsxs("span",{className:"text-purple-400",children:[" ",x.reward.achievementPoints,"P"]})]})]}),x.completed&&!x.claimed&&a.jsx("button",{onClick:()=>D(x),className:"bg-gradient-to-r from-green-400 to-emerald-400 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all animate-pulse",children:""})]})},x.id))}),R.length===0&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-xl",children:"    ."})]})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes bounce-in {
          0% {
            transform: translateX(-50%) scale(0.5);
            opacity: 0;
          }
          50% {
            transform: translateX(-50%) scale(1.1);
          }
          100% {
            transform: translateX(-50%) scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.5s ease-out;
        }
      `})]})},Zg=()=>{const{player:r,gameDate:c,updatePlayer:d}=me(),[o,m]=k.useState(c.month),[p,g]=k.useState(null),[j,N]=k.useState(r.participatedEvents||[]),f=["1","2","3","4","5","6","7","8","9","10","11","12"],C=[{id:"cherry_blossom",name:" ",description:"    !    .",icon:"",type:"festival",date:15,month:4,duration:3,rewards:{affection:{sakura:20,luna:10,ice:10,rose:10,star:10}}},{id:"spring_sports",name:" ",description:"   !   !",icon:"",type:"competition",date:25,month:5,duration:2,rewards:{gold:5e3,exp:1e3,items:["trophy"]},requirements:{level:10}},{id:"summer_festival",name:" ",description:"   !   .",icon:"",type:"festival",date:20,month:7,duration:3,rewards:{affection:{luna:15,sakura:15,ice:15,rose:15,star:15}}},{id:"beach_event",name:" ",description:"  !   .",icon:"",type:"special",date:10,month:8,duration:7,rewards:{gold:3e3,affection:{ice:20,rose:20}}},{id:"harvest_festival",name:" ",description:"   .   !",icon:"",type:"festival",date:15,month:10,duration:3,rewards:{gold:4e3,items:["harvest_basket"]}},{id:"halloween",name:" ",description:"  !   .",icon:"",type:"special",date:31,month:10,duration:1,rewards:{exp:2e3,items:["halloween_costume"],affection:{star:25}}},{id:"culture_festival",name:"",description:"   !     .",icon:"",type:"festival",date:20,month:11,duration:5,rewards:{gold:1e4,exp:3e3,affection:{luna:20,sakura:20,ice:20,rose:20,star:20}},requirements:{level:15}},{id:"christmas",name:"",description:" !   .",icon:"",type:"special",date:24,month:12,duration:2,rewards:{items:["christmas_gift"],affection:{luna:30,sakura:30,ice:30,rose:30,star:30}}},{id:"new_year",name:" ",description:"  !   .",icon:"",type:"seasonal",date:1,month:1,duration:3,rewards:{gold:8888,exp:2e3,items:["lucky_charm"]}},{id:"valentines",name:" ",description:"  !  .",icon:"",type:"special",date:14,month:2,duration:1,rewards:{affection:{luna:50,sakura:50,ice:50,rose:50,star:50},items:["chocolate"]},requirements:{affection:{luna:30}}},{id:"midterm_exam",name:"",description:"   .    !",icon:"",type:"competition",date:15,month:6,duration:3,rewards:{gold:3e3,exp:1500,items:["study_guide"]},requirements:{level:5}},{id:"final_exam",name:"",description:"   .   !",icon:"",type:"competition",date:15,month:12,duration:3,rewards:{gold:5e3,exp:2500,items:["diploma"]},requirements:{level:20}}],y=v=>C.filter(h=>h.month===v),D=v=>{if(v.requirements){if(v.requirements.level&&r.level<v.requirements.level){alert(` ${v.requirements.level}    .`);return}if(v.requirements.affection){for(const[_,S]of Object.entries(v.requirements.affection))if((r.affection?.[_]||0)<S){alert(`${_}  ${S}    .`);return}}}if(j.includes(v.id)){alert("  !");return}let h={...r};if(v.rewards.gold&&(h.gold=r.gold+v.rewards.gold),v.rewards.exp&&(h.experience=r.experience+v.rewards.exp),v.rewards.affection){h.affection={...r.affection};for(const[_,S]of Object.entries(v.rewards.affection))h.affection[_]=(h.affection[_]||0)+S}v.rewards.items&&(h.inventory=[...r.inventory||[],...v.rewards.items.map(_=>({id:_,quantity:1}))]);const M=[...j,v.id];N(M),h.participatedEvents=M,d(h),Be.playSuccessSound(),alert(`${v.name} !  .`),g(null)},w=(()=>{const v=new Date(c.year,o-1,1).getDay(),h=new Date(c.year,o,0).getDate(),M=[];for(let _=0;_<v;_++)M.push(null);for(let _=1;_<=h;_++)M.push(_);return M})(),E=y(o),x=v=>v?E.find(h=>v>=h.date&&v<h.date+h.duration):null;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-white",children:[a.jsx("div",{className:"text-sm opacity-80",children:" "}),a.jsxs("div",{className:"text-xl font-bold",children:[c.year," ",c.month," ",c.day,""]})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsx("button",{onClick:()=>m(o===1?12:o-1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:""}),a.jsx("h2",{className:"text-2xl font-bold",children:f[o-1]}),a.jsx("button",{onClick:()=>m(o===12?1:o+1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2 text-white mb-2",children:["","","","","","",""].map(v=>a.jsx("div",{className:"text-center font-bold text-sm opacity-80",children:v},v))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:w.map((v,h)=>{const M=x(v),_=v===c.day&&o===c.month;return a.jsx("div",{onClick:()=>M&&g(M),className:`
                      aspect-square rounded-lg p-2 flex flex-col items-center justify-center
                      ${v?"bg-white/10 hover:bg-white/20 cursor-pointer":""}
                      ${_?"ring-2 ring-yellow-400":""}
                      ${M?"bg-gradient-to-br from-purple-500/30 to-pink-500/30":""}
                      transition-all
                    `,children:v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`text-white ${_?"font-bold":""}`,children:v}),M&&a.jsx("div",{className:"text-2xl mt-1",children:M.icon})]})},h)})})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[E.map(v=>{const h=j.includes(v.id);return a.jsx("div",{onClick:()=>g(v),className:`
                      bg-white/10 rounded-lg p-3 cursor-pointer transition-all
                      ${h?"opacity-50":"hover:bg-white/20"}
                    `,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-2xl",children:v.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:v.name}),a.jsxs("div",{className:"text-xs text-white/70",children:[v.month," ",v.date," (",v.duration,")"]}),h&&a.jsx("div",{className:"text-xs text-green-400 mt-1",children:"  "})]})]})},v.id)}),E.length===0&&a.jsx("div",{className:"text-white/50 text-center py-4",children:"  ."})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full border-2 border-white/20",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-5xl mb-3",children:p.icon}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:p.name}),a.jsxs("div",{className:"text-white/70 text-sm mt-2",children:[p.month," ",p.date," ~ ",p.date+p.duration-1,""]})]}),a.jsx("p",{className:"text-white/90 mb-4",children:p.description}),p.requirements&&a.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[a.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),p.requirements.level&&a.jsxs("div",{className:"text-white/70 text-sm",children:[" ",p.requirements.level," "]}),p.requirements.affection&&a.jsx("div",{className:"text-white/70 text-sm",children:"  "})]}),a.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[a.jsx("div",{className:"text-sm font-bold text-white mb-2",children:""}),a.jsxs("div",{className:"space-y-1",children:[p.rewards.gold&&a.jsxs("div",{className:"text-yellow-400 text-sm",children:[" ",p.rewards.gold," "]}),p.rewards.exp&&a.jsxs("div",{className:"text-blue-400 text-sm",children:[" ",p.rewards.exp," EXP"]}),p.rewards.affection&&a.jsx("div",{className:"text-pink-400 text-sm",children:"  "}),p.rewards.items&&a.jsx("div",{className:"text-green-400 text-sm",children:"  "})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>D(p),disabled:j.includes(p.id),className:`
                    flex-1 py-3 rounded-lg font-bold transition-all
                    ${j.includes(p.id)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg"}
                  `,children:j.includes(p.id)?" ":""}),a.jsx("button",{onClick:()=>g(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-bold transition-all",children:""})]})]})})]})})},Kg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState("all"),[m,p]=k.useState(null),g=[{id:"health_potion_large",name:"  ",description:"HP 100 ",result:{id:"health_potion_large",quantity:1},materials:[{id:"health_potion",quantity:3},{id:"herb",quantity:2}],category:"consumable",requiredLevel:5,icon:""},{id:"iron_sword",name:"",description:"  ",result:{id:"iron_sword",quantity:1},materials:[{id:"iron_ore",quantity:5},{id:"wood",quantity:2}],category:"weapon",requiredLevel:3,icon:""},{id:"magic_staff",name:" ",description:"  ",result:{id:"magic_staff",quantity:1},materials:[{id:"magic_crystal",quantity:3},{id:"ancient_wood",quantity:2},{id:"gold",quantity:100}],category:"weapon",requiredLevel:10,icon:""},{id:"leather_armor",name:" ",description:" ",result:{id:"leather_armor",quantity:1},materials:[{id:"leather",quantity:5},{id:"thread",quantity:3}],category:"armor",requiredLevel:5,icon:""},{id:"crystal_ring",name:" ",description:" ",result:{id:"crystal_ring",quantity:1},materials:[{id:"crystal",quantity:2},{id:"silver",quantity:3}],category:"accessory",requiredLevel:8,icon:""},{id:"dragon_scale_armor",name:"  ",description:" ",result:{id:"dragon_scale_armor",quantity:1},materials:[{id:"dragon_scale",quantity:10},{id:"mythril",quantity:5},{id:"gold",quantity:1e3}],category:"armor",requiredLevel:25,icon:""},{id:"phoenix_feather_accessory",name:"  ",description:"    ",result:{id:"phoenix_feather_accessory",quantity:1},materials:[{id:"phoenix_feather",quantity:1},{id:"holy_water",quantity:5}],category:"accessory",requiredLevel:20,icon:""},{id:"elixir",name:"",description:"HP MP  ",result:{id:"elixir",quantity:1},materials:[{id:"health_potion_large",quantity:2},{id:"mana_potion_large",quantity:2},{id:"unicorn_horn",quantity:1}],category:"consumable",requiredLevel:15,icon:""}],j=[{id:"all",name:"",icon:""},{id:"weapon",name:"",icon:""},{id:"armor",name:"",icon:""},{id:"accessory",name:"",icon:""},{id:"consumable",name:"",icon:""}],N=y=>y.materials.every(D=>{const R=r.inventory?.find(w=>w.id===D.id);return R&&R.quantity>=D.quantity}),f=y=>{if(r.level<y.requiredLevel){alert(` ${y.requiredLevel}    .`);return}if(!N(y)){alert(" !");return}let D=[...r.inventory||[]];y.materials.forEach(w=>{const E=D.findIndex(x=>x.id===w.id);E!==-1&&(D[E].quantity-=w.quantity,D[E].quantity<=0&&D.splice(E,1))});const R=D.find(w=>w.id===y.result.id);R?R.quantity+=y.result.quantity:D.push({...y.result}),c({inventory:D}),Be.playSuccessSound(),alert(`${y.name}() !`)},C=d==="all"?g:g.filter(y=>y.category===d);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-brown-800 to-orange-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex gap-4",children:[a.jsxs("div",{className:"text-white",children:[a.jsx("span",{className:"text-sm opacity-80",children:""}),a.jsx("div",{className:"font-bold",children:r.level})]}),a.jsxs("div",{className:"text-yellow-400",children:[a.jsx("span",{className:"text-sm opacity-80",children:""}),a.jsx("div",{className:"font-bold",children:r.gold||0})]})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(y=>a.jsxs("button",{onClick:()=>o(y.id),className:`px-4 py-2 rounded-lg transition-all ${d===y.id?"bg-gradient-to-r from-amber-500 to-orange-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("span",{className:"mr-2",children:y.icon}),y.name]},y.id))})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(y=>{const D=r.level>=y.requiredLevel&&N(y);return a.jsxs("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${D?"border-2 border-amber-400/50 hover:border-amber-400":"border-2 border-white/10 opacity-75"}`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("div",{className:"text-4xl",children:y.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-white",children:y.name}),a.jsx("p",{className:"text-sm text-white/70",children:y.description}),a.jsxs("div",{className:"text-xs text-amber-400 mt-1",children:["Lv.",y.requiredLevel," "]})]})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-2 mb-3",children:[a.jsx("div",{className:"text-sm font-bold text-white/80 mb-1",children:""}),a.jsx("div",{className:"space-y-1",children:y.materials.map(R=>{const w=r.inventory?.find(x=>x.id===R.id),E=w&&w.quantity>=R.quantity;return a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:E?"text-green-400":"text-red-400",children:R.id}),a.jsxs("span",{className:E?"text-green-400":"text-red-400",children:[w?.quantity||0," / ",R.quantity]})]},R.id)})})]}),a.jsx("button",{onClick:()=>f(y),disabled:!D,className:`w-full py-2 rounded-lg font-bold transition-all ${D?"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:D?"":r.level<y.requiredLevel?" ":" "})]},y.id)})})]})})},Jg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState("overview"),[m,p]=k.useState(null),[g,j]=k.useState(!1),[N,f]=k.useState(""),C=[{id:"crimson_phoenix",name:" ",description:"  ",icon:"",level:15,exp:8500,maxExp:1e4,members:[],maxMembers:50,benefits:[" +10%","  +20%","  +15%"],treasury:15e4,ranking:1},{id:"azure_dragon",name:" ",description:"   ",icon:"",level:12,exp:6e3,maxExp:8e3,members:[],maxMembers:40,benefits:[" +20%","  -10%","  +25%"],treasury:12e4,ranking:2},{id:"golden_merchant",name:" ",description:"   ",icon:"",level:10,exp:4500,maxExp:6e3,members:[],maxMembers:60,benefits:["  20%","  +15%","  "],treasury:5e5,ranking:3}],y=[{id:"daily_dungeon",name:"  ",description:"  10 ",reward:{guildExp:100,treasury:5e3},requirement:" 10 ",difficulty:"easy",progress:3,maxProgress:10},{id:"boss_raid",name:" ",description:"  ",reward:{guildExp:500,treasury:2e4,items:["legendary_weapon"]},requirement:"  ",difficulty:"hard",progress:0,maxProgress:1},{id:"guild_war",name:"  ",description:"   ",reward:{guildExp:1e3,treasury:5e4},requirement:" ",difficulty:"legendary",progress:0,maxProgress:1},{id:"resource_gathering",name:" ",description:"   ",reward:{guildExp:200,treasury:1e4},requirement:" 100 ",difficulty:"medium",progress:45,maxProgress:100}],D=[{id:"guild_blessing",name:" ",description:"  +10 (24)",cost:1e4,icon:""},{id:"guild_teleport",name:"  ",description:"   ",cost:1e3,icon:""},{id:"guild_exp_boost",name:" ",description:" +50% (1)",cost:5e3,icon:""},{id:"guild_weapon",name:"  ",description:"    ",cost:5e4,icon:""},{id:"guild_mount",name:" ",description:" +100%",cost:1e5,icon:""}],R=()=>{if(!N){alert("  .");return}if((r.gold||0)<5e4){alert("  50,000  .");return}const x={id:`guild_${Date.now()}`,name:N,description:"  ",icon:"",level:1,exp:0,maxExp:1e3,members:[{id:r.id||"player",name:r.name,role:"leader",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:""}],maxMembers:20,benefits:["  "],treasury:0,ranking:999};p(x),c({gold:(r.gold||0)-5e4}),Be.playSuccessSound(),j(!1)},w=x=>{const v={id:r.id||"player",name:r.name,role:"member",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:""};x.members.push(v),p(x),Be.playSuccessSound(),alert(`${x.name}  !`)},E=x=>{switch(x){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";case"legendary":return"text-purple-400";default:return"text-white"}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})}),m?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"text-6xl",children:m.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:m.name}),a.jsx("p",{className:"text-white/70",children:m.description}),a.jsxs("div",{className:"flex gap-4 mt-2",children:[a.jsxs("span",{className:"text-yellow-400",children:["Lv.",m.level]}),a.jsxs("span",{className:"text-blue-400",children:[" #",m.ranking]}),a.jsxs("span",{className:"text-green-400",children:[" ",m.members.length,"/",m.maxMembers]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-white/80",children:" "}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[m.treasury.toLocaleString()," G"]})]})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[a.jsx("span",{children:" "}),a.jsxs("span",{children:[m.exp," / ",m.maxExp]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:`${m.exp/m.maxExp*100}%`}})})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:a.jsx("div",{className:"flex gap-2",children:["overview","members","quests","shop"].map(x=>a.jsxs("button",{onClick:()=>o(x),className:`px-4 py-2 rounded-lg transition-all ${d===x?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[x==="overview"&&" ",x==="members"&&" ",x==="quests"&&" ",x==="shop"&&" "]},x))})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[d==="overview"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),a.jsx("div",{className:"grid gap-2",children:m.benefits.map((x,v)=>a.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-3 text-purple-300",children:[" ",x]},v))})]}),d==="members"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),a.jsx("div",{className:"space-y-2",children:m.members.map(x=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:x.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:x.name}),a.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",x.level," | ",x.role==="leader"?" ":x.role==="officer"?" ":" "]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-white/60",children:""}),a.jsx("div",{className:"text-yellow-400 font-bold",children:x.contribution})]})]},x.id))})]}),d==="quests"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),a.jsx("div",{className:"grid gap-3",children:y.map(x=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-white",children:x.name}),a.jsx("div",{className:"text-sm text-white/70",children:x.description}),a.jsxs("div",{className:`text-sm mt-1 ${E(x.difficulty)}`,children:[": ",x.difficulty.toUpperCase()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-white/60",children:""}),a.jsxs("div",{className:"text-yellow-400",children:["+",x.reward.guildExp," EXP"]}),a.jsxs("div",{className:"text-green-400",children:["+",x.reward.treasury," G"]})]})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[x.progress," / ",x.maxProgress]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 h-full rounded-full",style:{width:`${x.progress/x.maxProgress*100}%`}})})]})]},x.id))})]}),d==="shop"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(x=>a.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:x.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:x.name}),a.jsx("div",{className:"text-sm text-white/70",children:x.description}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("span",{className:"text-yellow-400 font-bold",children:[x.cost," G"]}),a.jsx("button",{className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg text-sm font-bold hover:shadow-lg transition-all",children:""})]})]})]})},x.id))})]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" /"}),a.jsx("button",{onClick:()=>j(!0),className:"w-full mb-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"   (50,000 )"}),a.jsx("div",{className:"grid gap-4",children:C.map(x=>a.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-5xl",children:x.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:x.name}),a.jsx("p",{className:"text-white/70 mb-2",children:x.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[a.jsxs("div",{className:"text-white/80",children:[a.jsxs("span",{className:"text-yellow-400",children:["Lv.",x.level]})," |",a.jsxs("span",{className:"text-blue-400",children:["  #",x.ranking]})]}),a.jsxs("div",{className:"text-white/80",children:[": ",x.members.length,"/",x.maxMembers]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:x.benefits.map((v,h)=>a.jsx("span",{className:"bg-purple-500/30 px-2 py-1 rounded text-xs text-purple-300",children:v},h))}),a.jsx("button",{onClick:()=>w(x),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})},x.id))})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsx("input",{type:"text",value:N,onChange:x=>f(x.target.value),placeholder:"  ",className:"w-full p-3 rounded-lg bg-black/30 text-white placeholder-white/50 mb-4",maxLength:20}),a.jsxs("div",{className:"text-white/70 mb-4",children:[a.jsx("p",{children:"  : 50,000 "}),a.jsx("p",{children:"   : 20"}),a.jsx("p",{children:"    "})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:R,className:"flex-1 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold",children:""}),a.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg font-bold",children:""})]})]})})]})]})})},Fg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState(null),[m,p]=k.useState(!1),[g,j]=k.useState([]),[N,f]=k.useState("care"),C=[{id:"cat_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:100,happiness:100,hunger:80,stats:{attack:10,defense:8,speed:15,intelligence:12},skills:["",""],rarity:"common"},{id:"dog_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:100,happiness:100,hunger:70,stats:{attack:12,defense:10,speed:10,intelligence:8},skills:["",""],rarity:"common"},{id:"dragon_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:150,happiness:80,hunger:60,stats:{attack:20,defense:15,speed:12,intelligence:18},skills:[" ",""],evolution:"adult_dragon",rarity:"legendary"},{id:"fox_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:120,happiness:90,hunger:75,stats:{attack:15,defense:12,speed:18,intelligence:20},skills:["",""],rarity:"epic"},{id:"bird_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:130,happiness:85,hunger:65,stats:{attack:18,defense:10,speed:25,intelligence:15},skills:["",""],rarity:"epic"},{id:"rabbit_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:90,happiness:95,hunger:85,stats:{attack:8,defense:6,speed:20,intelligence:10},skills:["",""],rarity:"rare"}],y=[{id:"basic_food",name:" ",icon:"",hungerRestore:20,happinessBonus:5,cost:50},{id:"premium_food",name:" ",icon:"",hungerRestore:40,happinessBonus:15,cost:200},{id:"treat",name:" ",icon:"",hungerRestore:10,happinessBonus:30,cost:150},{id:"magic_food",name:" ",icon:"",hungerRestore:50,happinessBonus:25,cost:500}],D=[{id:"attack_training",name:" ",stat:"attack",cost:200,expGain:20,icon:""},{id:"defense_training",name:" ",stat:"defense",cost:200,expGain:20,icon:""},{id:"speed_training",name:" ",stat:"speed",cost:200,expGain:20,icon:""},{id:"intelligence_training",name:" ",stat:"intelligence",cost:200,expGain:20,icon:""}];k.useEffect(()=>{const h=localStorage.getItem("myPets");if(h)try{const _=JSON.parse(h);Array.isArray(_)&&j(_)}catch(_){console.error("Failed to load pets:",_)}const M=setInterval(()=>{j(_=>{const S=_.map(T=>({...T,hunger:Math.max(0,T.hunger-1),happiness:Math.max(0,T.happiness-.5)}));return localStorage.setItem("myPets",JSON.stringify(S)),S})},3e4);return()=>clearInterval(M)},[]);const R=h=>{const M=h.rarity==="legendary"?5e3:h.rarity==="epic"?2e3:h.rarity==="rare"?800:300;if((r.money||0)<M){alert(`${M}  !  : ${r.money}`);return}if(g.length>=6){alert(" 6   !");return}const _={...h,id:`${h.id}_${Date.now()}`},S=[...g,_];j(S),localStorage.setItem("myPets",JSON.stringify(S));const T=(r.money||0)-M;c({money:T}),Be.playSuccessSound(),alert(`${h.name}() ! (${M} )`),p(!1)},w=(h,M)=>{if((r.money||0)<M.cost){alert(" !");return}const _=g.map(S=>S.id===h.id?{...S,hunger:Math.min(100,S.hunger+M.hungerRestore),happiness:Math.min(100,S.happiness+M.happinessBonus)}:S);j(_),c({money:(r.money||0)-M.cost}),Be.playSuccessSound()},E=(h,M)=>{if((r.money||0)<M.cost){alert(" !");return}const _=g.map(S=>{if(S.id===h.id){const T=S.exp+M.expGain,Q=T>=S.maxExp;return{...S,exp:Q?T-S.maxExp:T,level:Q?S.level+1:S.level,maxExp:Q?S.maxExp*1.5:S.maxExp,stats:{...S.stats,[M.stat]:S.stats[M.stat]+(Q?5:2)}}}return S});j(_),c({money:(r.money||0)-M.cost}),Be.playSuccessSound()},x=h=>{if(!h.evolution||h.level<10){alert(" 10    !");return}const M={...h,species:" "+h.species,icon:"",stats:{attack:h.stats.attack*2,defense:h.stats.defense*2,speed:h.stats.speed*1.5,intelligence:h.stats.intelligence*2},skills:[...h.skills," "],evolution:void 0},_=g.map(S=>S.id===h.id?M:S);j(_),Be.playLevelUpSound(),alert(`${h.name}() !`)},v=h=>{switch(h){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-teal-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"  "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})]})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),g.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-white/70",children:"  .   !"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(h=>a.jsx("div",{onClick:()=>o(h),className:`bg-gradient-to-br ${v(h.rarity)} p-0.5 rounded-xl cursor-pointer hover:scale-105 transition-all`,children:a.jsxs("div",{className:"bg-black/80 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"text-4xl",children:h.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:h.name}),a.jsx("div",{className:"text-sm text-white/70",children:h.species}),a.jsxs("div",{className:"text-xs text-yellow-400",children:["Lv.",h.level]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.floor(h.happiness),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${h.happiness}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.floor(h.hunger),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${h.hunger}%`}})})]})]})]})},h.id))})]}),d&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[a.jsx("div",{className:"text-8xl",children:d.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:d.name}),a.jsx("p",{className:"text-white/70",children:d.species}),a.jsxs("div",{className:"flex gap-4 mt-2",children:[a.jsxs("span",{className:"text-yellow-400",children:["Lv.",d.level]}),a.jsxs("span",{className:"text-blue-400",children:["EXP: ",d.exp,"/",d.maxExp]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[a.jsxs("div",{className:"bg-white/10 rounded p-2",children:[a.jsx("span",{className:"text-white/60 text-sm",children:""}),a.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.attack]})]}),a.jsxs("div",{className:"bg-white/10 rounded p-2",children:[a.jsx("span",{className:"text-white/60 text-sm",children:""}),a.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.defense]})]}),a.jsxs("div",{className:"bg-white/10 rounded p-2",children:[a.jsx("span",{className:"text-white/60 text-sm",children:""}),a.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.speed]})]}),a.jsxs("div",{className:"bg-white/10 rounded p-2",children:[a.jsx("span",{className:"text-white/60 text-sm",children:""}),a.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.intelligence]})]})]})]})]}),a.jsx("div",{className:"flex gap-2 mb-4",children:["care","train","battle","evolve"].map(h=>a.jsxs("button",{onClick:()=>f(h),className:`px-4 py-2 rounded-lg transition-all ${N===h?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[h==="care"&&" ",h==="train"&&" ",h==="battle"&&" ",h==="evolve"&&" "]},h))}),a.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[N==="care"&&a.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(h=>a.jsx("button",{onClick:()=>w(d,h),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:h.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-white",children:h.name}),a.jsxs("div",{className:"text-xs text-white/60",children:[" +",h.hungerRestore," |  +",h.happinessBonus]}),a.jsxs("div",{className:"text-sm text-yellow-400",children:[h.cost," G"]})]})]})},h.id))}),N==="train"&&a.jsx("div",{className:"grid grid-cols-2 gap-3",children:D.map(h=>a.jsx("button",{onClick:()=>E(d,h),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:h.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-white",children:h.name}),a.jsxs("div",{className:"text-xs text-white/60",children:["+",h.expGain," EXP"]}),a.jsxs("div",{className:"text-sm text-yellow-400",children:[h.cost," G"]})]})]})},h.id))}),N==="battle"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("p",{className:"text-white/70",children:"    ..."})]}),N==="evolve"&&a.jsx("div",{className:"text-center py-8",children:d.evolution?a.jsxs("div",{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-white mb-4",children:" 10  !"}),a.jsx("button",{onClick:()=>x(d),disabled:d.level<10,className:`px-6 py-3 rounded-lg font-bold ${d.level>=10?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("p",{className:"text-white/70",children:"    ."})]})})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-emerald-900 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>p(!1),className:"text-white hover:text-red-400 text-2xl",children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(h=>{const M=h.rarity==="legendary"?5e3:h.rarity==="epic"?2e3:h.rarity==="rare"?800:300;return a.jsx("div",{className:`bg-gradient-to-br ${v(h.rarity)} p-0.5 rounded-xl`,children:a.jsx("div",{className:"bg-black/80 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-5xl",children:h.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:h.name}),a.jsx("div",{className:"text-sm text-white/70",children:h.species}),a.jsx("div",{className:"text-xs text-yellow-400 uppercase",children:h.rarity}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:h.skills.map(_=>a.jsx("span",{className:"bg-white/20 px-2 py-1 rounded text-xs text-white",children:_},_))}),a.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[a.jsxs("span",{className:"text-yellow-400 font-bold",children:[M," G"]}),a.jsx("button",{onClick:()=>R(h),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})]})})},h.id)})})]})})]})})},Pg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState(!1),[m,p]=k.useState(!1),[g,j]=k.useState(null),[N,f]=k.useState(50),[C,y]=k.useState(!1),[D,R]=k.useState(50),[w,E]=k.useState([]),[x,v]=k.useState("basic"),[h,M]=k.useState("wooden");k.useRef(null);const _=[{id:"minnow",name:"",icon:"",rarity:"common",size:5,value:50,difficulty:10},{id:"carp",name:"",icon:"",rarity:"common",size:15,value:100,difficulty:20},{id:"bass",name:"",icon:"",rarity:"common",size:20,value:150,difficulty:25},{id:"salmon",name:"",icon:"",rarity:"rare",size:30,value:300,difficulty:40},{id:"tuna",name:"",icon:"",rarity:"rare",size:40,value:500,difficulty:50},{id:"eel",name:"",icon:"",rarity:"rare",size:25,value:400,difficulty:45},{id:"swordfish",name:"",icon:"",rarity:"epic",size:60,value:1e3,difficulty:70},{id:"shark",name:"",icon:"",rarity:"epic",size:80,value:1500,difficulty:80},{id:"octopus",name:"",icon:"",rarity:"epic",size:35,value:800,difficulty:60},{id:"golden_fish",name:" ",icon:"",rarity:"legendary",size:50,value:5e3,difficulty:90},{id:"dragon_fish",name:" ",icon:"",rarity:"legendary",size:100,value:1e4,difficulty:95},{id:"mermaid_tear",name:" ",icon:"",rarity:"legendary",size:1,value:2e4,difficulty:100}],S={basic:{name:" ",cost:10,bonus:0,icon:""},premium:{name:" ",cost:50,bonus:20,icon:""},special:{name:" ",cost:200,bonus:50,icon:""}},T={wooden:{name:" ",power:1,cost:0,icon:""},iron:{name:" ",power:1.5,cost:1e3,icon:""},golden:{name:" ",power:2,cost:5e3,icon:""}};k.useEffect(()=>{let I;if(d&&!m){const X=20+S[x].bonus;I=setInterval(()=>{if(Math.random()*100<X){const le=Q();j(le),p(!0),Be.playNotificationSound()}},1e3)}return()=>clearInterval(I)},[d,m,x]),k.useEffect(()=>{let I;return C&&g&&(I=setInterval(()=>{const q=g.difficulty/100;T[h].power,R(X=>{const le=X+(Math.random()-.5)*q*20;return Math.max(0,Math.min(100,le))}),f(X=>{const le=q*2,xe=X-le;return xe<=0?(y(!1),p(!1),j(null),f(50),alert(" !"),50):xe})},100)),()=>clearInterval(I)},[C,g,h]);const Q=()=>{const I=Math.random()*100;let q;return x==="special"?I<10?q=_.filter(X=>X.rarity==="legendary"):I<30?q=_.filter(X=>X.rarity==="epic"):I<60?q=_.filter(X=>X.rarity==="rare"):q=_.filter(X=>X.rarity==="common"):x==="premium"?I<5?q=_.filter(X=>X.rarity==="legendary"):I<20?q=_.filter(X=>X.rarity==="epic"):I<50?q=_.filter(X=>X.rarity==="rare"):q=_.filter(X=>X.rarity==="common"):I<1?q=_.filter(X=>X.rarity==="legendary"):I<10?q=_.filter(X=>X.rarity==="epic"):I<30?q=_.filter(X=>X.rarity==="rare"):q=_.filter(X=>X.rarity==="common"),q[Math.floor(Math.random()*q.length)]},se=()=>{const I=S[x].cost;if((r.gold||0)<I){alert("   !");return}c({gold:(r.gold||0)-I}),o(!0),p(!1),f(50)},ue=()=>{o(!1),p(!1),j(null),y(!1),f(50)},F=()=>{!m||!g||y(!0)},pe=()=>{if(!C||!g)return;const q=10*T[h].power;f(X=>Math.min(100,X+q)),N>80&&Math.abs(D-50)<20&&P(g)},P=I=>{E([...w,I]),c({gold:(r.gold||0)+I.value,experience:r.experience+I.size*10}),Be.playSuccessSound(),alert(`${I.name}() ! +${I.value} `),y(!1),p(!1),j(null),f(50),o(!1)},ee=I=>{const q=T[I];if((r.gold||0)<q.cost){alert(" !");return}c({gold:(r.gold||0)-q.cost}),M(I),Be.playSuccessSound()},ne=I=>{switch(I){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-900 via-blue-700 to-cyan-600 p-4",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"relative h-64 bg-gradient-to-b from-cyan-600/50 to-blue-800/50 rounded-xl overflow-hidden mb-4",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"wave wave1"}),a.jsx("div",{className:"wave wave2"})]}),d&&a.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2",children:[a.jsx("div",{className:"w-0.5 h-48 bg-white/50"}),a.jsx("div",{className:"text-2xl transform -translate-x-1/2",children:m?"":""})]}),m&&g&&a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"text-4xl animate-pulse",children:g.icon})})]}),C&&g&&a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"mb-2 text-white font-bold",children:[g.name,"()  !"]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.floor(N),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:a.jsx("div",{className:`h-full rounded-full transition-all ${N>80?"bg-green-500":N>30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${N}%`}})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-white/80 mb-1",children:" "}),a.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-full bg-green-500/30"}),a.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 text-2xl",style:{left:`${D}%`},children:""})]})]}),a.jsx("button",{onClick:pe,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"! ()"})]}),d?a.jsxs("div",{className:"space-y-3",children:[m&&!C&&a.jsx("button",{onClick:F,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all animate-pulse",children:" !"}),a.jsx("button",{onClick:ue,className:"w-full py-3 bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700 transition-all",children:""})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-bold mb-2",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(S).map(I=>a.jsxs("button",{onClick:()=>v(I),className:`p-3 rounded-lg transition-all ${x===I?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:S[I].icon}),a.jsx("div",{className:"text-sm",children:S[I].name}),a.jsxs("div",{className:"text-xs opacity-80",children:[S[I].cost," G"]})]},I))})]}),a.jsx("button",{onClick:se,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all",children:"  "})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${h==="iron"?"border-2 border-green-400":""}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:" "}),a.jsx("div",{className:"text-sm text-white/70",children:" +50%"}),a.jsx("div",{className:"text-yellow-400",children:"1,000 G"})]}),h!=="iron"&&h!=="golden"&&a.jsx("button",{onClick:()=>ee("iron"),className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold",children:""})]})}),a.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${h==="golden"?"border-2 border-yellow-400":""}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-white",children:" "}),a.jsx("div",{className:"text-sm text-white/70",children:" +100%"}),a.jsx("div",{className:"text-yellow-400",children:"5,000 G"})]}),h!=="golden"&&a.jsx("button",{onClick:()=>ee("golden"),className:"px-3 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold",children:""})]})})]})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"  "}),w.length===0?a.jsx("p",{className:"text-white/70 text-center py-4",children:"   ."}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:w.map((I,q)=>a.jsx("div",{className:`bg-gradient-to-br ${ne(I.rarity)} p-0.5 rounded-lg`,children:a.jsxs("div",{className:"bg-black/80 rounded-lg p-3 text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:I.icon}),a.jsx("div",{className:"text-sm font-bold text-white",children:I.name}),a.jsxs("div",{className:"text-xs text-yellow-400",children:[I.size,"cm"]})]})},q))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("div",{className:"text-white/80",children:" "}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[w.reduce((I,q)=>I+q.value,0)," G"]})]})]})]}),a.jsx("style",{jsx:!0,children:`
        .wave {
          position: absolute;
          width: 200%;
          height: 100%;
          background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          animation: wave 3s linear infinite;
        }

        .wave1 {
          animation-delay: 0s;
        }

        .wave2 {
          animation-delay: 1.5s;
        }

        @keyframes wave {
          0% {
            transform: translateX(-50%);
          }
          100% {
            transform: translateX(0);
          }
        }
      `})]})},Wg=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState(()=>{const v=[];for(let h=0;h<12;h++)v.push({id:h,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null,isUnlocked:h<4});return v}),[m,p]=k.useState(null),[g,j]=k.useState(Date.now()),N=[{id:"wheat",name:"",icon:"",seedCost:50,growthTime:60,sellPrice:150,waterNeeded:2},{id:"carrot",name:"",icon:"",seedCost:100,growthTime:120,sellPrice:350,waterNeeded:3},{id:"tomato",name:"",icon:"",seedCost:150,growthTime:180,sellPrice:500,waterNeeded:4},{id:"corn",name:"",icon:"",seedCost:200,growthTime:240,sellPrice:700,waterNeeded:5},{id:"pumpkin",name:"",icon:"",seedCost:300,growthTime:300,sellPrice:1e3,waterNeeded:6},{id:"watermelon",name:"",icon:"",seedCost:400,growthTime:360,sellPrice:1500,waterNeeded:7},{id:"strawberry",name:"",icon:"",seedCost:500,growthTime:150,sellPrice:800,waterNeeded:4},{id:"grapes",name:"",icon:"",seedCost:600,growthTime:400,sellPrice:2e3,waterNeeded:8},{id:"apple",name:"",icon:"",seedCost:800,growthTime:600,sellPrice:3e3,waterNeeded:10},{id:"golden_apple",name:"",icon:"",seedCost:5e3,growthTime:1200,sellPrice:2e4,waterNeeded:20}];k.useEffect(()=>{const v=setInterval(()=>{j(Date.now()),f()},1e3);return()=>clearInterval(v)},[d]);const f=()=>{o(v=>v.map(h=>{if(!h.crop||!h.plantedAt)return h;const _=(Date.now()-h.plantedAt)/1e3/h.crop.growthTime,S=h.lastWateredAt?(Date.now()-h.lastWateredAt)/1e3:1/0;let T=h.crop.stage;return S>120&&h.crop.stage!=="dead"?T="dead":_>=1&&h.wateredTimes>=h.crop.waterNeeded?T="mature":_>=.66?T="growing":_>=.33&&(T="sprout"),{...h,crop:{...h.crop,stage:T}}}))},C=v=>{if(!m){alert("  !");return}const h=N.find(_=>_.id===m);if(!h)return;if((r.gold||0)<h.seedCost){alert(" !");return}const M={...h,stage:"seed"};o(_=>_.map(S=>S.id===v?{...S,crop:M,plantedAt:Date.now(),wateredTimes:0,lastWateredAt:null}:S)),c({gold:(r.gold||0)-h.seedCost}),Be.playSuccessSound()},y=v=>{const h=d.find(_=>_.id===v);if(!h||!h.crop)return;if(h.crop.stage==="dead"){alert("     !");return}if(h.crop.stage==="mature"){alert("  !");return}if((h.lastWateredAt?(Date.now()-h.lastWateredAt)/1e3:1/0)<30){alert("    ! 30   .");return}o(_=>_.map(S=>S.id===v?{...S,wateredTimes:S.wateredTimes+1,lastWateredAt:Date.now()}:S)),Be.playSuccessSound()},D=v=>{const h=d.find(_=>_.id===v);if(!h||!h.crop)return;if(h.crop.stage!=="mature"){alert("   !");return}const M=h.crop.sellPrice;c({gold:(r.gold||0)+M,experience:r.experience+Math.floor(M/10)}),o(_=>_.map(S=>S.id===v?{...S,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:S)),Be.playSuccessSound(),alert(`${h.crop.name}() ! +${M} `)},R=v=>{o(h=>h.map(M=>M.id===v?{...M,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:M))},w=v=>{const h=1e3*(v-2);if((r.gold||0)<h){alert(`${h}  !`);return}o(M=>M.map(_=>_.id===v?{..._,isUnlocked:!0}:_)),c({gold:(r.gold||0)-h}),Be.playSuccessSound()},E=v=>{if(!v.crop)return"";switch(v.crop.stage){case"seed":return"";case"sprout":return"";case"growing":return"";case"mature":return v.crop.icon;case"dead":return"";default:return""}},x=v=>{if(!v.crop||!v.plantedAt)return 0;const h=(g-v.plantedAt)/1e3;return Math.min(100,h/v.crop.growthTime*100)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-700 via-green-600 to-yellow-600 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-white",children:[a.jsx("span",{className:"text-yellow-400",children:""})," ",r.gold||0," G"]}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})]})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:N.map(v=>a.jsxs("button",{onClick:()=>p(v.id),className:`p-3 rounded-lg transition-all ${m===v.id?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:v.icon}),a.jsx("div",{className:"text-sm font-bold",children:v.name}),a.jsxs("div",{className:"text-xs",children:[": ",v.seedCost,"G"]}),a.jsxs("div",{className:"text-xs",children:[": ",v.sellPrice,"G"]}),a.jsxs("div",{className:"text-xs opacity-70",children:[v.growthTime,""]})]},v.id))})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:d.map(v=>a.jsx("div",{className:`relative aspect-square rounded-lg p-4 ${v.isUnlocked?"bg-gradient-to-b from-amber-700 to-amber-900":"bg-gray-800"}`,children:v.isUnlocked?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-5xl text-center mb-2",children:E(v)}),v.crop&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-white font-bold",children:v.crop.name}),v.crop.stage!=="dead"&&v.crop.stage!=="mature"&&a.jsx("div",{className:"mt-1",children:a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${x(v)}%`}})})}),v.crop.stage!=="dead"&&v.crop.stage!=="mature"&&a.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:[" ",v.wateredTimes,"/",v.crop.waterNeeded]}),v.crop.stage==="mature"&&a.jsx("div",{className:"text-xs text-green-400 font-bold mt-1",children:" !"}),v.crop.stage==="dead"&&a.jsx("div",{className:"text-xs text-red-400 font-bold mt-1",children:""})]}),a.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex gap-1",children:[!v.crop&&a.jsx("button",{onClick:()=>C(v.id),className:"flex-1 py-1 px-2 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:""}),v.crop&&v.crop.stage!=="mature"&&v.crop.stage!=="dead"&&a.jsx("button",{onClick:()=>y(v.id),className:"flex-1 py-1 px-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:""}),v.crop&&v.crop.stage==="mature"&&a.jsx("button",{onClick:()=>D(v.id),className:"flex-1 py-1 px-2 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:""}),v.crop&&v.crop.stage==="dead"&&a.jsx("button",{onClick:()=>R(v.id),className:"flex-1 py-1 px-2 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:""})]})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsxs("button",{onClick:()=>w(v.id),className:"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:[" (",1e3*(v.id-2),"G)"]})]})},v.id))}),a.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-4",children:[a.jsx("h3",{className:"font-bold text-white mb-2",children:" "}),a.jsxs("ul",{className:"text-sm text-white/80 space-y-1",children:[a.jsx("li",{children:"      (30)"}),a.jsx("li",{children:"  2     "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"    !"})]})]})]})]})})},Ig=()=>{const{player:r,updatePlayer:c}=me(),[d,o]=k.useState({id:"starter_room",name:" ",size:"small",furniture:[],wallpaper:"basic",flooring:"wood",comfort:0,style:0,maxFurniture:10}),[m,p]=k.useState("room"),[g,j]=k.useState(null),N=[{id:"basic_bed",name:" ",icon:"",category:"bed",cost:500,comfort:10,style:5},{id:"luxury_bed",name:" ",icon:"",category:"bed",cost:2e3,comfort:30,style:20},{id:"royal_bed",name:" ",icon:"",category:"bed",cost:1e4,comfort:100,style:80},{id:"wooden_chair",name:" ",icon:"",category:"chair",cost:200,comfort:5,style:3},{id:"gaming_chair",name:" ",icon:"",category:"chair",cost:1500,comfort:25,style:15},{id:"throne",name:"",icon:"",category:"chair",cost:8e3,comfort:50,style:70},{id:"study_desk",name:"",icon:"",category:"table",cost:300,comfort:5,style:5},{id:"dining_table",name:"",icon:"",category:"table",cost:800,comfort:10,style:10},{id:"magic_table",name:" ",icon:"",category:"table",cost:5e3,comfort:20,style:50},{id:"plant",name:"",icon:"",category:"decoration",cost:100,comfort:3,style:5},{id:"painting",name:"",icon:"",category:"decoration",cost:500,comfort:5,style:15},{id:"chandelier",name:"",icon:"",category:"decoration",cost:3e3,comfort:15,style:40},{id:"aquarium",name:"",icon:"",category:"decoration",cost:1200,comfort:20,style:25},{id:"fireplace",name:"",icon:"",category:"decoration",cost:2500,comfort:35,style:30},{id:"bookshelf",name:"",icon:"",category:"storage",cost:600,comfort:8,style:12},{id:"wardrobe",name:"",icon:"",category:"storage",cost:900,comfort:10,style:10},{id:"treasure_chest",name:"",icon:"",category:"storage",cost:4e3,comfort:5,style:35},{id:"piano",name:"",icon:"",category:"special",cost:7e3,comfort:40,style:60},{id:"telescope",name:"",icon:"",category:"special",cost:3500,comfort:15,style:30},{id:"gaming_setup",name:" ",icon:"",category:"special",cost:1e4,comfort:60,style:45},{id:"magic_crystal",name:" ",icon:"",category:"special",cost:15e3,comfort:50,style:100}],f=[{id:"basic",name:" ",cost:0,style:0,icon:""},{id:"floral",name:" ",cost:500,style:10,icon:""},{id:"starry",name:" ",cost:1e3,style:20,icon:""},{id:"royal",name:" ",cost:3e3,style:50,icon:""},{id:"magical",name:" ",cost:5e3,style:80,icon:""}],C=[{id:"wood",name:" ",cost:0,style:5,icon:""},{id:"carpet",name:"",cost:800,style:15,icon:""},{id:"marble",name:"",cost:2e3,style:35,icon:""},{id:"crystal",name:" ",cost:6e3,style:70,icon:""}],y=[{size:"medium",name:" ",cost:5e3,maxFurniture:20},{size:"large",name:" ",cost:15e3,maxFurniture:35},{size:"mansion",name:"",cost:5e4,maxFurniture:50}],D=M=>{if((r.gold||0)<M.cost){alert(" !");return}if(d.furniture.length>=d.maxFurniture){alert("      !");return}const _={...M,position:{x:50,y:50}};o(S=>({...S,furniture:[...S.furniture,_],comfort:S.comfort+M.comfort,style:S.style+M.style})),c({gold:(r.gold||0)-M.cost}),Be.playSuccessSound()},R=M=>{const _=d.furniture.find(T=>T.id===M);if(!_)return;const S=Math.floor(_.cost*.5);o(T=>({...T,furniture:T.furniture.filter(Q=>Q.id!==M),comfort:T.comfort-_.comfort,style:T.style-_.style})),c({gold:(r.gold||0)+S}),Be.playCoinSound()},w=M=>{const _=f.find(S=>S.id===M);if(_){if((r.gold||0)<_.cost){alert(" !");return}o(S=>({...S,wallpaper:M,style:S.style+_.style})),c({gold:(r.gold||0)-_.cost}),Be.playSuccessSound()}},E=M=>{const _=C.find(S=>S.id===M);if(_){if((r.gold||0)<_.cost){alert(" !");return}o(S=>({...S,flooring:M,style:S.style+_.style})),c({gold:(r.gold||0)-_.cost}),Be.playSuccessSound()}},x=M=>{const _=y.find(S=>S.size===M);if(_){if((r.gold||0)<_.cost){alert(" !");return}o(S=>({...S,size:M,maxFurniture:_.maxFurniture})),c({gold:(r.gold||0)-_.cost}),Be.playLevelUpSound()}},h=(()=>{const M=Math.floor(d.comfort/10),_=Math.floor(d.style/10);return{happiness:M*2,charm:_,dailyGold:(M+_)*10}})();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.comfort]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.style]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.furniture.length,"/",d.maxFurniture]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.size]})]})]})]}),a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:a.jsx("div",{className:"flex gap-2",children:["room","furniture","customize","upgrade"].map(M=>a.jsxs("button",{onClick:()=>p(M),className:`px-4 py-2 rounded-lg transition-all ${m===M?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[M==="room"&&"  ",M==="furniture"&&"  ",M==="customize"&&" ",M==="upgrade"&&" "]},M))})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[m==="room"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-800 rounded-xl h-64 mb-4 relative overflow-hidden",children:[d.furniture.map((M,_)=>a.jsx("div",{className:"absolute text-4xl cursor-pointer hover:scale-110 transition-all",style:{left:`${M.position?.x||50}%`,top:`${M.position?.y||50}%`,transform:"translate(-50%, -50%)"},onClick:()=>R(M.id),title:`${M.name} ( )`,children:M.icon},_)),d.furniture.length===0&&a.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:"   !"})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("h3",{className:"font-bold text-white mb-2",children:"  "}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-pink-400",children:[" +",h.happiness]})}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-purple-400",children:[" +",h.charm]})}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-yellow-400",children:["  +",h.dailyGold]})})]})]})]}),m==="furniture"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map(M=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-3xl text-center mb-2",children:M.icon}),a.jsx("div",{className:"text-sm font-bold text-white",children:M.name}),a.jsx("div",{className:"text-xs text-white/70",children:M.category}),a.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[a.jsxs("span",{className:"text-blue-400",children:[" +",M.comfort]}),a.jsxs("span",{className:"text-purple-400",children:[" +",M.style]})]}),a.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[a.jsxs("span",{className:"text-yellow-400 font-bold",children:[M.cost," G"]}),a.jsx("button",{onClick:()=>D(M),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-sm font-bold hover:shadow-lg transition-all",children:""})]})]},M.id))})]}),m==="customize"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:""}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:f.map(M=>a.jsxs("button",{onClick:()=>w(M.id),className:`p-3 rounded-lg transition-all ${d.wallpaper===M.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:M.icon}),a.jsx("div",{className:"text-xs",children:M.name}),a.jsxs("div",{className:"text-xs",children:[M.cost," G"]})]},M.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:""}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:C.map(M=>a.jsxs("button",{onClick:()=>E(M.id),className:`p-3 rounded-lg transition-all ${d.flooring===M.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:M.icon}),a.jsx("div",{className:"text-xs",children:M.name}),a.jsxs("div",{className:"text-xs",children:[M.cost," G"]})]},M.id))})]})]}),m==="upgrade"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid gap-4",children:y.map(M=>a.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${d.size===M.size?"border-2 border-green-400":""}`,children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-white",children:M.name}),a.jsxs("div",{className:"text-sm text-white/70",children:[" : ",M.maxFurniture,""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-yellow-400 font-bold text-xl",children:[M.cost," G"]}),d.size!==M.size&&a.jsx("button",{onClick:()=>x(M.size),className:"mt-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})},M.size))})]})]})]})})},eb=()=>{const r=Je(),c=me(o=>o.player),d=[{title:"  ",items:[{name:" ",icon:"",path:"/dungeon",color:"from-red-500 to-red-600"},{name:"",icon:"",path:"/shopping",color:"from-yellow-500 to-yellow-600"},{name:" ",icon:"",path:"/characters",color:"from-blue-500 to-blue-600"},{name:" ",icon:"",path:"/heroines",color:"from-pink-500 to-pink-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/achievements",color:"from-yellow-500 to-orange-500"},{name:"",icon:"",path:"/collection",color:"from-purple-500 to-purple-600"},{name:" ",icon:"",path:"/quests",color:"from-green-500 to-green-600"},{name:" ",icon:"",path:"/calendar",color:"from-pink-500 to-pink-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/clubs",color:"from-purple-500 to-indigo-600"},{name:"",icon:"",path:"/guild",color:"from-indigo-500 to-indigo-600"},{name:" ",icon:"",path:"/pets",color:"from-emerald-500 to-emerald-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/fishing",color:"from-cyan-500 to-cyan-600"},{name:"",icon:"",path:"/farming",color:"from-green-600 to-green-700"},{name:" ",icon:"",path:"/card-matching",color:"from-purple-600 to-pink-600"},{name:" ",icon:"",path:"/quiz-game",color:"from-orange-500 to-red-500"}]},{title:"  ",items:[{name:"",icon:"",path:"/housing",color:"from-purple-600 to-pink-600"},{name:"",icon:"",path:"/crafting",color:"from-amber-500 to-amber-600"}]}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),a.jsx("button",{onClick:()=>r("/game"),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg font-bold hover:shadow-lg transition-all",children:" "})]})}),a.jsx("div",{className:"space-y-6",children:d.map((o,m)=>a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:o.title}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.items.map((p,g)=>a.jsxs("button",{onClick:()=>r(p.path),className:`bg-gradient-to-r ${p.color} p-4 rounded-xl hover:scale-105 transition-all shadow-lg hover:shadow-xl`,children:[a.jsx("div",{className:"text-4xl mb-2",children:p.icon}),a.jsx("div",{className:"text-white font-bold",children:p.name})]},g))})]},m))}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mt-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/70",children:" "}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["Day ",c.day]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:["Lv.",c.level]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/70",children:""}),a.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[c.money||0," G"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/70",children:" "}),a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:c.achievementPoints||0})]})]})]})]})})},tb=({onComplete:r,onSkip:c})=>{const d=Je(),[o,m]=k.useState(0),[p,g]=k.useState(!1),j=[{id:1,title:"    !",content:"     .    .",image:""},{id:2,title:" ",content:"   . , ,       .",image:"",highlightElement:".character-creation"},{id:3,title:" ",content:"(HP), (MP), , , ,     .      .",image:""},{id:4,title:" ",content:"5     .      .",image:""},{id:5,title:" ",content:", ,       .     .",image:""},{id:6,title:" ",content:" , ,   .       .",image:""},{id:7,title:" ",content:"        .    .",image:""},{id:8,title:" ",content:"    .    !",image:"",highlightElement:".dungeon-button"},{id:9,title:" ",content:"       .    .",image:""},{id:10,title:"",content:"    . , ,       .",image:"",highlightElement:".shop-button"},{id:11,title:"",content:" ,       .    !",image:""},{id:12,title:"",content:"       .      .",image:""},{id:13,title:" & ",content:"       .    .",image:""},{id:14,title:"",content:`   
   
    
   `,image:""},{id:15,title:" !",content:"      .  !",image:"",action:()=>{r(),d("/character-creation")}}],N=()=>{o<j.length-1?(g(!0),setTimeout(()=>{m(o+1),g(!1)},300)):j[o].action?.()},f=()=>{o>0&&(g(!0),setTimeout(()=>{m(o-1),g(!1)},300))},C=()=>{window.confirm(" ?      .")&&(c(),d("/character-creation"))};return k.useEffect(()=>{const y=j[o];if(y.highlightElement){const D=document.querySelector(y.highlightElement);if(D)return D.classList.add("tutorial-highlight"),()=>{D.classList.remove("tutorial-highlight")}}},[o]),a.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"bg-gray-200 h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full transition-all duration-500",style:{width:`${(o+1)/j.length*100}%`}})}),a.jsxs("div",{className:`p-8 transition-opacity duration-300 ${p?"opacity-0":"opacity-100"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-500",children:[" ",o+1," / ",j.length]}),a.jsx("button",{onClick:C,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:""})]}),a.jsxs("div",{className:"text-center mb-8",children:[j[o].image&&a.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:j[o].image}),a.jsx("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:j[o].title}),a.jsx("p",{className:"text-lg text-gray-700 whitespace-pre-line leading-relaxed",children:j[o].content})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:f,disabled:o===0,className:`
                px-6 py-3 rounded-lg font-semibold transition-all
                ${o===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}
              `,children:""}),a.jsx("div",{className:"flex gap-2",children:j.map((y,D)=>a.jsx("button",{onClick:()=>{D<=o&&m(D)},className:`
                    w-2 h-2 rounded-full transition-all
                    ${D===o?"w-8 bg-gradient-to-r from-purple-500 to-pink-500":D<o?"bg-purple-300 cursor-pointer hover:bg-purple-400":"bg-gray-300"}
                  `},D))}),a.jsx("button",{onClick:N,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all transform hover:scale-105",children:o===j.length-1?"":""})]})]})]}),a.jsx("style",{children:`
        .tutorial-highlight {
          position: relative;
          z-index: 51;
          box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          animation: pulse 2s infinite;
        }

        @keyframes pulse {
          0% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          }
          50% {
            box-shadow: 0 0 20px 9999px rgba(0, 0, 0, 0.3);
          }
          100% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          }
        }
      `})]})},ab=()=>{const[r,c]=k.useState([]),[d,o]=k.useState([]),[m,p]=k.useState(0),[g,j]=k.useState(0),[N,f]=k.useState(!1),C=["","","","","","","",""];k.useEffect(()=>{y()},[]);const y=()=>{const R=[...C,...C].map((w,E)=>({id:E,value:w,isFlipped:!1,isMatched:!1})).sort(()=>Math.random()-.5);c(R),o([]),p(0),j(0),f(!1)},D=R=>{if(d.length===2||d.includes(R)||r[R].isMatched)return;const w=[...d,R];if(o(w),w.length===2){j(g+1);const[E,x]=w;r[E].value===r[x].value?setTimeout(()=>{c(h=>h.map(M=>M.id===E||M.id===x?{...M,isMatched:!0}:M)),o([]),p(m+10),r.map(h=>h.id===E||h.id===x?{...h,isMatched:!0}:h).every(h=>h.isMatched)&&f(!0)},1e3):setTimeout(()=>{o([])},1e3)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-900 via-purple-900 to-indigo-900 p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-8 border border-white/20",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-6 text-center",children:"   "}),a.jsxs("div",{className:"flex justify-center gap-8 mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:m}),a.jsx("div",{className:"text-sm text-gray-300",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:g}),a.jsx("div",{className:"text-sm text-gray-300",children:" "})]})]}),N&&a.jsxs("div",{className:"bg-green-600/20 border border-green-500 rounded-lg p-4 mb-6 text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-green-400 mb-2",children:"  !"}),a.jsxs("p",{className:"text-green-200",children:[g,"  ",m," !"]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6 max-w-md mx-auto",children:r.map(R=>a.jsx("div",{onClick:()=>D(R.id),className:`
                  aspect-square bg-white/10 rounded-lg border-2 border-white/20 
                  flex items-center justify-center text-3xl cursor-pointer
                  transition-all duration-300 hover:scale-105
                  ${d.includes(R.id)||R.isMatched?"bg-white/20 border-yellow-400":"hover:bg-white/15"}
                  ${R.isMatched?"opacity-50":""}
                `,children:d.includes(R.id)||R.isMatched?R.value:""},R.id))}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("button",{onClick:y,className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all transform hover:scale-105",children:" "}),a.jsx("div",{className:"text-gray-300 text-sm",children:"    !"}),a.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all",children:""})]})]})})})},lb=({onComplete:r})=>{const{updateStats:c,updateMoney:d,gainExperience:o}=me(T=>T.actions),m=[{id:1,question:"   ?",options:["1850","1900","1925","1950"],correctAnswer:2,category:" "},{id:2,question:"  ?",options:["","","",""],correctAnswer:2,category:""},{id:3,question:"  ?",options:[" "," "," "," "],correctAnswer:2,category:""},{id:4,question:"    ?",options:["","","",""],correctAnswer:1,category:""},{id:5,question:"    ?",options:["","","",""],correctAnswer:0,category:""}],[p,g]=k.useState(0),[j,N]=k.useState(null),[f,C]=k.useState(0),[y,D]=k.useState(15),[R,w]=k.useState(!1),[E,x]=k.useState(!1);k.useEffect(()=>{if(y>0&&!E&&!R){const T=setTimeout(()=>D(y-1),1e3);return()=>clearTimeout(T)}else y===0&&!E&&v()},[y,E,R]);const v=()=>{x(!0),setTimeout(()=>M(),2e3)},h=T=>{if(!E){if(N(T),x(!0),T===m[p].correctAnswer){const Q=Math.max(50,100-(15-y)*5);C(f+Q)}setTimeout(()=>M(),2e3)}},M=()=>{p+1<m.length?(g(p+1),N(null),x(!1),D(15)):_()},_=()=>{w(!0);const T=Math.floor(f/20),Q=Math.floor(f/10),se=Math.floor(f/100);d(T),o(Q),se>0&&c({intelligence:se}),r(f)},S=T=>E?T===m[p].correctAnswer?"bg-green-500 text-white border-2 border-green-600":j===T&&T!==m[p].correctAnswer?"bg-red-500 text-white border-2 border-red-600":"bg-gray-200 text-gray-500 border-2 border-gray-300":"bg-white hover:bg-purple-50 border-2 border-purple-300 text-gray-800";return R?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"  !"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-6xl mb-4",children:f>=400?"":f>=300?"":f>=200?"":""}),a.jsx("p",{className:"text-2xl font-bold mb-2",children:" "}),a.jsx("p",{className:"text-4xl font-bold text-purple-600 mb-6",children:f}),a.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:" :"}),a.jsxs("p",{className:"font-semibold",children:[" ",Math.floor(f/20)," "]}),a.jsxs("p",{className:"font-semibold",children:[" ",Math.floor(f/10)," "]}),Math.floor(f/100)>0&&a.jsxs("p",{className:"font-semibold",children:["  +",Math.floor(f/100)]})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:shadow-lg transition",children:" "})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[" ",p+1," / ",m.length]}),a.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[": ",f]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(p+1)/m.length*100}%`}})}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("span",{className:"text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-semibold",children:m[p].category}),a.jsxs("div",{className:`text-2xl font-bold ${y<=5?"text-red-500 animate-pulse":"text-gray-700"}`,children:[" ",y,""]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:m[p].question}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:m[p].options.map((T,Q)=>a.jsxs("button",{onClick:()=>h(Q),disabled:E,className:`
                  p-4 rounded-lg font-semibold text-left transition-all
                  ${S(Q)}
                  ${E?"":"hover:scale-102 active:scale-98"}
                `,children:[a.jsxs("span",{className:"mr-3",children:[String.fromCharCode(65+Q),"."]}),T,E&&Q===m[p].correctAnswer&&a.jsx("span",{className:"ml-2",children:""}),E&&j===Q&&Q!==m[p].correctAnswer&&a.jsx("span",{className:"ml-2",children:""})]},Q))})]}),E&&a.jsx("div",{className:`text-center font-bold text-lg ${j===m[p].correctAnswer?"text-green-600":"text-red-600"}`,children:j===m[p].correctAnswer?`! +${Math.max(50,100-(15-y)*5)} `:"!"})]})})},sb=()=>{const{player:r}=me(),[c,d]=k.useState(null),[o,m]=k.useState(!1),[p,g]=k.useState(null),[j,N]=k.useState([]),[f,C]=k.useState("ranked"),y=[{id:"opponent1",name:"Shadow Knight",level:15,hp:200,maxHp:200,mp:50,maxMp:50,attack:40,defense:30,speed:25,skills:["slash","shadowstrike"],ranking:1500,wins:45,losses:12,streak:5,avatar:""},{id:"opponent2",name:"Fire Mage",level:14,hp:150,maxHp:150,mp:100,maxMp:100,attack:50,defense:20,speed:30,skills:["fireball","meteor"],ranking:1450,wins:38,losses:15,streak:3,avatar:""},{id:"opponent3",name:"Holy Priest",level:16,hp:180,maxHp:180,mp:80,maxMp:80,attack:30,defense:40,speed:20,skills:["heal","holylight"],ranking:1600,wins:52,losses:8,streak:8,avatar:""},{id:"opponent4",name:"Assassin",level:13,hp:140,maxHp:140,mp:40,maxMp:40,attack:55,defense:15,speed:40,skills:["backstab","poisondagger"],ranking:1400,wins:30,losses:20,streak:1,avatar:""},{id:"opponent5",name:"Tank Warrior",level:17,hp:250,maxHp:250,mp:30,maxMp:30,attack:35,defense:50,speed:15,skills:["shieldbash","ironwall"],ranking:1550,wins:40,losses:10,streak:4,avatar:""}],D={slash:{name:"",damage:35,mpCost:5,description:" "},fireball:{name:"",damage:45,mpCost:10,description:" "},heal:{name:"",damage:-40,mpCost:15,description:"HP "},backstab:{name:"",damage:60,mpCost:8,description:" "},shieldbash:{name:" ",damage:25,mpCost:5,description:" "},shadowstrike:{name:" ",damage:50,mpCost:12,description:" "},meteor:{name:"",damage:70,mpCost:20,description:" "},holylight:{name:" ",damage:40,mpCost:10,description:" "},poisondagger:{name:"",damage:30,mpCost:6,description:" "},ironwall:{name:"",damage:0,mpCost:10,description:" "}};k.useEffect(()=>{const x=[...y].sort((v,h)=>h.ranking-v.ranking);N(x)},[]);const R=()=>{m(!0),setTimeout(()=>{const x=y[Math.floor(Math.random()*y.length)],v={id:"player",name:r.name,level:r.level||10,hp:100+(r.level||10)*10,maxHp:100+(r.level||10)*10,mp:50+(r.level||10)*5,maxMp:50+(r.level||10)*5,attack:20+(r.level||10)*2,defense:15+(r.level||10),speed:20+Math.floor((r.level||10)/2),skills:["slash","fireball","heal"],ranking:1200,wins:0,losses:0,streak:0,avatar:""};d({player:v,opponent:{...x},turn:v.speed>=x.speed?"player":"opponent",logs:[],status:"preparing"}),m(!1),setTimeout(()=>{d(h=>h?{...h,status:"battling"}:null)},2e3)},2e3)},w=x=>{if(!c||c.status!=="battling"||c.turn!=="player")return;const v=D[x];if(!v||v.mpCost>c.player.mp)return;let h=v.damage;h>0&&(h=Math.max(1,h+c.player.attack-c.opponent.defense));const M=h>0?Math.max(0,c.opponent.hp-h):c.opponent.hp,_=h<0?Math.min(c.player.maxHp,c.player.hp-h):c.player.hp,S={attacker:r.name,action:v.name,damage:Math.abs(h),effect:h<0?"heal":"damage",timestamp:Date.now()};if(d({...c,player:{...c.player,mp:c.player.mp-v.mpCost,hp:_},opponent:{...c.opponent,hp:M},turn:"opponent",logs:[...c.logs,S]}),M<=0){setTimeout(()=>{d(T=>T?{...T,status:"victory"}:null)},1e3);return}setTimeout(()=>{E()},1500)},E=()=>{if(!c||c.status!=="battling")return;const x=c.opponent.skills.filter(Q=>{const se=D[Q];return se&&se.mpCost<=c.opponent.mp});if(x.length===0)return;const v=x[Math.floor(Math.random()*x.length)],h=D[v];let M=h.damage;M>0&&(M=Math.max(1,M+c.opponent.attack-c.player.defense));const _=M>0?Math.max(0,c.player.hp-M):c.player.hp,S=M<0?Math.min(c.opponent.maxHp,c.opponent.hp-M):c.opponent.hp,T={attacker:c.opponent.name,action:h.name,damage:Math.abs(M),effect:M<0?"heal":"damage",timestamp:Date.now()};d({...c,opponent:{...c.opponent,mp:c.opponent.mp-h.mpCost,hp:S},player:{...c.player,hp:_},turn:"player",logs:[...c.logs,T]}),_<=0&&setTimeout(()=>{d(Q=>Q?{...Q,status:"defeat"}:null)},1e3)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-purple-800 to-blue-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-white",children:" PvP  "}),a.jsx("div",{className:"flex gap-2",children:["ranked","casual","tournament"].map(x=>a.jsx("button",{onClick:()=>C(x),className:`px-4 py-2 rounded-lg font-bold transition-all ${f===x?"bg-gradient-to-r from-red-500 to-orange-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:x==="ranked"?"":x==="casual"?"":""},x))})]})}),c?a.jsx(a.Fragment,{children:c.status==="preparing"?a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),a.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:"VS"}),a.jsxs("div",{className:"flex justify-center items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:c.player.avatar}),a.jsx("div",{className:"text-xl font-bold text-white",children:c.player.name}),a.jsxs("div",{className:"text-white/70",children:["Lv.",c.player.level]})]}),a.jsx("div",{className:"text-4xl text-yellow-400",children:"VS"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:c.opponent.avatar}),a.jsx("div",{className:"text-xl font-bold text-white",children:c.opponent.name}),a.jsxs("div",{className:"text-white/70",children:["Lv.",c.opponent.level]})]})]})]})}):c.status==="battling"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:`${c.turn==="player"?"ring-4 ring-green-400":""} rounded-xl p-4`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"text-3xl",children:c.player.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-white font-bold",children:c.player.name}),a.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",c.player.level]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[a.jsx("span",{children:"HP"}),a.jsxs("span",{children:[c.player.hp,"/",c.player.maxHp]})]}),a.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-full transition-all",style:{width:`${c.player.hp/c.player.maxHp*100}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[a.jsx("span",{children:"MP"}),a.jsxs("span",{children:[c.player.mp,"/",c.player.maxMp]})]}),a.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-full transition-all",style:{width:`${c.player.mp/c.player.maxMp*100}%`}})})]})]})]}),a.jsxs("div",{className:`${c.turn==="opponent"?"ring-4 ring-red-400":""} rounded-xl p-4`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"text-3xl",children:c.opponent.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-white font-bold",children:c.opponent.name}),a.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",c.opponent.level]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[a.jsx("span",{children:"HP"}),a.jsxs("span",{children:[c.opponent.hp,"/",c.opponent.maxHp]})]}),a.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-full transition-all",style:{width:`${c.opponent.hp/c.opponent.maxHp*100}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[a.jsx("span",{children:"MP"}),a.jsxs("span",{children:[c.opponent.mp,"/",c.opponent.maxMp]})]}),a.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-full transition-all",style:{width:`${c.opponent.mp/c.opponent.maxMp*100}%`}})})]})]})]})]}),c.turn==="player"&&a.jsxs("div",{className:"mt-6",children:[a.jsx("div",{className:"text-white font-bold mb-2",children:" !"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.player.skills.map(x=>{const v=D[x],h=v&&v.mpCost<=c.player.mp;return a.jsxs("button",{onClick:()=>h&&w(x),disabled:!h,className:`p-3 rounded-lg font-bold transition-all ${h?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:[a.jsx("div",{children:v?.name}),a.jsxs("div",{className:"text-xs",children:["MP: ",v?.mpCost]})]},x)})})]}),c.turn==="opponent"&&a.jsx("div",{className:"mt-6 text-center",children:a.jsx("div",{className:"text-white/70",children:" ..."})})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("div",{className:"text-white font-bold mb-2",children:" "}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:c.logs.slice(-5).map((x,v)=>a.jsxs("div",{className:"text-sm text-white/80",children:[a.jsx("span",{className:"font-bold",children:x.attacker}),"",a.jsxs("span",{className:"text-yellow-400",children:[" ",x.action]}),"!",x.effect==="damage"&&a.jsxs("span",{className:"text-red-400",children:[" -",x.damage," "]}),x.effect==="heal"&&a.jsxs("span",{className:"text-green-400",children:[" +",x.damage," "]})]},v))})]})]}):a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:c.status==="victory"?"":""}),a.jsx("div",{className:"text-4xl font-bold text-white mb-4",children:c.status==="victory"?"VICTORY!":"DEFEAT"}),a.jsx("div",{className:"text-white/70 mb-6",children:c.status==="victory"?`${c.opponent.name}() !`:`${c.opponent.name} ...`}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-4 mb-6",children:[a.jsx("div",{className:"text-white font-bold mb-2",children:" "}),a.jsx("div",{className:"space-y-1 text-white/80",children:c.status==="victory"?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"  : +25 RP"}),a.jsx("div",{children:" : +100 G"}),a.jsx("div",{children:" : +50 EXP"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"  : -10 RP"}),a.jsx("div",{children:" : +25 G"}),a.jsx("div",{children:" : +10 EXP"})]})})]}),a.jsx("button",{onClick:()=>d(null),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-bold hover:scale-105 transition-all",children:" "})]})})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 mb-6",children:a.jsx("div",{className:"text-center",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),a.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:" ..."}),a.jsx("div",{className:"text-white/70",children:"  "})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("div",{className:"text-2xl font-bold text-white mb-4",children:"  !"}),a.jsx("button",{onClick:R,className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-8 py-4 rounded-xl text-xl font-bold hover:scale-105 transition-all",children:" "}),a.jsxs("div",{className:"mt-4 text-white/70",children:[" : #",r.pvpRanking||1e3," | : ",r.pvpWins||0,"W ",r.pvpLosses||0,"L"]})]})})}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"space-y-2",children:j.map((x,v)=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:v===0?"":v===1?"":v===2?"":`#${v+1}`}),a.jsx("div",{className:"text-2xl",children:x.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold",children:x.name}),a.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",x.level]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-white font-bold",children:[x.ranking," RP"]}),a.jsxs("div",{className:"text-sm text-white/70",children:[x.wins,"W ",x.losses,"L"]}),x.streak>0&&a.jsxs("div",{className:"text-sm text-orange-400",children:[" ",x.streak," "]})]})]},x.id))})]})]})]})})},nb=()=>{const{player:r}=me(),[c,d]=k.useState("friends"),[o,m]=k.useState([]),[p,g]=k.useState([]),[j,N]=k.useState(null),[f,C]=k.useState([]),[y,D]=k.useState(""),[R,w]=k.useState(""),[E,x]=k.useState(!1),v=[{id:"flower",name:"",icon:"",friendshipPoints:10,cost:50},{id:"chocolate",name:"",icon:"",friendshipPoints:15,cost:75},{id:"gem",name:"",icon:"",friendshipPoints:30,cost:150},{id:"letter",name:"",icon:"",friendshipPoints:20,cost:100},{id:"trophy",name:"",icon:"",friendshipPoints:50,cost:300}],h=[{id:"1",name:"Luna",level:15,status:"online",lastSeen:new Date,friendshipLevel:85,avatar:"",mutualGuilds:["Starlight"],achievements:24,message:"   ~"},{id:"2",name:"Phoenix",level:22,status:"busy",lastSeen:new Date,friendshipLevel:70,avatar:"",mutualGuilds:["Blaze","Starlight"],achievements:45,message:" "},{id:"3",name:"Crystal",level:18,status:"offline",lastSeen:new Date(Date.now()-36e5),friendshipLevel:60,avatar:"",mutualGuilds:[],achievements:31},{id:"4",name:"Shadow",level:25,status:"away",lastSeen:new Date,friendshipLevel:45,avatar:"",mutualGuilds:["DarkKnights"],achievements:67,message:"AFK"},{id:"5",name:"Aurora",level:20,status:"online",lastSeen:new Date,friendshipLevel:92,avatar:"",mutualGuilds:["Starlight"],achievements:38,message:"  "}],M=[{id:"6",name:"Blade",level:30,status:"online",lastSeen:new Date,friendshipLevel:0,avatar:"",mutualGuilds:[],achievements:89},{id:"7",name:"Rose",level:16,status:"online",lastSeen:new Date,friendshipLevel:0,avatar:"",mutualGuilds:[],achievements:22}];k.useEffect(()=>{m(h.slice(0,3)),g(h.slice(3,4))},[]);const _=()=>{if(!y.trim()||!j)return;const F={id:Date.now().toString(),sender:r.name,content:y,timestamp:new Date,type:"text"};C([...f,F]),D("")},S=F=>{if(!j)return;const pe={id:Date.now().toString(),sender:r.name,content:`${F.icon} ${F.name}() !`,timestamp:new Date,type:"gift"};C([...f,pe]),m(o.map(P=>P.id===j.id?{...P,friendshipLevel:Math.min(100,P.friendshipLevel+F.friendshipPoints/5)}:P)),x(!1)},T=F=>{m([...o,F]),g(p.filter(pe=>pe.id!==F.id))},Q=F=>{alert(`${F.name}   !`)},se=F=>{switch(F){case"online":return"bg-green-500";case"busy":return"bg-red-500";case"away":return"bg-yellow-500";default:return"bg-gray-500"}},ue=F=>F>=90?"":F>=70?" ":F>=50?"":F>=30?" ":" ";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),a.jsx("div",{className:"flex gap-2 mt-4",children:["friends","chat","search","requests"].map(F=>a.jsxs("button",{onClick:()=>d(F),className:`px-4 py-2 rounded-lg font-bold transition-all ${c===F?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[F==="friends"&&" ",F==="chat"&&"",F==="search"&&" ",F==="requests"&&`  ${p.length>0?`(${p.length})`:""}`]},F))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[c==="friends"&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:["  (",o.length,")"]}),a.jsx("div",{className:"space-y-2",children:o.map(F=>a.jsx("div",{onClick:()=>N(F),className:`bg-white/10 rounded-lg p-3 cursor-pointer hover:bg-white/20 transition-all ${j?.id===F.id?"ring-2 ring-pink-500":""}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-2xl",children:F.avatar}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 ${se(F.status)} rounded-full border-2 border-black`})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold",children:F.name}),a.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",F.level]}),F.message&&a.jsx("div",{className:"text-xs text-white/50 italic",children:F.message})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-white/70",children:ue(F.friendshipLevel)}),a.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-1 mt-1",children:a.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-full rounded-full",style:{width:`${F.friendshipLevel}%`}})})]})]})},F.id))})]}),c==="search"&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("input",{type:"text",value:R,onChange:F=>w(F.target.value),placeholder:"  ...",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 mb-4"}),a.jsx("div",{className:"space-y-2",children:M.filter(F=>F.name.toLowerCase().includes(R.toLowerCase())).map(F=>a.jsx("div",{className:"bg-white/10 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:F.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold",children:F.name}),a.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",F.level,"  ",F.achievements," "]})]})]}),a.jsx("button",{onClick:()=>Q(F),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1 rounded text-sm font-bold hover:scale-105 transition-all",children:" "})]})},F.id))})]}),c==="requests"&&a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),p.length>0?a.jsx("div",{className:"space-y-2",children:p.map(F=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:F.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold",children:F.name}),a.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",F.level]})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>T(F),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white py-1 rounded text-sm font-bold",children:""}),a.jsx("button",{onClick:()=>g(p.filter(pe=>pe.id!==F.id)),className:"flex-1 bg-red-500/20 text-red-400 py-1 rounded text-sm font-bold",children:""})]})]},F.id))}):a.jsx("div",{className:"text-center text-white/50 py-8",children:"   "})]})]}),a.jsx("div",{className:"lg:col-span-2",children:(c==="friends"||c==="chat")&&j?a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 h-[600px] flex flex-col",children:[a.jsx("div",{className:"bg-white/10 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-4xl",children:j.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xl font-bold text-white",children:j.name}),a.jsxs("div",{className:"text-white/70",children:["Lv.",j.level,"  ",ue(j.friendshipLevel)]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:`w-2 h-2 ${se(j.status)} rounded-full`}),a.jsx("span",{className:"text-sm text-white/50",children:j.status})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-2 rounded-lg font-bold hover:scale-105 transition-all",children:" "}),a.jsx("button",{className:"bg-white/10 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all",children:" "})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:f.map(F=>a.jsx("div",{className:`flex ${F.sender===r.name?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${F.sender===r.name?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white"}`,children:[F.type==="gift"&&a.jsx("div",{className:"text-2xl mb-1 text-center",children:""}),a.jsx("div",{className:"text-sm",children:F.content}),a.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(F.timestamp).toLocaleTimeString()})]})},F.id))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:y,onChange:F=>D(F.target.value),onKeyPress:F=>F.key==="Enter"&&_(),placeholder:" ...",className:"flex-1 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50"}),a.jsx("button",{onClick:_,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-2 rounded-lg font-bold hover:scale-105 transition-all",children:""})]})]}):a.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:a.jsxs("div",{className:"text-center text-white/50",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("div",{className:"text-xl",children:"   "})]})})})]}),E&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:v.map(F=>a.jsxs("button",{onClick:()=>S(F),className:"bg-white/10 rounded-lg p-4 hover:bg-white/20 transition-all",children:[a.jsx("div",{className:"text-3xl mb-2",children:F.icon}),a.jsx("div",{className:"text-sm text-white font-bold",children:F.name}),a.jsxs("div",{className:"text-xs text-white/70",children:[F.cost," G"]}),a.jsxs("div",{className:"text-xs text-green-400",children:["+",F.friendshipPoints," "]})]},F.id))}),a.jsx("button",{onClick:()=>x(!1),className:"w-full mt-4 bg-white/10 text-white py-2 rounded-lg font-bold hover:bg-white/20 transition-all",children:""})]})})]})})},ib=()=>{const{player:r}=me(),[c,d]=k.useState(null),[o,m]=k.useState([]),[p,g]=k.useState(!1),[j,N]=k.useState(null),f=[{id:"1",name:" ",type:"weapon",icon:"",level:0,maxLevel:15,rarity:"common",baseStats:{attack:10},enhancedStats:{attack:10},enhancementCost:100,successRate:95},{id:"2",name:" ",type:"armor",icon:"",level:3,maxLevel:15,rarity:"rare",baseStats:{defense:15,hp:50},enhancedStats:{defense:20,hp:65},enhancementCost:200,successRate:80},{id:"3",name:" ",type:"accessory",icon:"",level:5,maxLevel:20,rarity:"epic",baseStats:{mp:30,speed:5},enhancedStats:{mp:45,speed:8},enhancementCost:500,successRate:65},{id:"4",name:" ",type:"weapon",icon:"",level:7,maxLevel:25,rarity:"legendary",baseStats:{attack:50,speed:10},enhancedStats:{attack:85,speed:17},enhancementCost:1e3,successRate:45},{id:"5",name:" ",type:"accessory",icon:"",level:1,maxLevel:15,rarity:"rare",baseStats:{hp:30,mp:20},enhancedStats:{hp:35,mp:23},enhancementCost:150,successRate:88}],C=[{id:"blessing",name:" ",icon:"",successBonus:10,protectItem:!1,quantity:5},{id:"protection",name:" ",icon:"",successBonus:0,protectItem:!0,quantity:3},{id:"lucky",name:" ",icon:"",successBonus:20,protectItem:!1,quantity:2},{id:"master",name:" ",icon:"",successBonus:30,protectItem:!0,quantity:1}],y=()=>{if(!c)return 0;let x=c.successRate-c.level*5;x=Math.max(10,x);const v=o.reduce((h,M)=>h+M.successBonus,0);return Math.min(100,x+v)},D=()=>c?c.enhancementCost*(c.level+1):0,R=()=>{!c||p||(g(!0),N(null),setTimeout(()=>{const x=y();if(Math.random()*100<x){const M=c.level+1,_=Math.floor(M/3+1);d({...c,level:M,enhancedStats:{attack:c.baseStats.attack?c.baseStats.attack+_*3:void 0,defense:c.baseStats.defense?c.baseStats.defense+_*2:void 0,hp:c.baseStats.hp?c.baseStats.hp+_*10:void 0,mp:c.baseStats.mp?c.baseStats.mp+_*5:void 0,speed:c.baseStats.speed?c.baseStats.speed+_:void 0}}),N({success:!0,newLevel:M})}else{const M=o.some(_=>_.protectItem);!M&&c.level>=10?(N({success:!1,destroyed:!0}),d(null)):!M&&c.level>=5?(d({...c,level:Math.max(0,c.level-1)}),N({success:!1,newLevel:Math.max(0,c.level-1)})):N({success:!1})}g(!1),m([])},2e3))},w=x=>{switch(x){case"legendary":return"from-yellow-500 to-orange-500";case"epic":return"from-purple-500 to-pink-500";case"rare":return"from-blue-500 to-cyan-500";default:return"from-gray-500 to-gray-600"}},E=x=>{switch(x){case"legendary":return"text-yellow-400";case"epic":return"text-purple-400";case"rare":return"text-blue-400";default:return"text-gray-400"}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[a.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),a.jsx("div",{className:"mt-2 text-white/70",children:"    !      ."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:f.map(x=>a.jsx("button",{onClick:()=>d(x),className:`w-full bg-white/10 rounded-lg p-3 hover:bg-white/20 transition-all text-left ${c?.id===x.id?"ring-2 ring-yellow-400":""}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:x.icon}),a.jsxs("div",{children:[a.jsxs("div",{className:`font-bold ${E(x.rarity)}`,children:[x.name," ",x.level>0&&`+${x.level}`]}),a.jsx("div",{className:"text-xs text-white/60",children:x.type==="weapon"?"":x.type==="armor"?"":""})]})]}),x.level===x.maxLevel&&a.jsx("div",{className:"text-xs text-yellow-400 font-bold",children:"MAX"})]})},x.id))})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),c?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`bg-gradient-to-r ${w(c.rarity)} p-4 rounded-lg`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:c.icon}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[c.name," +",c.level]}),a.jsxs("div",{className:"text-white/80",children:[c.level," / ",c.maxLevel]})]})}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),a.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(c.enhancedStats).map(([x,v])=>v&&a.jsxs("div",{className:"flex justify-between text-white/80",children:[a.jsx("span",{children:x==="attack"?"":x==="defense"?"":x.toUpperCase()}),a.jsxs("span",{className:"text-green-400",children:["+",v]})]},x))})]}),c.level<c.maxLevel&&a.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[a.jsxs("div",{className:"text-sm font-bold text-white mb-2",children:["  (+",c.level+1,")"]}),a.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(c.enhancedStats).map(([x,v])=>{if(!v)return null;const h=Math.floor((c.level+1)/3+1)*(x==="attack"?3:x==="defense"?2:x==="hp"?10:x==="mp"?5:1);return a.jsxs("div",{className:"flex justify-between text-white/80",children:[a.jsx("span",{children:x==="attack"?"":x==="defense"?"":x.toUpperCase()}),a.jsxs("span",{className:"text-yellow-400",children:["+",v+h-v," ( ",v+h-v,")"]})]},x)})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between text-white/80",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:`font-bold ${y()>=70?"text-green-400":y()>=40?"text-yellow-400":"text-red-400"}`,children:[y(),"%"]})]}),a.jsxs("div",{className:"flex justify-between text-white/80",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:"text-yellow-400",children:[D()," G"]})]}),c.level>=5&&a.jsxs("div",{className:"text-xs text-red-400",children:["   ",c.level>=10?"   ":"    "]})]})]}):a.jsx("div",{className:"text-center text-white/50 py-8",children:"  "})]}),a.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"space-y-2 mb-4",children:C.map(x=>a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:x.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold text-sm",children:x.name}),a.jsxs("div",{className:"text-xs text-white/60",children:[x.successBonus>0&&` +${x.successBonus}%`,x.protectItem&&" "]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-white/70 text-sm",children:["x",x.quantity]}),x.quantity>0&&a.jsx("button",{onClick:()=>{o.find(v=>v.id===x.id)?m(o.filter(v=>v.id!==x.id)):m([...o,x])},className:`px-2 py-1 rounded text-xs font-bold transition-all ${o.find(v=>v.id===x.id)?"bg-green-500 text-white":"bg-white/20 text-white/70 hover:bg-white/30"}`,children:o.find(v=>v.id===x.id)?"":""})]})]},x.id))}),o.length>0&&a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-4",children:[a.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:o.map(x=>a.jsxs("div",{className:"bg-white/20 rounded px-2 py-1 text-xs text-white flex items-center gap-1",children:[a.jsx("span",{children:x.icon}),a.jsx("span",{children:x.name})]},x.id))})]}),c&&c.level<c.maxLevel&&a.jsx("button",{onClick:R,disabled:p||(r.gold||0)<D(),className:`w-full py-4 rounded-lg font-bold text-lg transition-all ${p?"bg-gray-600 text-gray-400 cursor-not-allowed":(r.gold||0)<D()?"bg-red-600/50 text-red-300 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:scale-105"}`,children:p?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin",children:""})," ..."]}):(r.gold||0)<D()?" ":" "}),j&&a.jsxs("div",{className:`mt-4 p-4 rounded-lg text-center ${j.success?"bg-green-500/20":"bg-red-500/20"}`,children:[a.jsx("div",{className:"text-3xl mb-2",children:j.success?"":j.destroyed?"":""}),a.jsx("div",{className:"text-white font-bold",children:j.success?` ! (+${j.newLevel})`:j.destroyed?" ...":j.newLevel!==void 0?` ... (+${j.newLevel})`:" "})]})]})]})]})})},rb="http://localhost:9000";class cb{constructor(c=rb){this.baseUrl=c}async healthCheck(){try{return await(await fetch(`${this.baseUrl}/health`)).json()}catch(c){throw console.error("Health check failed:",c),c}}async testApi(){try{return await(await fetch(`${this.baseUrl}/api/test`)).json()}catch(c){throw console.error("API test failed:",c),c}}async login(c,d){try{return await(await fetch(`${this.baseUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d})})).json()}catch(o){throw console.error("Login failed:",o),o}}async register(c,d,o){try{return await(await fetch(`${this.baseUrl}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,username:d,password:o})})).json()}catch(m){throw console.error("Registration failed:",m),m}}async saveGame(c){try{return await(await fetch(`${this.baseUrl}/api/game/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(c)})).json()}catch(d){throw console.error("Save game failed:",d),d}}async loadGame(){try{return await(await fetch(`${this.baseUrl}/api/game/load`,{headers:{Authorization:`Bearer ${this.getToken()}`}})).json()}catch(c){throw console.error("Load game failed:",c),c}}getToken(){return localStorage.getItem("authToken")}setToken(c){localStorage.setItem("authToken",c)}removeToken(){localStorage.removeItem("authToken")}}const Zc=new cb,ob=()=>{const[r,c]=k.useState(null),[d,o]=k.useState(null),[m,p]=k.useState(!1),[g,j]=k.useState(null);k.useEffect(()=>{N()},[]);const N=async()=>{p(!0),j(null);try{const y=await Zc.healthCheck();c(y)}catch(y){j("  : "+y.message)}finally{p(!1)}},f=async()=>{p(!0),j(null);try{const y=await Zc.testApi();o(y)}catch(y){j("API  : "+y.message)}finally{p(!1)}},C=async()=>{p(!0),j(null);try{const y=await Zc.login("demo@academy-dating-sim.com","demo123");console.log("Login result:",y),alert("    ")}catch(y){j("  : "+y.message)}finally{p(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-8 border border-white/20",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"  API  "}),g&&a.jsxs("div",{className:"bg-red-500/20 border border-red-500 rounded-lg p-4 mb-6 text-red-200",children:[a.jsx("strong",{children:":"})," ",g]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:" Health Check"}),a.jsx("button",{onClick:N,disabled:m,className:"w-full mb-4 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?" ...":"  "}),r&&a.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:a.jsx("pre",{className:"text-green-300 whitespace-pre-wrap",children:JSON.stringify(r,null,2)})})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:" API "}),a.jsx("button",{onClick:f,disabled:m,className:"w-full mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?" ...":"API  "}),d&&a.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:a.jsx("pre",{className:"text-blue-300 whitespace-pre-wrap",children:JSON.stringify(d,null,2)})})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"  "}),a.jsx("button",{onClick:C,disabled:m,className:"w-full mb-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?" ...":"  (demo )"}),a.jsx("p",{className:"text-gray-300 text-xs",children:" : demo@academy-dating-sim.com / demo123"})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"  "}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:":"}),a.jsx("span",{className:"text-green-400",children:" http://localhost:5173"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:":"}),a.jsxs("span",{className:r?"text-green-400":"text-red-400",children:[r?"":""," http://localhost:3001"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:":"}),a.jsx("span",{className:"text-green-400",children:" Supabase PostgreSQL"})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all",children:" "})})]})})})},db=[{id:"kendo",name:"",description:"    ",leader:"sakura",members:["sakura","npc_kendo_1","npc_kendo_2"],maxMembers:20,requirements:{stats:{strength:15,stamina:10},level:5},schedule:{monday:{time:"afternoon",activity:"training"},wednesday:{time:"afternoon",activity:"training"},friday:{time:"afternoon",activity:"sparring"},saturday:{time:"morning",activity:"tournament"}},benefits:{daily:{stats:{strength:1,stamina:1},exp:50},weekly:{items:["training_sword"],money:500},rank:{beginner:{title:"",bonus:{strength:5}},intermediate:{title:"",bonus:{strength:10,stamina:5}},advanced:{title:"",bonus:{strength:15,stamina:10,agility:5}},master:{title:"",bonus:{strength:25,stamina:15,agility:10}}}},activities:[{id:"daily_training",name:" ",description:"  ",rewards:{exp:30,stats:{strength:1}}},{id:"sparring_match",name:"",description:"  ",rewards:{exp:50,stats:{strength:2,agility:1}}},{id:"tournament",name:"",description:"  ",rewards:{exp:100,money:1e3,item:"trophy"}}],events:[{id:"kendo_festival",name:" ",description:"  ",date:{month:6,day:15},rewards:{affinity:{sakura:20},item:"special_sword"}}],reputation:0,level:1,exp:0},{id:"library",name:"",description:"   ",leader:"yuki",members:["yuki","npc_library_1","npc_library_2"],maxMembers:15,requirements:{stats:{intelligence:20},level:3},schedule:{tuesday:{time:"afternoon",activity:"reading"},thursday:{time:"afternoon",activity:"discussion"},saturday:{time:"noon",activity:"book_club"}},benefits:{daily:{stats:{intelligence:2},exp:40},weekly:{items:["rare_book"],money:300},rank:{member:{title:"",bonus:{intelligence:5}},librarian:{title:"",bonus:{intelligence:10,exp_gain:10}},scholar:{title:"",bonus:{intelligence:20,exp_gain:20}},sage:{title:"",bonus:{intelligence:30,all_stats:5}}}},activities:[{id:"quiet_reading",name:" ",description:"  ",rewards:{exp:25,stats:{intelligence:1}}},{id:"book_discussion",name:" ",description:"  ",rewards:{exp:40,stats:{intelligence:2,charm:1}}},{id:"write_review",name:" ",description:"   ",rewards:{exp:60,money:200}}],events:[{id:"book_fair",name:" ",description:"  ",date:{month:9,day:20},rewards:{affinity:{yuki:15},item:"ancient_tome"}}],reputation:0,level:1,exp:0},{id:"magic",name:" ",description:"   ",leader:"luna",members:["luna","npc_magic_1","npc_magic_2","npc_magic_3"],maxMembers:12,requirements:{stats:{intelligence:25,luck:10},level:10},schedule:{monday:{time:"evening",activity:"theory"},wednesday:{time:"evening",activity:"practice"},friday:{time:"night",activity:"ritual"}},benefits:{daily:{stats:{intelligence:1,luck:1},mp:5,exp:60},weekly:{items:["mana_potion","spell_scroll"],money:800},rank:{apprentice:{title:" ",bonus:{mp:10,intelligence:5}},adept:{title:" ",bonus:{mp:20,intelligence:10,luck:5}},wizard:{title:"",bonus:{mp:40,intelligence:20,luck:10}},archmage:{title:"",bonus:{mp:60,all_stats:10}}}},activities:[{id:"spell_practice",name:" ",description:"  ",rewards:{exp:40,mp:5}},{id:"enchantment",name:" ",description:"  ",rewards:{exp:70,item:"enchanted_item"}},{id:"summoning",name:"",description:"  ",rewards:{exp:100,stats:{luck:2}}}],reputation:0,level:1,exp:0},{id:"track",name:"",description:"    ",leader:"rin",members:["rin","npc_track_1","npc_track_2"],maxMembers:25,requirements:{stats:{stamina:20,agility:15},level:5},schedule:{daily:{time:"morning",activity:"morning_run"},weekend:{time:"afternoon",activity:"competition"}},benefits:{daily:{stats:{stamina:2,agility:1},exp:45},weekly:{items:["energy_drink","running_shoes"],money:400}},activities:[{id:"morning_jog",name:" ",description:"  ",rewards:{exp:30,stats:{stamina:2}}},{id:"sprint_training",name:" ",description:"  ",rewards:{exp:50,stats:{agility:2,stamina:1}}}],reputation:0,level:1,exp:0},{id:"art",name:"",description:"   ",leader:"mei",members:["mei","npc_art_1","npc_art_2"],maxMembers:18,requirements:{stats:{charm:15},level:4},schedule:{tuesday:{time:"afternoon",activity:"sketching"},thursday:{time:"afternoon",activity:"painting"},sunday:{time:"noon",activity:"exhibition"}},benefits:{daily:{stats:{charm:2},exp:35},weekly:{items:["art_supplies","canvas"],money:600}},activities:[{id:"sketching",name:"",description:"  ",rewards:{exp:30,stats:{charm:1}}},{id:"painting",name:" ",description:"  ",rewards:{exp:50,item:"painting",money:300}}],reputation:0,level:1,exp:0},{id:"cooking",name:"",description:"   ",leader:"hana",members:["hana","npc_cooking_1","npc_cooking_2"],maxMembers:20,requirements:{stats:{stamina:10},level:2},schedule:{monday:{time:"noon",activity:"basic_cooking"},wednesday:{time:"noon",activity:"baking"},friday:{time:"noon",activity:"special_menu"}},benefits:{daily:{stats:{stamina:1,charm:1},exp:30,items:["lunch_box"]},weekly:{items:["special_recipe","ingredients"],money:350}},activities:[{id:"cooking_practice",name:" ",description:"  ",rewards:{exp:25,item:"homemade_meal"}},{id:"bake_dessert",name:" ",description:"  ",rewards:{exp:40,item:"dessert",affinity_all:2}}],reputation:0,level:1,exp:0},{id:"science",name:"",description:"    ",leader:"sora",members:["sora","npc_science_1","npc_science_2"],maxMembers:16,requirements:{stats:{intelligence:30},level:8},schedule:{tuesday:{time:"evening",activity:"experiment"},thursday:{time:"evening",activity:"research"},saturday:{time:"afternoon",activity:"invention"}},benefits:{daily:{stats:{intelligence:3},exp:55},weekly:{items:["research_notes","invention"],money:1e3}},activities:[{id:"experiment",name:"",description:"  ",rewards:{exp:45,stats:{intelligence:2}}},{id:"invention",name:"",description:"  ",rewards:{exp:80,item:"invention",money:500}}],reputation:0,level:1,exp:0},{id:"student_council",name:"",description:"   ",leader:"akane",members:["akane","npc_council_1","npc_council_2","npc_council_3"],maxMembers:10,requirements:{stats:{intelligence:25,charm:20},level:15,reputation:500},schedule:{daily:{time:"afternoon",activity:"meeting"},friday:{time:"evening",activity:"event_planning"}},benefits:{daily:{stats:{charm:2,intelligence:1},exp:70,reputation:5},weekly:{money:1500,items:["council_badge"]},rank:{member:{title:" ",bonus:{charm:5,reputation_gain:10}},secretary:{title:"",bonus:{charm:10,intelligence:5,reputation_gain:20}},vice_president:{title:"",bonus:{all_stats:10,reputation_gain:30}},president:{title:"",bonus:{all_stats:20,reputation_gain:50}}}},activities:[{id:"council_meeting",name:"",description:"  ",rewards:{exp:50,reputation:10}},{id:"event_organization",name:" ",description:"  ",rewards:{exp:100,reputation:20,money:500}}],reputation:0,level:1,exp:0},{id:"occult",name:" ",description:"     ",leader:"mystery",members:["mystery","npc_occult_1"],maxMembers:7,requirements:{stats:{intelligence:20,luck:20},level:20,flags:["discovered_secret"],affinity:{mystery:50}},secret:!0,schedule:{midnight:{time:"night",activity:"ritual"}},benefits:{daily:{stats:{luck:3,intelligence:2},exp:100},weekly:{items:["mysterious_artifact","forbidden_knowledge"],money:2e3}},activities:[{id:"sance",name:"",description:" ",rewards:{exp:100,stats:{luck:5}}},{id:"dimension_research",name:" ",description:"  ",rewards:{exp:200,unlock:"special_ending"}}],reputation:0,level:1,exp:0}],ub={clubs:db},Gs=ub.clubs,vf=Fa,mb=()=>{const r=Je(),c=me(v=>v.player),{updateStats:d,updatePlayer:o,addItem:m,updateMoney:p}=me(v=>v.actions),[g,j]=k.useState(null),[N,f]=k.useState(c.currentClub||null),[C,y]=k.useState({}),D=v=>{if(N||v.requirements.level&&c.level<v.requirements.level)return!1;if(v.requirements.stats){for(const[h,M]of Object.entries(v.requirements.stats))if(c.stats[h]<M)return!1}return!0},R=v=>{const h=Gs.find(M=>M.id===v);!h||!D(h)||(f(v),o({currentClub:v,clubJoinDate:c.day}),alert(`${h.name} !`))},w=()=>{N&&confirm("  ?")&&(f(null),o({currentClub:null,clubJoinDate:null}),alert(" ."))},E=(v,h)=>{const M=Gs.find(T=>T.id===v),_=M?.activities.find(T=>T.id===h);if(!M||!_)return;const S=`${v}_${h}_${c.day}`;if(C[S]){alert("    !");return}_.rewards.exp&&o({experience:c.experience+_.rewards.exp}),_.rewards.stats&&d(_.rewards.stats),_.rewards.money&&p(_.rewards.money),_.rewards.item&&m(_.rewards.item),y(T=>({...T,[S]:!0})),alert(`${_.name}  !`)},x=v=>{const h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],M=(c.day-1)%7,_=h[M],S=v.schedule[_];return S?`${S.time} ${S.activity}`:null};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-indigo-900 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"glass-card p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"  "}),a.jsx("p",{className:"text-text-secondary",children:"    !"}),N&&a.jsxs("div",{className:"mt-2 badge badge-primary",children:[" : ",Gs.find(v=>v.id===N)?.name]})]}),a.jsx("button",{onClick:()=>r("/game"),className:"btn-ghost px-6 py-3 rounded-xl font-semibold",children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),Gs.map(v=>{const h=N===v.id,M=D(v),_=vf[v.leader];return a.jsxs("div",{className:`glass-card p-6 cursor-pointer transition-all duration-300 ${g===v.id?"ring-2 ring-primary":""} ${h?"border-2 border-accent":""}`,onClick:()=>j(v.id),children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[v.name,h&&a.jsx("span",{className:"badge badge-accent",children:" "})]}),a.jsx("p",{className:"text-text-secondary mt-1",children:v.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-text-secondary",children:""}),a.jsx("div",{className:"font-medium text-text-primary",children:_?.name||v.leader})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:" "}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.requirements.level&&a.jsxs("span",{className:`badge ${c.level>=v.requirements.level?"badge-success":"badge-error"}`,children:[" ",v.requirements.level]}),v.requirements.stats&&Object.entries(v.requirements.stats).map(([S,T])=>a.jsxs("span",{className:`badge ${c.stats[S]>=T?"badge-success":"badge-error"}`,children:[S," ",T]},S))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-text-secondary",children:[": ",v.members.length,"/",v.maxMembers,""]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[v.members.slice(0,5).map(S=>{const T=vf[S];return T?a.jsx("span",{className:"badge badge-primary",children:T.name},S):null}),v.members.length>5&&a.jsxs("span",{className:"badge",children:["+",v.members.length-5]})]})]}),x(v)&&a.jsxs("div",{className:"mb-4 p-3 bg-primary/20 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-primary",children:" "}),a.jsx("div",{className:"text-text-primary",children:x(v)})]}),a.jsxs("div",{className:"flex gap-2",children:[!N&&a.jsx("button",{onClick:S=>{S.stopPropagation(),R(v.id)},disabled:!M,className:`btn ${M?"btn-primary":"btn-ghost opacity-50"} px-4 py-2`,children:""}),h&&a.jsx(a.Fragment,{children:a.jsx("button",{onClick:S=>{S.stopPropagation(),w()},className:"btn btn-secondary px-4 py-2",children:""})})]})]},v.id)})]}),a.jsxs("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),g?(()=>{const v=Gs.find(h=>h.id===g);return v?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:""}),a.jsxs("div",{className:"space-y-2 text-sm",children:[v.benefits.daily&&a.jsxs("div",{className:"p-2 bg-surface/50 rounded",children:[a.jsx("div",{className:"font-medium text-accent",children:" "}),v.benefits.daily.exp&&a.jsxs("div",{children:[" +",v.benefits.daily.exp]}),v.benefits.daily.stats&&Object.entries(v.benefits.daily.stats).map(([h,M])=>a.jsxs("div",{children:[h," +",M]},h))]}),v.benefits.weekly&&a.jsxs("div",{className:"p-2 bg-surface/50 rounded",children:[a.jsx("div",{className:"font-medium text-accent",children:" "}),v.benefits.weekly.money&&a.jsxs("div",{children:[" +",v.benefits.weekly.money]}),v.benefits.weekly.items&&v.benefits.weekly.items.map(h=>a.jsx("div",{children:h},h))]})]})]}),N===g&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:""}),a.jsx("div",{className:"space-y-2",children:v.activities.map(h=>{const M=C[`${v.id}_${h.id}_${c.day}`];return a.jsxs("div",{className:"p-3 bg-surface/50 rounded",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-text-primary",children:h.name}),a.jsx("div",{className:"text-xs text-text-secondary",children:h.description})]}),M&&a.jsx("span",{className:"badge badge-success",children:""})]}),!M&&a.jsx("button",{onClick:()=>E(v.id,h.id),className:"btn btn-primary btn-sm w-full",children:""})]},h.id)})})]})]}):null})():a.jsx("p",{className:"text-text-secondary",children:" "})]})]})]})})},Kc=Fa,fb=Bf,xb=()=>{const r=Je(),c=me(w=>w.player),d=me(w=>w.unlockedCharacters),[o,m]=k.useState(null),[p,g]=k.useState("gallery"),j=w=>({sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""})[w]||"",N=w=>({sakura:"from-pink-600 via-rose-500 to-pink-600",yuki:"from-blue-600 via-cyan-500 to-blue-600",luna:"from-purple-600 via-indigo-500 to-purple-600",mystery:"from-gray-600 via-slate-500 to-gray-600",akane:"from-red-600 via-orange-500 to-red-600",hana:"from-yellow-500 via-amber-400 to-yellow-500",rin:"from-violet-600 via-purple-500 to-violet-600",mei:"from-emerald-600 via-green-500 to-emerald-600",sora:"from-sky-500 via-blue-400 to-sky-500"})[w]||"from-purple-600 via-pink-500 to-purple-600",f=w=>w>=80?{level:"",color:"text-pink-400",stars:""}:w>=60?{level:"",color:"text-purple-400",stars:""}:w>=40?{level:"",color:"text-blue-400",stars:""}:w>=20?{level:"",color:"text-green-400",stars:""}:{level:"",color:"text-gray-400",stars:""},C=w=>{if(!d.includes(w)){const E=Kc[w];return E?.unlockCondition?{locked:!0,reason:`Day ${E.unlockCondition.day||0} ,   ${E.unlockCondition.totalAffection||0} `}:{locked:!0,reason:"  "}}return{locked:!1}},y=o?Kc[o]:null,D=o&&c.affection[o]||0,R=o?fb[o]?.conversations:[];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"glass-card p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"  "}),a.jsx("p",{className:"text-text-secondary",children:"    "})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>g(p==="gallery"?"detail":"gallery"),className:"btn-secondary px-6 py-3 rounded-xl font-semibold",children:p==="gallery"?" ":" "}),a.jsx("button",{onClick:()=>r("/game"),className:"btn-primary px-6 py-3 rounded-xl font-semibold",children:" "})]})]})}),p==="gallery"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(Kc).map(w=>{const E=c.affection[w.id]||0,x=f(E),v=C(w.id),h=d.includes(w.id);return a.jsxs("div",{onClick:()=>{h&&(m(w.id),g("detail"))},className:`glass-card p-6 transition-all duration-300 ${h?"hover:scale-105 cursor-pointer":"opacity-50"}`,children:[a.jsx("div",{className:`bg-gradient-to-br ${N(w.id)} p-4 rounded-xl mb-4`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:j(w.id)}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:w.name}),a.jsx("p",{className:"text-white/80",children:w.role})]})}),h?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-text-secondary",children:""}),a.jsx("span",{className:`font-bold ${x.color}`,children:x.level})]}),a.jsx("div",{className:"w-full bg-background-dark rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 transition-all duration-500",style:{width:`${E}%`}})}),a.jsx("div",{className:"text-center mt-2 text-yellow-400 text-lg",children:x.stars})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"bg-background-dark p-2 rounded-lg",children:[a.jsx("div",{className:"text-xs text-text-secondary",children:" "}),a.jsx("div",{className:"text-lg font-bold text-text-primary",children:c.metHeroines?.filter(M=>M===w.id).length||0})]}),a.jsxs("div",{className:"bg-background-dark p-2 rounded-lg",children:[a.jsx("div",{className:"text-xs text-text-secondary",children:""}),a.jsxs("div",{className:"text-lg font-bold text-text-primary",children:[E,"/100"]})]})]}),a.jsx("p",{className:"text-sm text-text-secondary mb-4 line-clamp-2",children:w.baseText}),a.jsx("button",{className:"w-full btn-primary py-2 rounded-lg font-semibold",children:"  "})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{className:"text-text-secondary font-semibold",children:" "}),a.jsx("p",{className:"text-xs text-text-secondary mt-2",children:v.reason})]})]},w.id)})}):y&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"glass-card p-6 sticky top-4",children:[a.jsx("div",{className:`bg-gradient-to-br ${N(o)} p-6 rounded-xl mb-6`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-8xl mb-3",children:j(o)}),a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:y.name}),a.jsx("p",{className:"text-xl text-white/90",children:y.role})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm text-text-secondary",children:" "}),a.jsxs("span",{className:"text-sm font-bold text-text-primary",children:[D,"/100"]})]}),a.jsx("div",{className:"w-full bg-background-dark rounded-full h-4 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 transition-all duration-500",style:{width:`${D}%`}})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`text-2xl font-bold ${f(D).color}`,children:f(D).level}),a.jsx("div",{className:"text-yellow-400 text-xl mt-1",children:f(D).stars})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.likes.map((w,E)=>a.jsx("span",{className:"badge badge-success",children:w},E))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.dislikes.map((w,E)=>a.jsx("span",{className:"badge badge-error",children:w},E))})]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("p",{className:"text-text-secondary leading-relaxed",children:y.baseText}),y.backstory&&a.jsxs("div",{className:"mt-4 p-4 bg-background-dark rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-2",children:" "}),a.jsx("p",{className:"text-text-secondary",children:y.backstory})]})]})]}),a.jsxs("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),a.jsx("div",{className:"space-y-3",children:y.dialogues&&Object.entries(y.dialogues).map(([w,E])=>{const x=parseInt(w),v=D>=x;return a.jsxs("div",{className:`p-4 rounded-lg transition-all ${v?"bg-background-dark border border-primary/30":"bg-background-dark/50 opacity-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-primary",children:[" ",w]}),v?a.jsx("span",{className:"badge badge-success",children:""}):a.jsx("span",{className:"badge",children:" "})]}),a.jsxs("p",{className:`text-text-secondary ${!v&&"blur-sm"}`,children:['"',v?E:"???",'"']})]},w)})})]}),R&&R.length>0&&a.jsxs("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map((w,E)=>{const x=D>=(w.requiredAffection||0);return a.jsxs("div",{className:`p-4 rounded-lg border ${x?"bg-gradient-to-br from-primary/20 to-accent/20 border-primary/50":"bg-background-dark/50 border-border opacity-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-text-primary",children:w.title||` ${E+1}`}),x?a.jsx("span",{className:"text-green-400",children:""}):a.jsx("span",{className:"text-gray-400",children:""})]}),a.jsxs("p",{className:"text-sm text-text-secondary",children:[" : ",w.requiredAffection||0]})]},E)})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{r("/game")},className:"flex-1 btn-primary px-6 py-3 rounded-xl font-semibold",children:"  "}),a.jsx("button",{onClick:()=>g("gallery"),className:"flex-1 btn-secondary px-6 py-3 rounded-xl font-semibold",children:" "})]})]})]})]})})},hb=()=>{const r=Je(),c=me(N=>N.player),[d,o]=k.useState(0),m=[{title:" ",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-lg",children:"   ''  ."}),a.jsx("p",{className:"text-lg",children:"      ,      ."}),a.jsxs("div",{className:"bg-purple-900/30 p-4 rounded-lg mt-4",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:" : 100 "}),a.jsx("li",{children:" :   "}),a.jsx("li",{children:"  :  1,000"}),a.jsx("li",{children:" :    "})]})]})]}),emoji:""},{title:" ",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-lg font-bold text-yellow-300",children:"30       :"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-pink-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:" 9  "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"  80  "}),a.jsx("li",{children:"   "})]})]}),a.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"  20 "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "})]})]}),a.jsxs("div",{className:"bg-green-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"  "})]})]}),a.jsxs("div",{className:"bg-yellow-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:" 10,000 "}),a.jsx("li",{children:"   "})]})]})]})]}),emoji:""},{title:" ",content:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-purple-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"  30  "}),a.jsx("li",{children:"  2  "}),a.jsx("li",{children:" /  "}),a.jsx("li",{children:"   "})]})]}),a.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "})]})]}),a.jsxs("div",{className:"bg-green-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:" :  "}),a.jsx("li",{children:" : "}),a.jsx("li",{children:" :  "}),a.jsx("li",{children:" :  "}),a.jsx("li",{children:" :  "})]})]}),a.jsxs("div",{className:"bg-pink-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:"   "}),a.jsx("li",{children:"   "})]})]})]})}),emoji:""},{title:" ",content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-lg",children:"9    !"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "}].map(N=>a.jsxs("div",{className:"bg-pink-900/30 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:N.emoji}),a.jsx("div",{className:"font-bold",children:N.name}),a.jsx("div",{className:"text-xs text-pink-300",children:N.type})]},N.name))}),a.jsx("p",{className:"text-sm text-yellow-300 text-center",children:"     !"})]}),emoji:""},{title:" ",content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"     "})]})]}),a.jsxs("div",{className:"bg-red-900/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-xl mb-2",children:" "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:" 30   "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"     "}),a.jsx("li",{children:"       "})]})]})]}),emoji:""}],p=()=>{d<m.length-1?o(d+1):r("/game")},g=()=>{d>0&&o(d-1)},j=()=>{r("/game")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-4xl w-full",children:[a.jsxs("div",{className:"bg-black/40 backdrop-blur-lg rounded-2xl p-8 shadow-2xl",children:[a.jsx("div",{className:"flex justify-between mb-6",children:m.map((N,f)=>a.jsx("div",{className:`flex-1 h-2 mx-1 rounded-full transition-all ${f<=d?"bg-gradient-to-r from-purple-400 to-pink-400":"bg-gray-600"}`},f))}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:m[d].emoji}),a.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:m[d].title}),a.jsx("div",{className:"text-gray-100",children:m[d].content})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:g,disabled:d===0,className:`px-6 py-3 rounded-lg font-bold transition-all ${d===0?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg"}`,children:""}),a.jsx("button",{onClick:j,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:""}),a.jsx("button",{onClick:p,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:d===m.length-1?" !":""})]})]}),a.jsx("div",{className:"mt-4 text-center text-white/70",children:a.jsxs("p",{children:[": ",c.name," | Day ",c.day,"/30"]})})]})})};function pb(){const[r,c]=k.useState(!1),[d,o]=k.useState(null),m=me(N=>N.gameEnding);k.useEffect(()=>{const N=localStorage.getItem("user");N&&(o(JSON.parse(N)),c(!0))},[]);const p=(N,f)=>{if(N==="demo"&&f==="password"){const C={username:N,email:"demo@example.com"};return c(!0),o(C),localStorage.setItem("user",JSON.stringify(C)),!0}return!1},g=N=>{const f={username:N.username,email:N.email};return c(!0),o(f),localStorage.setItem("user",JSON.stringify(f)),!0},j=()=>{c(!1),o(null),localStorage.removeItem("user")};return a.jsx(Op,{children:a.jsx("div",{className:"min-h-screen",children:a.jsxs(up,{children:[a.jsx(je,{path:"/",element:a.jsx(Lf,{isLoggedIn:r,user:d,onLogout:j})}),a.jsx(je,{path:"/login",element:a.jsx(Ng,{onLogin:p})}),a.jsx(je,{path:"/account-creation",element:a.jsx(Ug,{onCreateAccount:g})}),a.jsx(je,{path:"/character-creation",element:a.jsx(wg,{})}),a.jsx(je,{path:"/game-info",element:a.jsx(Gg,{})}),a.jsx(je,{path:"/game-intro",element:a.jsx(hb,{})}),a.jsx(je,{path:"/settings",element:a.jsx($g,{})}),a.jsx(je,{path:"/api-test",element:a.jsx(ob,{})}),a.jsx(je,{path:"/dungeon",element:a.jsx(Eg,{})}),a.jsx(je,{path:"/shopping",element:a.jsx(_g,{})}),a.jsx(je,{path:"/characters",element:a.jsx(Gf,{})}),a.jsx(je,{path:"/achievements",element:a.jsx(Qg,{})}),a.jsx(je,{path:"/collection",element:a.jsx(Xg,{})}),a.jsx(je,{path:"/quests",element:a.jsx(Vg,{})}),a.jsx(je,{path:"/calendar",element:a.jsx(Zg,{})}),a.jsx(je,{path:"/crafting",element:a.jsx(Kg,{})}),a.jsx(je,{path:"/guild",element:a.jsx(Jg,{})}),a.jsx(je,{path:"/pets",element:a.jsx(Fg,{})}),a.jsx(je,{path:"/fishing",element:a.jsx(Pg,{})}),a.jsx(je,{path:"/farming",element:a.jsx(Wg,{})}),a.jsx(je,{path:"/housing",element:a.jsx(Ig,{})}),a.jsx(je,{path:"/game-menu",element:a.jsx(eb,{})}),a.jsx(je,{path:"/tutorial",element:a.jsx(tb,{onComplete:()=>{},onSkip:()=>{}})}),a.jsx(je,{path:"/card-matching",element:a.jsx(ab,{})}),a.jsx(je,{path:"/quiz",element:a.jsx(lb,{onComplete:N=>console.log("Quiz completed with score:",N)})}),a.jsx(je,{path:"/pvp",element:a.jsx(sb,{})}),a.jsx(je,{path:"/social",element:a.jsx(nb,{})}),a.jsx(je,{path:"/enhancement",element:a.jsx(ib,{})}),a.jsx(je,{path:"/clubs",element:a.jsx(mb,{})}),a.jsx(je,{path:"/heroines",element:a.jsx(xb,{})}),a.jsx(je,{path:"/game",element:m?a.jsx(jg,{}):a.jsx(bg,{})}),a.jsx(je,{path:"*",element:a.jsx(op,{to:"/",replace:!0})})]})})})}v0.createRoot(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(pb,{})}));
