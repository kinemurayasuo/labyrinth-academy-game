(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const g of x.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function d(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(u){if(u.ep)return;u.ep=!0;const x=d(u);fetch(u.href,x)}})();function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rc={exports:{}},qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function u0(){if(Im)return qs;Im=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function d(o,u,x){var g=null;if(x!==void 0&&(g=""+x),u.key!==void 0&&(g=""+u.key),"key"in u){x={};for(var b in u)b!=="key"&&(x[b]=u[b])}else x=u;return u=x.ref,{$$typeof:r,type:o,key:g,ref:u!==void 0?u:null,props:x}}return qs.Fragment=c,qs.jsx=d,qs.jsxs=d,qs}var ex;function m0(){return ex||(ex=1,Rc.exports=u0()),Rc.exports}var t=m0(),Oc={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function x0(){if(tx)return fe;tx=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),p=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function h(O,G,X){this.props=O,this.context=G,this.refs=E,this.updater=X||R}h.prototype.isReactComponent={},h.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},h.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function v(){}v.prototype=h.prototype;function y(O,G,X){this.props=O,this.context=G,this.refs=E,this.updater=X||R}var _=y.prototype=new v;_.constructor=y,k(_,h.prototype),_.isPureReactComponent=!0;var M=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function Z(O,G,X,J,I,ne){return X=ne.ref,{$$typeof:r,type:O,key:G,ref:X!==void 0?X:null,props:ne}}function B(O,G){return Z(O.type,G,void 0,void 0,void 0,O.props)}function ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return G[X]})}var ce=/\/+/g;function W(O,G){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):G.toString(36)}function te(){}function ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(te,te):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ee(O,G,X,J,I){var ne=typeof O;(ne==="undefined"||ne==="boolean")&&(O=null);var re=!1;if(O===null)re=!0;else switch(ne){case"bigint":case"string":case"number":re=!0;break;case"object":switch(O.$$typeof){case r:case c:re=!0;break;case C:return re=O._init,ee(re(O._payload),G,X,J,I)}}if(re)return I=I(O),re=J===""?"."+W(O,0):J,M(I)?(X="",re!=null&&(X=re.replace(ce,"$&/")+"/"),ee(I,G,X,"",function(la){return la})):I!=null&&(ae(I)&&(I=B(I,X+(I.key==null||O&&O.key===I.key?"":(""+I.key).replace(ce,"$&/")+"/")+re)),G.push(I)),1;re=0;var De=J===""?".":J+":";if(M(O))for(var Ae=0;Ae<O.length;Ae++)J=O[Ae],ne=De+W(J,Ae),re+=ee(J,G,X,ne,I);else if(Ae=T(O),typeof Ae=="function")for(O=Ae.call(O),Ae=0;!(J=O.next()).done;)J=J.value,ne=De+W(J,Ae++),re+=ee(J,G,X,ne,I);else if(ne==="object"){if(typeof O.then=="function")return ee(ie(O),G,X,J,I);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return re}function A(O,G,X){if(O==null)return O;var J=[],I=0;return ee(O,J,"","",function(ne){return G.call(X,ne,I++)}),J}function Y(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function he(){}return fe.Children={map:A,forEach:function(O,G,X){A(O,function(){G.apply(this,arguments)},X)},count:function(O){var G=0;return A(O,function(){G++}),G},toArray:function(O){return A(O,function(G){return G})||[]},only:function(O){if(!ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},fe.Component=h,fe.Fragment=d,fe.Profiler=u,fe.PureComponent=y,fe.StrictMode=o,fe.Suspense=N,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},fe.cache=function(O){return function(){return O.apply(null,arguments)}},fe.cloneElement=function(O,G,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=k({},O.props),I=O.key,ne=void 0;if(G!=null)for(re in G.ref!==void 0&&(ne=void 0),G.key!==void 0&&(I=""+G.key),G)!H.call(G,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&G.ref===void 0||(J[re]=G[re]);var re=arguments.length-2;if(re===1)J.children=X;else if(1<re){for(var De=Array(re),Ae=0;Ae<re;Ae++)De[Ae]=arguments[Ae+2];J.children=De}return Z(O.type,I,void 0,void 0,ne,J)},fe.createContext=function(O){return O={$$typeof:g,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:x,_context:O},O},fe.createElement=function(O,G,X){var J,I={},ne=null;if(G!=null)for(J in G.key!==void 0&&(ne=""+G.key),G)H.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(I[J]=G[J]);var re=arguments.length-2;if(re===1)I.children=X;else if(1<re){for(var De=Array(re),Ae=0;Ae<re;Ae++)De[Ae]=arguments[Ae+2];I.children=De}if(O&&O.defaultProps)for(J in re=O.defaultProps,re)I[J]===void 0&&(I[J]=re[J]);return Z(O,ne,void 0,void 0,null,I)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(O){return{$$typeof:b,render:O}},fe.isValidElement=ae,fe.lazy=function(O){return{$$typeof:C,_payload:{_status:-1,_result:O},_init:Y}},fe.memo=function(O,G){return{$$typeof:f,type:O,compare:G===void 0?null:G}},fe.startTransition=function(O){var G=w.T,X={};w.T=X;try{var J=O(),I=w.S;I!==null&&I(X,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(he,le)}catch(ne){le(ne)}finally{w.T=G}},fe.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},fe.use=function(O){return w.H.use(O)},fe.useActionState=function(O,G,X){return w.H.useActionState(O,G,X)},fe.useCallback=function(O,G){return w.H.useCallback(O,G)},fe.useContext=function(O){return w.H.useContext(O)},fe.useDebugValue=function(){},fe.useDeferredValue=function(O,G){return w.H.useDeferredValue(O,G)},fe.useEffect=function(O,G,X){var J=w.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(O,G)},fe.useId=function(){return w.H.useId()},fe.useImperativeHandle=function(O,G,X){return w.H.useImperativeHandle(O,G,X)},fe.useInsertionEffect=function(O,G){return w.H.useInsertionEffect(O,G)},fe.useLayoutEffect=function(O,G){return w.H.useLayoutEffect(O,G)},fe.useMemo=function(O,G){return w.H.useMemo(O,G)},fe.useOptimistic=function(O,G){return w.H.useOptimistic(O,G)},fe.useReducer=function(O,G,X){return w.H.useReducer(O,G,X)},fe.useRef=function(O){return w.H.useRef(O)},fe.useState=function(O){return w.H.useState(O)},fe.useSyncExternalStore=function(O,G,X){return w.H.useSyncExternalStore(O,G,X)},fe.useTransition=function(){return w.H.useTransition()},fe.version="19.1.1",fe}var ax;function Wc(){return ax||(ax=1,Oc.exports=x0()),Oc.exports}var S=Wc();const et=d0(S);var zc={exports:{}},Bs={},Hc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function f0(){return lx||(lx=1,(function(r){function c(A,Y){var le=A.length;A.push(Y);e:for(;0<le;){var he=le-1>>>1,O=A[he];if(0<u(O,Y))A[he]=Y,A[le]=O,le=he;else break e}}function d(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var Y=A[0],le=A.pop();if(le!==Y){A[0]=le;e:for(var he=0,O=A.length,G=O>>>1;he<G;){var X=2*(he+1)-1,J=A[X],I=X+1,ne=A[I];if(0>u(J,le))I<O&&0>u(ne,J)?(A[he]=ne,A[I]=le,he=I):(A[he]=J,A[X]=le,he=X);else if(I<O&&0>u(ne,le))A[he]=ne,A[I]=le,he=I;else break e}}return Y}function u(A,Y){var le=A.sortIndex-Y.sortIndex;return le!==0?le:A.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var g=Date,b=g.now();r.unstable_now=function(){return g.now()-b}}var N=[],f=[],C=1,p=null,T=3,R=!1,k=!1,E=!1,h=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(A){for(var Y=d(f);Y!==null;){if(Y.callback===null)o(f);else if(Y.startTime<=A)o(f),Y.sortIndex=Y.expirationTime,c(N,Y);else break;Y=d(f)}}function w(A){if(E=!1,M(A),!k)if(d(N)!==null)k=!0,H||(H=!0,W());else{var Y=d(f);Y!==null&&ee(w,Y.startTime-A)}}var H=!1,Z=-1,B=5,ae=-1;function V(){return h?!0:!(r.unstable_now()-ae<B)}function ce(){if(h=!1,H){var A=r.unstable_now();ae=A;var Y=!0;try{e:{k=!1,E&&(E=!1,y(Z),Z=-1),R=!0;var le=T;try{t:{for(M(A),p=d(N);p!==null&&!(p.expirationTime>A&&V());){var he=p.callback;if(typeof he=="function"){p.callback=null,T=p.priorityLevel;var O=he(p.expirationTime<=A);if(A=r.unstable_now(),typeof O=="function"){p.callback=O,M(A),Y=!0;break t}p===d(N)&&o(N),M(A)}else o(N);p=d(N)}if(p!==null)Y=!0;else{var G=d(f);G!==null&&ee(w,G.startTime-A),Y=!1}}break e}finally{p=null,T=le,R=!1}Y=void 0}}finally{Y?W():H=!1}}}var W;if(typeof _=="function")W=function(){_(ce)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ie=te.port2;te.port1.onmessage=ce,W=function(){ie.postMessage(null)}}else W=function(){v(ce,0)};function ee(A,Y){Z=v(function(){A(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(A){A.callback=null},r.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<A?Math.floor(1e3/A):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(A){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var le=T;T=Y;try{return A()}finally{T=le}},r.unstable_requestPaint=function(){h=!0},r.unstable_runWithPriority=function(A,Y){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var le=T;T=A;try{return Y()}finally{T=le}},r.unstable_scheduleCallback=function(A,Y,le){var he=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,A){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,A={id:C++,callback:Y,priorityLevel:A,startTime:le,expirationTime:O,sortIndex:-1},le>he?(A.sortIndex=le,c(f,A),d(N)===null&&A===d(f)&&(E?(y(Z),Z=-1):E=!0,ee(w,le-he))):(A.sortIndex=O,c(N,A),k||R||(k=!0,H||(H=!0,W()))),A},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(A){var Y=T;return function(){var le=T;T=Y;try{return A.apply(this,arguments)}finally{T=le}}}})(qc)),qc}var sx;function h0(){return sx||(sx=1,Hc.exports=f0()),Hc.exports}var Bc={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function p0(){if(nx)return lt;nx=1;var r=Wc();function c(N){var f="https://react.dev/errors/"+N;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)f+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+N+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(c(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},u=Symbol.for("react.portal");function x(N,f,C){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:p==null?null:""+p,children:N,containerInfo:f,implementation:C}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(N,f){if(N==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,lt.createPortal=function(N,f){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(c(299));return x(N,f,null,C)},lt.flushSync=function(N){var f=g.T,C=o.p;try{if(g.T=null,o.p=2,N)return N()}finally{g.T=f,o.p=C,o.d.f()}},lt.preconnect=function(N,f){typeof N=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(N,f))},lt.prefetchDNS=function(N){typeof N=="string"&&o.d.D(N)},lt.preinit=function(N,f){if(typeof N=="string"&&f&&typeof f.as=="string"){var C=f.as,p=b(C,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,R=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;C==="style"?o.d.S(N,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:T,fetchPriority:R}):C==="script"&&o.d.X(N,{crossOrigin:p,integrity:T,fetchPriority:R,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lt.preinitModule=function(N,f){if(typeof N=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var C=b(f.as,f.crossOrigin);o.d.M(N,{crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(N)},lt.preload=function(N,f){if(typeof N=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var C=f.as,p=b(C,f.crossOrigin);o.d.L(N,C,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lt.preloadModule=function(N,f){if(typeof N=="string")if(f){var C=b(f.as,f.crossOrigin);o.d.m(N,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:C,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(N)},lt.requestFormReset=function(N){o.d.r(N)},lt.unstable_batchedUpdates=function(N,f){return N(f)},lt.useFormState=function(N,f,C){return g.H.useFormState(N,f,C)},lt.useFormStatus=function(){return g.H.useHostTransitionStatus()},lt.version="19.1.1",lt}var ix;function g0(){if(ix)return Bc.exports;ix=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Bc.exports=p0(),Bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function b0(){if(rx)return Bs;rx=1;var r=h0(),c=Wc(),d=g0();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var a=e,l=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(l=a.return),e=a.return;while(e)}return a.tag===3?l:null}function g(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function b(e){if(x(e)!==e)throw Error(o(188))}function N(e){var a=e.alternate;if(!a){if(a=x(e),a===null)throw Error(o(188));return a!==e?null:e}for(var l=e,s=a;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return b(n),e;if(i===s)return b(n),a;i=i.sibling}throw Error(o(188))}if(l.return!==s.return)l=n,s=i;else{for(var m=!1,j=n.child;j;){if(j===l){m=!0,l=n,s=i;break}if(j===s){m=!0,s=n,l=i;break}j=j.sibling}if(!m){for(j=i.child;j;){if(j===l){m=!0,l=i,s=n;break}if(j===s){m=!0,s=i,l=n;break}j=j.sibling}if(!m)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:a}function f(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=f(e),a!==null)return a;e=e.sibling}return null}var C=Object.assign,p=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case h:return"Profiler";case E:return"StrictMode";case w:return"Suspense";case H:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case _:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case M:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return a=e.displayName||null,a!==null?a:ie(e.type)||"Memo";case B:a=e._payload,e=e._init;try{return ie(e(a))}catch{}}return null}var ee=Array.isArray,A=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],O=-1;function G(e){return{current:e}}function X(e){0>O||(e.current=he[O],he[O]=null,O--)}function J(e,a){O++,he[O]=e.current,e.current=a}var I=G(null),ne=G(null),re=G(null),De=G(null);function Ae(e,a){switch(J(re,a),J(ne,e),J(I,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Mm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Mm(a),e=Em(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(I),J(I,e)}function la(){X(I),X(ne),X(re)}function bi(e){e.memoizedState!==null&&J(De,e);var a=I.current,l=Em(a,e.type);a!==l&&(J(ne,e),J(I,l))}function Vs(e){ne.current===e&&(X(I),X(ne)),De.current===e&&(X(De),Ds._currentValue=le)}var yi=Object.prototype.hasOwnProperty,vi=r.unstable_scheduleCallback,ji=r.unstable_cancelCallback,Gx=r.unstable_shouldYield,$x=r.unstable_requestPaint,Rt=r.unstable_now,Yx=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,ro=r.unstable_UserBlockingPriority,Zs=r.unstable_NormalPriority,Qx=r.unstable_LowPriority,co=r.unstable_IdlePriority,Xx=r.log,Vx=r.unstable_setDisableYieldValue,Ul=null,dt=null;function sa(e){if(typeof Xx=="function"&&Vx(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Ul,e)}catch{}}var ut=Math.clz32?Math.clz32:Jx,Zx=Math.log,Kx=Math.LN2;function Jx(e){return e>>>=0,e===0?32:31-(Zx(e)/Kx|0)|0}var Ks=256,Js=4194304;function Aa(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fs(e,a,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var j=s&134217727;return j!==0?(s=j&~i,s!==0?n=Aa(s):(m&=j,m!==0?n=Aa(m):l||(l=j&~e,l!==0&&(n=Aa(l))))):(j=s&~i,j!==0?n=Aa(j):m!==0?n=Aa(m):l||(l=s&~e,l!==0&&(n=Aa(l)))),n===0?0:a!==0&&a!==n&&(a&i)===0&&(i=n&-n,l=a&-a,i>=l||i===32&&(l&4194048)!==0)?a:n}function Gl(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Fx(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),e}function uo(){var e=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),e}function Ni(e){for(var a=[],l=0;31>l;l++)a.push(e);return a}function $l(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Px(e,a,l,s,n,i){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var j=e.entanglements,D=e.expirationTimes,U=e.hiddenUpdates;for(l=m&~l;0<l;){var K=31-ut(l),P=1<<K;j[K]=0,D[K]=-1;var $=U[K];if($!==null)for(U[K]=null,K=0;K<$.length;K++){var Q=$[K];Q!==null&&(Q.lane&=-536870913)}l&=~P}s!==0&&mo(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(m&~a))}function mo(e,a,l){e.pendingLanes|=a,e.suspendedLanes&=~a;var s=31-ut(a);e.entangledLanes|=a,e.entanglements[s]=e.entanglements[s]|1073741824|l&4194090}function xo(e,a){var l=e.entangledLanes|=a;for(e=e.entanglements;l;){var s=31-ut(l),n=1<<s;n&a|e[s]&a&&(e[s]|=a),l&=~n}}function wi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fo(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Zm(e.type))}function Wx(e,a){var l=Y.p;try{return Y.p=e,a()}finally{Y.p=l}}var na=Math.random().toString(36).slice(2),tt="__reactFiber$"+na,nt="__reactProps$"+na,Pa="__reactContainer$"+na,Si="__reactEvents$"+na,Ix="__reactListeners$"+na,ef="__reactHandles$"+na,ho="__reactResources$"+na,Yl="__reactMarker$"+na;function Ci(e){delete e[tt],delete e[nt],delete e[Si],delete e[Ix],delete e[ef]}function Wa(e){var a=e[tt];if(a)return a;for(var l=e.parentNode;l;){if(a=l[Pa]||l[tt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(e=Dm(e);e!==null;){if(l=e[tt])return l;e=Dm(e)}return a}e=l,l=e.parentNode}return null}function Ia(e){if(e=e[tt]||e[Pa]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function Ql(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function el(e){var a=e[ho];return a||(a=e[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ve(e){e[Yl]=!0}var po=new Set,go={};function _a(e,a){tl(e,a),tl(e+"Capture",a)}function tl(e,a){for(go[e]=a,e=0;e<a.length;e++)po.add(a[e])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},yo={};function af(e){return yi.call(yo,e)?!0:yi.call(bo,e)?!1:tf.test(e)?yo[e]=!0:(bo[e]=!0,!1)}function Ps(e,a,l){if(af(a))if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var s=a.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+l)}}function Ws(e,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+l)}}function Ut(e,a,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(a,l,""+s)}}var Mi,vo;function al(e){if(Mi===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Mi=a&&a[1]||"",vo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+e+vo}var Ei=!1;function Ai(e,a){if(!e||Ei)return"";Ei=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(a){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(Q){var $=Q}Reflect.construct(e,[],P)}else{try{P.call()}catch(Q){$=Q}e.call(P.prototype)}}else{try{throw Error()}catch(Q){$=Q}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),m=i[0],j=i[1];if(m&&j){var D=m.split(`
`),U=j.split(`
`);for(n=s=0;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;for(;n<U.length&&!U[n].includes("DetermineComponentFrameRoot");)n++;if(s===D.length||n===U.length)for(s=D.length-1,n=U.length-1;1<=s&&0<=n&&D[s]!==U[n];)n--;for(;1<=s&&0<=n;s--,n--)if(D[s]!==U[n]){if(s!==1||n!==1)do if(s--,n--,0>n||D[s]!==U[n]){var K=`
`+D[s].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=s&&0<=n);break}}}finally{Ei=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?al(l):""}function lf(e){switch(e.tag){case 26:case 27:case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return Ai(e.type,!1);case 11:return Ai(e.type.render,!1);case 1:return Ai(e.type,!0);case 31:return al("Activity");default:return""}}function jo(e){try{var a="";do a+=lf(e),e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function No(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sf(e){var a=No(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),s=""+e[a];if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return n.call(this)},set:function(m){s=""+m,i.call(this,m)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Is(e){e._valueTracker||(e._valueTracker=sf(e))}function wo(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var l=a.getValue(),s="";return e&&(s=No(e)?e.checked?"true":"false":e.value),e=s,e!==l?(a.setValue(e),!0):!1}function en(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nf=/[\n"\\]/g;function vt(e){return e.replace(nf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _i(e,a,l,s,n,i,m,j){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),a!=null?m==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+yt(a)):e.value!==""+yt(a)&&(e.value=""+yt(a)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),a!=null?Ti(e,m,yt(a)):l!=null?Ti(e,m,yt(l)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+yt(j):e.removeAttribute("name")}function ko(e,a,l,s,n,i,m,j){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),a!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||a!=null))return;l=l!=null?""+yt(l):"",a=a!=null?""+yt(a):l,j||a===e.value||(e.value=a),e.defaultValue=a}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=j?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Ti(e,a,l){a==="number"&&en(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ll(e,a,l,s){if(e=e.options,a){a={};for(var n=0;n<l.length;n++)a["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=a.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+yt(l),a=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}a!==null||e[n].disabled||(a=e[n])}a!==null&&(a.selected=!0)}}function So(e,a,l){if(a!=null&&(a=""+yt(a),a!==e.value&&(e.value=a),l==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=l!=null?""+yt(l):""}function Co(e,a,l,s){if(a==null){if(s!=null){if(l!=null)throw Error(o(92));if(ee(s)){if(1<s.length)throw Error(o(93));s=s[0]}l=s}l==null&&(l=""),a=l}l=yt(a),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s)}function sl(e,a){if(a){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=a;return}}e.textContent=a}var rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,a,l){var s=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":s?e.setProperty(a,l):typeof l!="number"||l===0||rf.has(a)?a==="float"?e.cssFloat=l:e[a]=(""+l).trim():e[a]=l+"px"}function Eo(e,a,l){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||a!=null&&a.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in a)s=a[n],a.hasOwnProperty(n)&&l[n]!==s&&Mo(e,n,s)}else for(var i in a)a.hasOwnProperty(i)&&Mo(e,i,a[i])}function Di(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,il=null;function Ao(e){var a=Ia(e);if(a&&(e=a.stateNode)){var l=e[nt]||null;e:switch(e=a.stateNode,a.type){case"input":if(_i(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var s=l[a];if(s!==e&&s.form===e.form){var n=s[nt]||null;if(!n)throw Error(o(90));_i(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(a=0;a<l.length;a++)s=l[a],s.form===e.form&&wo(s)}break e;case"textarea":So(e,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ll(e,!!l.multiple,a,!1)}}}var zi=!1;function _o(e,a,l){if(zi)return e(a,l);zi=!0;try{var s=e(a);return s}finally{if(zi=!1,(nl!==null||il!==null)&&(Gn(),nl&&(a=nl,e=il,il=nl=null,Ao(a),e)))for(a=0;a<e.length;a++)Ao(e[a])}}function Xl(e,a){var l=e.stateNode;if(l===null)return null;var s=l[nt]||null;if(s===null)return null;l=s[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,a,typeof l));return l}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(Gt)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Hi=!1}var ia=null,qi=null,an=null;function To(){if(an)return an;var e,a=qi,l=a.length,s,n="value"in ia?ia.value:ia.textContent,i=n.length;for(e=0;e<l&&a[e]===n[e];e++);var m=l-e;for(s=1;s<=m&&a[l-s]===n[i-s];s++);return an=n.slice(e,1<s?1-s:void 0)}function ln(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function sn(){return!0}function Do(){return!1}function it(e){function a(l,s,n,i,m){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=m,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(l=e[j],this[j]=l?l(i):i[j]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sn:Do,this.isPropagationStopped=Do,this}return C(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),a}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=it(Ta),Zl=C({},Ta,{view:0,detail:0}),df=it(Zl),Bi,Li,Kl,rn=C({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Bi=e.screenX-Kl.screenX,Li=e.screenY-Kl.screenY):Li=Bi=0,Kl=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),Ro=it(rn),uf=C({},rn,{dataTransfer:0}),mf=it(uf),xf=C({},Zl,{relatedTarget:0}),Ui=it(xf),ff=C({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=it(ff),pf=C({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gf=it(pf),bf=C({},Ta,{data:0}),Oo=it(bf),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nf(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=jf[e])?!!a[e]:!1}function Gi(){return Nf}var wf=C({},Zl,{key:function(e){if(e.key){var a=yf[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=ln(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(e){return e.type==="keypress"?ln(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ln(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kf=it(wf),Sf=C({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=it(Sf),Cf=C({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),Mf=it(Cf),Ef=C({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=it(Ef),_f=C({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tf=it(_f),Df=C({},Ta,{newState:0,oldState:0}),Rf=it(Df),Of=[9,13,27,32],$i=Gt&&"CompositionEvent"in window,Jl=null;Gt&&"documentMode"in document&&(Jl=document.documentMode);var zf=Gt&&"TextEvent"in window&&!Jl,Ho=Gt&&(!$i||Jl&&8<Jl&&11>=Jl),qo=" ",Bo=!1;function Lo(e,a){switch(e){case"keyup":return Of.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function Hf(e,a){switch(e){case"compositionend":return Uo(a);case"keypress":return a.which!==32?null:(Bo=!0,qo);case"textInput":return e=a.data,e===qo&&Bo?null:e;default:return null}}function qf(e,a){if(rl)return e==="compositionend"||!$i&&Lo(e,a)?(e=To(),an=qi=ia=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ho&&a.locale!=="ko"?null:a.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Bf[e.type]:a==="textarea"}function $o(e,a,l,s){nl?il?il.push(s):il=[s]:nl=s,a=Zn(a,"onChange"),0<a.length&&(l=new nn("onChange","change",null,l,s),e.push({event:l,listeners:a}))}var Fl=null,Pl=null;function Lf(e){Nm(e,0)}function cn(e){var a=Ql(e);if(wo(a))return e}function Yo(e,a){if(e==="change")return a}var Qo=!1;if(Gt){var Yi;if(Gt){var Qi="oninput"in document;if(!Qi){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),Qi=typeof Xo.oninput=="function"}Yi=Qi}else Yi=!1;Qo=Yi&&(!document.documentMode||9<document.documentMode)}function Vo(){Fl&&(Fl.detachEvent("onpropertychange",Zo),Pl=Fl=null)}function Zo(e){if(e.propertyName==="value"&&cn(Pl)){var a=[];$o(a,Pl,e,Oi(e)),_o(Lf,a)}}function Uf(e,a,l){e==="focusin"?(Vo(),Fl=a,Pl=l,Fl.attachEvent("onpropertychange",Zo)):e==="focusout"&&Vo()}function Gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cn(Pl)}function $f(e,a){if(e==="click")return cn(a)}function Yf(e,a){if(e==="input"||e==="change")return cn(a)}function Qf(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var mt=typeof Object.is=="function"?Object.is:Qf;function Wl(e,a){if(mt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var l=Object.keys(e),s=Object.keys(a);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!yi.call(a,n)||!mt(e[n],a[n]))return!1}return!0}function Ko(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jo(e,a){var l=Ko(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=a&&s>=a)return{node:l,offset:a-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ko(l)}}function Fo(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Fo(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Po(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=en(e.document);a instanceof e.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)e=a.contentWindow;else break;a=en(e.document)}return a}function Xi(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Xf=Gt&&"documentMode"in document&&11>=document.documentMode,cl=null,Vi=null,Il=null,Zi=!1;function Wo(e,a,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zi||cl==null||cl!==en(s)||(s=cl,"selectionStart"in s&&Xi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Il&&Wl(Il,s)||(Il=s,s=Zn(Vi,"onSelect"),0<s.length&&(a=new nn("onSelect","select",null,a,l),e.push({event:a,listeners:s}),a.target=cl)))}function Da(e,a){var l={};return l[e.toLowerCase()]=a.toLowerCase(),l["Webkit"+e]="webkit"+a,l["Moz"+e]="moz"+a,l}var ol={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Ki={},Io={};Gt&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ra(e){if(Ki[e])return Ki[e];if(!ol[e])return e;var a=ol[e],l;for(l in a)if(a.hasOwnProperty(l)&&l in Io)return Ki[e]=a[l];return e}var ed=Ra("animationend"),td=Ra("animationiteration"),ad=Ra("animationstart"),Vf=Ra("transitionrun"),Zf=Ra("transitionstart"),Kf=Ra("transitioncancel"),ld=Ra("transitionend"),sd=new Map,Ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ji.push("scrollEnd");function Et(e,a){sd.set(e,a),_a(a,[e])}var nd=new WeakMap;function jt(e,a){if(typeof e=="object"&&e!==null){var l=nd.get(e);return l!==void 0?l:(a={value:e,source:a,stack:jo(a)},nd.set(e,a),a)}return{value:e,source:a,stack:jo(a)}}var Nt=[],dl=0,Fi=0;function on(){for(var e=dl,a=Fi=dl=0;a<e;){var l=Nt[a];Nt[a++]=null;var s=Nt[a];Nt[a++]=null;var n=Nt[a];Nt[a++]=null;var i=Nt[a];if(Nt[a++]=null,s!==null&&n!==null){var m=s.pending;m===null?n.next=n:(n.next=m.next,m.next=n),s.pending=n}i!==0&&id(l,n,i)}}function dn(e,a,l,s){Nt[dl++]=e,Nt[dl++]=a,Nt[dl++]=l,Nt[dl++]=s,Fi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Pi(e,a,l,s){return dn(e,a,l,s),un(e)}function ul(e,a){return dn(e,null,null,a),un(e)}function id(e,a,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&a!==null&&(n=31-ut(l),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[a]:s.push(a),a.lane=l|536870912),i):null}function un(e){if(50<ks)throw ks=0,lc=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ml={};function Jf(e,a,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,a,l,s){return new Jf(e,a,l,s)}function Wi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,a){var l=e.alternate;return l===null?(l=xt(e.tag,a,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=a,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,a=e.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function rd(e,a){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,a=l.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function mn(e,a,l,s,n,i){var m=0;if(s=e,typeof e=="function")Wi(e)&&(m=1);else if(typeof e=="string")m=Ph(e,l,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=xt(31,l,a,n),e.elementType=ae,e.lanes=i,e;case k:return Oa(l.children,n,i,a);case E:m=8,n|=24;break;case h:return e=xt(12,l,a,n|2),e.elementType=h,e.lanes=i,e;case w:return e=xt(13,l,a,n),e.elementType=w,e.lanes=i,e;case H:return e=xt(19,l,a,n),e.elementType=H,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v:case _:m=10;break e;case y:m=9;break e;case M:m=11;break e;case Z:m=14;break e;case B:m=16,s=null;break e}m=29,l=Error(o(130,e===null?"null":typeof e,"")),s=null}return a=xt(m,l,a,n),a.elementType=e,a.type=s,a.lanes=i,a}function Oa(e,a,l,s){return e=xt(7,e,s,a),e.lanes=l,e}function Ii(e,a,l){return e=xt(6,e,null,a),e.lanes=l,e}function er(e,a,l){return a=xt(4,e.children!==null?e.children:[],e.key,a),a.lanes=l,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var xl=[],fl=0,xn=null,fn=0,wt=[],kt=0,za=null,Yt=1,Qt="";function Ha(e,a){xl[fl++]=fn,xl[fl++]=xn,xn=e,fn=a}function cd(e,a,l){wt[kt++]=Yt,wt[kt++]=Qt,wt[kt++]=za,za=e;var s=Yt;e=Qt;var n=32-ut(s)-1;s&=~(1<<n),l+=1;var i=32-ut(a)+n;if(30<i){var m=n-n%5;i=(s&(1<<m)-1).toString(32),s>>=m,n-=m,Yt=1<<32-ut(a)+n|l<<n|s,Qt=i+e}else Yt=1<<i|l<<n|s,Qt=e}function tr(e){e.return!==null&&(Ha(e,1),cd(e,1,0))}function ar(e){for(;e===xn;)xn=xl[--fl],xl[fl]=null,fn=xl[--fl],xl[fl]=null;for(;e===za;)za=wt[--kt],wt[kt]=null,Qt=wt[--kt],wt[kt]=null,Yt=wt[--kt],wt[kt]=null}var st=null,He=null,we=!1,qa=null,Ot=!1,lr=Error(o(519));function Ba(e){var a=Error(o(418,""));throw as(jt(a,e)),lr}function od(e){var a=e.stateNode,l=e.type,s=e.memoizedProps;switch(a[tt]=e,a[nt]=s,l){case"dialog":ye("cancel",a),ye("close",a);break;case"iframe":case"object":case"embed":ye("load",a);break;case"video":case"audio":for(l=0;l<Cs.length;l++)ye(Cs[l],a);break;case"source":ye("error",a);break;case"img":case"image":case"link":ye("error",a),ye("load",a);break;case"details":ye("toggle",a);break;case"input":ye("invalid",a),ko(a,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Is(a);break;case"select":ye("invalid",a);break;case"textarea":ye("invalid",a),Co(a,s.value,s.defaultValue,s.children),Is(a)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||s.suppressHydrationWarning===!0||Cm(a.textContent,l)?(s.popover!=null&&(ye("beforetoggle",a),ye("toggle",a)),s.onScroll!=null&&ye("scroll",a),s.onScrollEnd!=null&&ye("scrollend",a),s.onClick!=null&&(a.onclick=Kn),a=!0):a=!1,a||Ba(e)}function dd(e){for(st=e.return;st;)switch(st.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:st=st.return}}function es(e){if(e!==st)return!1;if(!we)return dd(e),we=!0,!1;var a=e.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||yc(e.type,e.memoizedProps)),l=!l),l&&He&&Ba(e),dd(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(a===0){He=_t(e.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;e=e.nextSibling}He=null}}else a===27?(a=He,Na(e.type)?(e=wc,wc=null,He=e):He=a):He=st?_t(e.stateNode.nextSibling):null;return!0}function ts(){He=st=null,we=!1}function ud(){var e=qa;return e!==null&&(ot===null?ot=e:ot.push.apply(ot,e),qa=null),e}function as(e){qa===null?qa=[e]:qa.push(e)}var sr=G(null),La=null,Xt=null;function ra(e,a,l){J(sr,a._currentValue),a._currentValue=l}function Vt(e){e._currentValue=sr.current,X(sr)}function nr(e,a,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,s!==null&&(s.childLanes|=a)):s!==null&&(s.childLanes&a)!==a&&(s.childLanes|=a),e===l)break;e=e.return}}function ir(e,a,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var m=n.child;i=i.firstContext;e:for(;i!==null;){var j=i;i=n;for(var D=0;D<a.length;D++)if(j.context===a[D]){i.lanes|=l,j=i.alternate,j!==null&&(j.lanes|=l),nr(i.return,l,e),s||(m=null);break e}i=j.next}}else if(n.tag===18){if(m=n.return,m===null)throw Error(o(341));m.lanes|=l,i=m.alternate,i!==null&&(i.lanes|=l),nr(m,l,e),m=null}else m=n.child;if(m!==null)m.return=n;else for(m=n;m!==null;){if(m===e){m=null;break}if(n=m.sibling,n!==null){n.return=m.return,m=n;break}m=m.return}n=m}}function ls(e,a,l,s){e=null;for(var n=a,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var m=n.alternate;if(m===null)throw Error(o(387));if(m=m.memoizedProps,m!==null){var j=n.type;mt(n.pendingProps.value,m.value)||(e!==null?e.push(j):e=[j])}}else if(n===De.current){if(m=n.alternate,m===null)throw Error(o(387));m.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ds):e=[Ds])}n=n.return}e!==null&&ir(a,e,l,s),a.flags|=262144}function hn(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){La=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return md(La,e)}function pn(e,a){return La===null&&Ua(e),md(e,a)}function md(e,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Xt===null){if(e===null)throw Error(o(308));Xt=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Xt=Xt.next=a;return l}var Ff=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){a.aborted=!0,e.forEach(function(l){return l()})}},Pf=r.unstable_scheduleCallback,Wf=r.unstable_NormalPriority,Qe={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rr(){return{controller:new Ff,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&Pf(Wf,function(){e.controller.abort()})}var ns=null,cr=0,hl=0,pl=null;function If(e,a){if(ns===null){var l=ns=[];cr=0,hl=dc(),pl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return cr++,a.then(xd,xd),a}function xd(){if(--cr===0&&ns!==null){pl!==null&&(pl.status="fulfilled");var e=ns;ns=null,hl=0,pl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function eh(e,a){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=a;for(var n=0;n<l.length;n++)(0,l[n])(a)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var fd=A.S;A.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&If(e,a),fd!==null&&fd(e,a)};var Ga=G(null);function or(){var e=Ga.current;return e!==null?e:Te.pooledCache}function gn(e,a){a===null?J(Ga,Ga.current):J(Ga,a.pool)}function hd(){var e=or();return e===null?null:{parent:Qe._currentValue,pool:e}}var is=Error(o(460)),pd=Error(o(474)),bn=Error(o(542)),dr={then:function(){}};function gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yn(){}function bd(e,a,l){switch(l=e[l],l===void 0?e.push(a):l!==a&&(a.then(yn,yn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,vd(e),e;default:if(typeof a.status=="string")a.then(yn,yn);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(s){if(a.status==="pending"){var n=a;n.status="fulfilled",n.value=s}},function(s){if(a.status==="pending"){var n=a;n.status="rejected",n.reason=s}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,vd(e),e}throw rs=a,is}}var rs=null;function yd(){if(rs===null)throw Error(o(459));var e=rs;return rs=null,e}function vd(e){if(e===is||e===bn)throw Error(o(483))}var ca=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,a,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var n=s.pending;return n===null?a.next=a:(a.next=n.next,n.next=a),s.pending=a,a=un(e),id(e,null,l),a}return dn(e,s,a,l),un(e)}function cs(e,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var s=a.lanes;s&=e.pendingLanes,l|=s,a.lanes=l,xo(e,l)}}function xr(e,a){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=m:i=i.next=m,l=l.next}while(l!==null);i===null?n=i=a:i=i.next=a}else n=i=a;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=a:e.next=a,l.lastBaseUpdate=a}var fr=!1;function os(){if(fr){var e=pl;if(e!==null)throw e}}function ds(e,a,l,s){fr=!1;var n=e.updateQueue;ca=!1;var i=n.firstBaseUpdate,m=n.lastBaseUpdate,j=n.shared.pending;if(j!==null){n.shared.pending=null;var D=j,U=D.next;D.next=null,m===null?i=U:m.next=U,m=D;var K=e.alternate;K!==null&&(K=K.updateQueue,j=K.lastBaseUpdate,j!==m&&(j===null?K.firstBaseUpdate=U:j.next=U,K.lastBaseUpdate=D))}if(i!==null){var P=n.baseState;m=0,K=U=D=null,j=i;do{var $=j.lane&-536870913,Q=$!==j.lane;if(Q?(je&$)===$:(s&$)===$){$!==0&&$===hl&&(fr=!0),K!==null&&(K=K.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var xe=e,ue=j;$=a;var Ee=l;switch(ue.tag){case 1:if(xe=ue.payload,typeof xe=="function"){P=xe.call(Ee,P,$);break e}P=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ue.payload,$=typeof xe=="function"?xe.call(Ee,P,$):xe,$==null)break e;P=C({},P,$);break e;case 2:ca=!0}}$=j.callback,$!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=n.callbacks,Q===null?n.callbacks=[$]:Q.push($))}else Q={lane:$,tag:j.tag,payload:j.payload,callback:j.callback,next:null},K===null?(U=K=Q,D=P):K=K.next=Q,m|=$;if(j=j.next,j===null){if(j=n.shared.pending,j===null)break;Q=j,j=Q.next,Q.next=null,n.lastBaseUpdate=Q,n.shared.pending=null}}while(!0);K===null&&(D=P),n.baseState=D,n.firstBaseUpdate=U,n.lastBaseUpdate=K,i===null&&(n.shared.lanes=0),ba|=m,e.lanes=m,e.memoizedState=P}}function jd(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function Nd(e,a){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)jd(l[e],a)}var gl=G(null),vn=G(0);function wd(e,a){e=It,J(vn,e),J(gl,a),It=e|a.baseLanes}function hr(){J(vn,It),J(gl,gl.current)}function pr(){It=vn.current,X(gl),X(vn)}var ua=0,pe=null,Ce=null,$e=null,jn=!1,bl=!1,$a=!1,Nn=0,us=0,yl=null,th=0;function Le(){throw Error(o(321))}function gr(e,a){if(a===null)return!1;for(var l=0;l<a.length&&l<e.length;l++)if(!mt(e[l],a[l]))return!1;return!0}function br(e,a,l,s,n,i){return ua=i,pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=e===null||e.memoizedState===null?iu:ru,$a=!1,i=l(s,n),$a=!1,bl&&(i=Sd(a,l,s,n)),kd(e),i}function kd(e){A.H=En;var a=Ce!==null&&Ce.next!==null;if(ua=0,$e=Ce=pe=null,jn=!1,us=0,yl=null,a)throw Error(o(300));e===null||Ze||(e=e.dependencies,e!==null&&hn(e)&&(Ze=!0))}function Sd(e,a,l,s){pe=e;var n=0;do{if(bl&&(yl=null),us=0,bl=!1,25<=n)throw Error(o(301));if(n+=1,$e=Ce=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}A.H=ch,i=a(l,s)}while(bl);return i}function ah(){var e=A.H,a=e.useState()[0];return a=typeof a.then=="function"?ms(a):a,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(pe.flags|=1024),a}function yr(){var e=Nn!==0;return Nn=0,e}function vr(e,a,l){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~l}function jr(e){if(jn){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}jn=!1}ua=0,$e=Ce=pe=null,bl=!1,us=Nn=0,yl=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?pe.memoizedState=$e=e:$e=$e.next=e,$e}function Ye(){if(Ce===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var a=$e===null?pe.memoizedState:$e.next;if(a!==null)$e=a,Ce=e;else{if(e===null)throw pe.alternate===null?Error(o(467)):Error(o(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},$e===null?pe.memoizedState=$e=e:$e=$e.next=e}return $e}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var a=us;return us+=1,yl===null&&(yl=[]),e=bd(yl,e,a),a=pe,($e===null?a.memoizedState:$e.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?iu:ru),e}function wn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===_)return at(e)}throw Error(o(438,String(e)))}function wr(e){var a=null,l=pe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(a={data:s.data.map(function(n){return n.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Nr(),pe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(e),s=0;s<e;s++)l[s]=V;return a.index++,l}function Zt(e,a){return typeof a=="function"?a(e):a}function kn(e){var a=Ye();return kr(a,Ce,e)}function kr(e,a,l){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=l;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var m=n.next;n.next=i.next,i.next=m}a.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{a=n.next;var j=m=null,D=null,U=a,K=!1;do{var P=U.lane&-536870913;if(P!==U.lane?(je&P)===P:(ua&P)===P){var $=U.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),P===hl&&(K=!0);else if((ua&$)===$){U=U.next,$===hl&&(K=!0);continue}else P={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(j=D=P,m=i):D=D.next=P,pe.lanes|=$,ba|=$;P=U.action,$a&&l(i,P),i=U.hasEagerState?U.eagerState:l(i,P)}else $={lane:P,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(j=D=$,m=i):D=D.next=$,pe.lanes|=P,ba|=P;U=U.next}while(U!==null&&U!==a);if(D===null?m=i:D.next=j,!mt(i,e.memoizedState)&&(Ze=!0,K&&(l=pl,l!==null)))throw l;e.memoizedState=i,e.baseState=m,e.baseQueue=D,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Sr(e){var a=Ye(),l=a.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=a.memoizedState;if(n!==null){l.pending=null;var m=n=n.next;do i=e(i,m.action),m=m.next;while(m!==n);mt(i,a.memoizedState)||(Ze=!0),a.memoizedState=i,a.baseQueue===null&&(a.baseState=i),l.lastRenderedState=i}return[i,s]}function Cd(e,a,l){var s=pe,n=Ye(),i=we;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=a();var m=!mt((Ce||n).memoizedState,l);m&&(n.memoizedState=l,Ze=!0),n=n.queue;var j=Ad.bind(null,s,n,e);if(xs(2048,8,j,[e]),n.getSnapshot!==a||m||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,vl(9,Sn(),Ed.bind(null,s,n,l,a),null),Te===null)throw Error(o(349));i||(ua&124)!==0||Md(s,a,l)}return l}function Md(e,a,l){e.flags|=16384,e={getSnapshot:a,value:l},a=pe.updateQueue,a===null?(a=Nr(),pe.updateQueue=a,a.stores=[e]):(l=a.stores,l===null?a.stores=[e]:l.push(e))}function Ed(e,a,l,s){a.value=l,a.getSnapshot=s,_d(a)&&Td(e)}function Ad(e,a,l){return l(function(){_d(a)&&Td(e)})}function _d(e){var a=e.getSnapshot;e=e.value;try{var l=a();return!mt(e,l)}catch{return!0}}function Td(e){var a=ul(e,2);a!==null&&bt(a,e,2)}function Cr(e){var a=rt();if(typeof e=="function"){var l=e;if(e=l(),$a){sa(!0);try{l()}finally{sa(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:e},a}function Dd(e,a,l,s){return e.baseState=l,kr(e,Ce,typeof s=="function"?s:Zt)}function lh(e,a,l,s,n){if(Mn(e))throw Error(o(485));if(e=a.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){i.listeners.push(m)}};A.T!==null?l(!0):i.isTransition=!1,s(i),l=a.pending,l===null?(i.next=a.pending=i,Rd(a,i)):(i.next=l.next,a.pending=l.next=i)}}function Rd(e,a){var l=a.action,s=a.payload,n=e.state;if(a.isTransition){var i=A.T,m={};A.T=m;try{var j=l(n,s),D=A.S;D!==null&&D(m,j),Od(e,a,j)}catch(U){Mr(e,a,U)}finally{A.T=i}}else try{i=l(n,s),Od(e,a,i)}catch(U){Mr(e,a,U)}}function Od(e,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){zd(e,a,s)},function(s){return Mr(e,a,s)}):zd(e,a,l)}function zd(e,a,l){a.status="fulfilled",a.value=l,Hd(a),e.state=l,a=e.pending,a!==null&&(l=a.next,l===a?e.pending=null:(l=l.next,a.next=l,Rd(e,l)))}function Mr(e,a,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do a.status="rejected",a.reason=l,Hd(a),a=a.next;while(a!==s)}e.action=null}function Hd(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function qd(e,a){return a}function Bd(e,a){if(we){var l=Te.formState;if(l!==null){e:{var s=pe;if(we){if(He){t:{for(var n=He,i=Ot;n.nodeType!==8;){if(!i){n=null;break t}if(n=_t(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){He=_t(n.nextSibling),s=n.data==="F!";break e}}Ba(s)}s=!1}s&&(a=l[0])}}return l=rt(),l.memoizedState=l.baseState=a,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:a},l.queue=s,l=lu.bind(null,pe,s),s.dispatch=l,s=Cr(!1),i=Dr.bind(null,pe,!1,s.queue),s=rt(),n={state:a,dispatch:null,action:e,pending:null},s.queue=n,l=lh.bind(null,pe,n,i,l),n.dispatch=l,s.memoizedState=e,[a,l,!1]}function Ld(e){var a=Ye();return Ud(a,Ce,e)}function Ud(e,a,l){if(a=kr(e,a,qd)[0],e=kn(Zt)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var s=ms(a)}catch(m){throw m===is?bn:m}else s=a;a=Ye();var n=a.queue,i=n.dispatch;return l!==a.memoizedState&&(pe.flags|=2048,vl(9,Sn(),sh.bind(null,n,l),null)),[s,i,e]}function sh(e,a){e.action=a}function Gd(e){var a=Ye(),l=Ce;if(l!==null)return Ud(a,l,e);Ye(),a=a.memoizedState,l=Ye();var s=l.queue.dispatch;return l.memoizedState=e,[a,s,!1]}function vl(e,a,l,s){return e={tag:e,create:l,deps:s,inst:a,next:null},a=pe.updateQueue,a===null&&(a=Nr(),pe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,a.lastEffect=e),e}function Sn(){return{destroy:void 0,resource:void 0}}function $d(){return Ye().memoizedState}function Cn(e,a,l,s){var n=rt();s=s===void 0?null:s,pe.flags|=e,n.memoizedState=vl(1|a,Sn(),l,s)}function xs(e,a,l,s){var n=Ye();s=s===void 0?null:s;var i=n.memoizedState.inst;Ce!==null&&s!==null&&gr(s,Ce.memoizedState.deps)?n.memoizedState=vl(a,i,l,s):(pe.flags|=e,n.memoizedState=vl(1|a,i,l,s))}function Yd(e,a){Cn(8390656,8,e,a)}function Qd(e,a){xs(2048,8,e,a)}function Xd(e,a){return xs(4,2,e,a)}function Vd(e,a){return xs(4,4,e,a)}function Zd(e,a){if(typeof a=="function"){e=e();var l=a(e);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Kd(e,a,l){l=l!=null?l.concat([e]):null,xs(4,4,Zd.bind(null,a,e),l)}function Er(){}function Jd(e,a){var l=Ye();a=a===void 0?null:a;var s=l.memoizedState;return a!==null&&gr(a,s[1])?s[0]:(l.memoizedState=[e,a],e)}function Fd(e,a){var l=Ye();a=a===void 0?null:a;var s=l.memoizedState;if(a!==null&&gr(a,s[1]))return s[0];if(s=e(),$a){sa(!0);try{e()}finally{sa(!1)}}return l.memoizedState=[s,a],s}function Ar(e,a,l){return l===void 0||(ua&1073741824)!==0?e.memoizedState=a:(e.memoizedState=l,e=Iu(),pe.lanes|=e,ba|=e,l)}function Pd(e,a,l,s){return mt(l,a)?l:gl.current!==null?(e=Ar(e,l,s),mt(e,a)||(Ze=!0),e):(ua&42)===0?(Ze=!0,e.memoizedState=l):(e=Iu(),pe.lanes|=e,ba|=e,a)}function Wd(e,a,l,s,n){var i=Y.p;Y.p=i!==0&&8>i?i:8;var m=A.T,j={};A.T=j,Dr(e,!1,a,l);try{var D=n(),U=A.S;if(U!==null&&U(j,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=eh(D,s);fs(e,a,K,gt(e))}else fs(e,a,s,gt(e))}catch(P){fs(e,a,{then:function(){},status:"rejected",reason:P},gt())}finally{Y.p=i,A.T=m}}function nh(){}function _r(e,a,l,s){if(e.tag!==5)throw Error(o(476));var n=Id(e).queue;Wd(e,n,a,le,l===null?nh:function(){return eu(e),l(s)})}function Id(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:l},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function eu(e){var a=Id(e).next.queue;fs(e,a,{},gt())}function Tr(){return at(Ds)}function tu(){return Ye().memoizedState}function au(){return Ye().memoizedState}function ih(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var l=gt();e=oa(l);var s=da(a,e,l);s!==null&&(bt(s,a,l),cs(s,a,l)),a={cache:rr()},e.payload=a;return}a=a.return}}function rh(e,a,l){var s=gt();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Mn(e)?su(a,l):(l=Pi(e,a,l,s),l!==null&&(bt(l,e,s),nu(l,a,s)))}function lu(e,a,l){var s=gt();fs(e,a,l,s)}function fs(e,a,l,s){var n={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mn(e))su(a,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=a.lastRenderedReducer,i!==null))try{var m=a.lastRenderedState,j=i(m,l);if(n.hasEagerState=!0,n.eagerState=j,mt(j,m))return dn(e,a,n,0),Te===null&&on(),!1}catch{}finally{}if(l=Pi(e,a,n,s),l!==null)return bt(l,e,s),nu(l,a,s),!0}return!1}function Dr(e,a,l,s){if(s={lane:2,revertLane:dc(),action:s,hasEagerState:!1,eagerState:null,next:null},Mn(e)){if(a)throw Error(o(479))}else a=Pi(e,l,s,2),a!==null&&bt(a,e,2)}function Mn(e){var a=e.alternate;return e===pe||a!==null&&a===pe}function su(e,a){bl=jn=!0;var l=e.pending;l===null?a.next=a:(a.next=l.next,l.next=a),e.pending=a}function nu(e,a,l){if((l&4194048)!==0){var s=a.lanes;s&=e.pendingLanes,l|=s,a.lanes=l,xo(e,l)}}var En={readContext:at,use:wn,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},iu={readContext:at,use:wn,useCallback:function(e,a){return rt().memoizedState=[e,a===void 0?null:a],e},useContext:at,useEffect:Yd,useImperativeHandle:function(e,a,l){l=l!=null?l.concat([e]):null,Cn(4194308,4,Zd.bind(null,a,e),l)},useLayoutEffect:function(e,a){return Cn(4194308,4,e,a)},useInsertionEffect:function(e,a){Cn(4,2,e,a)},useMemo:function(e,a){var l=rt();a=a===void 0?null:a;var s=e();if($a){sa(!0);try{e()}finally{sa(!1)}}return l.memoizedState=[s,a],s},useReducer:function(e,a,l){var s=rt();if(l!==void 0){var n=l(a);if($a){sa(!0);try{l(a)}finally{sa(!1)}}}else n=a;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=rh.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var a=rt();return e={current:e},a.memoizedState=e},useState:function(e){e=Cr(e);var a=e.queue,l=lu.bind(null,pe,a);return a.dispatch=l,[e.memoizedState,l]},useDebugValue:Er,useDeferredValue:function(e,a){var l=rt();return Ar(l,e,a)},useTransition:function(){var e=Cr(!1);return e=Wd.bind(null,pe,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,l){var s=pe,n=rt();if(we){if(l===void 0)throw Error(o(407));l=l()}else{if(l=a(),Te===null)throw Error(o(349));(je&124)!==0||Md(s,a,l)}n.memoizedState=l;var i={value:l,getSnapshot:a};return n.queue=i,Yd(Ad.bind(null,s,i,e),[e]),s.flags|=2048,vl(9,Sn(),Ed.bind(null,s,i,l,a),null),l},useId:function(){var e=rt(),a=Te.identifierPrefix;if(we){var l=Qt,s=Yt;l=(s&~(1<<32-ut(s)-1)).toString(32)+l,a=""+a+"R"+l,l=Nn++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=th++,a=""+a+"r"+l.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:Tr,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var a=rt();a.memoizedState=a.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Dr.bind(null,pe,!0,l),l.dispatch=a,[e,a]},useMemoCache:wr,useCacheRefresh:function(){return rt().memoizedState=ih.bind(null,pe)}},ru={readContext:at,use:wn,useCallback:Jd,useContext:at,useEffect:Qd,useImperativeHandle:Kd,useInsertionEffect:Xd,useLayoutEffect:Vd,useMemo:Fd,useReducer:kn,useRef:$d,useState:function(){return kn(Zt)},useDebugValue:Er,useDeferredValue:function(e,a){var l=Ye();return Pd(l,Ce.memoizedState,e,a)},useTransition:function(){var e=kn(Zt)[0],a=Ye().memoizedState;return[typeof e=="boolean"?e:ms(e),a]},useSyncExternalStore:Cd,useId:tu,useHostTransitionStatus:Tr,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,a){var l=Ye();return Dd(l,Ce,e,a)},useMemoCache:wr,useCacheRefresh:au},ch={readContext:at,use:wn,useCallback:Jd,useContext:at,useEffect:Qd,useImperativeHandle:Kd,useInsertionEffect:Xd,useLayoutEffect:Vd,useMemo:Fd,useReducer:Sr,useRef:$d,useState:function(){return Sr(Zt)},useDebugValue:Er,useDeferredValue:function(e,a){var l=Ye();return Ce===null?Ar(l,e,a):Pd(l,Ce.memoizedState,e,a)},useTransition:function(){var e=Sr(Zt)[0],a=Ye().memoizedState;return[typeof e=="boolean"?e:ms(e),a]},useSyncExternalStore:Cd,useId:tu,useHostTransitionStatus:Tr,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,a){var l=Ye();return Ce!==null?Dd(l,Ce,e,a):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:wr,useCacheRefresh:au},jl=null,hs=0;function An(e){var a=hs;return hs+=1,jl===null&&(jl=[]),bd(jl,e,a)}function ps(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function _n(e,a){throw a.$$typeof===p?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function cu(e){var a=e._init;return a(e._payload)}function ou(e){function a(q,z){if(e){var L=q.deletions;L===null?(q.deletions=[z],q.flags|=16):L.push(z)}}function l(q,z){if(!e)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function s(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function n(q,z){return q=$t(q,z),q.index=0,q.sibling=null,q}function i(q,z,L){return q.index=L,e?(L=q.alternate,L!==null?(L=L.index,L<z?(q.flags|=67108866,z):L):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function m(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function j(q,z,L,F){return z===null||z.tag!==6?(z=Ii(L,q.mode,F),z.return=q,z):(z=n(z,L),z.return=q,z)}function D(q,z,L,F){var se=L.type;return se===k?K(q,z,L.props.children,F,L.key):z!==null&&(z.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===B&&cu(se)===z.type)?(z=n(z,L.props),ps(z,L),z.return=q,z):(z=mn(L.type,L.key,L.props,null,q.mode,F),ps(z,L),z.return=q,z)}function U(q,z,L,F){return z===null||z.tag!==4||z.stateNode.containerInfo!==L.containerInfo||z.stateNode.implementation!==L.implementation?(z=er(L,q.mode,F),z.return=q,z):(z=n(z,L.children||[]),z.return=q,z)}function K(q,z,L,F,se){return z===null||z.tag!==7?(z=Oa(L,q.mode,F,se),z.return=q,z):(z=n(z,L),z.return=q,z)}function P(q,z,L){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ii(""+z,q.mode,L),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return L=mn(z.type,z.key,z.props,null,q.mode,L),ps(L,z),L.return=q,L;case R:return z=er(z,q.mode,L),z.return=q,z;case B:var F=z._init;return z=F(z._payload),P(q,z,L)}if(ee(z)||W(z))return z=Oa(z,q.mode,L,null),z.return=q,z;if(typeof z.then=="function")return P(q,An(z),L);if(z.$$typeof===_)return P(q,pn(q,z),L);_n(q,z)}return null}function $(q,z,L,F){var se=z!==null?z.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return se!==null?null:j(q,z,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return L.key===se?D(q,z,L,F):null;case R:return L.key===se?U(q,z,L,F):null;case B:return se=L._init,L=se(L._payload),$(q,z,L,F)}if(ee(L)||W(L))return se!==null?null:K(q,z,L,F,null);if(typeof L.then=="function")return $(q,z,An(L),F);if(L.$$typeof===_)return $(q,z,pn(q,L),F);_n(q,L)}return null}function Q(q,z,L,F,se){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return q=q.get(L)||null,j(z,q,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return q=q.get(F.key===null?L:F.key)||null,D(z,q,F,se);case R:return q=q.get(F.key===null?L:F.key)||null,U(z,q,F,se);case B:var ge=F._init;return F=ge(F._payload),Q(q,z,L,F,se)}if(ee(F)||W(F))return q=q.get(L)||null,K(z,q,F,se,null);if(typeof F.then=="function")return Q(q,z,L,An(F),se);if(F.$$typeof===_)return Q(q,z,L,pn(z,F),se);_n(z,F)}return null}function xe(q,z,L,F){for(var se=null,ge=null,oe=z,me=z=0,Je=null;oe!==null&&me<L.length;me++){oe.index>me?(Je=oe,oe=null):Je=oe.sibling;var Ne=$(q,oe,L[me],F);if(Ne===null){oe===null&&(oe=Je);break}e&&oe&&Ne.alternate===null&&a(q,oe),z=i(Ne,z,me),ge===null?se=Ne:ge.sibling=Ne,ge=Ne,oe=Je}if(me===L.length)return l(q,oe),we&&Ha(q,me),se;if(oe===null){for(;me<L.length;me++)oe=P(q,L[me],F),oe!==null&&(z=i(oe,z,me),ge===null?se=oe:ge.sibling=oe,ge=oe);return we&&Ha(q,me),se}for(oe=s(oe);me<L.length;me++)Je=Q(oe,q,me,L[me],F),Je!==null&&(e&&Je.alternate!==null&&oe.delete(Je.key===null?me:Je.key),z=i(Je,z,me),ge===null?se=Je:ge.sibling=Je,ge=Je);return e&&oe.forEach(function(Ma){return a(q,Ma)}),we&&Ha(q,me),se}function ue(q,z,L,F){if(L==null)throw Error(o(151));for(var se=null,ge=null,oe=z,me=z=0,Je=null,Ne=L.next();oe!==null&&!Ne.done;me++,Ne=L.next()){oe.index>me?(Je=oe,oe=null):Je=oe.sibling;var Ma=$(q,oe,Ne.value,F);if(Ma===null){oe===null&&(oe=Je);break}e&&oe&&Ma.alternate===null&&a(q,oe),z=i(Ma,z,me),ge===null?se=Ma:ge.sibling=Ma,ge=Ma,oe=Je}if(Ne.done)return l(q,oe),we&&Ha(q,me),se;if(oe===null){for(;!Ne.done;me++,Ne=L.next())Ne=P(q,Ne.value,F),Ne!==null&&(z=i(Ne,z,me),ge===null?se=Ne:ge.sibling=Ne,ge=Ne);return we&&Ha(q,me),se}for(oe=s(oe);!Ne.done;me++,Ne=L.next())Ne=Q(oe,q,me,Ne.value,F),Ne!==null&&(e&&Ne.alternate!==null&&oe.delete(Ne.key===null?me:Ne.key),z=i(Ne,z,me),ge===null?se=Ne:ge.sibling=Ne,ge=Ne);return e&&oe.forEach(function(o0){return a(q,o0)}),we&&Ha(q,me),se}function Ee(q,z,L,F){if(typeof L=="object"&&L!==null&&L.type===k&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case T:e:{for(var se=L.key;z!==null;){if(z.key===se){if(se=L.type,se===k){if(z.tag===7){l(q,z.sibling),F=n(z,L.props.children),F.return=q,q=F;break e}}else if(z.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===B&&cu(se)===z.type){l(q,z.sibling),F=n(z,L.props),ps(F,L),F.return=q,q=F;break e}l(q,z);break}else a(q,z);z=z.sibling}L.type===k?(F=Oa(L.props.children,q.mode,F,L.key),F.return=q,q=F):(F=mn(L.type,L.key,L.props,null,q.mode,F),ps(F,L),F.return=q,q=F)}return m(q);case R:e:{for(se=L.key;z!==null;){if(z.key===se)if(z.tag===4&&z.stateNode.containerInfo===L.containerInfo&&z.stateNode.implementation===L.implementation){l(q,z.sibling),F=n(z,L.children||[]),F.return=q,q=F;break e}else{l(q,z);break}else a(q,z);z=z.sibling}F=er(L,q.mode,F),F.return=q,q=F}return m(q);case B:return se=L._init,L=se(L._payload),Ee(q,z,L,F)}if(ee(L))return xe(q,z,L,F);if(W(L)){if(se=W(L),typeof se!="function")throw Error(o(150));return L=se.call(L),ue(q,z,L,F)}if(typeof L.then=="function")return Ee(q,z,An(L),F);if(L.$$typeof===_)return Ee(q,z,pn(q,L),F);_n(q,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,z!==null&&z.tag===6?(l(q,z.sibling),F=n(z,L),F.return=q,q=F):(l(q,z),F=Ii(L,q.mode,F),F.return=q,q=F),m(q)):l(q,z)}return function(q,z,L,F){try{hs=0;var se=Ee(q,z,L,F);return jl=null,se}catch(oe){if(oe===is||oe===bn)throw oe;var ge=xt(29,oe,null,q.mode);return ge.lanes=F,ge.return=q,ge}finally{}}}var Nl=ou(!0),du=ou(!1),St=G(null),zt=null;function ma(e){var a=e.alternate;J(Xe,Xe.current&1),J(St,e),zt===null&&(a===null||gl.current!==null||a.memoizedState!==null)&&(zt=e)}function uu(e){if(e.tag===22){if(J(Xe,Xe.current),J(St,e),zt===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(zt=e)}}else xa()}function xa(){J(Xe,Xe.current),J(St,St.current)}function Kt(e){X(St),zt===e&&(zt=null),X(Xe)}var Xe=G(0);function Tn(e){for(var a=e;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Nc(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Rr(e,a,l,s){a=e.memoizedState,l=l(s,a),l=l==null?a:C({},a,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Or={enqueueSetState:function(e,a,l){e=e._reactInternals;var s=gt(),n=oa(s);n.payload=a,l!=null&&(n.callback=l),a=da(e,n,s),a!==null&&(bt(a,e,s),cs(a,e,s))},enqueueReplaceState:function(e,a,l){e=e._reactInternals;var s=gt(),n=oa(s);n.tag=1,n.payload=a,l!=null&&(n.callback=l),a=da(e,n,s),a!==null&&(bt(a,e,s),cs(a,e,s))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var l=gt(),s=oa(l);s.tag=2,a!=null&&(s.callback=a),a=da(e,s,l),a!==null&&(bt(a,e,l),cs(a,e,l))}};function mu(e,a,l,s,n,i,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,m):a.prototype&&a.prototype.isPureReactComponent?!Wl(l,s)||!Wl(n,i):!0}function xu(e,a,l,s){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,s),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,s),a.state!==e&&Or.enqueueReplaceState(a,a.state,null)}function Ya(e,a){var l=a;if("ref"in a){l={};for(var s in a)s!=="ref"&&(l[s]=a[s])}if(e=e.defaultProps){l===a&&(l=C({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var Dn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fu(e){Dn(e)}function hu(e){console.error(e)}function pu(e){Dn(e)}function Rn(e,a){try{var l=e.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(s){setTimeout(function(){throw s})}}function gu(e,a,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function zr(e,a,l){return l=oa(l),l.tag=3,l.payload={element:null},l.callback=function(){Rn(e,a)},l}function bu(e){return e=oa(e),e.tag=3,e}function yu(e,a,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){gu(a,l,s)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){gu(a,l,s),typeof n!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})})}function oh(e,a,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(a=l.alternate,a!==null&&ls(a,l,n,!0),l=St.current,l!==null){switch(l.tag){case 13:return zt===null?nc():l.alternate===null&&qe===0&&(qe=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===dr?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([s]):a.add(s),rc(e,s,n)),!1;case 22:return l.flags|=65536,s===dr?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([s]):l.add(s)),rc(e,s,n)),!1}throw Error(o(435,l.tag))}return rc(e,s,n),nc(),!1}if(we)return a=St.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=n,s!==lr&&(e=Error(o(422),{cause:s}),as(jt(e,l)))):(s!==lr&&(a=Error(o(423),{cause:s}),as(jt(a,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=jt(s,l),n=zr(e.stateNode,s,n),xr(e,n),qe!==4&&(qe=2)),!1;var i=Error(o(520),{cause:s});if(i=jt(i,l),ws===null?ws=[i]:ws.push(i),qe!==4&&(qe=2),a===null)return!0;s=jt(s,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=zr(l.stateNode,s,e),xr(l,e),!1;case 1:if(a=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ya===null||!ya.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=bu(n),yu(n,e,l,s),xr(l,n),!1}l=l.return}while(l!==null);return!1}var vu=Error(o(461)),Ze=!1;function Fe(e,a,l,s){a.child=e===null?du(a,null,l,s):Nl(a,e.child,l,s)}function ju(e,a,l,s,n){l=l.render;var i=a.ref;if("ref"in s){var m={};for(var j in s)j!=="ref"&&(m[j]=s[j])}else m=s;return Ua(a),s=br(e,a,l,m,i,n),j=yr(),e!==null&&!Ze?(vr(e,a,n),Jt(e,a,n)):(we&&j&&tr(a),a.flags|=1,Fe(e,a,s,n),a.child)}function Nu(e,a,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!Wi(i)&&i.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=i,wu(e,a,i,s,n)):(e=mn(l.type,null,s,a,a.mode,n),e.ref=a.ref,e.return=a,a.child=e)}if(i=e.child,!Yr(e,n)){var m=i.memoizedProps;if(l=l.compare,l=l!==null?l:Wl,l(m,s)&&e.ref===a.ref)return Jt(e,a,n)}return a.flags|=1,e=$t(i,s),e.ref=a.ref,e.return=a,a.child=e}function wu(e,a,l,s,n){if(e!==null){var i=e.memoizedProps;if(Wl(i,s)&&e.ref===a.ref)if(Ze=!1,a.pendingProps=s=i,Yr(e,n))(e.flags&131072)!==0&&(Ze=!0);else return a.lanes=e.lanes,Jt(e,a,n)}return Hr(e,a,l,s,n)}function ku(e,a,l){var s=a.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((a.flags&128)!==0){if(s=i!==null?i.baseLanes|l:l,e!==null){for(n=a.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;a.childLanes=i&~s}else a.childLanes=0,a.child=null;return Su(e,a,s,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&gn(a,i!==null?i.cachePool:null),i!==null?wd(a,i):hr(),uu(a);else return a.lanes=a.childLanes=536870912,Su(e,a,i!==null?i.baseLanes|l:l,l)}else i!==null?(gn(a,i.cachePool),wd(a,i),xa(),a.memoizedState=null):(e!==null&&gn(a,null),hr(),xa());return Fe(e,a,n,l),a.child}function Su(e,a,l,s){var n=or();return n=n===null?null:{parent:Qe._currentValue,pool:n},a.memoizedState={baseLanes:l,cachePool:n},e!==null&&gn(a,null),hr(),uu(a),e!==null&&ls(e,a,s,!0),null}function On(e,a){var l=a.ref;if(l===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(a.flags|=4194816)}}function Hr(e,a,l,s,n){return Ua(a),l=br(e,a,l,s,void 0,n),s=yr(),e!==null&&!Ze?(vr(e,a,n),Jt(e,a,n)):(we&&s&&tr(a),a.flags|=1,Fe(e,a,l,n),a.child)}function Cu(e,a,l,s,n,i){return Ua(a),a.updateQueue=null,l=Sd(a,s,l,n),kd(e),s=yr(),e!==null&&!Ze?(vr(e,a,i),Jt(e,a,i)):(we&&s&&tr(a),a.flags|=1,Fe(e,a,l,i),a.child)}function Mu(e,a,l,s,n){if(Ua(a),a.stateNode===null){var i=ml,m=l.contextType;typeof m=="object"&&m!==null&&(i=at(m)),i=new l(s,i),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Or,a.stateNode=i,i._reactInternals=a,i=a.stateNode,i.props=s,i.state=a.memoizedState,i.refs={},ur(a),m=l.contextType,i.context=typeof m=="object"&&m!==null?at(m):ml,i.state=a.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(Rr(a,l,m,s),i.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(m=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&Or.enqueueReplaceState(i,i.state,null),ds(a,s,i,n),os(),i.state=a.memoizedState),typeof i.componentDidMount=="function"&&(a.flags|=4194308),s=!0}else if(e===null){i=a.stateNode;var j=a.memoizedProps,D=Ya(l,j);i.props=D;var U=i.context,K=l.contextType;m=ml,typeof K=="object"&&K!==null&&(m=at(K));var P=l.getDerivedStateFromProps;K=typeof P=="function"||typeof i.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,K||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(j||U!==m)&&xu(a,i,s,m),ca=!1;var $=a.memoizedState;i.state=$,ds(a,s,i,n),os(),U=a.memoizedState,j||$!==U||ca?(typeof P=="function"&&(Rr(a,l,P,s),U=a.memoizedState),(D=ca||mu(a,l,D,s,$,U,m))?(K||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(a.flags|=4194308)):(typeof i.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=s,a.memoizedState=U),i.props=s,i.state=U,i.context=m,s=D):(typeof i.componentDidMount=="function"&&(a.flags|=4194308),s=!1)}else{i=a.stateNode,mr(e,a),m=a.memoizedProps,K=Ya(l,m),i.props=K,P=a.pendingProps,$=i.context,U=l.contextType,D=ml,typeof U=="object"&&U!==null&&(D=at(U)),j=l.getDerivedStateFromProps,(U=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m!==P||$!==D)&&xu(a,i,s,D),ca=!1,$=a.memoizedState,i.state=$,ds(a,s,i,n),os();var Q=a.memoizedState;m!==P||$!==Q||ca||e!==null&&e.dependencies!==null&&hn(e.dependencies)?(typeof j=="function"&&(Rr(a,l,j,s),Q=a.memoizedState),(K=ca||mu(a,l,K,s,$,Q,D)||e!==null&&e.dependencies!==null&&hn(e.dependencies))?(U||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,Q,D),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,Q,D)),typeof i.componentDidUpdate=="function"&&(a.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&$===e.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&$===e.memoizedState||(a.flags|=1024),a.memoizedProps=s,a.memoizedState=Q),i.props=s,i.state=Q,i.context=D,s=K):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&$===e.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&$===e.memoizedState||(a.flags|=1024),s=!1)}return i=s,On(e,a),s=(a.flags&128)!==0,i||s?(i=a.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),a.flags|=1,e!==null&&s?(a.child=Nl(a,e.child,null,n),a.child=Nl(a,null,l,n)):Fe(e,a,l,n),a.memoizedState=i.state,e=a.child):e=Jt(e,a,n),e}function Eu(e,a,l,s){return ts(),a.flags|=256,Fe(e,a,l,s),a.child}var qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Br(e){return{baseLanes:e,cachePool:hd()}}function Lr(e,a,l){return e=e!==null?e.childLanes&~l:0,a&&(e|=Ct),e}function Au(e,a,l){var s=a.pendingProps,n=!1,i=(a.flags&128)!==0,m;if((m=i)||(m=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),m&&(n=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,e===null){if(we){if(n?ma(a):xa(),we){var j=He,D;if(D=j){e:{for(D=j,j=Ot;D.nodeType!==8;){if(!j){j=null;break e}if(D=_t(D.nextSibling),D===null){j=null;break e}}j=D}j!==null?(a.memoizedState={dehydrated:j,treeContext:za!==null?{id:Yt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},D=xt(18,null,null,0),D.stateNode=j,D.return=a,a.child=D,st=a,He=null,D=!0):D=!1}D||Ba(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Nc(j)?a.lanes=32:a.lanes=536870912,null;Kt(a)}return j=s.children,s=s.fallback,n?(xa(),n=a.mode,j=zn({mode:"hidden",children:j},n),s=Oa(s,n,l,null),j.return=a,s.return=a,j.sibling=s,a.child=j,n=a.child,n.memoizedState=Br(l),n.childLanes=Lr(e,m,l),a.memoizedState=qr,s):(ma(a),Ur(a,j))}if(D=e.memoizedState,D!==null&&(j=D.dehydrated,j!==null)){if(i)a.flags&256?(ma(a),a.flags&=-257,a=Gr(e,a,l)):a.memoizedState!==null?(xa(),a.child=e.child,a.flags|=128,a=null):(xa(),n=s.fallback,j=a.mode,s=zn({mode:"visible",children:s.children},j),n=Oa(n,j,l,null),n.flags|=2,s.return=a,n.return=a,s.sibling=n,a.child=s,Nl(a,e.child,null,l),s=a.child,s.memoizedState=Br(l),s.childLanes=Lr(e,m,l),a.memoizedState=qr,a=n);else if(ma(a),Nc(j)){if(m=j.nextSibling&&j.nextSibling.dataset,m)var U=m.dgst;m=U,s=Error(o(419)),s.stack="",s.digest=m,as({value:s,source:null,stack:null}),a=Gr(e,a,l)}else if(Ze||ls(e,a,l,!1),m=(l&e.childLanes)!==0,Ze||m){if(m=Te,m!==null&&(s=l&-l,s=(s&42)!==0?1:wi(s),s=(s&(m.suspendedLanes|l))!==0?0:s,s!==0&&s!==D.retryLane))throw D.retryLane=s,ul(e,s),bt(m,e,s),vu;j.data==="$?"||nc(),a=Gr(e,a,l)}else j.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=D.treeContext,He=_t(j.nextSibling),st=a,we=!0,qa=null,Ot=!1,e!==null&&(wt[kt++]=Yt,wt[kt++]=Qt,wt[kt++]=za,Yt=e.id,Qt=e.overflow,za=a),a=Ur(a,s.children),a.flags|=4096);return a}return n?(xa(),n=s.fallback,j=a.mode,D=e.child,U=D.sibling,s=$t(D,{mode:"hidden",children:s.children}),s.subtreeFlags=D.subtreeFlags&65011712,U!==null?n=$t(U,n):(n=Oa(n,j,l,null),n.flags|=2),n.return=a,s.return=a,s.sibling=n,a.child=s,s=n,n=a.child,j=e.child.memoizedState,j===null?j=Br(l):(D=j.cachePool,D!==null?(U=Qe._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=hd(),j={baseLanes:j.baseLanes|l,cachePool:D}),n.memoizedState=j,n.childLanes=Lr(e,m,l),a.memoizedState=qr,s):(ma(a),l=e.child,e=l.sibling,l=$t(l,{mode:"visible",children:s.children}),l.return=a,l.sibling=null,e!==null&&(m=a.deletions,m===null?(a.deletions=[e],a.flags|=16):m.push(e)),a.child=l,a.memoizedState=null,l)}function Ur(e,a){return a=zn({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function zn(e,a){return e=xt(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gr(e,a,l){return Nl(a,e.child,null,l),e=Ur(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function _u(e,a,l){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a),nr(e.return,a,l)}function $r(e,a,l,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n}:(i.isBackwards=a,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n)}function Tu(e,a,l){var s=a.pendingProps,n=s.revealOrder,i=s.tail;if(Fe(e,a,s.children,l),s=Xe.current,(s&2)!==0)s=s&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_u(e,l,a);else if(e.tag===19)_u(e,l,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(J(Xe,s),n){case"forwards":for(l=a.child,n=null;l!==null;)e=l.alternate,e!==null&&Tn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=a.child,a.child=null):(n=l.sibling,l.sibling=null),$r(a,!1,n,l,i);break;case"backwards":for(l=null,n=a.child,a.child=null;n!==null;){if(e=n.alternate,e!==null&&Tn(e)===null){a.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}$r(a,!0,l,null,i);break;case"together":$r(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jt(e,a,l){if(e!==null&&(a.dependencies=e.dependencies),ba|=a.lanes,(l&a.childLanes)===0)if(e!==null){if(ls(e,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,l=$t(e,e.pendingProps),a.child=l,l.return=a;e.sibling!==null;)e=e.sibling,l=l.sibling=$t(e,e.pendingProps),l.return=a;l.sibling=null}return a.child}function Yr(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&hn(e)))}function dh(e,a,l){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),ra(a,Qe,e.memoizedState.cache),ts();break;case 27:case 5:bi(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:ra(a,a.type,a.memoizedProps.value);break;case 13:var s=a.memoizedState;if(s!==null)return s.dehydrated!==null?(ma(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Au(e,a,l):(ma(a),e=Jt(e,a,l),e!==null?e.sibling:null);ma(a);break;case 19:var n=(e.flags&128)!==0;if(s=(l&a.childLanes)!==0,s||(ls(e,a,l,!1),s=(l&a.childLanes)!==0),n){if(s)return Tu(e,a,l);a.flags|=128}if(n=a.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),J(Xe,Xe.current),s)break;return null;case 22:case 23:return a.lanes=0,ku(e,a,l);case 24:ra(a,Qe,e.memoizedState.cache)}return Jt(e,a,l)}function Du(e,a,l){if(e!==null)if(e.memoizedProps!==a.pendingProps)Ze=!0;else{if(!Yr(e,l)&&(a.flags&128)===0)return Ze=!1,dh(e,a,l);Ze=(e.flags&131072)!==0}else Ze=!1,we&&(a.flags&1048576)!==0&&cd(a,fn,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var s=a.elementType,n=s._init;if(s=n(s._payload),a.type=s,typeof s=="function")Wi(s)?(e=Ya(s,e),a.tag=1,a=Mu(null,a,s,e,l)):(a.tag=0,a=Hr(null,a,s,e,l));else{if(s!=null){if(n=s.$$typeof,n===M){a.tag=11,a=ju(null,a,s,e,l);break e}else if(n===Z){a.tag=14,a=Nu(null,a,s,e,l);break e}}throw a=ie(s)||s,Error(o(306,a,""))}}return a;case 0:return Hr(e,a,a.type,a.pendingProps,l);case 1:return s=a.type,n=Ya(s,a.pendingProps),Mu(e,a,s,n,l);case 3:e:{if(Ae(a,a.stateNode.containerInfo),e===null)throw Error(o(387));s=a.pendingProps;var i=a.memoizedState;n=i.element,mr(e,a),ds(a,s,null,l);var m=a.memoizedState;if(s=m.cache,ra(a,Qe,s),s!==i.cache&&ir(a,[Qe],l,!0),os(),s=m.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=i,a.memoizedState=i,a.flags&256){a=Eu(e,a,s,l);break e}else if(s!==n){n=jt(Error(o(424)),a),as(n),a=Eu(e,a,s,l);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=_t(e.firstChild),st=a,we=!0,qa=null,Ot=!0,l=du(a,null,s,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ts(),s===n){a=Jt(e,a,l);break e}Fe(e,a,s,l)}a=a.child}return a;case 26:return On(e,a),e===null?(l=Hm(a.type,null,a.pendingProps,null))?a.memoizedState=l:we||(l=a.type,e=a.pendingProps,s=Jn(re.current).createElement(l),s[tt]=a,s[nt]=e,We(s,l,e),Ve(s),a.stateNode=s):a.memoizedState=Hm(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return bi(a),e===null&&we&&(s=a.stateNode=Rm(a.type,a.pendingProps,re.current),st=a,Ot=!0,n=He,Na(a.type)?(wc=n,He=_t(s.firstChild)):He=n),Fe(e,a,a.pendingProps.children,l),On(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&we&&((n=s=He)&&(s=Bh(s,a.type,a.pendingProps,Ot),s!==null?(a.stateNode=s,st=a,He=_t(s.firstChild),Ot=!1,n=!0):n=!1),n||Ba(a)),bi(a),n=a.type,i=a.pendingProps,m=e!==null?e.memoizedProps:null,s=i.children,yc(n,i)?s=null:m!==null&&yc(n,m)&&(a.flags|=32),a.memoizedState!==null&&(n=br(e,a,ah,null,null,l),Ds._currentValue=n),On(e,a),Fe(e,a,s,l),a.child;case 6:return e===null&&we&&((e=l=He)&&(l=Lh(l,a.pendingProps,Ot),l!==null?(a.stateNode=l,st=a,He=null,e=!0):e=!1),e||Ba(a)),null;case 13:return Au(e,a,l);case 4:return Ae(a,a.stateNode.containerInfo),s=a.pendingProps,e===null?a.child=Nl(a,null,s,l):Fe(e,a,s,l),a.child;case 11:return ju(e,a,a.type,a.pendingProps,l);case 7:return Fe(e,a,a.pendingProps,l),a.child;case 8:return Fe(e,a,a.pendingProps.children,l),a.child;case 12:return Fe(e,a,a.pendingProps.children,l),a.child;case 10:return s=a.pendingProps,ra(a,a.type,s.value),Fe(e,a,s.children,l),a.child;case 9:return n=a.type._context,s=a.pendingProps.children,Ua(a),n=at(n),s=s(n),a.flags|=1,Fe(e,a,s,l),a.child;case 14:return Nu(e,a,a.type,a.pendingProps,l);case 15:return wu(e,a,a.type,a.pendingProps,l);case 19:return Tu(e,a,l);case 31:return s=a.pendingProps,l=a.mode,s={mode:s.mode,children:s.children},e===null?(l=zn(s,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=$t(e.child,s),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ku(e,a,l);case 24:return Ua(a),s=at(Qe),e===null?(n=or(),n===null&&(n=Te,i=rr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),a.memoizedState={parent:s,cache:n},ur(a),ra(a,Qe,n)):((e.lanes&l)!==0&&(mr(e,a),ds(a,null,null,l),os()),n=e.memoizedState,i=a.memoizedState,n.parent!==s?(n={parent:s,cache:s},a.memoizedState=n,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=n),ra(a,Qe,s)):(s=i.cache,ra(a,Qe,s),s!==n.cache&&ir(a,[Qe],l,!0))),Fe(e,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Ft(e){e.flags|=4}function Ru(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(a)){if(a=St.current,a!==null&&((je&4194048)===je?zt!==null:(je&62914560)!==je&&(je&536870912)===0||a!==zt))throw rs=dr,pd;e.flags|=8192}}function Hn(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?uo():536870912,e.lanes|=a,Cl|=a)}function gs(e,a){if(!we)switch(e.tailMode){case"hidden":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var a=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(a)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,a}function uh(e,a,l){var s=a.pendingProps;switch(ar(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(a),null;case 1:return ze(a),null;case 3:return l=a.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Vt(Qe),la(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(es(a)?Ft(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ud())),ze(a),null;case 26:return l=a.memoizedState,e===null?(Ft(a),l!==null?(ze(a),Ru(a,l)):(ze(a),a.flags&=-16777217)):l?l!==e.memoizedState?(Ft(a),ze(a),Ru(a,l)):(ze(a),a.flags&=-16777217):(e.memoizedProps!==s&&Ft(a),ze(a),a.flags&=-16777217),null;case 27:Vs(a),l=re.current;var n=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==s&&Ft(a);else{if(!s){if(a.stateNode===null)throw Error(o(166));return ze(a),null}e=I.current,es(a)?od(a):(e=Rm(n,s,l),a.stateNode=e,Ft(a))}return ze(a),null;case 5:if(Vs(a),l=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==s&&Ft(a);else{if(!s){if(a.stateNode===null)throw Error(o(166));return ze(a),null}if(e=I.current,es(a))od(a);else{switch(n=Jn(re.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(l,{is:s.is}):n.createElement(l)}}e[tt]=a,e[nt]=s;e:for(n=a.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}a.stateNode=e;e:switch(We(e,l,s),l){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ft(a)}}return ze(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==s&&Ft(a);else{if(typeof s!="string"&&a.stateNode===null)throw Error(o(166));if(e=re.current,es(a)){if(e=a.stateNode,l=a.memoizedProps,s=null,n=st,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[tt]=a,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Cm(e.nodeValue,l)),e||Ba(a)}else e=Jn(e).createTextNode(s),e[tt]=a,a.stateNode=e}return ze(a),null;case 13:if(s=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=es(a),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[tt]=a}else ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ze(a),n=!1}else n=ud(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return a.flags&256?(Kt(a),a):(Kt(a),null)}if(Kt(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=s!==null,e=e!==null&&e.memoizedState!==null,l){s=a.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)}return l!==e&&l&&(a.child.flags|=8192),Hn(a,a.updateQueue),ze(a),null;case 4:return la(),e===null&&fc(a.stateNode.containerInfo),ze(a),null;case 10:return Vt(a.type),ze(a),null;case 19:if(X(Xe),n=a.memoizedState,n===null)return ze(a),null;if(s=(a.flags&128)!==0,i=n.rendering,i===null)if(s)gs(n,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(i=Tn(e),i!==null){for(a.flags|=128,gs(n,!1),e=i.updateQueue,a.updateQueue=e,Hn(a,e),a.subtreeFlags=0,e=l,l=a.child;l!==null;)rd(l,e),l=l.sibling;return J(Xe,Xe.current&1|2),a.child}e=e.sibling}n.tail!==null&&Rt()>Ln&&(a.flags|=128,s=!0,gs(n,!1),a.lanes=4194304)}else{if(!s)if(e=Tn(i),e!==null){if(a.flags|=128,s=!0,e=e.updateQueue,a.updateQueue=e,Hn(a,e),gs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!we)return ze(a),null}else 2*Rt()-n.renderingStartTime>Ln&&l!==536870912&&(a.flags|=128,s=!0,gs(n,!1),a.lanes=4194304);n.isBackwards?(i.sibling=a.child,a.child=i):(e=n.last,e!==null?e.sibling=i:a.child=i,n.last=i)}return n.tail!==null?(a=n.tail,n.rendering=a,n.tail=a.sibling,n.renderingStartTime=Rt(),a.sibling=null,e=Xe.current,J(Xe,s?e&1|2:e&1),a):(ze(a),null);case 22:case 23:return Kt(a),pr(),s=a.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(a.flags|=8192):s&&(a.flags|=8192),s?(l&536870912)!==0&&(a.flags&128)===0&&(ze(a),a.subtreeFlags&6&&(a.flags|=8192)):ze(a),l=a.updateQueue,l!==null&&Hn(a,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048),e!==null&&X(Ga),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Vt(Qe),ze(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function mh(e,a){switch(ar(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Vt(Qe),la(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Vs(a),null;case 13:if(Kt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));ts()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return X(Xe),null;case 4:return la(),null;case 10:return Vt(a.type),null;case 22:case 23:return Kt(a),pr(),e!==null&&X(Ga),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Vt(Qe),null;case 25:return null;default:return null}}function Ou(e,a){switch(ar(a),a.tag){case 3:Vt(Qe),la();break;case 26:case 27:case 5:Vs(a);break;case 4:la();break;case 13:Kt(a);break;case 19:X(Xe);break;case 10:Vt(a.type);break;case 22:case 23:Kt(a),pr(),e!==null&&X(Ga);break;case 24:Vt(Qe)}}function bs(e,a){try{var l=a.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var i=l.create,m=l.inst;s=i(),m.destroy=s}l=l.next}while(l!==n)}}catch(j){_e(a,a.return,j)}}function fa(e,a,l){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var m=s.inst,j=m.destroy;if(j!==void 0){m.destroy=void 0,n=a;var D=l,U=j;try{U()}catch(K){_e(n,D,K)}}}s=s.next}while(s!==i)}}catch(K){_e(a,a.return,K)}}function zu(e){var a=e.updateQueue;if(a!==null){var l=e.stateNode;try{Nd(a,l)}catch(s){_e(e,e.return,s)}}}function Hu(e,a,l){l.props=Ya(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){_e(e,a,s)}}function ys(e,a){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){_e(e,a,n)}}function Ht(e,a){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){_e(e,a,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){_e(e,a,n)}else l.current=null}function qu(e){var a=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){_e(e,e.return,n)}}function Qr(e,a,l){try{var s=e.stateNode;Rh(s,e.type,l,a),s[nt]=a}catch(n){_e(e,e.return,n)}}function Bu(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function Xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vr(e,a,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(e),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Kn));else if(s!==4&&(s===27&&Na(e.type)&&(l=e.stateNode,a=null),e=e.child,e!==null))for(Vr(e,a,l),e=e.sibling;e!==null;)Vr(e,a,l),e=e.sibling}function qn(e,a,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,a?l.insertBefore(e,a):l.appendChild(e);else if(s!==4&&(s===27&&Na(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(qn(e,a,l),e=e.sibling;e!==null;)qn(e,a,l),e=e.sibling}function Lu(e){var a=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);We(a,s,l),a[tt]=e,a[nt]=l}catch(i){_e(e,e.return,i)}}var Pt=!1,Ue=!1,Zr=!1,Uu=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function xh(e,a){if(e=e.containerInfo,gc=ti,e=Po(e),Xi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var m=0,j=-1,D=-1,U=0,K=0,P=e,$=null;t:for(;;){for(var Q;P!==l||n!==0&&P.nodeType!==3||(j=m+n),P!==i||s!==0&&P.nodeType!==3||(D=m+s),P.nodeType===3&&(m+=P.nodeValue.length),(Q=P.firstChild)!==null;)$=P,P=Q;for(;;){if(P===e)break t;if($===l&&++U===n&&(j=m),$===i&&++K===s&&(D=m),(Q=P.nextSibling)!==null)break;P=$,$=P.parentNode}P=Q}l=j===-1||D===-1?null:{start:j,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(bc={focusedElem:e,selectionRange:l},ti=!1,Ke=a;Ke!==null;)if(a=Ke,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,Ke=e;else for(;Ke!==null;){switch(a=Ke,i=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=a,n=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var xe=Ya(l.type,n,l.elementType===l.type);e=s.getSnapshotBeforeUpdate(xe,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){_e(l,l.return,ue)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,l=e.nodeType,l===9)jc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,Ke=e;break}Ke=a.return}}function Gu(e,a,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ha(e,l),s&4&&bs(5,l);break;case 1:if(ha(e,l),s&4)if(e=l.stateNode,a===null)try{e.componentDidMount()}catch(m){_e(l,l.return,m)}else{var n=Ya(l.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(n,a,e.__reactInternalSnapshotBeforeUpdate)}catch(m){_e(l,l.return,m)}}s&64&&zu(l),s&512&&ys(l,l.return);break;case 3:if(ha(e,l),s&64&&(e=l.updateQueue,e!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Nd(e,a)}catch(m){_e(l,l.return,m)}}break;case 27:a===null&&s&4&&Lu(l);case 26:case 5:ha(e,l),a===null&&s&4&&qu(l),s&512&&ys(l,l.return);break;case 12:ha(e,l);break;case 13:ha(e,l),s&4&&Qu(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Nh.bind(null,l),Uh(e,l))));break;case 22:if(s=l.memoizedState!==null||Pt,!s){a=a!==null&&a.memoizedState!==null||Ue,n=Pt;var i=Ue;Pt=s,(Ue=a)&&!i?pa(e,l,(l.subtreeFlags&8772)!==0):ha(e,l),Pt=n,Ue=i}break;case 30:break;default:ha(e,l)}}function $u(e){var a=e.alternate;a!==null&&(e.alternate=null,$u(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Ci(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,ct=!1;function Wt(e,a,l){for(l=l.child;l!==null;)Yu(e,a,l),l=l.sibling}function Yu(e,a,l){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ul,l)}catch{}switch(l.tag){case 26:Ue||Ht(l,a),Wt(e,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ue||Ht(l,a);var s=Re,n=ct;Na(l.type)&&(Re=l.stateNode,ct=!1),Wt(e,a,l),Es(l.stateNode),Re=s,ct=n;break;case 5:Ue||Ht(l,a);case 6:if(s=Re,n=ct,Re=null,Wt(e,a,l),Re=s,ct=n,Re!==null)if(ct)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(l.stateNode)}catch(i){_e(l,a,i)}else try{Re.removeChild(l.stateNode)}catch(i){_e(l,a,i)}break;case 18:Re!==null&&(ct?(e=Re,Tm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Hs(e)):Tm(Re,l.stateNode));break;case 4:s=Re,n=ct,Re=l.stateNode.containerInfo,ct=!0,Wt(e,a,l),Re=s,ct=n;break;case 0:case 11:case 14:case 15:Ue||fa(2,l,a),Ue||fa(4,l,a),Wt(e,a,l);break;case 1:Ue||(Ht(l,a),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Hu(l,a,s)),Wt(e,a,l);break;case 21:Wt(e,a,l);break;case 22:Ue=(s=Ue)||l.memoizedState!==null,Wt(e,a,l),Ue=s;break;default:Wt(e,a,l)}}function Qu(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hs(e)}catch(l){_e(a,a.return,l)}}function fh(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Uu),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Uu),a;default:throw Error(o(435,e.tag))}}function Kr(e,a){var l=fh(e);a.forEach(function(s){var n=wh.bind(null,e,s);l.has(s)||(l.add(s),s.then(n,n))})}function ft(e,a){var l=a.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],i=e,m=a,j=m;e:for(;j!==null;){switch(j.tag){case 27:if(Na(j.type)){Re=j.stateNode,ct=!1;break e}break;case 5:Re=j.stateNode,ct=!1;break e;case 3:case 4:Re=j.stateNode.containerInfo,ct=!0;break e}j=j.return}if(Re===null)throw Error(o(160));Yu(i,m,n),Re=null,ct=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Xu(a,e),a=a.sibling}var At=null;function Xu(e,a){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(a,e),ht(e),s&4&&(fa(3,e,e.return),bs(3,e),fa(5,e,e.return));break;case 1:ft(a,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),s&64&&Pt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=At;if(ft(a,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Yl]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),We(i,s,l),i[tt]=e,Ve(i),s=i;break e;case"link":var m=Lm("link","href",n).get(s+(l.href||""));if(m){for(var j=0;j<m.length;j++)if(i=m[j],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(j,1);break t}}i=n.createElement(s),We(i,s,l),n.head.appendChild(i);break;case"meta":if(m=Lm("meta","content",n).get(s+(l.content||""))){for(j=0;j<m.length;j++)if(i=m[j],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(j,1);break t}}i=n.createElement(s),We(i,s,l),n.head.appendChild(i);break;default:throw Error(o(468,s))}i[tt]=e,Ve(i),s=i}e.stateNode=s}else Um(n,e.type,e.stateNode);else e.stateNode=Bm(n,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?Um(n,e.type,e.stateNode):Bm(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Qr(e,e.memoizedProps,l.memoizedProps)}break;case 27:ft(a,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),l!==null&&s&4&&Qr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ft(a,e),ht(e),s&512&&(Ue||l===null||Ht(l,l.return)),e.flags&32){n=e.stateNode;try{sl(n,"")}catch(Q){_e(e,e.return,Q)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Qr(e,n,l!==null?l.memoizedProps:n)),s&1024&&(Zr=!0);break;case 6:if(ft(a,e),ht(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(Q){_e(e,e.return,Q)}}break;case 3:if(Wn=null,n=At,At=Fn(a.containerInfo),ft(a,e),At=n,ht(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Hs(a.containerInfo)}catch(Q){_e(e,e.return,Q)}Zr&&(Zr=!1,Vu(e));break;case 4:s=At,At=Fn(e.stateNode.containerInfo),ft(a,e),ht(e),At=s;break;case 12:ft(a,e),ht(e);break;case 13:ft(a,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ec=Rt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 22:n=e.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,U=Pt,K=Ue;if(Pt=U||n,Ue=K||D,ft(a,e),Ue=K,Pt=U,ht(e),s&8192)e:for(a=e.stateNode,a._visibility=n?a._visibility&-2:a._visibility|1,n&&(l===null||D||Pt||Ue||Qa(e)),l=null,a=e;;){if(a.tag===5||a.tag===26){if(l===null){D=l=a;try{if(i=D.stateNode,n)m=i.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{j=D.stateNode;var P=D.memoizedProps.style,$=P!=null&&P.hasOwnProperty("display")?P.display:null;j.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){_e(D,D.return,Q)}}}else if(a.tag===6){if(l===null){D=a;try{D.stateNode.nodeValue=n?"":D.memoizedProps}catch(Q){_e(D,D.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Kr(e,l))));break;case 19:ft(a,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 30:break;case 21:break;default:ft(a,e),ht(e)}}function ht(e){var a=e.flags;if(a&2){try{for(var l,s=e.return;s!==null;){if(Bu(s)){l=s;break}s=s.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=Xr(e);qn(e,i,n);break;case 5:var m=l.stateNode;l.flags&32&&(sl(m,""),l.flags&=-33);var j=Xr(e);qn(e,j,m);break;case 3:case 4:var D=l.stateNode.containerInfo,U=Xr(e);Vr(e,U,D);break;default:throw Error(o(161))}}catch(K){_e(e,e.return,K)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Vu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Vu(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function ha(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gu(e,a.alternate,a),a=a.sibling}function Qa(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:fa(4,a,a.return),Qa(a);break;case 1:Ht(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hu(a,a.return,l),Qa(a);break;case 27:Es(a.stateNode);case 26:case 5:Ht(a,a.return),Qa(a);break;case 22:a.memoizedState===null&&Qa(a);break;case 30:Qa(a);break;default:Qa(a)}e=e.sibling}}function pa(e,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var s=a.alternate,n=e,i=a,m=i.flags;switch(i.tag){case 0:case 11:case 15:pa(n,i,l),bs(4,i);break;case 1:if(pa(n,i,l),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(U){_e(s,s.return,U)}if(s=i,n=s.updateQueue,n!==null){var j=s.stateNode;try{var D=n.shared.hiddenCallbacks;if(D!==null)for(n.shared.hiddenCallbacks=null,n=0;n<D.length;n++)jd(D[n],j)}catch(U){_e(s,s.return,U)}}l&&m&64&&zu(i),ys(i,i.return);break;case 27:Lu(i);case 26:case 5:pa(n,i,l),l&&s===null&&m&4&&qu(i),ys(i,i.return);break;case 12:pa(n,i,l);break;case 13:pa(n,i,l),l&&m&4&&Qu(n,i);break;case 22:i.memoizedState===null&&pa(n,i,l),ys(i,i.return);break;case 30:break;default:pa(n,i,l)}a=a.sibling}}function Jr(e,a){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ss(l))}function Fr(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ss(e))}function qt(e,a,l,s){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zu(e,a,l,s),a=a.sibling}function Zu(e,a,l,s){var n=a.flags;switch(a.tag){case 0:case 11:case 15:qt(e,a,l,s),n&2048&&bs(9,a);break;case 1:qt(e,a,l,s);break;case 3:qt(e,a,l,s),n&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ss(e)));break;case 12:if(n&2048){qt(e,a,l,s),e=a.stateNode;try{var i=a.memoizedProps,m=i.id,j=i.onPostCommit;typeof j=="function"&&j(m,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){_e(a,a.return,D)}}else qt(e,a,l,s);break;case 13:qt(e,a,l,s);break;case 23:break;case 22:i=a.stateNode,m=a.alternate,a.memoizedState!==null?i._visibility&2?qt(e,a,l,s):vs(e,a):i._visibility&2?qt(e,a,l,s):(i._visibility|=2,wl(e,a,l,s,(a.subtreeFlags&10256)!==0)),n&2048&&Jr(m,a);break;case 24:qt(e,a,l,s),n&2048&&Fr(a.alternate,a);break;default:qt(e,a,l,s)}}function wl(e,a,l,s,n){for(n=n&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var i=e,m=a,j=l,D=s,U=m.flags;switch(m.tag){case 0:case 11:case 15:wl(i,m,j,D,n),bs(8,m);break;case 23:break;case 22:var K=m.stateNode;m.memoizedState!==null?K._visibility&2?wl(i,m,j,D,n):vs(i,m):(K._visibility|=2,wl(i,m,j,D,n)),n&&U&2048&&Jr(m.alternate,m);break;case 24:wl(i,m,j,D,n),n&&U&2048&&Fr(m.alternate,m);break;default:wl(i,m,j,D,n)}a=a.sibling}}function vs(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=e,s=a,n=s.flags;switch(s.tag){case 22:vs(l,s),n&2048&&Jr(s.alternate,s);break;case 24:vs(l,s),n&2048&&Fr(s.alternate,s);break;default:vs(l,s)}a=a.sibling}}var js=8192;function kl(e){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Ku(e),e=e.sibling}function Ku(e){switch(e.tag){case 26:kl(e),e.flags&js&&e.memoizedState!==null&&Ih(At,e.memoizedState,e.memoizedProps);break;case 5:kl(e);break;case 3:case 4:var a=At;At=Fn(e.stateNode.containerInfo),kl(e),At=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=js,js=16777216,kl(e),js=a):kl(e));break;default:kl(e)}}function Ju(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Ns(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var s=a[l];Ke=s,Pu(s,e)}Ju(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fu(e),e=e.sibling}function Fu(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&fa(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Bn(e)):Ns(e);break;default:Ns(e)}}function Bn(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var s=a[l];Ke=s,Pu(s,e)}Ju(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:fa(8,a,a.return),Bn(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Bn(a));break;default:Bn(a)}e=e.sibling}}function Pu(e,a){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:fa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ss(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ke=s;else e:for(l=e;Ke!==null;){s=Ke;var n=s.sibling,i=s.return;if($u(s),s===l){Ke=null;break e}if(n!==null){n.return=i,Ke=n;break e}Ke=i}}}var hh={getCacheForType:function(e){var a=at(Qe),l=a.data.get(e);return l===void 0&&(l=e(),a.data.set(e,l)),l}},ph=typeof WeakMap=="function"?WeakMap:Map,ke=0,Te=null,be=null,je=0,Se=0,pt=null,ga=!1,Sl=!1,Pr=!1,It=0,qe=0,ba=0,Xa=0,Wr=0,Ct=0,Cl=0,ws=null,ot=null,Ir=!1,ec=0,Ln=1/0,Un=null,ya=null,Pe=0,va=null,Ml=null,El=0,tc=0,ac=null,Wu=null,ks=0,lc=null;function gt(){if((ke&2)!==0&&je!==0)return je&-je;if(A.T!==null){var e=hl;return e!==0?e:dc()}return fo()}function Iu(){Ct===0&&(Ct=(je&536870912)===0||we?oo():536870912);var e=St.current;return e!==null&&(e.flags|=32),Ct}function bt(e,a,l){(e===Te&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Al(e,0),ja(e,je,Ct,!1)),$l(e,l),((ke&2)===0||e!==Te)&&(e===Te&&((ke&2)===0&&(Xa|=l),qe===4&&ja(e,je,Ct,!1)),Bt(e))}function em(e,a,l){if((ke&6)!==0)throw Error(o(327));var s=!l&&(a&124)===0&&(a&e.expiredLanes)===0||Gl(e,a),n=s?yh(e,a):ic(e,a,!0),i=s;do{if(n===0){Sl&&!s&&ja(e,a,0,!1);break}else{if(l=e.current.alternate,i&&!gh(l)){n=ic(e,a,!1),i=!1;continue}if(n===2){if(i=a,e.errorRecoveryDisabledLanes&i)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var j=e;n=ws;var D=j.current.memoizedState.isDehydrated;if(D&&(Al(j,m).flags|=256),m=ic(j,m,!1),m!==2){if(Pr&&!D){j.errorRecoveryDisabledLanes|=i,Xa|=i,n=4;break e}i=ot,ot=n,i!==null&&(ot===null?ot=i:ot.push.apply(ot,i))}n=m}if(i=!1,n!==2)continue}}if(n===1){Al(e,0),ja(e,a,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:ja(s,a,Ct,!ga);break e;case 2:ot=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(n=ec+300-Rt(),10<n)){if(ja(s,a,Ct,!ga),Fs(s,0,!0)!==0)break e;s.timeoutHandle=Am(tm.bind(null,s,l,ot,Un,Ir,a,Ct,Xa,Cl,ga,i,2,-0,0),n);break e}tm(s,l,ot,Un,Ir,a,Ct,Xa,Cl,ga,i,0,-0,0)}}break}while(!0);Bt(e)}function tm(e,a,l,s,n,i,m,j,D,U,K,P,$,Q){if(e.timeoutHandle=-1,P=a.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:Wh},Ku(a),P=e0(),P!==null)){e.cancelPendingCommit=P(cm.bind(null,e,a,i,l,s,n,m,j,D,K,1,$,Q)),ja(e,i,m,!U);return}cm(e,a,i,l,s,n,m,j,D)}function gh(e){for(var a=e;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!mt(i(),n))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ja(e,a,l,s){a&=~Wr,a&=~Xa,e.suspendedLanes|=a,e.pingedLanes&=~a,s&&(e.warmLanes|=a),s=e.expirationTimes;for(var n=a;0<n;){var i=31-ut(n),m=1<<i;s[i]=-1,n&=~m}l!==0&&mo(e,l,a)}function Gn(){return(ke&6)===0?(Ss(0),!1):!0}function sc(){if(be!==null){if(Se===0)var e=be.return;else e=be,Xt=La=null,jr(e),jl=null,hs=0,e=be;for(;e!==null;)Ou(e.alternate,e),e=e.return;be=null}}function Al(e,a){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,zh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),sc(),Te=e,be=l=$t(e.current,null),je=a,Se=0,pt=null,ga=!1,Sl=Gl(e,a),Pr=!1,Cl=Ct=Wr=Xa=ba=qe=0,ot=ws=null,Ir=!1,(a&8)!==0&&(a|=a&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=a;0<s;){var n=31-ut(s),i=1<<n;a|=e[n],s&=~i}return It=a,on(),l}function am(e,a){pe=null,A.H=En,a===is||a===bn?(a=yd(),Se=3):a===pd?(a=yd(),Se=4):Se=a===vu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,pt=a,be===null&&(qe=1,Rn(e,jt(a,e.current)))}function lm(){var e=A.H;return A.H=En,e===null?En:e}function sm(){var e=A.A;return A.A=hh,e}function nc(){qe=4,ga||(je&4194048)!==je&&St.current!==null||(Sl=!0),(ba&134217727)===0&&(Xa&134217727)===0||Te===null||ja(Te,je,Ct,!1)}function ic(e,a,l){var s=ke;ke|=2;var n=lm(),i=sm();(Te!==e||je!==a)&&(Un=null,Al(e,a)),a=!1;var m=qe;e:do try{if(Se!==0&&be!==null){var j=be,D=pt;switch(Se){case 8:sc(),m=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(a=!0);var U=Se;if(Se=0,pt=null,_l(e,j,D,U),l&&Sl){m=0;break e}break;default:U=Se,Se=0,pt=null,_l(e,j,D,U)}}bh(),m=qe;break}catch(K){am(e,K)}while(!0);return a&&e.shellSuspendCounter++,Xt=La=null,ke=s,A.H=n,A.A=i,be===null&&(Te=null,je=0,on()),m}function bh(){for(;be!==null;)nm(be)}function yh(e,a){var l=ke;ke|=2;var s=lm(),n=sm();Te!==e||je!==a?(Un=null,Ln=Rt()+500,Al(e,a)):Sl=Gl(e,a);e:do try{if(Se!==0&&be!==null){a=be;var i=pt;t:switch(Se){case 1:Se=0,pt=null,_l(e,a,i,1);break;case 2:case 9:if(gd(i)){Se=0,pt=null,im(a);break}a=function(){Se!==2&&Se!==9||Te!==e||(Se=7),Bt(e)},i.then(a,a);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:gd(i)?(Se=0,pt=null,im(a)):(Se=0,pt=null,_l(e,a,i,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var j=be;if(!m||Gm(m)){Se=0,pt=null;var D=j.sibling;if(D!==null)be=D;else{var U=j.return;U!==null?(be=U,$n(U)):be=null}break t}}Se=0,pt=null,_l(e,a,i,5);break;case 6:Se=0,pt=null,_l(e,a,i,6);break;case 8:sc(),qe=6;break e;default:throw Error(o(462))}}vh();break}catch(K){am(e,K)}while(!0);return Xt=La=null,A.H=s,A.A=n,ke=l,be!==null?0:(Te=null,je=0,on(),qe)}function vh(){for(;be!==null&&!Gx();)nm(be)}function nm(e){var a=Du(e.alternate,e,It);e.memoizedProps=e.pendingProps,a===null?$n(e):be=a}function im(e){var a=e,l=a.alternate;switch(a.tag){case 15:case 0:a=Cu(l,a,a.pendingProps,a.type,void 0,je);break;case 11:a=Cu(l,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:jr(a);default:Ou(l,a),a=be=rd(a,It),a=Du(l,a,It)}e.memoizedProps=e.pendingProps,a===null?$n(e):be=a}function _l(e,a,l,s){Xt=La=null,jr(a),jl=null,hs=0;var n=a.return;try{if(oh(e,n,a,l,je)){qe=1,Rn(e,jt(l,e.current)),be=null;return}}catch(i){if(n!==null)throw be=n,i;qe=1,Rn(e,jt(l,e.current)),be=null;return}a.flags&32768?(we||s===1?e=!0:Sl||(je&536870912)!==0?e=!1:(ga=e=!0,(s===2||s===9||s===3||s===6)&&(s=St.current,s!==null&&s.tag===13&&(s.flags|=16384))),rm(a,e)):$n(a)}function $n(e){var a=e;do{if((a.flags&32768)!==0){rm(a,ga);return}e=a.return;var l=uh(a.alternate,a,It);if(l!==null){be=l;return}if(a=a.sibling,a!==null){be=a;return}be=a=e}while(a!==null);qe===0&&(qe=5)}function rm(e,a){do{var l=mh(e.alternate,e);if(l!==null){l.flags&=32767,be=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(e=e.sibling,e!==null)){be=e;return}be=e=l}while(e!==null);qe=6,be=null}function cm(e,a,l,s,n,i,m,j,D){e.cancelPendingCommit=null;do Yn();while(Pe!==0);if((ke&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(i=a.lanes|a.childLanes,i|=Fi,Px(e,l,i,m,j,D),e===Te&&(be=Te=null,je=0),Ml=a,va=e,El=l,tc=i,ac=n,Wu=s,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kh(Zs,function(){return xm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,n=Y.p,Y.p=2,m=ke,ke|=4;try{xh(e,a,l)}finally{ke=m,Y.p=n,A.T=s}}Pe=1,om(),dm(),um()}}function om(){if(Pe===1){Pe=0;var e=va,a=Ml,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var s=Y.p;Y.p=2;var n=ke;ke|=4;try{Xu(a,e);var i=bc,m=Po(e.containerInfo),j=i.focusedElem,D=i.selectionRange;if(m!==j&&j&&j.ownerDocument&&Fo(j.ownerDocument.documentElement,j)){if(D!==null&&Xi(j)){var U=D.start,K=D.end;if(K===void 0&&(K=U),"selectionStart"in j)j.selectionStart=U,j.selectionEnd=Math.min(K,j.value.length);else{var P=j.ownerDocument||document,$=P&&P.defaultView||window;if($.getSelection){var Q=$.getSelection(),xe=j.textContent.length,ue=Math.min(D.start,xe),Ee=D.end===void 0?ue:Math.min(D.end,xe);!Q.extend&&ue>Ee&&(m=Ee,Ee=ue,ue=m);var q=Jo(j,ue),z=Jo(j,Ee);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var L=P.createRange();L.setStart(q.node,q.offset),Q.removeAllRanges(),ue>Ee?(Q.addRange(L),Q.extend(z.node,z.offset)):(L.setEnd(z.node,z.offset),Q.addRange(L))}}}}for(P=[],Q=j;Q=Q.parentNode;)Q.nodeType===1&&P.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<P.length;j++){var F=P[j];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ti=!!gc,bc=gc=null}finally{ke=n,Y.p=s,A.T=l}}e.current=a,Pe=2}}function dm(){if(Pe===2){Pe=0;var e=va,a=Ml,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var s=Y.p;Y.p=2;var n=ke;ke|=4;try{Gu(e,a.alternate,a)}finally{ke=n,Y.p=s,A.T=l}}Pe=3}}function um(){if(Pe===4||Pe===3){Pe=0,$x();var e=va,a=Ml,l=El,s=Wu;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pe=5:(Pe=0,Ml=va=null,mm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ya=null),ki(l),a=a.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ul,a,void 0,(a.current.flags&128)===128)}catch{}if(s!==null){a=A.T,n=Y.p,Y.p=2,A.T=null;try{for(var i=e.onRecoverableError,m=0;m<s.length;m++){var j=s[m];i(j.value,{componentStack:j.stack})}}finally{A.T=a,Y.p=n}}(El&3)!==0&&Yn(),Bt(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===lc?ks++:(ks=0,lc=e):ks=0,Ss(0)}}function mm(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,ss(a)))}function Yn(e){return om(),dm(),um(),xm()}function xm(){if(Pe!==5)return!1;var e=va,a=tc;tc=0;var l=ki(El),s=A.T,n=Y.p;try{Y.p=32>l?32:l,A.T=null,l=ac,ac=null;var i=va,m=El;if(Pe=0,Ml=va=null,El=0,(ke&6)!==0)throw Error(o(331));var j=ke;if(ke|=4,Fu(i.current),Zu(i,i.current,m,l),ke=j,Ss(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ul,i)}catch{}return!0}finally{Y.p=n,A.T=s,mm(e,a)}}function fm(e,a,l){a=jt(l,a),a=zr(e.stateNode,a,2),e=da(e,a,2),e!==null&&($l(e,2),Bt(e))}function _e(e,a,l){if(e.tag===3)fm(e,e,l);else for(;a!==null;){if(a.tag===3){fm(a,e,l);break}else if(a.tag===1){var s=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=jt(l,e),l=bu(2),s=da(a,l,2),s!==null&&(yu(l,s,a,e),$l(s,2),Bt(s));break}}a=a.return}}function rc(e,a,l){var s=e.pingCache;if(s===null){s=e.pingCache=new ph;var n=new Set;s.set(a,n)}else n=s.get(a),n===void 0&&(n=new Set,s.set(a,n));n.has(l)||(Pr=!0,n.add(l),e=jh.bind(null,e,a,l),a.then(e,e))}function jh(e,a,l){var s=e.pingCache;s!==null&&s.delete(a),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Te===e&&(je&l)===l&&(qe===4||qe===3&&(je&62914560)===je&&300>Rt()-ec?(ke&2)===0&&Al(e,0):Wr|=l,Cl===je&&(Cl=0)),Bt(e)}function hm(e,a){a===0&&(a=uo()),e=ul(e,a),e!==null&&($l(e,a),Bt(e))}function Nh(e){var a=e.memoizedState,l=0;a!==null&&(l=a.retryLane),hm(e,l)}function wh(e,a){var l=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(a),hm(e,l)}function kh(e,a){return vi(e,a)}var Qn=null,Tl=null,cc=!1,Xn=!1,oc=!1,Va=0;function Bt(e){e!==Tl&&e.next===null&&(Tl===null?Qn=Tl=e:Tl=Tl.next=e),Xn=!0,cc||(cc=!0,Ch())}function Ss(e,a){if(!oc&&Xn){oc=!0;do for(var l=!1,s=Qn;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var m=s.suspendedLanes,j=s.pingedLanes;i=(1<<31-ut(42|e)+1)-1,i&=n&~(m&~j),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,ym(s,i))}else i=je,i=Fs(s,s===Te?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||Gl(s,i)||(l=!0,ym(s,i));s=s.next}while(l);oc=!1}}function Sh(){pm()}function pm(){Xn=cc=!1;var e=0;Va!==0&&(Oh()&&(e=Va),Va=0);for(var a=Rt(),l=null,s=Qn;s!==null;){var n=s.next,i=gm(s,a);i===0?(s.next=null,l===null?Qn=n:l.next=n,n===null&&(Tl=l)):(l=s,(e!==0||(i&3)!==0)&&(Xn=!0)),s=n}Ss(e)}function gm(e,a){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var m=31-ut(i),j=1<<m,D=n[m];D===-1?((j&l)===0||(j&s)!==0)&&(n[m]=Fx(j,a)):D<=a&&(e.expiredLanes|=j),i&=~j}if(a=Te,l=je,l=Fs(e,e===a?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===a&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ji(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Gl(e,l)){if(a=l&-l,a===e.callbackPriority)return a;switch(s!==null&&ji(s),ki(l)){case 2:case 8:l=ro;break;case 32:l=Zs;break;case 268435456:l=co;break;default:l=Zs}return s=bm.bind(null,e),l=vi(l,s),e.callbackPriority=a,e.callbackNode=l,a}return s!==null&&s!==null&&ji(s),e.callbackPriority=2,e.callbackNode=null,2}function bm(e,a){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Yn()&&e.callbackNode!==l)return null;var s=je;return s=Fs(e,e===Te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(em(e,s,a),gm(e,Rt()),e.callbackNode!=null&&e.callbackNode===l?bm.bind(null,e):null)}function ym(e,a){if(Yn())return null;em(e,a,!0)}function Ch(){Hh(function(){(ke&6)!==0?vi(io,Sh):pm()})}function dc(){return Va===0&&(Va=oo()),Va}function vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tn(""+e)}function jm(e,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,e.id&&l.setAttribute("form",e.id),a.parentNode.insertBefore(l,a),e=new FormData(e),l.parentNode.removeChild(l),e}function Mh(e,a,l,s,n){if(a==="submit"&&l&&l.stateNode===n){var i=vm((n[nt]||null).action),m=s.submitter;m&&(a=(a=m[nt]||null)?vm(a.formAction):m.getAttribute("formAction"),a!==null&&(i=a,m=null));var j=new nn("action","action",null,s,n);e.push({event:j,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Va!==0){var D=m?jm(n,m):new FormData(n);_r(l,{pending:!0,data:D,method:n.method,action:i},null,D)}}else typeof i=="function"&&(j.preventDefault(),D=m?jm(n,m):new FormData(n),_r(l,{pending:!0,data:D,method:n.method,action:i},i,D))},currentTarget:n}]})}}for(var uc=0;uc<Ji.length;uc++){var mc=Ji[uc],Eh=mc.toLowerCase(),Ah=mc[0].toUpperCase()+mc.slice(1);Et(Eh,"on"+Ah)}Et(ed,"onAnimationEnd"),Et(td,"onAnimationIteration"),Et(ad,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(Vf,"onTransitionRun"),Et(Zf,"onTransitionStart"),Et(Kf,"onTransitionCancel"),Et(ld,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function Nm(e,a){a=(a&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(a)for(var m=s.length-1;0<=m;m--){var j=s[m],D=j.instance,U=j.currentTarget;if(j=j.listener,D!==i&&n.isPropagationStopped())break e;i=j,n.currentTarget=U;try{i(n)}catch(K){Dn(K)}n.currentTarget=null,i=D}else for(m=0;m<s.length;m++){if(j=s[m],D=j.instance,U=j.currentTarget,j=j.listener,D!==i&&n.isPropagationStopped())break e;i=j,n.currentTarget=U;try{i(n)}catch(K){Dn(K)}n.currentTarget=null,i=D}}}}function ye(e,a){var l=a[Si];l===void 0&&(l=a[Si]=new Set);var s=e+"__bubble";l.has(s)||(wm(a,e,2,!1),l.add(s))}function xc(e,a,l){var s=0;a&&(s|=4),wm(l,e,s,a)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Vn]){e[Vn]=!0,po.forEach(function(l){l!=="selectionchange"&&(_h.has(l)||xc(l,!1,e),xc(l,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Vn]||(a[Vn]=!0,xc("selectionchange",!1,a))}}function wm(e,a,l,s){switch(Zm(a)){case 2:var n=l0;break;case 8:n=s0;break;default:n=Ec}l=n.bind(null,a,l,e),n=void 0,!Hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(a,l,{capture:!0,passive:n}):e.addEventListener(a,l,!0):n!==void 0?e.addEventListener(a,l,{passive:n}):e.addEventListener(a,l,!1)}function hc(e,a,l,s,n){var i=s;if((a&1)===0&&(a&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var j=s.stateNode.containerInfo;if(j===n)break;if(m===4)for(m=s.return;m!==null;){var D=m.tag;if((D===3||D===4)&&m.stateNode.containerInfo===n)return;m=m.return}for(;j!==null;){if(m=Wa(j),m===null)return;if(D=m.tag,D===5||D===6||D===26||D===27){s=i=m;continue e}j=j.parentNode}}s=s.return}_o(function(){var U=i,K=Oi(l),P=[];e:{var $=sd.get(e);if($!==void 0){var Q=nn,xe=e;switch(e){case"keypress":if(ln(l)===0)break e;case"keydown":case"keyup":Q=kf;break;case"focusin":xe="focus",Q=Ui;break;case"focusout":xe="blur",Q=Ui;break;case"beforeblur":case"afterblur":Q=Ui;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mf;break;case ed:case td:case ad:Q=hf;break;case ld:Q=Af;break;case"scroll":case"scrollend":Q=df;break;case"wheel":Q=Tf;break;case"copy":case"cut":case"paste":Q=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zo;break;case"toggle":case"beforetoggle":Q=Rf}var ue=(a&4)!==0,Ee=!ue&&(e==="scroll"||e==="scrollend"),q=ue?$!==null?$+"Capture":null:$;ue=[];for(var z=U,L;z!==null;){var F=z;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||q===null||(F=Xl(z,q),F!=null&&ue.push(Ms(z,F,L))),Ee)break;z=z.return}0<ue.length&&($=new Q($,xe,null,l,K),P.push({event:$,listeners:ue}))}}if((a&7)===0){e:{if($=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",$&&l!==Ri&&(xe=l.relatedTarget||l.fromElement)&&(Wa(xe)||xe[Pa]))break e;if((Q||$)&&($=K.window===K?K:($=K.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(xe=l.relatedTarget||l.toElement,Q=U,xe=xe?Wa(xe):null,xe!==null&&(Ee=x(xe),ue=xe.tag,xe!==Ee||ue!==5&&ue!==27&&ue!==6)&&(xe=null)):(Q=null,xe=U),Q!==xe)){if(ue=Ro,F="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ue=zo,F="onPointerLeave",q="onPointerEnter",z="pointer"),Ee=Q==null?$:Ql(Q),L=xe==null?$:Ql(xe),$=new ue(F,z+"leave",Q,l,K),$.target=Ee,$.relatedTarget=L,F=null,Wa(K)===U&&(ue=new ue(q,z+"enter",xe,l,K),ue.target=L,ue.relatedTarget=Ee,F=ue),Ee=F,Q&&xe)t:{for(ue=Q,q=xe,z=0,L=ue;L;L=Dl(L))z++;for(L=0,F=q;F;F=Dl(F))L++;for(;0<z-L;)ue=Dl(ue),z--;for(;0<L-z;)q=Dl(q),L--;for(;z--;){if(ue===q||q!==null&&ue===q.alternate)break t;ue=Dl(ue),q=Dl(q)}ue=null}else ue=null;Q!==null&&km(P,$,Q,ue,!1),xe!==null&&Ee!==null&&km(P,Ee,xe,ue,!0)}}e:{if($=U?Ql(U):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var se=Yo;else if(Go($))if(Qo)se=Yf;else{se=Gf;var ge=Uf}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?U&&Di(U.elementType)&&(se=Yo):se=$f;if(se&&(se=se(e,U))){$o(P,se,l,K);break e}ge&&ge(e,$,U),e==="focusout"&&U&&$.type==="number"&&U.memoizedProps.value!=null&&Ti($,"number",$.value)}switch(ge=U?Ql(U):window,e){case"focusin":(Go(ge)||ge.contentEditable==="true")&&(cl=ge,Vi=U,Il=null);break;case"focusout":Il=Vi=cl=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,Wo(P,l,K);break;case"selectionchange":if(Xf)break;case"keydown":case"keyup":Wo(P,l,K)}var oe;if($i)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else rl?Lo(e,l)&&(me="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(Ho&&l.locale!=="ko"&&(rl||me!=="onCompositionStart"?me==="onCompositionEnd"&&rl&&(oe=To()):(ia=K,qi="value"in ia?ia.value:ia.textContent,rl=!0)),ge=Zn(U,me),0<ge.length&&(me=new Oo(me,e,null,l,K),P.push({event:me,listeners:ge}),oe?me.data=oe:(oe=Uo(l),oe!==null&&(me.data=oe)))),(oe=zf?Hf(e,l):qf(e,l))&&(me=Zn(U,"onBeforeInput"),0<me.length&&(ge=new Oo("onBeforeInput","beforeinput",null,l,K),P.push({event:ge,listeners:me}),ge.data=oe)),Mh(P,e,U,l,K)}Nm(P,a)})}function Ms(e,a,l){return{instance:e,listener:a,currentTarget:l}}function Zn(e,a){for(var l=a+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Xl(e,l),n!=null&&s.unshift(Ms(e,n,i)),n=Xl(e,a),n!=null&&s.push(Ms(e,n,i))),e.tag===3)return s;e=e.return}return[]}function Dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function km(e,a,l,s,n){for(var i=a._reactName,m=[];l!==null&&l!==s;){var j=l,D=j.alternate,U=j.stateNode;if(j=j.tag,D!==null&&D===s)break;j!==5&&j!==26&&j!==27||U===null||(D=U,n?(U=Xl(l,i),U!=null&&m.unshift(Ms(l,U,D))):n||(U=Xl(l,i),U!=null&&m.push(Ms(l,U,D)))),l=l.return}m.length!==0&&e.push({event:a,listeners:m})}var Th=/\r\n?/g,Dh=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Dh,"")}function Cm(e,a){return a=Sm(a),Sm(e)===a}function Kn(){}function Me(e,a,l,s,n,i){switch(l){case"children":typeof s=="string"?a==="body"||a==="textarea"&&s===""||sl(e,s):(typeof s=="number"||typeof s=="bigint")&&a!=="body"&&sl(e,""+s);break;case"className":Ws(e,"class",s);break;case"tabIndex":Ws(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,l,s);break;case"style":Eo(e,s,i);break;case"data":if(a!=="object"){Ws(e,"data",s);break}case"src":case"href":if(s===""&&(a!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(a!=="input"&&Me(e,a,"name",n.name,n,null),Me(e,a,"formEncType",n.formEncType,n,null),Me(e,a,"formMethod",n.formMethod,n,null),Me(e,a,"formTarget",n.formTarget,n,null)):(Me(e,a,"encType",n.encType,n,null),Me(e,a,"method",n.method,n,null),Me(e,a,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=tn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Kn);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=tn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Ps(e,"popover",s);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ps(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cf.get(l)||l,Ps(e,l,s))}}function pc(e,a,l,s,n,i){switch(l){case"style":Eo(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof s=="string"?sl(e,s):(typeof s=="number"||typeof s=="bigint")&&sl(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),a=l.slice(2,n?l.length-7:void 0),i=e[nt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(a,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(a,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Ps(e,l,s)}}}function We(e,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var m=l[i];if(m!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Me(e,a,i,m,l,null)}}n&&Me(e,a,"srcSet",l.srcSet,l,null),s&&Me(e,a,"src",l.src,l,null);return;case"input":ye("invalid",e);var j=i=m=n=null,D=null,U=null;for(s in l)if(l.hasOwnProperty(s)){var K=l[s];if(K!=null)switch(s){case"name":n=K;break;case"type":m=K;break;case"checked":D=K;break;case"defaultChecked":U=K;break;case"value":i=K;break;case"defaultValue":j=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,a));break;default:Me(e,a,s,K,l,null)}}ko(e,i,j,D,U,m,n,!1),Is(e);return;case"select":ye("invalid",e),s=m=i=null;for(n in l)if(l.hasOwnProperty(n)&&(j=l[n],j!=null))switch(n){case"value":i=j;break;case"defaultValue":m=j;break;case"multiple":s=j;default:Me(e,a,n,j,l,null)}a=i,l=m,e.multiple=!!s,a!=null?ll(e,!!s,a,!1):l!=null&&ll(e,!!s,l,!0);return;case"textarea":ye("invalid",e),i=n=s=null;for(m in l)if(l.hasOwnProperty(m)&&(j=l[m],j!=null))switch(m){case"value":s=j;break;case"defaultValue":n=j;break;case"children":i=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:Me(e,a,m,j,l,null)}Co(e,s,n,i),Is(e);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Me(e,a,D,s,l,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<Cs.length;s++)ye(Cs[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(s=l[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Me(e,a,U,s,l,null)}return;default:if(Di(a)){for(K in l)l.hasOwnProperty(K)&&(s=l[K],s!==void 0&&pc(e,a,K,s,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(s=l[j],s!=null&&Me(e,a,j,s,l,null))}function Rh(e,a,l,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,m=null,j=null,D=null,U=null,K=null;for(Q in l){var P=l[Q];if(l.hasOwnProperty(Q)&&P!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=P;default:s.hasOwnProperty(Q)||Me(e,a,Q,null,s,P)}}for(var $ in s){var Q=s[$];if(P=l[$],s.hasOwnProperty($)&&(Q!=null||P!=null))switch($){case"type":i=Q;break;case"name":n=Q;break;case"checked":U=Q;break;case"defaultChecked":K=Q;break;case"value":m=Q;break;case"defaultValue":j=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,a));break;default:Q!==P&&Me(e,a,$,Q,s,P)}}_i(e,m,j,D,U,K,i,n);return;case"select":Q=m=j=$=null;for(i in l)if(D=l[i],l.hasOwnProperty(i)&&D!=null)switch(i){case"value":break;case"multiple":Q=D;default:s.hasOwnProperty(i)||Me(e,a,i,null,s,D)}for(n in s)if(i=s[n],D=l[n],s.hasOwnProperty(n)&&(i!=null||D!=null))switch(n){case"value":$=i;break;case"defaultValue":j=i;break;case"multiple":m=i;default:i!==D&&Me(e,a,n,i,s,D)}a=j,l=m,s=Q,$!=null?ll(e,!!l,$,!1):!!s!=!!l&&(a!=null?ll(e,!!l,a,!0):ll(e,!!l,l?[]:"",!1));return;case"textarea":Q=$=null;for(j in l)if(n=l[j],l.hasOwnProperty(j)&&n!=null&&!s.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Me(e,a,j,null,s,n)}for(m in s)if(n=s[m],i=l[m],s.hasOwnProperty(m)&&(n!=null||i!=null))switch(m){case"value":$=n;break;case"defaultValue":Q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Me(e,a,m,n,s,i)}So(e,$,Q);return;case"option":for(var xe in l)if($=l[xe],l.hasOwnProperty(xe)&&$!=null&&!s.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Me(e,a,xe,null,s,$)}for(D in s)if($=s[D],Q=l[D],s.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Me(e,a,D,$,s,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)$=l[ue],l.hasOwnProperty(ue)&&$!=null&&!s.hasOwnProperty(ue)&&Me(e,a,ue,null,s,$);for(U in s)if($=s[U],Q=l[U],s.hasOwnProperty(U)&&$!==Q&&($!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,a));break;default:Me(e,a,U,$,s,Q)}return;default:if(Di(a)){for(var Ee in l)$=l[Ee],l.hasOwnProperty(Ee)&&$!==void 0&&!s.hasOwnProperty(Ee)&&pc(e,a,Ee,void 0,s,$);for(K in s)$=s[K],Q=l[K],!s.hasOwnProperty(K)||$===Q||$===void 0&&Q===void 0||pc(e,a,K,$,s,Q);return}}for(var q in l)$=l[q],l.hasOwnProperty(q)&&$!=null&&!s.hasOwnProperty(q)&&Me(e,a,q,null,s,$);for(P in s)$=s[P],Q=l[P],!s.hasOwnProperty(P)||$===Q||$==null&&Q==null||Me(e,a,P,$,s,Q)}var gc=null,bc=null;function Jn(e){return e.nodeType===9?e:e.ownerDocument}function Mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Em(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function yc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vc=null;function Oh(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Am=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(qh)}:Am;function qh(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function Tm(e,a){var l=a,s=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<s&&8>s){l=s;var m=e.ownerDocument;if(l&1&&Es(m.documentElement),l&2&&Es(m.body),l&4)for(l=m.head,Es(l),m=l.firstChild;m;){var j=m.nextSibling,D=m.nodeName;m[Yl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=j}}if(n===0){e.removeChild(i),Hs(a);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:s=l.charCodeAt(0)-48;else s=0;l=i}while(l);Hs(a)}function jc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jc(l),Ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Bh(e,a,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Yl])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=_t(e.nextSibling),e===null)break}return null}function Lh(e,a,l){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=_t(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Uh(e,a){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")a();else{var s=function(){a(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function _t(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var wc=null;function Dm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return e;a--}else l==="/$"&&a++}e=e.previousSibling}return null}function Rm(e,a,l){switch(a=Jn(l),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Es(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ci(e)}var Mt=new Map,Om=new Set;function Fn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ea=Y.d;Y.d={f:Gh,r:$h,D:Yh,C:Qh,L:Xh,m:Vh,X:Kh,S:Zh,M:Jh};function Gh(){var e=ea.f(),a=Gn();return e||a}function $h(e){var a=Ia(e);a!==null&&a.tag===5&&a.type==="form"?eu(a):ea.r(e)}var Rl=typeof document>"u"?null:document;function zm(e,a,l){var s=Rl;if(s&&typeof a=="string"&&a){var n=vt(a);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Om.has(n)||(Om.add(n),e={rel:e,crossOrigin:l,href:a},s.querySelector(n)===null&&(a=s.createElement("link"),We(a,"link",e),Ve(a),s.head.appendChild(a)))}}function Yh(e){ea.D(e),zm("dns-prefetch",e,null)}function Qh(e,a){ea.C(e,a),zm("preconnect",e,a)}function Xh(e,a,l){ea.L(e,a,l);var s=Rl;if(s&&e&&a){var n='link[rel="preload"][as="'+vt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+vt(l.imageSizes)+'"]')):n+='[href="'+vt(e)+'"]';var i=n;switch(a){case"style":i=Ol(e);break;case"script":i=zl(e)}Mt.has(i)||(e=C({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:e,as:a},l),Mt.set(i,e),s.querySelector(n)!==null||a==="style"&&s.querySelector(As(i))||a==="script"&&s.querySelector(_s(i))||(a=s.createElement("link"),We(a,"link",e),Ve(a),s.head.appendChild(a)))}}function Vh(e,a){ea.m(e,a);var l=Rl;if(l&&e){var s=a&&typeof a.as=="string"?a.as:"script",n='link[rel="modulepreload"][as="'+vt(s)+'"][href="'+vt(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zl(e)}if(!Mt.has(i)&&(e=C({rel:"modulepreload",href:e},a),Mt.set(i,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_s(i)))return}s=l.createElement("link"),We(s,"link",e),Ve(s),l.head.appendChild(s)}}}function Zh(e,a,l){ea.S(e,a,l);var s=Rl;if(s&&e){var n=el(s).hoistableStyles,i=Ol(e);a=a||"default";var m=n.get(i);if(!m){var j={loading:0,preload:null};if(m=s.querySelector(As(i)))j.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":a},l),(l=Mt.get(i))&&kc(e,l);var D=m=s.createElement("link");Ve(D),We(D,"link",e),D._p=new Promise(function(U,K){D.onload=U,D.onerror=K}),D.addEventListener("load",function(){j.loading|=1}),D.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Pn(m,a,s)}m={type:"stylesheet",instance:m,count:1,state:j},n.set(i,m)}}}function Kh(e,a){ea.X(e,a);var l=Rl;if(l&&e){var s=el(l).hoistableScripts,n=zl(e),i=s.get(n);i||(i=l.querySelector(_s(n)),i||(e=C({src:e,async:!0},a),(a=Mt.get(n))&&Sc(e,a),i=l.createElement("script"),Ve(i),We(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Jh(e,a){ea.M(e,a);var l=Rl;if(l&&e){var s=el(l).hoistableScripts,n=zl(e),i=s.get(n);i||(i=l.querySelector(_s(n)),i||(e=C({src:e,async:!0,type:"module"},a),(a=Mt.get(n))&&Sc(e,a),i=l.createElement("script"),Ve(i),We(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Hm(e,a,l,s){var n=(n=re.current)?Fn(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ol(l.href),l=el(n).hoistableStyles,s=l.get(a),s||(s={type:"style",instance:null,count:0,state:null},l.set(a,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ol(l.href);var i=el(n).hoistableStyles,m=i.get(e);if(m||(n=n.ownerDocument||n,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,m),(i=n.querySelector(As(e)))&&!i._p&&(m.instance=i,m.state.loading=5),Mt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Mt.set(e,l),i||Fh(n,e,l,m.state))),a&&s===null)throw Error(o(528,""));return m}if(a&&s!==null)throw Error(o(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zl(l),l=el(n).hoistableScripts,s=l.get(a),s||(s={type:"script",instance:null,count:0,state:null},l.set(a,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ol(e){return'href="'+vt(e)+'"'}function As(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Fh(e,a,l,s){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?s.loading=1:(a=e.createElement("link"),s.preload=a,a.addEventListener("load",function(){return s.loading|=1}),a.addEventListener("error",function(){return s.loading|=2}),We(a,"link",l),Ve(a),e.head.appendChild(a))}function zl(e){return'[src="'+vt(e)+'"]'}function _s(e){return"script[async]"+e}function Bm(e,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var s=e.querySelector('style[data-href~="'+vt(l.href)+'"]');if(s)return a.instance=s,Ve(s),s;var n=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ve(s),We(s,"style",n),Pn(s,l.precedence,e),a.instance=s;case"stylesheet":n=Ol(l.href);var i=e.querySelector(As(n));if(i)return a.state.loading|=4,a.instance=i,Ve(i),i;s=qm(l),(n=Mt.get(n))&&kc(s,n),i=(e.ownerDocument||e).createElement("link"),Ve(i);var m=i;return m._p=new Promise(function(j,D){m.onload=j,m.onerror=D}),We(i,"link",s),a.state.loading|=4,Pn(i,l.precedence,e),a.instance=i;case"script":return i=zl(l.src),(n=e.querySelector(_s(i)))?(a.instance=n,Ve(n),n):(s=l,(n=Mt.get(i))&&(s=C({},l),Sc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ve(n),We(n,"link",s),e.head.appendChild(n),a.instance=n);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(s=a.instance,a.state.loading|=4,Pn(s,l.precedence,e));return a.instance}function Pn(e,a,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,m=0;m<s.length;m++){var j=s[m];if(j.dataset.precedence===a)i=j;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(e,a.firstChild))}function kc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Sc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Wn=null;function Lm(e,a,l){if(Wn===null){var s=new Map,n=Wn=new Map;n.set(l,s)}else n=Wn,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Yl]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var m=i.getAttribute(a)||"";m=e+m;var j=s.get(m);j?j.push(i):s.set(m,[i])}}return s}function Um(e,a,l){e=e.ownerDocument||e,e.head.insertBefore(l,a==="title"?e.querySelector("head > title"):null)}function Ph(e,a,l){if(l===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ts=null;function Wh(){}function Ih(e,a,l){if(Ts===null)throw Error(o(475));var s=Ts;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Ol(l.href),i=e.querySelector(As(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=In.bind(s),e.then(s,s)),a.state.loading|=4,a.instance=i,Ve(i);return}i=e.ownerDocument||e,l=qm(l),(n=Mt.get(n))&&kc(l,n),i=i.createElement("link"),Ve(i);var m=i;m._p=new Promise(function(j,D){m.onload=j,m.onerror=D}),We(i,"link",l),a.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(s.count++,a=In.bind(s),e.addEventListener("load",a),e.addEventListener("error",a))}}function e0(){if(Ts===null)throw Error(o(475));var e=Ts;return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count?function(a){var l=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l)}}:null}function In(){if(this.count--,this.count===0){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ei=null;function Cc(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ei=new Map,a.forEach(t0,e),ei=null,In.call(e))}function t0(e,a){if(!(a.state.loading&4)){var l=ei.get(e);if(l)var s=l.get(null);else{l=new Map,ei.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var m=n[i];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),s=m)}s&&l.set(null,s)}n=a.instance,m=n.getAttribute("data-precedence"),i=l.get(m)||s,i===s&&l.set(null,n),l.set(m,n),this.count++,s=In.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),a.state.loading|=4}}var Ds={$$typeof:_,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function a0(e,a,l,s,n,i,m,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function $m(e,a,l,s,n,i,m,j,D,U,K,P){return e=new a0(e,a,l,m,j,D,U,P),a=1,i===!0&&(a|=24),i=xt(3,null,null,a),e.current=i,i.stateNode=e,a=rr(),a.refCount++,e.pooledCache=a,a.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:a},ur(i),e}function Ym(e){return e?(e=ml,e):ml}function Qm(e,a,l,s,n,i){n=Ym(n),s.context===null?s.context=n:s.pendingContext=n,s=oa(a),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=da(e,s,a),l!==null&&(bt(l,e,a),cs(l,e,a))}function Xm(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<a?l:a}}function Mc(e,a){Xm(e,a),(e=e.alternate)&&Xm(e,a)}function Vm(e){if(e.tag===13){var a=ul(e,67108864);a!==null&&bt(a,e,67108864),Mc(e,67108864)}}var ti=!0;function l0(e,a,l,s){var n=A.T;A.T=null;var i=Y.p;try{Y.p=2,Ec(e,a,l,s)}finally{Y.p=i,A.T=n}}function s0(e,a,l,s){var n=A.T;A.T=null;var i=Y.p;try{Y.p=8,Ec(e,a,l,s)}finally{Y.p=i,A.T=n}}function Ec(e,a,l,s){if(ti){var n=Ac(s);if(n===null)hc(e,a,s,ai,l),Km(e,s);else if(i0(n,e,a,l,s))s.stopPropagation();else if(Km(e,s),a&4&&-1<n0.indexOf(e)){for(;n!==null;){var i=Ia(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var m=Aa(i.pendingLanes);if(m!==0){var j=i;for(j.pendingLanes|=2,j.entangledLanes|=2;m;){var D=1<<31-ut(m);j.entanglements[1]|=D,m&=~D}Bt(i),(ke&6)===0&&(Ln=Rt()+500,Ss(0))}}break;case 13:j=ul(i,2),j!==null&&bt(j,i,2),Gn(),Mc(i,2)}if(i=Ac(s),i===null&&hc(e,a,s,ai,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else hc(e,a,s,null,l)}}function Ac(e){return e=Oi(e),_c(e)}var ai=null;function _c(e){if(ai=null,e=Wa(e),e!==null){var a=x(e);if(a===null)e=null;else{var l=a.tag;if(l===13){if(e=g(a),e!==null)return e;e=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return ai=e,null}function Zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yx()){case io:return 2;case ro:return 8;case Zs:case Qx:return 32;case co:return 268435456;default:return 32}default:return 32}}var Tc=!1,wa=null,ka=null,Sa=null,Rs=new Map,Os=new Map,Ca=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Km(e,a){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Rs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(a.pointerId)}}function zs(e,a,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:a,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},a!==null&&(a=Ia(a),a!==null&&Vm(a)),e):(e.eventSystemFlags|=s,a=e.targetContainers,n!==null&&a.indexOf(n)===-1&&a.push(n),e)}function i0(e,a,l,s,n){switch(a){case"focusin":return wa=zs(wa,e,a,l,s,n),!0;case"dragenter":return ka=zs(ka,e,a,l,s,n),!0;case"mouseover":return Sa=zs(Sa,e,a,l,s,n),!0;case"pointerover":var i=n.pointerId;return Rs.set(i,zs(Rs.get(i)||null,e,a,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Os.set(i,zs(Os.get(i)||null,e,a,l,s,n)),!0}return!1}function Jm(e){var a=Wa(e.target);if(a!==null){var l=x(a);if(l!==null){if(a=l.tag,a===13){if(a=g(l),a!==null){e.blockedOn=a,Wx(e.priority,function(){if(l.tag===13){var s=gt();s=wi(s);var n=ul(l,s);n!==null&&bt(n,l,s),Mc(l,s)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var l=Ac(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ri=s,l.target.dispatchEvent(s),Ri=null}else return a=Ia(l),a!==null&&Vm(a),e.blockedOn=l,!1;a.shift()}return!0}function Fm(e,a,l){li(e)&&l.delete(a)}function r0(){Tc=!1,wa!==null&&li(wa)&&(wa=null),ka!==null&&li(ka)&&(ka=null),Sa!==null&&li(Sa)&&(Sa=null),Rs.forEach(Fm),Os.forEach(Fm)}function si(e,a){e.blockedOn===a&&(e.blockedOn=null,Tc||(Tc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r0)))}var ni=null;function Pm(e){ni!==e&&(ni=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ni===e&&(ni=null);for(var a=0;a<e.length;a+=3){var l=e[a],s=e[a+1],n=e[a+2];if(typeof s!="function"){if(_c(s||l)===null)continue;break}var i=Ia(l);i!==null&&(e.splice(a,3),a-=3,_r(i,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Hs(e){function a(D){return si(D,e)}wa!==null&&si(wa,e),ka!==null&&si(ka,e),Sa!==null&&si(Sa,e),Rs.forEach(a),Os.forEach(a);for(var l=0;l<Ca.length;l++){var s=Ca[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)Jm(l),l.blockedOn===null&&Ca.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],i=l[s+1],m=n[nt]||null;if(typeof i=="function")m||Pm(l);else if(m){var j=null;if(i&&i.hasAttribute("formAction")){if(n=i,m=i[nt]||null)j=m.formAction;else if(_c(n)!==null)continue}else j=m.action;typeof j=="function"?l[s+1]=j:(l.splice(s,3),s-=3),Pm(l)}}}function Dc(e){this._internalRoot=e}ii.prototype.render=Dc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var l=a.current,s=gt();Qm(l,s,e,a,null,null)},ii.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Qm(e.current,2,null,e,null,null),Gn(),a[Pa]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var a=fo();e={blockedOn:null,target:e,priority:a};for(var l=0;l<Ca.length&&a!==0&&a<Ca[l].priority;l++);Ca.splice(l,0,e),l===0&&Jm(e)}};var Wm=c.version;if(Wm!=="19.1.1")throw Error(o(527,Wm,"19.1.1"));Y.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=N(a),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var c0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Ul=ri.inject(c0),dt=ri}catch{}}return Bs.createRoot=function(e,a){if(!u(e))throw Error(o(299));var l=!1,s="",n=fu,i=hu,m=pu,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=$m(e,1,!1,null,null,l,s,n,i,m,j,null),e[Pa]=a.current,fc(e),new Dc(a)},Bs.hydrateRoot=function(e,a,l){if(!u(e))throw Error(o(299));var s=!1,n="",i=fu,m=hu,j=pu,D=null,U=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(U=l.formState)),a=$m(e,1,!0,a,l??null,s,n,i,m,j,D,U),a.context=Ym(null),l=a.current,s=gt(),s=wi(s),n=oa(s),n.callback=null,da(l,n,s),l=s,a.current.lanes=l,$l(a,l),Bt(a),e[Pa]=a.current,fc(e),new ii(a)},Bs.version="19.1.1",Bs}var cx;function y0(){if(cx)return zc.exports;cx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),zc.exports=b0(),zc.exports}var v0=y0();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ox="popstate";function j0(r={}){function c(o,u){let{pathname:x,search:g,hash:b}=o.location;return Fc("",{pathname:x,search:g,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function d(o,u){return typeof u=="string"?u:Ys(u)}return w0(c,d,null,r)}function Oe(r,c){if(r===!1||r===null||typeof r>"u")throw new Error(c)}function Tt(r,c){if(!r){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function N0(){return Math.random().toString(36).substring(2,10)}function dx(r,c){return{usr:r.state,key:r.key,idx:c}}function Fc(r,c,d=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof c=="string"?ql(c):c,state:d,key:c&&c.key||o||N0()}}function Ys({pathname:r="/",search:c="",hash:d=""}){return c&&c!=="?"&&(r+=c.charAt(0)==="?"?c:"?"+c),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function ql(r){let c={};if(r){let d=r.indexOf("#");d>=0&&(c.hash=r.substring(d),r=r.substring(0,d));let o=r.indexOf("?");o>=0&&(c.search=r.substring(o),r=r.substring(0,o)),r&&(c.pathname=r)}return c}function w0(r,c,d,o={}){let{window:u=document.defaultView,v5Compat:x=!1}=o,g=u.history,b="POP",N=null,f=C();f==null&&(f=0,g.replaceState({...g.state,idx:f},""));function C(){return(g.state||{idx:null}).idx}function p(){b="POP";let h=C(),v=h==null?null:h-f;f=h,N&&N({action:b,location:E.location,delta:v})}function T(h,v){b="PUSH";let y=Fc(E.location,h,v);f=C()+1;let _=dx(y,f),M=E.createHref(y);try{g.pushState(_,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;u.location.assign(M)}x&&N&&N({action:b,location:E.location,delta:1})}function R(h,v){b="REPLACE";let y=Fc(E.location,h,v);f=C();let _=dx(y,f),M=E.createHref(y);g.replaceState(_,"",M),x&&N&&N({action:b,location:E.location,delta:0})}function k(h){return k0(h)}let E={get action(){return b},get location(){return r(u,g)},listen(h){if(N)throw new Error("A history only accepts one active listener");return u.addEventListener(ox,p),N=h,()=>{u.removeEventListener(ox,p),N=null}},createHref(h){return c(u,h)},createURL:k,encodeLocation(h){let v=k(h);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:T,replace:R,go(h){return g.go(h)}};return E}function k0(r,c=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(d,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:Ys(r);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=d+o),new URL(o,d)}function vx(r,c,d="/"){return S0(r,c,d,!1)}function S0(r,c,d,o){let u=typeof c=="string"?ql(c):c,x=aa(u.pathname||"/",d);if(x==null)return null;let g=jx(r);C0(g);let b=null;for(let N=0;b==null&&N<g.length;++N){let f=q0(x);b=z0(g[N],f,o)}return b}function jx(r,c=[],d=[],o="",u=!1){let x=(g,b,N=u,f)=>{let C={relativePath:f===void 0?g.path||"":f,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};if(C.relativePath.startsWith("/")){if(!C.relativePath.startsWith(o)&&N)return;Oe(C.relativePath.startsWith(o),`Absolute route path "${C.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(o.length)}let p=ta([o,C.relativePath]),T=d.concat(C);g.children&&g.children.length>0&&(Oe(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jx(g.children,c,T,p,N)),!(g.path==null&&!g.index)&&c.push({path:p,score:R0(p,g.index),routesMeta:T})};return r.forEach((g,b)=>{if(g.path===""||!g.path?.includes("?"))x(g,b);else for(let N of Nx(g.path))x(g,b,!0,N)}),c}function Nx(r){let c=r.split("/");if(c.length===0)return[];let[d,...o]=c,u=d.endsWith("?"),x=d.replace(/\?$/,"");if(o.length===0)return u?[x,""]:[x];let g=Nx(o.join("/")),b=[];return b.push(...g.map(N=>N===""?x:[x,N].join("/"))),u&&b.push(...g),b.map(N=>r.startsWith("/")&&N===""?"/":N)}function C0(r){r.sort((c,d)=>c.score!==d.score?d.score-c.score:O0(c.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}var M0=/^:[\w-]+$/,E0=3,A0=2,_0=1,T0=10,D0=-2,ux=r=>r==="*";function R0(r,c){let d=r.split("/"),o=d.length;return d.some(ux)&&(o+=D0),c&&(o+=A0),d.filter(u=>!ux(u)).reduce((u,x)=>u+(M0.test(x)?E0:x===""?_0:T0),o)}function O0(r,c){return r.length===c.length&&r.slice(0,-1).every((o,u)=>o===c[u])?r[r.length-1]-c[c.length-1]:0}function z0(r,c,d=!1){let{routesMeta:o}=r,u={},x="/",g=[];for(let b=0;b<o.length;++b){let N=o[b],f=b===o.length-1,C=x==="/"?c:c.slice(x.length)||"/",p=fi({path:N.relativePath,caseSensitive:N.caseSensitive,end:f},C),T=N.route;if(!p&&f&&d&&!o[o.length-1].route.index&&(p=fi({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},C)),!p)return null;Object.assign(u,p.params),g.push({params:u,pathname:ta([x,p.pathname]),pathnameBase:G0(ta([x,p.pathnameBase])),route:T}),p.pathnameBase!=="/"&&(x=ta([x,p.pathnameBase]))}return g}function fi(r,c){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,o]=H0(r.path,r.caseSensitive,r.end),u=c.match(d);if(!u)return null;let x=u[0],g=x.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:o.reduce((f,{paramName:C,isOptional:p},T)=>{if(C==="*"){let k=b[T]||"";g=x.slice(0,x.length-k.length).replace(/(.)\/+$/,"$1")}const R=b[T];return p&&!R?f[C]=void 0:f[C]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:x,pathnameBase:g,pattern:r}}function H0(r,c=!1,d=!0){Tt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,b,N)=>(o.push({paramName:b,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,c?void 0:"i"),o]}function q0(r){try{return r.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return Tt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),r}}function aa(r,c){if(c==="/")return r;if(!r.toLowerCase().startsWith(c.toLowerCase()))return null;let d=c.endsWith("/")?c.length-1:c.length,o=r.charAt(d);return o&&o!=="/"?null:r.slice(d)||"/"}function B0(r,c="/"){let{pathname:d,search:o="",hash:u=""}=typeof r=="string"?ql(r):r;return{pathname:d?d.startsWith("/")?d:L0(d,c):c,search:$0(o),hash:Y0(u)}}function L0(r,c){let d=c.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?d.length>1&&d.pop():u!=="."&&d.push(u)}),d.length>1?d.join("/"):"/"}function Lc(r,c,d,o){return`Cannot include a '${r}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U0(r){return r.filter((c,d)=>d===0||c.route.path&&c.route.path.length>0)}function Ic(r){let c=U0(r);return c.map((d,o)=>o===c.length-1?d.pathname:d.pathnameBase)}function eo(r,c,d,o=!1){let u;typeof r=="string"?u=ql(r):(u={...r},Oe(!u.pathname||!u.pathname.includes("?"),Lc("?","pathname","search",u)),Oe(!u.pathname||!u.pathname.includes("#"),Lc("#","pathname","hash",u)),Oe(!u.search||!u.search.includes("#"),Lc("#","search","hash",u)));let x=r===""||u.pathname==="",g=x?"/":u.pathname,b;if(g==null)b=d;else{let p=c.length-1;if(!o&&g.startsWith("..")){let T=g.split("/");for(;T[0]==="..";)T.shift(),p-=1;u.pathname=T.join("/")}b=p>=0?c[p]:"/"}let N=B0(u,b),f=g&&g!=="/"&&g.endsWith("/"),C=(x||g===".")&&d.endsWith("/");return!N.pathname.endsWith("/")&&(f||C)&&(N.pathname+="/"),N}var ta=r=>r.join("/").replace(/\/\/+/g,"/"),G0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Q0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var X0=["GET",...wx];new Set(X0);var Bl=S.createContext(null);Bl.displayName="DataRouter";var pi=S.createContext(null);pi.displayName="DataRouterState";S.createContext(!1);var kx=S.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var V0=S.createContext(new Map);V0.displayName="Fetchers";var Z0=S.createContext(null);Z0.displayName="Await";var Dt=S.createContext(null);Dt.displayName="Navigation";var Qs=S.createContext(null);Qs.displayName="Location";var Lt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Lt.displayName="Route";var to=S.createContext(null);to.displayName="RouteError";function K0(r,{relative:c}={}){Oe(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:o}=S.useContext(Dt),{hash:u,pathname:x,search:g}=Xs(r,{relative:c}),b=x;return d!=="/"&&(b=x==="/"?d:ta([d,x])),o.createHref({pathname:b,search:g,hash:u})}function Ll(){return S.useContext(Qs)!=null}function Ea(){return Oe(Ll(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Qs).location}var Sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cx(r){S.useContext(Dt).static||S.useLayoutEffect(r)}function Ge(){let{isDataRoute:r}=S.useContext(Lt);return r?rp():J0()}function J0(){Oe(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Bl),{basename:c,navigator:d}=S.useContext(Dt),{matches:o}=S.useContext(Lt),{pathname:u}=Ea(),x=JSON.stringify(Ic(o)),g=S.useRef(!1);return Cx(()=>{g.current=!0}),S.useCallback((N,f={})=>{if(Tt(g.current,Sx),!g.current)return;if(typeof N=="number"){d.go(N);return}let C=eo(N,JSON.parse(x),u,f.relative==="path");r==null&&c!=="/"&&(C.pathname=C.pathname==="/"?c:ta([c,C.pathname])),(f.replace?d.replace:d.push)(C,f.state,f)},[c,d,x,u,r])}S.createContext(null);function Xs(r,{relative:c}={}){let{matches:d}=S.useContext(Lt),{pathname:o}=Ea(),u=JSON.stringify(Ic(d));return S.useMemo(()=>eo(r,JSON.parse(u),o,c==="path"),[r,u,o,c])}function F0(r,c){return Mx(r,c)}function Mx(r,c,d,o,u){Oe(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=S.useContext(Dt),{matches:g}=S.useContext(Lt),b=g[g.length-1],N=b?b.params:{},f=b?b.pathname:"/",C=b?b.pathnameBase:"/",p=b&&b.route;{let y=p&&p.path||"";Ex(f,!p||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let T=Ea(),R;if(c){let y=typeof c=="string"?ql(c):c;Oe(C==="/"||y.pathname?.startsWith(C),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${C}" but pathname "${y.pathname}" was given in the \`location\` prop.`),R=y}else R=T;let k=R.pathname||"/",E=k;if(C!=="/"){let y=C.replace(/^\//,"").split("/");E="/"+k.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=vx(r,{pathname:E});Tt(p||h!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Tt(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=tp(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},N,y.params),pathname:ta([C,x.encodeLocation?x.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?C:ta([C,x.encodeLocation?x.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),g,d,o,u);return c&&v?S.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},v):v}function P0(){let r=ip(),c=Q0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},x={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",r),g=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:x},"ErrorBoundary")," or"," ",S.createElement("code",{style:x},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},c),d?S.createElement("pre",{style:u},d):null,g)}var W0=S.createElement(P0,null),I0=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,c){return c.location!==r.location||c.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:c.error,location:c.location,revalidation:r.revalidation||c.revalidation}}componentDidCatch(r,c){this.props.unstable_onError?this.props.unstable_onError(r,c):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?S.createElement(Lt.Provider,{value:this.props.routeContext},S.createElement(to.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ep({routeContext:r,match:c,children:d}){let o=S.useContext(Bl);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),S.createElement(Lt.Provider,{value:r},d)}function tp(r,c=[],d=null,o=null,u=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(c.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let x=r,g=d?.errors;if(g!=null){let f=x.findIndex(C=>C.route.id&&g?.[C.route.id]!==void 0);Oe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),x=x.slice(0,Math.min(x.length,f+1))}let b=!1,N=-1;if(d)for(let f=0;f<x.length;f++){let C=x[f];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(N=f),C.route.id){let{loaderData:p,errors:T}=d,R=C.route.loader&&!p.hasOwnProperty(C.route.id)&&(!T||T[C.route.id]===void 0);if(C.route.lazy||R){b=!0,N>=0?x=x.slice(0,N+1):x=[x[0]];break}}}return x.reduceRight((f,C,p)=>{let T,R=!1,k=null,E=null;d&&(T=g&&C.route.id?g[C.route.id]:void 0,k=C.route.errorElement||W0,b&&(N<0&&p===0?(Ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,E=null):N===p&&(R=!0,E=C.route.hydrateFallbackElement||null)));let h=c.concat(x.slice(0,p+1)),v=()=>{let y;return T?y=k:R?y=E:C.route.Component?y=S.createElement(C.route.Component,null):C.route.element?y=C.route.element:y=f,S.createElement(ep,{match:C,routeContext:{outlet:f,matches:h,isDataRoute:d!=null},children:y})};return d&&(C.route.ErrorBoundary||C.route.errorElement||p===0)?S.createElement(I0,{location:d.location,revalidation:d.revalidation,component:k,error:T,children:v(),routeContext:{outlet:null,matches:h,isDataRoute:!0},unstable_onError:o}):v()},null)}function ao(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ap(r){let c=S.useContext(Bl);return Oe(c,ao(r)),c}function lp(r){let c=S.useContext(pi);return Oe(c,ao(r)),c}function sp(r){let c=S.useContext(Lt);return Oe(c,ao(r)),c}function lo(r){let c=sp(r),d=c.matches[c.matches.length-1];return Oe(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function np(){return lo("useRouteId")}function ip(){let r=S.useContext(to),c=lp("useRouteError"),d=lo("useRouteError");return r!==void 0?r:c.errors?.[d]}function rp(){let{router:r}=ap("useNavigate"),c=lo("useNavigate"),d=S.useRef(!1);return Cx(()=>{d.current=!0}),S.useCallback(async(u,x={})=>{Tt(d.current,Sx),d.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:c,...x}))},[r,c])}var mx={};function Ex(r,c,d){!c&&!mx[r]&&(mx[r]=!0,Tt(!1,d))}S.memo(cp);function cp({routes:r,future:c,state:d,unstable_onError:o}){return Mx(r,void 0,d,o,c)}function op({to:r,replace:c,state:d,relative:o}){Oe(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=S.useContext(Dt);Tt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=S.useContext(Lt),{pathname:g}=Ea(),b=Ge(),N=eo(r,Ic(x),g,o==="path"),f=JSON.stringify(N);return S.useEffect(()=>{b(JSON.parse(f),{replace:c,state:d,relative:o})},[b,f,o,c,d]),null}function ve(r){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dp({basename:r="/",children:c=null,location:d,navigationType:o="POP",navigator:u,static:x=!1}){Oe(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),b=S.useMemo(()=>({basename:g,navigator:u,static:x,future:{}}),[g,u,x]);typeof d=="string"&&(d=ql(d));let{pathname:N="/",search:f="",hash:C="",state:p=null,key:T="default"}=d,R=S.useMemo(()=>{let k=aa(N,g);return k==null?null:{location:{pathname:k,search:f,hash:C,state:p,key:T},navigationType:o}},[g,N,f,C,p,T,o]);return Tt(R!=null,`<Router basename="${g}"> is not able to match the URL "${N}${f}${C}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:S.createElement(Dt.Provider,{value:b},S.createElement(Qs.Provider,{children:c,value:R}))}function up({children:r,location:c}){return F0(Pc(r),c)}function Pc(r,c=[]){let d=[];return S.Children.forEach(r,(o,u)=>{if(!S.isValidElement(o))return;let x=[...c,u];if(o.type===S.Fragment){d.push.apply(d,Pc(o.props.children,x));return}Oe(o.type===ve,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||x.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Pc(o.props.children,x)),d.push(g)}),d}var mi="get",xi="application/x-www-form-urlencoded";function gi(r){return r!=null&&typeof r.tagName=="string"}function mp(r){return gi(r)&&r.tagName.toLowerCase()==="button"}function xp(r){return gi(r)&&r.tagName.toLowerCase()==="form"}function fp(r){return gi(r)&&r.tagName.toLowerCase()==="input"}function hp(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pp(r,c){return r.button===0&&(!c||c==="_self")&&!hp(r)}var ci=null;function gp(){if(ci===null)try{new FormData(document.createElement("form"),0),ci=!1}catch{ci=!0}return ci}var bp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uc(r){return r!=null&&!bp.has(r)?(Tt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xi}"`),null):r}function yp(r,c){let d,o,u,x,g;if(xp(r)){let b=r.getAttribute("action");o=b?aa(b,c):null,d=r.getAttribute("method")||mi,u=Uc(r.getAttribute("enctype"))||xi,x=new FormData(r)}else if(mp(r)||fp(r)&&(r.type==="submit"||r.type==="image")){let b=r.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=r.getAttribute("formaction")||b.getAttribute("action");if(o=N?aa(N,c):null,d=r.getAttribute("formmethod")||b.getAttribute("method")||mi,u=Uc(r.getAttribute("formenctype"))||Uc(b.getAttribute("enctype"))||xi,x=new FormData(b,r),!gp()){let{name:f,type:C,value:p}=r;if(C==="image"){let T=f?`${f}.`:"";x.append(`${T}x`,"0"),x.append(`${T}y`,"0")}else f&&x.append(f,p)}}else{if(gi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=mi,o=null,u=xi,g=r}return x&&u==="text/plain"&&(g=x,x=void 0),{action:o,method:d.toLowerCase(),encType:u,formData:x,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function so(r,c){if(r===!1||r===null||typeof r>"u")throw new Error(c)}function vp(r,c,d){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${d}`:c&&aa(o.pathname,c)==="/"?o.pathname=`${c.replace(/\/$/,"")}/_root.${d}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${d}`,o}async function jp(r,c){if(r.id in c)return c[r.id];try{let d=await import(r.module);return c[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Np(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wp(r,c,d){let o=await Promise.all(r.map(async u=>{let x=c.routes[u.route.id];if(x){let g=await jp(x,d);return g.links?g.links():[]}return[]}));return Mp(o.flat(1).filter(Np).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function xx(r,c,d,o,u,x){let g=(N,f)=>d[f]?N.route.id!==d[f].route.id:!0,b=(N,f)=>d[f].pathname!==N.pathname||d[f].route.path?.endsWith("*")&&d[f].params["*"]!==N.params["*"];return x==="assets"?c.filter((N,f)=>g(N,f)||b(N,f)):x==="data"?c.filter((N,f)=>{let C=o.routes[N.route.id];if(!C||!C.hasLoader)return!1;if(g(N,f)||b(N,f))return!0;if(N.route.shouldRevalidate){let p=N.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function kp(r,c,{includeHydrateFallback:d}={}){return Sp(r.map(o=>{let u=c.routes[o.route.id];if(!u)return[];let x=[u.module];return u.clientActionModule&&(x=x.concat(u.clientActionModule)),u.clientLoaderModule&&(x=x.concat(u.clientLoaderModule)),d&&u.hydrateFallbackModule&&(x=x.concat(u.hydrateFallbackModule)),u.imports&&(x=x.concat(u.imports)),x}).flat(1))}function Sp(r){return[...new Set(r)]}function Cp(r){let c={},d=Object.keys(r).sort();for(let o of d)c[o]=r[o];return c}function Mp(r,c){let d=new Set;return new Set(c),r.reduce((o,u)=>{let x=JSON.stringify(Cp(u));return d.has(x)||(d.add(x),o.push({key:x,link:u})),o},[])}function Ax(){let r=S.useContext(Bl);return so(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ep(){let r=S.useContext(pi);return so(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var no=S.createContext(void 0);no.displayName="FrameworkContext";function _x(){let r=S.useContext(no);return so(r,"You must render this element inside a <HydratedRouter> element"),r}function Ap(r,c){let d=S.useContext(no),[o,u]=S.useState(!1),[x,g]=S.useState(!1),{onFocus:b,onBlur:N,onMouseEnter:f,onMouseLeave:C,onTouchStart:p}=c,T=S.useRef(null);S.useEffect(()=>{if(r==="render"&&g(!0),r==="viewport"){let E=v=>{v.forEach(y=>{g(y.isIntersecting)})},h=new IntersectionObserver(E,{threshold:.5});return T.current&&h.observe(T.current),()=>{h.disconnect()}}},[r]),S.useEffect(()=>{if(o){let E=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(E)}}},[o]);let R=()=>{u(!0)},k=()=>{u(!1),g(!1)};return d?r!=="intent"?[x,T,{}]:[x,T,{onFocus:Ls(b,R),onBlur:Ls(N,k),onMouseEnter:Ls(f,R),onMouseLeave:Ls(C,k),onTouchStart:Ls(p,R)}]:[!1,T,{}]}function Ls(r,c){return d=>{r&&r(d),d.defaultPrevented||c(d)}}function _p({page:r,...c}){let{router:d}=Ax(),o=S.useMemo(()=>vx(d.routes,r,d.basename),[d.routes,r,d.basename]);return o?S.createElement(Dp,{page:r,matches:o,...c}):null}function Tp(r){let{manifest:c,routeModules:d}=_x(),[o,u]=S.useState([]);return S.useEffect(()=>{let x=!1;return wp(r,c,d).then(g=>{x||u(g)}),()=>{x=!0}},[r,c,d]),o}function Dp({page:r,matches:c,...d}){let o=Ea(),{manifest:u,routeModules:x}=_x(),{basename:g}=Ax(),{loaderData:b,matches:N}=Ep(),f=S.useMemo(()=>xx(r,c,N,u,o,"data"),[r,c,N,u,o]),C=S.useMemo(()=>xx(r,c,N,u,o,"assets"),[r,c,N,u,o]),p=S.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let k=new Set,E=!1;if(c.forEach(v=>{let y=u.routes[v.route.id];!y||!y.hasLoader||(!f.some(_=>_.route.id===v.route.id)&&v.route.id in b&&x[v.route.id]?.shouldRevalidate||y.hasClientLoader?E=!0:k.add(v.route.id))}),k.size===0)return[];let h=vp(r,g,"data");return E&&k.size>0&&h.searchParams.set("_routes",c.filter(v=>k.has(v.route.id)).map(v=>v.route.id).join(",")),[h.pathname+h.search]},[g,b,o,u,f,c,r,x]),T=S.useMemo(()=>kp(C,u),[C,u]),R=Tp(C);return S.createElement(S.Fragment,null,p.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...d})),T.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...d})),R.map(({key:k,link:E})=>S.createElement("link",{key:k,nonce:d.nonce,...E})))}function Rp(...r){return c=>{r.forEach(d=>{typeof d=="function"?d(c):d!=null&&(d.current=c)})}}var Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tx&&(window.__reactRouterVersion="7.9.1")}catch{}function Op({basename:r,children:c,window:d}){let o=S.useRef();o.current==null&&(o.current=j0({window:d,v5Compat:!0}));let u=o.current,[x,g]=S.useState({action:u.action,location:u.location}),b=S.useCallback(N=>{S.startTransition(()=>g(N))},[g]);return S.useLayoutEffect(()=>u.listen(b),[u,b]),S.createElement(dp,{basename:r,children:c,location:x.location,navigationType:x.action,navigator:u})}var Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rx=S.forwardRef(function({onClick:c,discover:d="render",prefetch:o="none",relative:u,reloadDocument:x,replace:g,state:b,target:N,to:f,preventScrollReset:C,viewTransition:p,...T},R){let{basename:k}=S.useContext(Dt),E=typeof f=="string"&&Dx.test(f),h,v=!1;if(typeof f=="string"&&E&&(h=f,Tx))try{let ae=new URL(window.location.href),V=f.startsWith("//")?new URL(ae.protocol+f):new URL(f),ce=aa(V.pathname,k);V.origin===ae.origin&&ce!=null?f=ce+V.search+V.hash:v=!0}catch{Tt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=K0(f,{relative:u}),[_,M,w]=Ap(o,T),H=Bp(f,{replace:g,state:b,target:N,preventScrollReset:C,relative:u,viewTransition:p});function Z(ae){c&&c(ae),ae.defaultPrevented||H(ae)}let B=S.createElement("a",{...T,...w,href:h||y,onClick:v||x?c:Z,ref:Rp(R,M),target:N,"data-discover":!E&&d==="render"?"true":void 0});return _&&!E?S.createElement(S.Fragment,null,B,S.createElement(_p,{page:y})):B});Rx.displayName="Link";var zp=S.forwardRef(function({"aria-current":c="page",caseSensitive:d=!1,className:o="",end:u=!1,style:x,to:g,viewTransition:b,children:N,...f},C){let p=Xs(g,{relative:f.relative}),T=Ea(),R=S.useContext(pi),{navigator:k,basename:E}=S.useContext(Dt),h=R!=null&&Yp(p)&&b===!0,v=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,y=T.pathname,_=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;d||(y=y.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&E&&(_=aa(_,E)||_);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let w=y===v||!u&&y.startsWith(v)&&y.charAt(M)==="/",H=_!=null&&(_===v||!u&&_.startsWith(v)&&_.charAt(v.length)==="/"),Z={isActive:w,isPending:H,isTransitioning:h},B=w?c:void 0,ae;typeof o=="function"?ae=o(Z):ae=[o,w?"active":null,H?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let V=typeof x=="function"?x(Z):x;return S.createElement(Rx,{...f,"aria-current":B,className:ae,ref:C,style:V,to:g,viewTransition:b},typeof N=="function"?N(Z):N)});zp.displayName="NavLink";var Hp=S.forwardRef(({discover:r="render",fetcherKey:c,navigate:d,reloadDocument:o,replace:u,state:x,method:g=mi,action:b,onSubmit:N,relative:f,preventScrollReset:C,viewTransition:p,...T},R)=>{let k=Gp(),E=$p(b,{relative:f}),h=g.toLowerCase()==="get"?"get":"post",v=typeof b=="string"&&Dx.test(b),y=_=>{if(N&&N(_),_.defaultPrevented)return;_.preventDefault();let M=_.nativeEvent.submitter,w=M?.getAttribute("formmethod")||g;k(M||_.currentTarget,{fetcherKey:c,method:w,navigate:d,replace:u,state:x,relative:f,preventScrollReset:C,viewTransition:p})};return S.createElement("form",{ref:R,method:h,action:E,onSubmit:o?N:y,...T,"data-discover":!v&&r==="render"?"true":void 0})});Hp.displayName="Form";function qp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(r){let c=S.useContext(Bl);return Oe(c,qp(r)),c}function Bp(r,{target:c,replace:d,state:o,preventScrollReset:u,relative:x,viewTransition:g}={}){let b=Ge(),N=Ea(),f=Xs(r,{relative:x});return S.useCallback(C=>{if(pp(C,c)){C.preventDefault();let p=d!==void 0?d:Ys(N)===Ys(f);b(r,{replace:p,state:o,preventScrollReset:u,relative:x,viewTransition:g})}},[N,b,f,d,o,c,r,u,x,g])}var Lp=0,Up=()=>`__${String(++Lp)}__`;function Gp(){let{router:r}=Ox("useSubmit"),{basename:c}=S.useContext(Dt),d=np();return S.useCallback(async(o,u={})=>{let{action:x,method:g,encType:b,formData:N,body:f}=yp(o,c);if(u.navigate===!1){let C=u.fetcherKey||Up();await r.fetch(C,d,u.action||x,{preventScrollReset:u.preventScrollReset,formData:N,body:f,formMethod:u.method||g,formEncType:u.encType||b,flushSync:u.flushSync})}else await r.navigate(u.action||x,{preventScrollReset:u.preventScrollReset,formData:N,body:f,formMethod:u.method||g,formEncType:u.encType||b,replace:u.replace,state:u.state,fromRouteId:d,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,c,d])}function $p(r,{relative:c}={}){let{basename:d}=S.useContext(Dt),o=S.useContext(Lt);Oe(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),x={...Xs(r||".",{relative:c})},g=Ea();if(r==null){x.search=g.search;let b=new URLSearchParams(x.search),N=b.getAll("index");if(N.some(C=>C==="")){b.delete("index"),N.filter(p=>p).forEach(p=>b.append("index",p));let C=b.toString();x.search=C?`?${C}`:""}}return(!r||r===".")&&u.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(x.pathname=x.pathname==="/"?d:ta([d,x.pathname])),Ys(x)}function Yp(r,{relative:c}={}){let d=S.useContext(kx);Oe(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ox("useViewTransitionState"),u=Xs(r,{relative:c});if(!d.isTransitioning)return!1;let x=aa(d.currentLocation.pathname,o)||d.currentLocation.pathname,g=aa(d.nextLocation.pathname,o)||d.nextLocation.pathname;return fi(u.pathname,g)!=null||fi(u.pathname,x)!=null}const fx=r=>{let c;const d=new Set,o=(f,C)=>{const p=typeof f=="function"?f(c):f;if(!Object.is(p,c)){const T=c;c=C??(typeof p!="object"||p===null)?p:Object.assign({},c,p),d.forEach(R=>R(c,T))}},u=()=>c,b={setState:o,getState:u,getInitialState:()=>N,subscribe:f=>(d.add(f),()=>d.delete(f))},N=c=r(o,u,b);return b},Qp=(r=>r?fx(r):fx),Xp=r=>r;function Vp(r,c=Xp){const d=et.useSyncExternalStore(r.subscribe,et.useCallback(()=>c(r.getState()),[r,c]),et.useCallback(()=>c(r.getInitialState()),[r,c]));return et.useDebugValue(d),d}const hx=r=>{const c=Qp(r),d=o=>Vp(c,o);return Object.assign(d,c),d},Zp=(r=>r?hx(r):hx),Kp={id:"sakura",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:"  .    .",dialogues:{0:"...   ?",20:"  .",40:"    .",60:" ...  .",80:"     ...",100:"      ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Jp={id:"yuki",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:"  .    .",dialogues:{0:"... ...",20:" ...  ?",40:"   .",60:" ...   .",80:" ... ?",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Fp={id:"luna",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:" .      .",dialogues:{0:"!  ? !",20:"   !",40:"      .",60:"     .",80:"    .",100:"  .  ."},sprite:"",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Pp={id:"mystery",name:"???",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["",""],baseText:" .      .",dialogues:{0:"... ?",20:" .",40:"   .",60:" ...   ?",80:"...   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",unlockCondition:{day:10,totalAffection:150}},Wp={id:"akane",name:"",role:"",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[""," ",""],baseText:"  .   .",dialogues:{0:".   ?",20:"   .",40:"  ...   .",60:"      .",80:" ...    ...",100:"  ... ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},Ip={id:"hana",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[" ","",""],baseText:"   .   .",dialogues:{0:" ?    ?",20:"    .",40:"    .",60:"    .",80:"    .",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},eg={id:"rin",name:"",role:" ",affectionStart:0,affectionMax:100,likes:[""," "," "],dislikes:["  ","",""],baseText:"  .     .",dialogues:{0:"!   ?",20:"     !",40:"     .",60:"   .",80:" ...   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080"},tg={id:"mei",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:["","","  "],baseText:"   .   .",dialogues:{0:"...  ?",20:"  ?",40:"  .",60:"   .",80:"   .",100:"   ."},sprite:"",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},ag={id:"sora",name:"",role:" ",affectionStart:0,affectionMax:100,likes:["","",""],dislikes:[""," ",""],baseText:" .   .",dialogues:{0:"  .",20:"  .",40:"...    .",60:"     .",80:"    .",100:"    ."},sprite:"",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},Fa={sakura:Kp,yuki:Jp,luna:Fp,mystery:Pp,akane:Wp,hana:Ip,rin:eg,mei:tg,sora:ag},lg=[{id:"sakura_training",name:" ",trigger:{location:"training",character:"sakura",minAffection:20,chance:.5},description:"   .",choices:[{text:",  !",effects:{affection:{sakura:10},stats:{stamina:2},text:"    ."}},{text:"  ...",effects:{affection:{sakura:-5},text:"   ."}}]},{id:"yuki_library",name:" ",trigger:{location:"library",character:"yuki",minAffection:30,chance:.4},description:"    .",choices:[{text:" !",effects:{affection:{yuki:15},stats:{intelligence:3},text:"    ."}},{text:",   .",effects:{affection:{yuki:-3},text:"   ."}}]},{id:"luna_magic",name:" ",trigger:{location:"classroom",character:"luna",minAffection:15,chance:.6},description:"    .",choices:[{text:"!  !",effects:{affection:{luna:12},stats:{intelligence:2,charm:1},text:"   ."}},{text:"  ?",effects:{affection:{luna:5},text:"  ."}}]},{id:"random_exam",name:" ",trigger:{location:"classroom",minDay:5,chance:.2},description:"  !",choices:[{text:" ",condition:{minIntelligence:15},effects:{stats:{intelligence:2,charm:1},text:"  !  ."}},{text:" ",effects:{stats:{stamina:-1},text:" ..."}}]},{id:"confession_sakura",name:" ",trigger:{character:"sakura",minAffection:80,minDay:20,once:!0},description:"   ...",choices:[{text:" ",effects:{affection:{sakura:20},flag:"sakura_route",text:"  !"}},{text:",  ",effects:{affection:{sakura:-30},text:"    ."}}]},{id:"mystery_encounter",name:" ",trigger:{minDay:10,totalAffection:150,chance:.1,once:!0},description:"   ...",choices:[{text:"?",effects:{unlockCharacter:"mystery",text:"  !"}}]},{id:"sakura_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"sakura",minAffection:50,chance:.6},description:"       .    .",choices:[{text:"  ?",effects:{affection:{sakura:20},stats:{stamina:3,charm:2},text:"      .     ."}},{text:" ",effects:{affection:{sakura:15},stats:{charm:1},text:"   .    ."}},{text:"  ",effects:{text:"  ."}}]},{id:"yuki_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"yuki",minAffection:50,chance:.6},description:"      .       .",choices:[{text:"   ",effects:{affection:{yuki:20},stats:{intelligence:3,charm:2},text:"     .   ."}},{text:"  ",effects:{affection:{yuki:15},stats:{intelligence:2,charm:1},text:"     .    ."}},{text:"  ",effects:{affection:{yuki:5},text:"      ."}}]},{id:"luna_secret_garden",name:"   ",trigger:{location:"secretGarden",character:"luna",minAffection:50,chance:.6},description:"        .      .",choices:[{text:" ",condition:{minIntelligence:15},effects:{affection:{luna:25},stats:{intelligence:2,charm:3,luck:1},text:"     .       ."}},{text:" ",effects:{affection:{luna:15},stats:{charm:2},text:"    .     ."}},{text:" ",effects:{text:"      ."}}]},{id:"secret_garden_stargazing",name:"  ",trigger:{location:"secretGarden",time:"night",minAffection:30,chance:.4},description:"     ,   .",choices:[{text:"   ",effects:{stats:{charm:2,luck:1},text:"     ."}},{text:"  ",effects:{stats:{intelligence:2,charm:1},text:"     ."}}]},{id:"secret_garden_confession",name:"  ",trigger:{location:"secretGarden",minAffection:80,chance:.3,once:!0},description:"       .      .",choices:[{text:"  ",effects:{flag:"secret_garden_confession",text:"    .   ."}},{text:"    ",effects:{text:"  ,    ."}}]}],sg={events:lg},hi=Fa,ng=sg,ig=Object.keys(hi).reduce((r,c)=>(r[c]=hi[c].affectionStart||0,r),{}),oi={name:"",level:1,experience:0,hp:100,maxHp:100,mp:50,maxMp:50,stamina:100,maxStamina:100,stats:{intelligence:10,charm:10,strength:10,agility:10,luck:10},inventory:[],equipment:{},affection:ig,location:"classroom",day:1,timeOfDay:"morning",money:1e3,flags:{},dungeonProgress:{currentFloor:1,maxFloorReached:1,position:{x:0,y:0}},achievements:[],achievementPoints:0,statistics:{monstersDefeated:0,treasuresFound:0,quizStreak:0,bestCardTime:1/0,loginStreak:1},metHeroines:[],defeatedMonsterTypes:[],defeatedBosses:[],collectedItems:[],unlockedEndings:[],participatedEvents:[]},Gc=["morning","noon","afternoon","evening","night"],rg=30,de=Zp((r,c)=>({player:oi,unlockedCharacters:["sakura","yuki","luna","mystery","akane","hana","rin","mei","sora"],completedEvents:[],currentEvent:null,gameMessage:"  !",gameEnding:null,gameDate:{year:2024,month:4,day:1},lastActivity:null,dailyActivitiesCount:0,actions:{loadInitialGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const o=JSON.parse(d);r({player:o.player,unlockedCharacters:o.unlockedCharacters,completedEvents:o.completedEvents})}},saveGame:()=>{const{player:d,unlockedCharacters:o,completedEvents:u}=c(),x={player:d,unlockedCharacters:o,completedEvents:u,timestamp:Date.now(),version:"1.0.0"};localStorage.setItem("academyDatingSim",JSON.stringify(x)),r({gameMessage:" !"})},loadGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const o=JSON.parse(d);r({player:o.player,unlockedCharacters:o.unlockedCharacters,completedEvents:o.completedEvents,gameMessage:" !"})}else r({gameMessage:"  ."})},resetGame:d=>{const o={...oi,name:d?.playerName||oi.name,stats:d?.startingStats||{...oi.stats},affection:Object.keys(hi).reduce((u,x)=>(u[x]=hi[x].affectionStart||0,u),{})};r({player:o,unlockedCharacters:["sakura","yuki","luna","mystery","akane","hana","rin","mei","sora"],completedEvents:[],currentEvent:null,gameEnding:null,gameMessage:d?`${o.name}   !`:"  !",lastActivity:null}),localStorage.removeItem("academyDatingSim")},updateStats:d=>r(o=>({player:{...o.player,stats:{...o.player.stats,...d}}})),updateHpMp:(d,o)=>r(u=>({player:{...u.player,hp:Math.min(u.player.maxHp,u.player.hp+d),mp:Math.min(u.player.maxMp,u.player.mp+o)}})),updateAffection:(d,o)=>{r(u=>({player:{...u.player,affection:{...u.player.affection,[d]:Math.max(0,Math.min(100,(u.player.affection[d]||0)+o))}}})),o>0&&c().actions.gainExperience(o*2)},moveToLocation:d=>{r(o=>({player:{...o.player,location:d}})),c().actions.checkForEvents(d)},advanceTime:()=>{r(d=>{const u=Gc.indexOf(d.player.timeOfDay)+1;if(u>=Gc.length){const b=d.player.day+1;return b>rg?(c().actions.checkEnding(),{}):{player:{...d.player,day:b,timeOfDay:"morning",location:"dormitory",hp:Math.min(d.player.hp+20,d.player.maxHp),mp:Math.min(d.player.mp+10,d.player.maxMp),stamina:d.player.maxStamina},dailyActivitiesCount:0,gameMessage:"  .  ."}}const x=Gc[u],g=x==="night"&&d.player.location!=="dormitory";return{player:{...d.player,timeOfDay:x,location:g?"dormitory":d.player.location},gameMessage:g?"   .":d.gameMessage}})},checkForEvents:d=>{const{player:o,completedEvents:u}=c(),x=d||o.location,g=ng.events.filter(b=>!(b.trigger.location&&b.trigger.location!==x||b.trigger.once&&u.includes(b.id)||b.trigger.minDay&&o.day<b.trigger.minDay||b.trigger.character&&b.trigger.minAffection&&(o.affection[b.trigger.character]||0)<b.trigger.minAffection||b.trigger.totalAffection&&Object.values(o.affection).reduce((f,C)=>f+C,0)<b.trigger.totalAffection||b.trigger.chance&&Math.random()>b.trigger.chance));if(g.length>0){const b=g[Math.floor(Math.random()*g.length)];r({currentEvent:b})}},handleEventChoice:(d,o)=>{const u=d.choices[o],{player:x,actions:g}=c();if(u.condition?.minIntelligence&&x.stats.intelligence<u.condition.minIntelligence){r({gameMessage:" !"});return}u.effects.affection&&Object.entries(u.effects.affection).forEach(([b,N])=>g.updateAffection(b,N)),u.effects.stats&&g.updateStats(u.effects.stats),u.effects.item&&g.addItem(u.effects.item),u.effects.money&&r(b=>({player:{...b.player,money:b.player.money+u.effects.money}})),u.effects.flag&&r(b=>({player:{...b.player,flags:{...b.player.flags,[u.effects.flag]:!0}}})),u.effects.unlockCharacter&&r(b=>({unlockedCharacters:[...b.unlockedCharacters,u.effects.unlockCharacter]})),r({gameMessage:u.effects.text}),d.trigger.once&&r(b=>({completedEvents:[...b.completedEvents,d.id]})),r({currentEvent:null})},addItem:d=>r(o=>({player:{...o.player,inventory:[...o.player.inventory,d]}})),buyItem:d=>{c().actions.addItem(d)},updateMoney:d=>{r(o=>({player:{...o.player,money:o.player.money+d}}))},sellItem:(d,o)=>{const{player:u}=c(),x=u.inventory.indexOf(d);if(x>-1){const g=[...u.inventory];return g.splice(x,1),r(b=>({player:{...b.player,inventory:g,money:b.player.money+o}})),r({gameMessage:`${d}() .`}),!0}return r({gameMessage:"  ."}),!1},purchaseItem:(d,o)=>{const{player:u}=c();return u.money>=o?(r(x=>({player:{...x.player,inventory:[...x.player.inventory,d],money:x.player.money-o}})),!0):!1},useItem:(d,o)=>{const{player:u}=c(),x=u.inventory.indexOf(d);if(x===-1){r({gameMessage:"   ."});return}switch(d){case"healingPotion":if(u.hp>=u.maxHp){r({gameMessage:"HP  .    ."});return}break;case"manaPotion":if(u.mp>=u.maxMp){r({gameMessage:"MP  .    ."});return}break}const g=[...u.inventory];g.splice(x,1);let b={...u,inventory:g},N=`${d}() .`;switch(d){case"healingPotion":const f=Math.min(50,b.maxHp-b.hp);b.hp=Math.min(b.hp+50,b.maxHp),N=`  . HP +${f}`;break;case"manaPotion":const C=Math.min(30,b.maxMp-b.mp);b.mp=Math.min(b.mp+30,b.maxMp),N=`  . MP +${C}`;break;case"energyDrink":b.stats.stamina+=2,N="  .  +2";break;default:if(o){const p=d.includes("flower")?10:5;b.affection={...b.affection,[o]:Math.min((b.affection[o]||0)+p,100)},N=`${o} ${d}() .  +${p}`}break}r({player:b,gameMessage:N})},performActivity:(d,o)=>{const{player:u,dailyActivitiesCount:x}=c(),g=c().actions;if(x>=2&&![""," ",""," "].includes(d)){r({gameMessage:"     .    ."});return}const N={:20,:30,:15,:25,:10,:15,:10,:25,:5,:5,:0,:5," ":30}[d]||10;if(u.stamina<N&&d!==""){r({gameMessage:` . (: ${N}, : ${u.stamina})`});return}let f={...u},C="",p=!0;switch(d!==""&&(f.stamina=Math.max(0,f.stamina-N)),d){case"":f.stats.intelligence+=2,C=" .  +2",g.gainExperience(15);break;case"":f.stats.strength+=3,f.stats.agility+=1,C=" .  +3,  +1",g.gainExperience(20);break;case"":f.stats.charm+=2,f.stats.luck+=1,C=" .  +2,  +1",g.gainExperience(15);break;case"":f.money+=500,f.stats.strength+=1,C=" . 500 ,  +1",g.gainExperience(10);break;case"":f.mp=Math.min(f.mp+20,f.maxMp),f.stats.intelligence+=1,C=" . MP +20,  +1",g.gainExperience(10);break;case"":f.stats.charm+=1,f.stats.agility+=1,C=" .  +1,  +1",g.gainExperience(10);break;case"":f.stats.intelligence+=3,C=" .  +3",g.gainExperience(12);break;case"":f.stats.agility+=3,f.maxStamina=Math.min(f.maxStamina+2,200),C=" .  +3,   +2",g.gainExperience(15);break;case"":f.stats.luck+=2,C=" .  +2",g.gainExperience(5);break;case"":f.stats.charm+=1,f.hp=Math.min(f.hp+10,f.maxHp),C=" .  +1, HP +10",g.gainExperience(5);break;case"":f.hp=Math.min(f.hp+20,f.maxHp),f.mp=Math.min(f.mp+10,f.maxMp),f.stamina=Math.min(f.stamina+40,f.maxStamina),C=" . HP +20, MP +10,  +40";break;case"":if(o){r({gameMessage:" ..."}),o("/shopping");return}C=" .",p=!1;break;case" ":if(o){r({gameMessage:" ..."}),o("/dungeon");return}C="  .",p=!1;break;default:C=`${d}() .`;break}let T=x;["","","","","","","","","",""].includes(d)&&T++,r({player:f,gameMessage:C,lastActivity:d,dailyActivitiesCount:T}),p&&(g.advanceTime(),g.checkForEvents())},checkEnding:()=>{const{player:d}=c(),o=Object.entries(d.affection).reduce((u,[x,g])=>g>u.value?{char:x,value:g}:u,{char:"",value:0});o.value>=80?d.flags[`${o.char}_route`]?r({gameEnding:o.char}):r({gameEnding:"good"}):o.value>=50?r({gameEnding:"normal"}):r({gameEnding:"solo"})},setCurrentEvent:d=>r({currentEvent:d}),updatePlayer:d=>r(o=>({player:{...o.player,...d}})),goToNextFloor:()=>r(d=>{const o=d.player.dungeonProgress.currentFloor+1;return{player:{...d.player,dungeonProgress:{...d.player.dungeonProgress,currentFloor:o,maxFloorReached:Math.max(d.player.dungeonProgress.maxFloorReached,o),position:{x:1,y:1}}}}}),gainExperience:d=>r(o=>{let u=o.player.experience+d,x=o.player.level,g=!1;for(;u>=x*100;)u-=x*100,x++,g=!0;const b={...o.player,experience:u,level:x};return g&&(b.maxHp=100+(x-1)*10,b.maxMp=50+(x-1)*5,b.hp=b.maxHp,b.mp=b.maxMp,b.stats={...b.stats,intelligence:b.stats.intelligence+1,charm:b.stats.charm+1,strength:b.stats.strength+1,agility:b.stats.agility+1,luck:b.stats.luck+1},b.maxStamina=Math.min(b.maxStamina+5,200),b.stamina=b.maxStamina),{player:b,gameMessage:g?`! Lv.${x} ! HP/MP .   +1`:` ${d} . (${u}/${x*100})`}}),addGold:d=>r(o=>({player:{...o.player,money:o.player.money+d}})),clearLastActivity:()=>r({lastActivity:null})}})),zx=et.memo(()=>{const r=de(R=>R.player),c=Ge(),d=S.useCallback((R,k=20)=>{const E=R/k*100;return E>=75?"text-green-500":E>=50?"text-yellow-500":E>=25?"text-orange-500":"text-red-500"},[]),o=S.useCallback((R,k=20)=>Math.min(R/k*100,100),[]),u=S.useMemo(()=>({morning:"",noon:"",afternoon:"",evening:"",night:""}),[]),x=S.useCallback(R=>u[R]||R,[u]),g=S.useMemo(()=>({sakura:"",yuki:"",haruka:"",ayumi:"",miku:"",rina:"",luna:"",nova:"",aria:""}),[]),{currentHP:b,maxHP:N,currentMP:f,maxMP:C,hpPercentage:p,mpPercentage:T}=S.useMemo(()=>{const R=r.hp??100,k=r.maxHp??100,E=r.mp??50,h=r.maxMp??50;return{currentHP:R,maxHP:k,currentMP:E,maxMP:h,hpPercentage:R/k*100,mpPercentage:E/h*100}},[r.hp,r.maxHp,r.mp,r.maxMp]);return t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border text-text-primary p-6 mb-6",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-red-800/20 p-4 rounded-xl border border-red-500/30 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:""})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-lg font-bold text-red-400",children:""}),t.jsx("div",{className:"text-xs text-red-300",children:"Health Points"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-3xl font-bold text-red-400",children:b}),t.jsxs("span",{className:"text-red-300 text-xl",children:["/",N]}),t.jsxs("div",{className:"text-xs text-red-300",children:[Math.round(p),"%"]})]})]}),t.jsx("div",{className:"w-full bg-red-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":b,"aria-valuemin":0,"aria-valuemax":N,"aria-label":"",children:t.jsx("div",{className:"bg-gradient-to-r from-red-500 via-red-400 to-red-300 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${p}%`}})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/20 p-4 rounded-xl border border-blue-500/30 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:""})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-lg font-bold text-blue-400",children:""}),t.jsx("div",{className:"text-xs text-blue-300",children:"Magic Points"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-3xl font-bold text-blue-400",children:f}),t.jsxs("span",{className:"text-blue-300 text-xl",children:["/",C]}),t.jsxs("div",{className:"text-xs text-blue-300",children:[Math.round(T),"%"]})]})]}),t.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":C,"aria-label":"",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-400 to-cyan-400 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${T}%`}})})]})]})}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"text-xl font-bold text-pink-200",children:r.name}),t.jsxs("div",{className:"text-sm bg-purple-900/50 px-3 py-1 rounded-full",children:[" ",r.level,"  ",r.day,"  ",x(r.timeOfDay)]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-green-900/30 px-4 py-2 rounded-lg border border-green-500/30",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-400",children:""}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-green-300",children:""}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-green-950/50 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full transition-all duration-300",style:{width:`${r.stamina/r.maxStamina*100}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-green-400",children:[r.stamina,"/",r.maxStamina]})]})]})]})}),t.jsxs("div",{className:"flex items-center gap-2 bg-yellow-600/20 px-3 py-1 rounded-full",children:[t.jsx("span",{className:"text-yellow-300",children:""}),t.jsxs("span",{className:"font-semibold text-yellow-200",children:[r.money.toLocaleString(),""]})]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-purple-300",children:""}),t.jsxs("span",{className:"text-sm font-medium text-purple-200",children:[" (Lv.",r.level,")"]})]}),t.jsxs("span",{className:"font-bold text-purple-200",children:[r.experience,"/",r.level*100]})]}),t.jsx("div",{className:"w-full bg-purple-950/50 rounded-full h-2",role:"progressbar","aria-valuenow":r.experience,"aria-valuemin":0,"aria-valuemax":r.level*100,"aria-label":"",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${r.experience/(r.level*100)*100}%`}})})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mt-4",children:[t.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-blue-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-blue-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.intelligence)}`,children:r.stats.intelligence})]}),t.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.intelligence,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.intelligence,50)}%`}})})]}),t.jsxs("div",{className:"bg-pink-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-pink-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-pink-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.charm)}`,children:r.stats.charm})]}),t.jsx("div",{className:"w-full bg-pink-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.charm,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.charm,50)}%`}})})]}),t.jsxs("div",{className:"bg-green-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-green-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.stamina)}`,children:r.stats.stamina})]}),t.jsx("div",{className:"w-full bg-green-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.stamina,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.stamina,50)}%`}})})]}),t.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-orange-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-orange-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.strength)}`,children:r.stats.strength})]}),t.jsx("div",{className:"w-full bg-orange-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.strength,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.strength,50)}%`}})})]}),t.jsxs("div",{className:"bg-cyan-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-cyan-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-cyan-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.agility)}`,children:r.stats.agility})]}),t.jsx("div",{className:"w-full bg-cyan-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.agility,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.agility,50)}%`}})})]}),t.jsxs("div",{className:"bg-yellow-900/30 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-yellow-300",children:""}),t.jsx("span",{className:"text-xs font-medium text-yellow-200",children:""})]}),t.jsx("span",{className:`font-bold text-xs ${d(r.stats.luck)}`,children:r.stats.luck})]}),t.jsx("div",{className:"w-full bg-yellow-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.luck,"aria-valuemin":0,"aria-valuemax":50,"aria-label":" ",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${o(r.stats.luck,50)}%`}})})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-bold text-purple-300",children:" "}),t.jsx("button",{onClick:()=>c("/heroines"),className:"text-xs text-purple-400 hover:text-purple-300 transition-colors",children:"  "})]}),t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-2",children:Object.entries(r.affection).map(([R,k])=>{const E=g[R]||R,h=k>=80?"":k>=60?"":k>=40?"":k>=20?"":"";return t.jsx("button",{onClick:()=>c("/heroines"),className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 hover:from-purple-800/50 hover:to-pink-800/50 p-2 rounded-lg transition-all transform hover:scale-105 border border-purple-500/20 hover:border-purple-400/40",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg mb-1",children:h}),t.jsx("div",{className:"text-xs font-bold text-purple-200",children:E}),t.jsxs("div",{className:"text-xs text-purple-300",children:[k,"%"]}),t.jsx("div",{className:"mt-1",children:t.jsx("div",{className:"w-full bg-purple-950/50 rounded-full h-1",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-1 rounded-full transition-all duration-300",style:{width:`${k}%`}})})})]})},R)})})]})]})});zx.displayName="StatusBar";const cg=({currentLocation:r,player:c,onPerformActivity:d,onMoveToLocation:o,availableLocations:u,characters:x,onInteractCharacter:g})=>{const b=p=>({:"",:"",:"",:"",:"",:"",:""," ":"",:"",:"",:""," ":""})[p]||"",N=p=>({classroom:"",library:"",cafeteria:"",gym:"",garden:"",shopping:"",secret:""})[p]||"",f=p=>p.time!=="any"&&p.time!==c.timeOfDay?!1:p.name===""||p.name===""||p.name===""||p.name===""||p.name===" "?!0:c.stats.stamina>0,C=p=>p.unlockCondition?!(p.unlockCondition.item&&!c.inventory.includes(p.unlockCondition.item)||p.unlockCondition.flag&&!c.flags[p.unlockCondition.flag]):!0;return t.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-3xl",children:N(r.id)}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-secondary",children:r.name}),t.jsx("p",{className:"text-text-secondary text-sm",children:r.description})]})]}),t.jsxs("div",{className:"text-sm text-text-secondary italic",children:[c.timeOfDay==="morning"&&"   .",c.timeOfDay==="noon"&&"  .",c.timeOfDay==="afternoon"&&"    .",c.timeOfDay==="evening"&&"   .",c.timeOfDay==="night"&&"   ."]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:""}),""]}),r.activities.length>0?t.jsx("div",{className:"space-y-3",children:r.activities.map((p,T)=>{const R=f(p);return t.jsx("button",{onClick:()=>d(p.name),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xl",children:b(p.name)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:p.name}),t.jsx("div",{className:"text-xs text-purple-300",children:p.time!=="any"&&`${p.time} `})]})]}),t.jsx("div",{className:"text-xs space-y-1",children:Object.entries(p.effect).map(([k,E])=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:E>0?"text-green-400":"text-red-400",children:[E>0?"+":"",E]}),t.jsx("span",{className:"text-purple-300 capitalize",children:k})]},k))})]})},T)})}):t.jsx("p",{className:"text-purple-400 text-sm italic",children:"     ."})]}),t.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:""}),""]}),t.jsx("div",{className:"space-y-3",children:Object.entries(u).filter(([p])=>p!==r.id).map(([p,T])=>{const R=C(T);return t.jsx("button",{onClick:()=>o(p),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xl",children:N(p)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:T.name}),t.jsx("div",{className:"text-xs text-purple-300",children:!R&&T.unlockCondition&&t.jsxs("span",{className:"text-red-400",children:[T.unlockCondition.item&&" ",T.unlockCondition.flag&&" "]})})]})]})},p)})})]})]}),(()=>{const p=r.characterSchedule?r.characterSchedule[c.timeOfDay]||[]:r.characters||[];return p.length>0&&t.jsxs("div",{className:"mt-6 bg-black/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-secondary mb-4 flex items-center gap-2",children:[t.jsx("span",{children:""}),"  "]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(T=>{const R=x[T];return R?t.jsxs("button",{onClick:()=>g?.(T),className:"bg-primary/20 px-4 py-2 rounded-full text-sm font-medium text-text-primary border border-border flex items-center gap-2 hover:bg-primary/30 hover:scale-105 transition-all duration-200 cursor-pointer",children:[t.jsx("span",{className:"text-xl",children:R.sprite}),t.jsx("span",{children:R.name}),t.jsx("span",{className:"text-xs text-pink-300",children:""})]},T):null})})]})})(),t.jsxs("div",{className:"mt-4 flex justify-between items-center text-xs text-text-secondary",children:[t.jsx("div",{children:c.stats.stamina<=2&&t.jsx("span",{className:"text-red-400 font-medium",children:"  !"})}),t.jsx("div",{children:"   "})]})]})},og=({characters:r,items:c})=>{const{player:d,unlockedCharacters:o}=de(),u=de(M=>M.actions.useItem),x=de(M=>M.actions.updateAffection),[g,b]=S.useState(null),[N,f]=S.useState(!1),[C,p]=S.useState({active:!1,messages:[]}),T=M=>({sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""})[M]||"",R=M=>M>=80?{level:" ",color:"text-pink-400",bgColor:"bg-pink-500/20"}:M>=60?{level:"",color:"text-purple-400",bgColor:"bg-purple-500/20"}:M>=40?{level:"",color:"text-blue-400",bgColor:"bg-blue-500/20"}:M>=20?{level:"",color:"text-green-400",bgColor:"bg-green-500/20"}:{level:"",color:"text-gray-400",bgColor:"bg-gray-500/20"},k=(M,w)=>{const H={low:[{heroine:`... ${d.name}?`,choices:[{text:"!   ?",affectionChange:2},{text:"... ",affectionChange:0},{text:" ",affectionChange:-3}]},{heroine:"  ...",choices:[{text:" !  ?",affectionChange:3},{text:",  ",affectionChange:1},{text:"  ?",affectionChange:-2}]}],medium:[{heroine:`${d.name}!  !`,choices:[{text:"   !",affectionChange:4},{text:",  ",affectionChange:2},{text:"  ",affectionChange:-2}]},{heroine:"  ?",choices:[{text:"  !",affectionChange:5},{text:"  ...",affectionChange:2},{text:"   ?",affectionChange:-3}]}],high:[{heroine:`${d.name}...  ...`,choices:[{text:"   . ",affectionChange:6},{text:"  ",affectionChange:3},{text:"... ",affectionChange:-1}]},{heroine:"   ...",choices:[{text:" .  ",affectionChange:5},{text:" ?",affectionChange:2},{text:" ",affectionChange:-2}]}]};let Z;return w<30?Z=H.low:w<70?Z=H.medium:Z=H.high,Z[Math.floor(Math.random()*Z.length)]},E=M=>{const w=d.affection[M.id]||0,H=k(M,w);p({active:!0,messages:[{speaker:M.name,text:H.heroine,isPlayer:!1}],choices:H.choices})},h=M=>{g&&(p(w=>({...w,messages:[...w.messages,{speaker:d.name,text:M.text,isPlayer:!0}],choices:void 0})),M.affectionChange!==0&&x(g.id,M.affectionChange),setTimeout(()=>{let w;M.affectionChange>3?w=" ! ":M.affectionChange>0?w="... ":M.affectionChange<0?w="  ... ":w="... .",p(H=>({...H,messages:[...H.messages,{speaker:g.name,text:w,isPlayer:!1}]})),setTimeout(()=>{p({active:!1,messages:[]})},2e3)},1e3))},v=(M,w)=>{u(w,M.id),f(!1)},y=d.inventory.map(M=>c[M]).filter(M=>M&&M.type==="gift"),_=M=>({sakura:"from-pink-600 via-rose-500 to-pink-600",yuki:"from-blue-600 via-cyan-500 to-blue-600",luna:"from-purple-600 via-indigo-500 to-purple-600",mystery:"from-gray-600 via-slate-500 to-gray-600",akane:"from-red-600 via-orange-500 to-red-600",hana:"from-yellow-500 via-amber-400 to-yellow-500",rin:"from-violet-600 via-purple-500 to-violet-600",mei:"from-emerald-600 via-green-500 to-emerald-600",sora:"from-sky-500 via-blue-400 to-sky-500"})[M]||"from-purple-600 via-pink-500 to-purple-600";return t.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[t.jsxs("h2",{className:"text-2xl font-bold text-pink-200 mb-6 flex items-center gap-2",children:[t.jsx("span",{children:""})," "]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:o.map(M=>{const w=r[M];if(!w)return null;const H=d.affection[M]||0,Z=R(H);return t.jsx("button",{onClick:()=>b(w),className:`p-4 rounded-lg transition-all duration-200 hover:scale-105 bg-gradient-to-br ${_(M)} hover:brightness-110`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:T(M)}),t.jsx("h3",{className:"font-bold text-lg text-white",children:w.name}),t.jsx("p",{className:"text-xs text-gray-200 mb-2",children:w.role}),t.jsxs("div",{className:`text-xs px-2 py-1 rounded-full ${Z.bgColor} ${Z.color} font-medium`,children:[Z.level," (",H,"/100)"]}),t.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${H}%`}})})]})},M)})}),C.active&&g&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:" ..."})}),t.jsx("div",{className:"space-y-3 mb-4",children:C.messages.map((M,w)=>t.jsxs("div",{className:`p-3 rounded-lg ${M.isPlayer?"bg-blue-600/50 ml-8 text-right":"bg-purple-600/50 mr-8"}`,children:[t.jsx("div",{className:"font-semibold text-white mb-1",children:M.speaker}),t.jsx("div",{className:"text-gray-100",children:M.text})]},w))}),C.choices&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm text-gray-300 mb-2",children:" :"}),C.choices.map((M,w)=>t.jsxs("button",{onClick:()=>h(M),className:"w-full p-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg text-white text-left transition-all duration-200 hover:scale-[1.02]",children:[M.text,M.affectionChange>0&&t.jsxs("span",{className:"ml-2 text-xs text-green-300",children:["( +",M.affectionChange,")"]}),M.affectionChange<0&&t.jsxs("span",{className:"ml-2 text-xs text-red-300",children:["( ",M.affectionChange,")"]})]},w))]}),!C.choices&&C.messages.length>1&&t.jsx("button",{onClick:()=>p({active:!1,messages:[]}),className:"mt-4 w-full bg-gray-600 hover:bg-gray-500 p-2 rounded-lg text-white transition-all duration-200",children:" "})]})}),g&&!C.active&&t.jsxs("div",{className:`bg-gradient-to-r ${_(g.id)} rounded-lg p-6 shadow-inner`,children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"text-6xl mb-3",children:T(g.id)}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:g.name}),t.jsx("p",{className:"text-gray-200",children:g.role})]}),t.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[t.jsx("div",{className:"text-sm text-gray-200 mb-3",children:g.baseText}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-green-300 mb-1",children:" :"}),t.jsx("div",{className:"space-y-1",children:g.likes.map((M,w)=>t.jsxs("div",{className:"text-green-200",children:[" ",M]},w))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-red-300 mb-1",children:" :"}),t.jsx("div",{className:"space-y-1",children:g.dislikes.map((M,w)=>t.jsxs("div",{className:"text-red-200",children:[" ",M]},w))})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[t.jsxs("button",{onClick:()=>E(g),className:"bg-blue-600/80 hover:bg-blue-500/80 px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[t.jsx("span",{children:""}),""]}),t.jsxs("button",{onClick:()=>f(!N),disabled:y.length===0,className:`px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2 ${y.length>0?"bg-pink-600/80 hover:bg-pink-500/80":"bg-gray-600/50 cursor-not-allowed opacity-50"}`,children:[t.jsx("span",{children:""})," (",y.length,")"]})]}),N&&y.length>0&&t.jsxs("div",{className:"mt-4 bg-black/30 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-pink-200 mb-3",children:" "}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.map(M=>{const w=M.preferredBy?.includes(g.id);return t.jsx("button",{onClick:()=>v(g,M.id),className:`p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 ${w?"bg-yellow-600/60 hover:bg-yellow-500/60 border border-yellow-400/50":"bg-purple-800/60 hover:bg-purple-700/60"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:M.name}),t.jsx("div",{className:"text-xs text-gray-300",children:M.description}),w&&t.jsx("div",{className:"text-xs text-yellow-300 font-medium mt-1",children:"  !"})]}),t.jsx("div",{className:"text-lg",children:""})]})},M.id)})}),t.jsx("button",{onClick:()=>f(!1),className:"mt-3 w-full bg-gray-600/60 hover:bg-gray-500/60 px-4 py-2 rounded-lg text-sm transition-all duration-200",children:""})]})]}),!g&&t.jsxs("div",{className:"text-center text-purple-300 py-8",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("p",{children:"  "})]})]})},dg=({event:r,character:c,player:d,onChoice:o,onClose:u})=>{const[x,g]=S.useState(""),[b,N]=S.useState(!0),[f,C]=S.useState(!1);S.useEffect(()=>{g(""),N(!0),C(!1);let k=0;const E=r.description,h=setInterval(()=>{k<E.length?(g(E.substring(0,k+1)),k++):(N(!1),C(!0),clearInterval(h))},30);return()=>clearInterval(h)},[r]);const p=()=>{g(r.description),N(!1),C(!0)},T=k=>{const E=r.choices[k];if(E.condition){if(E.condition.minIntelligence&&d.stats.intelligence<E.condition.minIntelligence){alert(" !");return}if(E.condition.minCharm&&d.stats.charm<E.condition.minCharm){alert(" !");return}if(E.condition.minStamina&&d.stats.stamina<E.condition.minStamina){alert(" !");return}}o(r,k)},R=()=>{const k={classroom:"https://images.unsplash.com/photo-1580582932707-520aed937b7b",library:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570",garden:"https://images.unsplash.com/photo-1585320806297-9794b3e4eeae",dormitory:"https://images.unsplash.com/photo-1555854877-bab0e564b8d5",cafeteria:"https://images.unsplash.com/photo-1567521464027-f127ff144326",training_ground:"https://images.unsplash.com/photo-1569163139394-de4798aa62b6"};return k[r.trigger.location||"classroom"]||k.classroom};return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50",onClick:p,children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-1000",style:{backgroundImage:`url(${R()})`,filter:"blur(8px) brightness(0.7)"}}),c&&t.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 h-full w-full flex items-end justify-center",children:t.jsx("img",{src:c.image,alt:c.name,className:"h-5/6 object-contain"})}),t.jsx("div",{className:"relative w-full max-w-4xl mx-auto mb-4 z-10",children:t.jsxs("div",{className:"bg-background/80 backdrop-blur-md rounded-xl shadow-2xl border border-border",children:[c&&t.jsx("div",{className:"px-6 py-2 bg-primary/50 rounded-t-xl",children:t.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:c.name})}),t.jsxs("div",{className:"p-6 min-h-[120px] text-xl text-text-primary leading-relaxed",children:[x,b&&t.jsx("span",{className:"animate-pulse",children:"|"})]}),f&&r.choices.length>0&&t.jsx("div",{className:"p-4 grid grid-cols-1 gap-3",children:r.choices.map((k,E)=>t.jsxs("button",{onClick:()=>T(E),disabled:!!(k.condition?.minIntelligence&&d.stats.intelligence<k.condition.minIntelligence)||!!(k.condition?.minCharm&&d.stats.charm<k.condition.minCharm)||!!(k.condition?.minStamina&&d.stats.stamina<k.condition.minStamina),className:"w-full text-left p-4 rounded-lg bg-primary/20 hover:bg-primary/40 text-text-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[k.text,k.condition&&t.jsxs("span",{className:"text-xs text-yellow-400 ml-2",children:["(:",k.condition.minIntelligence&&`  ${k.condition.minIntelligence}`,k.condition.minCharm&&`  ${k.condition.minCharm}`,k.condition.minStamina&&`  ${k.condition.minStamina}`,")"]})]},E))})]})})]})},ug=JSON.parse('{"flower":{"id":"flower","name":"","description":"      . , ,       .","detailedDescription":"         .","usage":"     ","useLocation":"   ","usableBy":"   ","lore":"          ,    .","type":"gift","rarity":"common","value":100,"effect":{"affection":10},"preferredBy":["sakura","luna"],"icon":"","category":""},"book":{"id":"book","name":" ","description":"     .            .","detailedDescription":"        .       .","usage":"   ,      ","useLocation":",  ,  ","usableBy":" ,   ","lore":"        ,     .","type":"gift","rarity":"uncommon","value":200,"effect":{"affection":15},"preferredBy":["yuki"],"icon":"","category":""},"charm":{"id":"charm","name":" ","description":"     .        .","detailedDescription":"    ,       .","usage":"  ,        ","useLocation":", ,  ","usableBy":",      ","lore":"     ,  10%    .","type":"gift","rarity":"rare","value":300,"effect":{"affection":12},"preferredBy":["luna","mystery"],"icon":"","category":""},"studyGuide":{"id":"studyGuide","name":" ","description":"       .           .","detailedDescription":"    ,        .","usage":"    ,     ","useLocation":",  , ","usableBy":"  ","lore":"     ,     .","type":"consumable","rarity":"common","value":150,"effect":{"intelligence":5},"icon":"","category":""},"energyDrink":{"id":"energyDrink","name":" ","description":"      .         ,    .","detailedDescription":"        .","usage":" HP       ","useLocation":"  ,  ","usableBy":" ","lore":"    ,       .","type":"consumable","rarity":"common","value":50,"effect":{"stamina":3,"hp":20},"icon":"","category":""},"mirror":{"id":"mirror","name":" ","description":"       .         .","detailedDescription":"   ,       .","usage":"       ","useLocation":", ,  ","usableBy":" ","lore":"      ,    .","type":"consumable","rarity":"uncommon","value":120,"effect":{"charm":3},"icon":"","category":""},"lunchbox":{"id":"lunchbox","name":"","description":"    .              .","detailedDescription":"          .","usage":"   ,    ","useLocation":" ,  ,  ","usableBy":"  ","lore":"     ,       .","type":"gift","rarity":"common","value":80,"effect":{"affection":8,"stamina":2},"preferredBy":["sakura","yuki","luna"],"icon":"","category":""},"trainingGear":{"id":"trainingGear","name":" ","description":"      . , ,    ,     .","detailedDescription":"        .","usage":"     ,    ","useLocation":" , ","usableBy":" ,   ","lore":"     ,   .","type":"gift","rarity":"rare","value":500,"effect":{"affection":20},"preferredBy":["sakura"],"icon":"","category":""},"mysteryKey":{"id":"mysteryKey","name":" ","description":"      .           ,     .","detailedDescription":"  ,      .","usage":"   ,   ,    ","useLocation":" ,  ,  ","usableBy":" ,    ","lore":"       ,    .","type":"special","rarity":"legendary","value":1000,"effect":{"unlockSecret":true},"icon":"","category":""},"basicSword":{"id":"basicSword","name":" ","description":"      .   ,      .      .","detailedDescription":"    ,     .","usage":" ,  ,    ","useLocation":" , , ","usableBy":" 1   ","lore":"       .     .","type":"weapon","rarity":"common","value":200,"effect":{"strength":5,"agility":2},"requirements":{"level":1},"icon":"","category":""},"steelSword":{"id":"steelSword","name":" ","description":"     .     ,     .    .","detailedDescription":"       .","usage":"   ,    ,  ","useLocation":"  , ,   ","usableBy":" 5 ,  15  ","lore":"    ,       .","type":"weapon","rarity":"uncommon","value":800,"effect":{"strength":12,"agility":5},"requirements":{"level":5,"stats":{"strength":15}},"icon":"","category":""},"mysticStaff":{"id":"mysticStaff","name":" ","description":"      .    ,       .      .","detailedDescription":"      .","usage":"   ,  ,    ","useLocation":",  , ","usableBy":" 8 ,  20    ","lore":"    ,    .","type":"weapon","rarity":"rare","value":1200,"effect":{"intelligence":15,"mp":30,"charm":8},"requirements":{"level":8,"stats":{"intelligence":20}},"icon":"","category":""},"leatherArmor":{"id":"leatherArmor","name":" ","description":"       .      ,      .","detailedDescription":"     .","usage":"  ,   ,  ","useLocation":", ,  ","usableBy":" 2   ","lore":"           .","type":"armor","rarity":"common","value":300,"effect":{"hp":20,"agility":3},"requirements":{"level":2},"icon":"","category":""},"plateArmor":{"id":"plateArmor","name":"","description":"    .       ,     .  .","detailedDescription":"    ,   .","usage":" ,  ,  ","useLocation":" ,   ","usableBy":" 6 ,  18    ","lore":"    ,     .","type":"armor","rarity":"uncommon","value":1000,"effect":{"hp":50,"strength":8},"requirements":{"level":6,"stats":{"strength":18}},"icon":"","category":""},"mageRobe":{"id":"mageRobe","name":" ","description":"        .         ,     .","detailedDescription":"       .","usage":"  ,  ,   ","useLocation":",  ,  ","usableBy":" 7 ,  22    ","lore":"    ,     .","type":"armor","rarity":"rare","value":1500,"effect":{"mp":40,"intelligence":12,"charm":10},"requirements":{"level":7,"stats":{"intelligence":22}},"icon":"","category":""},"luckRing":{"id":"luckRing","name":" ","description":"    .    ,    .      .","detailedDescription":"    ,    .","usage":"    ,   ,      ","useLocation":", ,   ","usableBy":" 3   ","lore":"         .","type":"accessory","rarity":"uncommon","value":600,"effect":{"luck":10,"charm":5},"requirements":{"level":3},"icon":"","category":""},"strengthAmulet":{"id":"strengthAmulet","name":" ","description":"    .       ,     .      .","detailedDescription":"    ,      .","usage":" ,   ,   ","useLocation":", ,  ","usableBy":" 5 ,   ","lore":"       ,       .","type":"accessory","rarity":"rare","value":900,"effect":{"strength":8,"stamina":6,"hp":25},"requirements":{"level":5},"icon":"","category":""},"wisdomPendant":{"id":"wisdomPendant","name":" ","description":"       .     ,     .   .","detailedDescription":"       .","usage":"   ,  ,   ","useLocation":" ,   ,  ","usableBy":" 10 ,  25    ","lore":"    ,       .","type":"accessory","rarity":"epic","value":1800,"effect":{"intelligence":15,"mp":35,"experience":50},"requirements":{"level":10,"stats":{"intelligence":25}},"icon":"","category":""},"healingPotion":{"id":"healingPotion","name":" ","description":"     .     ,          .","detailedDescription":"    ,       .","usage":"      ,    ","useLocation":",  ,  ","usableBy":" ","lore":"          .","type":"consumable","rarity":"common","value":100,"effect":{"hp":50},"icon":"","category":""},"manaPotion":{"id":"manaPotion","name":" ","description":"     .     ,      .      .","detailedDescription":"    ,     .","usage":"     ,    ","useLocation":"  ,  ,  ","usableBy":"   ","lore":"    ,     .","type":"consumable","rarity":"common","value":120,"effect":{"mp":40},"icon":"","category":""},"experienceScroll":{"id":"experienceScroll","name":" ","description":"      .          ,    .","detailedDescription":"       .","usage":"    ,     ","useLocation":",  ,  ","usableBy":" ","lore":"         .","type":"consumable","rarity":"uncommon","value":250,"effect":{"experience":100},"icon":"","category":""},"statBooster":{"id":"statBooster","name":" ","description":"     .      ,     .        .","detailedDescription":"   ,   .","usage":"   ,     ","useLocation":"  ,   ,   ","usableBy":"  (,   )","lore":"         ,    .","type":"consumable","rarity":"rare","value":500,"effect":{"intelligence":3,"charm":3,"stamina":3,"strength":3,"agility":3,"luck":3},"icon":"","category":""},"chocolateBox":{"id":"chocolateBox","name":"  ","description":"     .      12     ,     .","detailedDescription":"      .","usage":"    ,    ","useLocation":",  ,  ","usableBy":",     ","lore":"        .","type":"gift","rarity":"uncommon","value":350,"effect":{"affection":18},"preferredBy":["yuki","luna"],"icon":"","category":""},"jewelryBox":{"id":"jewelryBox","name":"","description":"      . , ,              .","detailedDescription":"      ,    .","usage":"       ","useLocation":" ,  ","usableBy":",      ","lore":"        ,       .","type":"gift","rarity":"epic","value":1200,"effect":{"affection":35},"preferredBy":["luna","mystery"],"icon":"","category":""}}'),Hx={items:ug},mg=({onClose:r})=>{const{player:c,unlockedCharacters:d}=de(),o=de(B=>B.actions.useItem),u=Hx.items,x=Fa,[g,b]=S.useState(null),[N,f]=S.useState(null),[C,p]=S.useState(!1),[T,R]=S.useState("all"),[k,E]=S.useState(new Set),h=B=>{const ae={common:{color:"border-gray-400 bg-gray-500/10",text:"text-gray-400",name:""},uncommon:{color:"border-green-400 bg-green-500/10",text:"text-green-400",name:""},rare:{color:"border-blue-400 bg-blue-500/10",text:"text-blue-400",name:""},epic:{color:"border-purple-400 bg-purple-500/10",text:"text-purple-400",name:""},legendary:{color:"border-yellow-400 bg-yellow-500/10",text:"text-yellow-400",name:""}};return B.rarity?ae[B.rarity]:ae.common},v=c.inventory.reduce((B,ae)=>(u[ae]&&(B[ae]?B[ae].count++:B[ae]={item:u[ae],count:1}),B),{}),y=Object.values(v).filter(({item:B})=>T==="all"?!0:B.type===T),_=B=>{B.type==="gift"?(b(B),p(!0)):["weapon","armor","accessory"].includes(B.type)?M(B)?(o(B.id),b(null)):alert("    ."):(o(B.id),b(null))},M=B=>{if(!B.requirements)return!0;if(B.requirements.level&&c.level<B.requirements.level)return!1;if(B.requirements.stats){for(const[ae,V]of Object.entries(B.requirements.stats))if(c.stats[ae]<V)return!1}return!0},w=B=>{g&&(o(g.id,B),b(null),p(!1))},H=B=>({intelligence:"",charm:"",stamina:"",strength:"",agility:"",luck:""})[B]||B,Z=B=>({sakura:"",yuki:"",luna:"",mystery:""})[B]||"";return t.jsxs("div",{className:"bg-background text-text-primary rounded-lg shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-secondary flex items-center gap-2",children:[t.jsx("span",{children:""}),""]}),t.jsxs("div",{className:"text-sm text-text-secondary",children:[" ",Object.values(v).reduce((B,{count:ae})=>B+ae,0)," "]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{key:"all",label:"",icon:""},{key:"gift",label:"",icon:""},{key:"consumable",label:"",icon:""},{key:"weapon",label:"",icon:""},{key:"armor",label:"",icon:""},{key:"accessory",label:"",icon:""},{key:"special",label:"",icon:""}].map(({key:B,label:ae,icon:V})=>t.jsxs("button",{onClick:()=>R(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${T===B?"bg-primary text-white shadow-lg":"bg-black/30 text-text-secondary hover:bg-primary/50"}`,children:[t.jsx("span",{children:V}),ae]},B))}),Object.keys(v).length===0?t.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("p",{children:" "})]}):y.length===0?t.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("p",{children:"   "})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(({item:B,count:ae})=>{const V=h(B);return t.jsxs("div",{onClick:()=>{E(ce=>new Set(ce).add(B.id)),f(B)},className:`bg-black/30 rounded-lg p-4 border transition-all duration-200 hover:scale-105 cursor-pointer ${V.color}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:B.icon}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-text-primary",children:B.name}),t.jsx("p",{className:`text-xs ${V.text} capitalize`,children:B.type})]})]}),ae>1&&t.jsxs("div",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:["",ae]})]}),k.has(B.id)?t.jsx("p",{className:"text-sm text-text-secondary mb-4",children:B.description}):t.jsx("p",{className:"text-sm text-text-secondary mb-4 italic opacity-60",children:"   ..."}),k.has(B.id)&&t.jsxs("div",{className:"space-y-1 mb-4",children:[B.effect.affection&&t.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.affection]})]}),B.effect.hp&&t.jsxs("div",{className:"text-xs text-red-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.hp]})]}),B.effect.mp&&t.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.mp]})]}),B.effect.intelligence&&t.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.intelligence]})]}),B.effect.charm&&t.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.charm]})]}),B.effect.stamina&&t.jsxs("div",{className:"text-xs text-green-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.stamina]})]}),B.effect.strength&&t.jsxs("div",{className:"text-xs text-orange-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.strength]})]}),B.effect.agility&&t.jsxs("div",{className:"text-xs text-cyan-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.agility]})]}),B.effect.luck&&t.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.luck]})]}),B.effect.experience&&t.jsxs("div",{className:"text-xs text-purple-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[" +",B.effect.experience]})]}),B.effect.unlockSecret&&t.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",t.jsx("span",{children:" "})]})]}),k.has(B.id)&&B.requirements&&t.jsxs("div",{className:"mb-4 p-2 bg-red-900/20 rounded border border-red-500/30",children:[t.jsx("div",{className:"text-xs text-red-300 font-medium mb-1",children:" :"}),t.jsxs("div",{className:"space-y-1",children:[B.requirements.level&&t.jsxs("div",{className:"text-xs text-red-400",children:[" ",B.requirements.level," "]}),B.requirements.stats&&Object.entries(B.requirements.stats).map(([ce,W])=>t.jsxs("div",{className:"text-xs text-red-400",children:[H(ce)," ",W," "]},ce))]})]}),B.value&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:[" ",t.jsxs("span",{children:[": ",B.value," "]})]})}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:`text-xs font-medium ${V.text}`,children:[": ",V.name]})}),B.preferredBy&&B.preferredBy.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-xs text-yellow-300 mb-1",children:"  :"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:B.preferredBy.map(ce=>t.jsx("span",{className:"text-xs bg-yellow-600/20 text-yellow-200 px-2 py-1 rounded-full",children:x[ce]?.name||ce},ce))})]}),t.jsx("button",{onClick:()=>_(B),disabled:!M(B),className:`w-full py-2 rounded-lg text-sm font-medium transition-all duration-200 ${M(B)?B.type==="gift"?"bg-secondary hover:bg-secondary/80 text-white":B.type==="consumable"?"bg-green-600/80 hover:bg-green-500/80 text-white":["weapon","armor","accessory"].includes(B.type)?"bg-blue-600/80 hover:bg-blue-500/80 text-white":"bg-yellow-600/80 hover:bg-yellow-500/80 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:B.type==="gift"?"":B.type==="consumable"?"":["weapon","armor","accessory"].includes(B.type)?"":""})]},B.id)})}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>f(null),children:t.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",onClick:B=>B.stopPropagation(),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-secondary",children:" "}),t.jsx("button",{onClick:()=>f(null),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:""})]}),t.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-2xl",children:N.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-text-primary",children:N.name}),t.jsx("div",{className:"text-sm text-text-secondary",children:N.description})]})]})})]})})}),C&&g&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-secondary",children:"  "}),t.jsx("button",{onClick:()=>p(!1),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:""})]}),t.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-2xl",children:g.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-text-primary",children:g.name}),t.jsx("div",{className:"text-sm text-text-secondary",children:g.description})]})]})}),t.jsx("div",{className:"space-y-3",children:d.map(B=>{const ae=x[B];if(!ae)return null;const V=g.preferredBy?.includes(B);return t.jsxs("button",{onClick:()=>w(B),className:`w-full p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 flex items-center gap-3 ${V?"bg-accent/60 hover:bg-accent/50 border border-accent/50":"bg-primary/60 hover:bg-primary/50"}`,children:[t.jsx("span",{className:"text-2xl",children:Z(B)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-text-primary",children:ae.name}),t.jsx("div",{className:"text-xs text-text-secondary",children:ae.role}),V&&t.jsx("div",{className:"text-xs text-accent font-medium",children:"  !"})]})]},B)})})]})})})]})},xg={conversations:[{id:"sakura_first_meeting",requiredAffection:0,dialogue:["   .         .","    .    .","    .    .","...  . .","    .","  . 2    .","    ...  .","     .","...    ?  .","      .   .","  ."," ... ,    .","   ?    ?"],choices:[{text:"  .    ?",affectionChange:7,response:`  .
? !      .
   .
  .     .
...      .`},{text:"   .   .",affectionChange:5,response:`     .   .
, ?     ...
   .
...   .  ?`},{text:"   ?   .",affectionChange:2,response:`    .
...    .  .
       .
   . ...   .`}]},{id:"sakura_training_together",requiredAffection:15,dialogue:["   .     ."," !  .","    .    .","    .    .","    .      .","   .    ."," ,  ,    .","     .     .","...  , ...","      .","...  ? , !","    .  .","...      .","      ...","   .     ."],choices:[{text:"     .    .",affectionChange:10,response:`  .    .
...  ?
...      .
    .
...  . ,   ...`},{text:"   .  .",affectionChange:6,response:`    .
!   .
       .
      .  .`},{text:"     ?",affectionChange:3,response:`  .
... .  .
   .  ...
     .`}]},{id:"sakura_secret_revealed",requiredAffection:40,dialogue:[" ,    .    .","! !","        .","...    .","    .    .","   .      .","       .","  ."," .   ...   .","  .    ...","  ,      .","....   .","      .","...  .   .","  .   .","     ..."],choices:[{text:"    .  .",affectionChange:15,response:`   .
...    ...
    .
. ...  .
...       .
    .
.   .    .`},{text:" .   .",affectionChange:8,response:`  .
 ... .   .
...    .
.    . .`},{text:" .     .",affectionChange:5,response:`  . ...
      .
  .      .`}]},{id:"sakura_confession",requiredAffection:70,dialogue:["   ,  .    .","     .   .","...       ...","   .       .","    ?    ."," ...    .","   .     .","      ...","       .","    ,    .","      ."," ...       ..."," .","     ."," ...  ?"," , ,     ."],choices:[{text:"  .  .",affectionChange:25,response:`   .    .
... ?  ?
    .
...    ?
    .  ...
    .
... ,  .`},{text:"  .     .",affectionChange:0,response:`   .
...   .
. .    ...
     . .`},{text:"...   .",affectionChange:-20,response:`   .    .
... .  .
    .
...     ...
. ...  .
  .    .`}]}]},fg={conversations:[{id:"yuki_library_encounter",requiredAffection:0,dialogue:["   ,    .     .","         .   .","    .    .","...?     ?","   .   .","     . ?",",   .  .","    .  .","...      .","  .     .","   ' ' .   .","    ."," ...  . ?","   ? ...","   ?"],choices:[{text:"    .",affectionChange:8,response:`  .    .
...?   ...
  .
...    ...
   .
.     .
.     .`},{text:"   .   ?",affectionChange:5,response:`  .
?  .
     .
 ...  .
.   .    .`},{text:" .   .",affectionChange:-2,response:`   .
.   ...
      .
    .
   . .`}]},{id:"yuki_magic_lesson",requiredAffection:20,dialogue:[" .     .    .",".      .","       .","    .","      .","   .     .",", , ...        .","    .    .","    ...  .","  ."," ,    .","  .  ...","  .","  .  ...","     .","    .   ."],choices:[{text:"   .   .",affectionChange:12,response:`  .
...  ?
    .
...        .
   .    .
   . ...   ...`},{text:"  .   .",affectionChange:7,response:`   .
.  .
  .      .
 ...     .`},{text:"    .",affectionChange:-3,response:`   .
....   .
  .
  . .`}]},{id:"yuki_forbidden_magic",requiredAffection:45,dialogue:[",     .     .","     .","      .","...    .","     .   ."," .  ,    ."," ...     .     .","   .","  .   ."," .     ...","    .","  ...  ."," ...      .","     .    ."," ...    .","? ...  ."],choices:[{text:" .   .",affectionChange:18,response:`    .    .
...      ?
... .  .
...    .
    .
  .   .   .`},{text:"  .     .",affectionChange:10,response:`    .
 ...  ?
...     ...
.    .   ...`},{text:" .      .",affectionChange:-5,response:`  .
...  .
.     .
    .`}]},{id:"yuki_true_feelings",requiredAffection:75,dialogue:["   .   ,    .","     .","   .   .","   .   .","    .","5   , 10   .","   ...    .","   ."," .  ,  ,   .","  ...      .","    ."," .      ...","       ...","     .","   .","...  ."," ...  .","      ...   ."],choices:[{text:"  .    .",affectionChange:30,response:`   .    .
  ...   ...
...  .
    .   .
     .
    .
  .      .`},{text:" .     .",affectionChange:5,response:`    .
...   .
         .
.      .`},{text:"...    .",affectionChange:-25,response:`   .   .
....  .
   ...   .
     .
. ...   .
  .    .`}]}]},hg={conversations:[{id:"luna_moonlight_meeting",requiredAffection:0,dialogue:["  .     .","         .","       .","....","  .    .","   ...   ?","    .",".    ."," .  ."," ... '' .","   .","   .   ...",".     .","   .   ."," . ?","   ...   ."],choices:[{text:"     .",affectionChange:10,response:`     .
...?
     .
...  ?
   .
 .     .
.    '' .`},{text:"  ,   .",affectionChange:6,response:`  .
 ... .  .
     .
    .`},{text:"... ?",affectionChange:3,response:`  .
...  .
.   .   .
   ...  ,  ?`}]},{id:"luna_blood_moon",requiredAffection:30,dialogue:["   .     .","  ...   ?","      .","...    .","     .","    .","500 ...      ."," ...  .","  .    ."," ...  .",".    ...","    .   .","...     ...","...   .","  .","  ...  .","...      ."],choices:[{text:"   .  .",affectionChange:20,response:`   .
...      ?
   ...   .
    .
...     ...
     .
... ...    .
    .   .
...    .`},{text:"  .  ...",affectionChange:8,response:`  .
 ...  .
   ... .
.   .  ...`},{text:"    .",affectionChange:5,response:` ...  .
    .
 .   ...`}]},{id:"luna_past_revealed",requiredAffection:55,dialogue:["     .","...    .","   .    .","300 ,    ."," ,   ...","    .","     ...","  ...   ..."," .    .","   .","   . 300 ."," ,  .","...  .","  ."," ...       .",", , ... .","  .    .","...   ?"],choices:[{text:"  .   .",affectionChange:25,response:`    .
300 ...  .
    ...
   .
  .    ...
   .
   ... ,  ...`},{text:" .   .",affectionChange:15,response:`     .
...   ?
300     ?
 ...  .`},{text:"  .",affectionChange:5,response:`...     .
   ...
 .   .`}]},{id:"luna_eternal_love",requiredAffection:80,dialogue:["  .     .","  .    .","   .       .","...    .","   .   .","' '.       .","  ...    .","     .  ,  ...","    .","500 ...       .","      .","     ."," ...      ..."," .  ,   .","      .","?   ..."],choices:[{text:"   .   .",affectionChange:35,response:`  . 500   .
...    .
 .     .
...  .  !
    .
  .  ...
  .   .
...   60 ...   .`},{text:"  .   .",affectionChange:10,response:`  .
  . ...
      .
   .    .`},{text:"  .   .",affectionChange:-30,response:`  .
... ?
 500   ...
    .
...   ...
   .
...   .`}]}]},qx={sakura:xg,yuki:fg,luna:hg},pg={classroom:{id:"classroom",name:"",description:"  .   .",activities:[{name:" ",effect:{intelligence:2,stamina:-1},time:"morning"},{name:"",effect:{intelligence:1},time:"any"}],characterSchedule:{morning:["luna","yuki"],noon:[],afternoon:["luna"],evening:[],night:[]},sprite:""},library:{id:"library",name:"",description:"  .   .",activities:[{name:" ",effect:{intelligence:3,charm:1},time:"any"},{name:" ",effect:{stamina:2},time:"any"}],characterSchedule:{morning:[],noon:["yuki"],afternoon:["yuki","luna"],evening:["yuki"],night:[]},sprite:""},training:{id:"training",name:"",description:" .    .",activities:[{name:"",effect:{stamina:3,intelligence:-1},time:"any"},{name:" ",effect:{stamina:2,charm:1},time:"afternoon"}],characterSchedule:{morning:["sakura"],noon:[],afternoon:["sakura"],evening:["sakura"],night:[]},sprite:""},cafeteria:{id:"cafeteria",name:"",description:"   .  .",activities:[{name:"",effect:{stamina:3},time:"noon"},{name:" ",effect:{charm:2},time:"any"}],characterSchedule:{morning:[],noon:["luna","yuki","sakura"],afternoon:[],evening:["luna"],night:[]},sprite:""},garden:{id:"garden",name:"",description:"   . .",activities:[{name:"",effect:{stamina:1,charm:1},time:"any"},{name:" ",effect:{charm:2},time:"afternoon"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["yuki"],night:["luna","sakura"]},sprite:""},dormitory:{id:"dormitory",name:"",description:"  .",activities:[{name:"",effect:{stamina:5},time:"evening"},{name:" ",effect:{charm:1,intelligence:1},time:"night"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:["yuki","sakura"]},sprite:""},shop:{id:"shop",name:"",description:"      .",activities:[{name:"",effect:{},time:"any",special:"shop"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:[]},sprite:""},secretGarden:{id:"secretGarden",name:" ",description:"  .      .",activities:[{name:" ",effect:{charm:5},time:"any"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["mystery"],night:["mystery"]},sprite:"",unlockCondition:{item:"mysteryKey"}}},gg={locations:pg},Za=Fa,px=gg,bg=()=>{const r=Ge(),c=de(X=>X.player);de(X=>X.unlockedCharacters);const d=de(X=>X.currentEvent),o=de(X=>X.gameMessage),u=de(X=>X.dailyActivitiesCount||0),{saveGame:x,loadGame:g,performActivity:b,moveToLocation:N,advanceTime:f,handleEventChoice:C,updateAffection:p}=de(X=>X.actions),T=S.useMemo(()=>px.locations[c.location],[c.location]),[R,k]=et.useState(!1),[E,h]=et.useState("location"),[v,y]=et.useState(!1),[_,M]=et.useState(null),[w,H]=et.useState(!1),[Z,B]=et.useState(null),[ae,V]=et.useState(0),[ce,W]=et.useState(null),[te,ie]=et.useState(!1),[ee,A]=et.useState([]),Y=S.useCallback(X=>{if(!Za[X])return;const I=c.affection[X]||0,ne=qx[X]?.conversations||[];let re=ne[0];for(const De of ne)if(De.requiredAffection<=I)re=De;else break;re&&(W(re),A(re.dialogue),V(0),ie(!1)),B(X),H(!0)},[c.affection]),le=S.useCallback(()=>{if(!ce){H(!1),B(null);return}te||(ae<ee.length-1?V(X=>X+1):ce.choices&&ce.choices.length>0?ie(!0):(ce.effects?.affection&&Z&&p(Z,ce.effects.affection),H(!1),B(null),V(0),W(null),A([])))},[ce,ae,ee,te,Z,p]),he=S.useCallback(X=>{X.effects?.affection&&Z&&p(Z,X.effects.affection),X.response?(W(null),A([X.response]),V(0),ie(!1)):(H(!1),B(null),V(0),W(null),A([]))},[Z,p]);S.useCallback(X=>{r("/heroines")},[r]);const O=u<2,G=c.timeOfDay==="evening"||c.timeOfDay==="night";return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-4 mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Labyrinth Academy"}),t.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[t.jsx("button",{onClick:()=>r("/game-menu"),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"  ",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/heroines"),className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:"  "}),t.jsx("button",{onClick:()=>r("/quests"),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/dungeon-selection"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/shopping"),className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/pets"),className:"px-4 py-2 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/diary"),className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"",role:"button",children:" "}),t.jsx("button",{onClick:()=>r("/heroine-stories"),className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-red-500 text-white rounded-xl hover:from-pink-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":" ",role:"button",children:" "}),t.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),t.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"   ",role:"button",children:" "}),t.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"  ",role:"button",children:" "}),t.jsx("button",{onClick:()=>k(!R),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":R?" ":" ","aria-expanded":R,role:"button",children:" "})]})]})}),t.jsx(zx,{}),t.jsx("div",{className:"bg-black/20 border border-border rounded-2xl p-4 mb-6 shadow-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:""}),t.jsx("p",{className:"font-medium text-text-primary flex-1",children:o})]})}),t.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600/50 rounded-2xl p-4 mb-6 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-yellow-400 text-2xl",children:""}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-yellow-300",children:" "}),t.jsxs("p",{className:"text-sm text-yellow-200",children:[u,"/2  ",u>=2&&" -     "]})]})]}),t.jsx("div",{className:"text-yellow-400",children:G?" . .":" "})]})}),t.jsxs("div",{className:`grid grid-cols-1 ${R?"lg:grid-cols-5":"lg:grid-cols-3"} gap-6`,children:[t.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[t.jsxs("div",{className:"flex gap-3 mb-6",role:"tablist","aria-label":"  ",children:[t.jsx("button",{onClick:()=>h("location"),disabled:!O&&c.location!=="dormitory",className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${E==="location"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":!O&&c.location!=="dormitory"?"bg-black/30 backdrop-blur-md text-gray-500 opacity-50 cursor-not-allowed border border-border":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":E==="location","aria-controls":"location-panel",tabIndex:E==="location"?0:-1,children:"  "}),t.jsx("button",{onClick:()=>h("characters"),className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${E==="characters"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":E==="characters","aria-controls":"characters-panel",tabIndex:E==="characters"?0:-1,children:" "})]}),t.jsx("div",{id:E==="location"?"location-panel":"characters-panel",role:"tabpanel","aria-labelledby":E==="location"?"location-tab":"characters-tab",children:E==="location"?t.jsx(cg,{currentLocation:T,player:c,onPerformActivity:X=>b(X,r),onMoveToLocation:X=>{!O&&X!=="dormitory"||N(X)},availableLocations:px.locations,characters:Za,onInteractCharacter:Y,canPerformActivity:O}):t.jsx(og,{characters:Za,items:{}})})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:""}),t.jsx("h3",{className:"text-lg font-bold text-text-primary",children:""})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-text-primary mb-1",children:["Day ",c.day]}),t.jsxs("div",{className:"text-lg text-text-secondary",children:[yg(c.timeOfDay)," ",vg(c.timeOfDay)]})]}),t.jsx("button",{onClick:f,className:"w-full px-4 py-3 bg-primary text-white rounded-xl hover:bg-secondary transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium","aria-label":"    ",role:"button",children:"  "})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-white text-sm",children:""}),t.jsx("h3",{className:"text-lg font-bold text-text-primary",children:" "})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-text-secondary",children:""}),t.jsxs("span",{className:"font-bold text-yellow-400",children:["Lv.",c.level]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-text-secondary",children:""}),t.jsxs("span",{className:"font-bold text-green-400",children:[c.money,"G"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-text-secondary",children:""}),t.jsxs("span",{className:"font-bold text-red-400",children:[c.hp,"/",c.maxHp]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-text-secondary",children:""}),t.jsxs("span",{className:"font-bold text-blue-400",children:[c.mp,"/",c.maxMp]})]})]})]})]})]}),R&&t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border h-full",children:[t.jsxs("div",{className:"sticky top-0 bg-background/80 backdrop-blur-md border-b border-border p-4 flex justify-between items-center",children:[t.jsx("h2",{id:"inventory-title",className:"text-2xl font-bold text-text-primary",children:" "}),t.jsx("button",{onClick:()=>k(!1),className:"text-text-secondary hover:text-text-primary text-2xl","aria-label":"  ",role:"button",children:""})]}),t.jsx("div",{className:"p-4 max-h-[calc(100vh-120px)] overflow-y-auto",children:t.jsx(mg,{onClose:()=>k(!1)})})]})})]}),d&&t.jsx(dg,{event:d,character:d.trigger.character?Za[d.trigger.character]:void 0,player:c,onChoice:C,onClose:()=>{console.log("Closing event dialog")}}),w&&Z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:t.jsx("div",{className:"max-w-4xl w-full mx-4 bg-background/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-primary/20 overflow-hidden",children:t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[t.jsx("div",{className:"text-6xl",children:Za[Z]?.sprite||""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:Za[Z]?.name||"Unknown"}),t.jsx("div",{className:"text-text-secondary",children:Za[Z]?.role||""})]})]}),t.jsx("div",{className:"bg-black/30 rounded-xl p-6 mb-6 min-h-[150px]",children:t.jsx("p",{className:"text-lg text-text-primary leading-relaxed",children:ee[ae]||"..."})}),te&&ce?.choices&&t.jsx("div",{className:"space-y-3 mb-6",children:ce.choices.map((X,J)=>t.jsx("button",{onClick:()=>he(X),className:"w-full text-left bg-primary/20 hover:bg-primary/30 border border-primary/30 p-4 rounded-lg transition-all duration-200",children:X.text},J))}),!te&&ce&&t.jsx("button",{onClick:le,className:"bg-primary hover:bg-secondary px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:ae<ee.length-1?"":ce?.choices?" ":" "}),!ce&&t.jsx("button",{onClick:()=>{H(!1),B(null),V(0),A([])},className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:""})]})})})]})})},yg=r=>({morning:"",noon:"",afternoon:"",evening:"",night:""})[r]||"",vg=r=>({morning:"",noon:"",afternoon:"",evening:"",night:""})[r]||r,jg=({onRestart:r,onMainMenu:c})=>{const{player:d,gameEnding:o}=de(),u=o;if(!u)return t.jsx("div",{children:"  ..."});const[x,g]=S.useState(!1),[b,N]=S.useState(0),C=(E=>{switch(E){case"true":return{title:" ",description:"     .     .",background:"from-yellow-400 via-pink-500 to-purple-600",emoji:"",message:"!   !",achievement:" True Ending Master"};case"good":return{title:" ",description:"      .      .",background:"from-pink-400 via-purple-500 to-blue-500",emoji:"",message:" !",achievement:" Happy Life"};case"sakura":return{title:" ",description:"     .        .",background:"from-pink-300 via-pink-500 to-rose-600",emoji:"",message:': "   !"',achievement:" Cherry Blossom Love"};case"yuki":return{title:" ",description:"        .      .",background:"from-blue-300 via-cyan-500 to-blue-700",emoji:"",message:': "    ..."',achievement:" Winter Romance"};case"luna":return{title:" ",description:"     .      .",background:"from-purple-400 via-indigo-500 to-purple-700",emoji:"",message:': "    ..."',achievement:" Moonlight Mystery"};case"mystery":return{title:" ",description:"      .      .",background:"from-gray-400 via-purple-500 to-black",emoji:"",message:'???: "   ..."',achievement:" Truth Seeker"};case"normal":return{title:" ",description:"   .   ,    .",background:"from-gray-400 via-purple-400 to-gray-500",emoji:"",message:"    .",achievement:" Student Life"};case"bad":return{title:" ",description:"         ...    .",background:"from-red-400 via-orange-500 to-red-600",emoji:"",message:"    !",achievement:" Learning Experience"};case"solo":return{title:"",description:"   .      .",background:"from-blue-400 via-teal-500 to-green-500",emoji:"",message:"     .",achievement:" Self Growth"};default:return{title:" ",description:"  .     .",background:"from-purple-400 via-pink-500 to-purple-600",emoji:"",message:"   !"}}})(u);S.useEffect(()=>{const E=setTimeout(()=>N(1),500),h=setTimeout(()=>N(2),1500),v=setTimeout(()=>N(3),2500);return()=>{clearTimeout(E),clearTimeout(h),clearTimeout(v)}},[]);const T=(()=>{const E=Object.values(d.affection).reduce((v,y)=>v+y,0),h=Object.entries(d.affection).reduce((v,[y,_])=>_>v.value?{char:y,value:_}:v,{char:"",value:0});return{totalAffection:E,maxAffection:h,totalStats:d.stats.intelligence+d.stats.charm+d.stats.stamina,inventoryCount:d.inventory.length,moneyEarned:d.money}})(),k=u==="true"?{grade:"S+",color:"text-yellow-400"}:u==="good"||["sakura","yuki","luna","mystery"].includes(u)?{grade:"A",color:"text-pink-400"}:u==="normal"?{grade:"B",color:"text-blue-400"}:u==="solo"?{grade:"C",color:"text-green-400"}:{grade:"D",color:"text-red-400"};return t.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${C.background} flex items-center justify-center p-4 relative overflow-hidden`,children:[t.jsx("div",{className:"absolute inset-0 opacity-20",children:[...Array(20)].map((E,h)=>t.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`},children:C.emoji},h))}),t.jsx("div",{className:"max-w-4xl w-full relative z-10",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:`transition-all duration-1000 ${b>=1?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[t.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:C.emoji}),t.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg",children:C.title}),t.jsxs("div",{className:`text-2xl font-bold mb-8 ${k.color}`,children:["GRADE: ",k.grade]})]}),t.jsx("div",{className:`transition-all duration-1000 delay-500 ${b>=2?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:t.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/20",children:[t.jsx("p",{className:"text-lg md:text-xl text-white leading-relaxed mb-6",children:C.description}),t.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:t.jsxs("p",{className:"text-yellow-200 font-medium italic",children:['"',C.message,'"']})})]})}),C.achievement&&t.jsx("div",{className:`transition-all duration-1000 delay-1000 ${b>=3?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:t.jsx("div",{className:"bg-yellow-500/20 border-2 border-yellow-400/50 rounded-xl p-4 mb-8 backdrop-blur-sm",children:t.jsxs("div",{className:"text-yellow-300 font-bold text-lg",children:["  : ",C.achievement]})})}),t.jsx("div",{className:`transition-all duration-1000 delay-1500 ${b>=3?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:t.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>g(!x),className:"bg-blue-600/80 hover:bg-blue-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[t.jsx("span",{children:""}),x?" ":" "]}),t.jsxs("button",{onClick:r,className:"bg-green-600/80 hover:bg-green-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[t.jsx("span",{children:""})," "]}),t.jsxs("button",{onClick:c,className:"bg-purple-600/80 hover:bg-purple-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[t.jsx("span",{children:""})," "]})]})}),x&&t.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/20 animate-fadeIn",children:[t.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-300",children:" "}),t.jsx("span",{className:"text-white font-medium",children:d.stats.intelligence})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-pink-300",children:" "}),t.jsx("span",{className:"text-white font-medium",children:d.stats.charm})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-green-300",children:" "}),t.jsx("span",{className:"text-white font-medium",children:d.stats.stamina})]}),t.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[t.jsx("span",{className:"text-yellow-300",children:""}),t.jsx("span",{className:"text-white",children:T.totalStats})]})]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:""}),t.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(d.affection).map(([E,h])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-purple-300 capitalize",children:E}),t.jsx("span",{className:"text-white font-medium",children:h})]},E)),t.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[t.jsx("span",{className:"text-yellow-300",children:""}),t.jsx("span",{className:"text-white",children:T.totalAffection})]}),t.jsxs("div",{className:"text-xs text-purple-300 mt-2",children:[": ",T.maxAffection.char," (",T.maxAffection.value,")"]})]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-300",children:"  "}),t.jsxs("span",{className:"text-white font-medium",children:[d.day,"/30"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-green-300",children:"  "}),t.jsxs("span",{className:"text-white font-medium",children:[T.moneyEarned.toLocaleString(),""]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-yellow-300",children:"  "}),t.jsxs("span",{className:"text-white font-medium",children:[T.inventoryCount,""]})]})]})]})]})]})]})}),t.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          25% { transform: translateY(-10px) rotate(5deg); }
          50% { transform: translateY(-5px) rotate(-5deg); }
          75% { transform: translateY(-15px) rotate(3deg); }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},$s=({characterId:r,emotion:c="neutral",size:d="medium",className:o=""})=>{const u={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},x=p=>{const T="#FFE5B4",R="#2C1810";let k="",E="";switch(p){case"happy":k='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":k='<circle cx="40" cy="47" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="47" r="2" fill="#000" opacity="0.8"/>',E='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"angry":k='<line x1="35" y1="42" x2="45" y2="47" stroke="#000" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#000" stroke-width="2"/>',E='<line x1="45" y1="58" x2="55" y2="58" stroke="#FF0000" stroke-width="2"/>';break;case"surprised":k='<circle cx="40" cy="45" r="3" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="3" fill="#000" opacity="0.8"/>',E='<ellipse cx="50" cy="58" rx="3" ry="5" fill="#000" opacity="0.6"/>';break;case"love":k='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:k='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FF6B9D, #C44569)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 40 Q 50 15 80 40 Q 75 30 50 25 Q 25 30 20 40" fill="${R}"/>
        <path d="M 15 45 Q 20 35 30 40 Q 25 50 15 55 Z" fill="${R}"/>
        <path d="M 70 40 Q 80 35 85 45 Q 75 50 85 55 Z" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${T}"/>

        <!-- Eyes -->
        ${k}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="30" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="70" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Hair accessories -->
        <circle cx="25" cy="35" r="2" fill="#FF4757"/>
        <circle cx="75" cy="35" r="2" fill="#FF4757"/>
      </svg>
    `},g=p=>{const T="#FFEEE6",R="#4A4A4A";let k="",E="";switch(p){case"happy":k='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":k='<circle cx="40" cy="47" r="2" fill="#4A90E2"/> <circle cx="60" cy="47" r="2" fill="#4A90E2"/>',E='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"love":k='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:k='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #A8E6CF, #7FCDCD)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 25 35 Q 50 20 75 35 Q 70 25 50 22 Q 30 25 25 35" fill="${R}"/>
        <rect x="45" y="22" width="10" height="25" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="23" ry="28" fill="${T}"/>

        <!-- Eyes -->
        ${k}

        <!-- Glasses -->
        <circle cx="40" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <circle cx="60" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <line x1="48" y1="45" x2="52" y2="45" stroke="#333" stroke-width="1"/>

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="28" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>
        <circle cx="72" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>

        <!-- Book -->
        <rect x="15" y="70" width="12" height="8" fill="#8B4513" rx="1"/>
        <line x1="21" y1="70" x2="21" y2="78" stroke="#654321" stroke-width="1"/>
      </svg>
    `},b=p=>{const T="#FFE8D6",R="#FFD700";let k="",E="";switch(p){case"happy":k='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"love":k='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:k='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',E='<path d="M 45 55 Q 50 58 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FFB347, #FFCC5C)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 38 Q 50 18 80 38 Q 75 28 50 23 Q 25 28 20 38" fill="${R}"/>
        <path d="M 15 42 Q 25 32 35 38 Q 30 48 20 52" fill="${R}"/>
        <path d="M 65 38 Q 75 32 85 42 Q 80 48 70 52" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${T}"/>

        <!-- Eyes -->
        ${k}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Blush -->
        <circle cx="29" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="71" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Magic sparkles -->
        <circle cx="20" cy="25" r="1" fill="#FFD700"/>
        <circle cx="80" cy="30" r="1" fill="#FFD700"/>
        <circle cx="85" cy="60" r="1" fill="#FFD700"/>
        <circle cx="15" cy="65" r="1" fill="#FFD700"/>

        <!-- Star accessory -->
        <path d="M 70 30 L 72 35 L 77 35 L 73 38 L 75 43 L 70 40 L 65 43 L 67 38 L 63 35 L 68 35 Z" fill="#9B59B6"/>
      </svg>
    `},N=p=>{const T="#F5F5DC",R="#2C2C2C";let k="",E="";switch(p){case"happy":k='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#666" stroke-width="2" fill="none"/>';break;case"love":k='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:k='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #2C3E50, #34495E)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 18 40 Q 50 15 82 40 Q 77 25 50 20 Q 23 25 18 40" fill="${R}"/>
        <path d="M 12 48 Q 18 38 28 42 Q 23 52 12 58" fill="${R}"/>
        <path d="M 72 42 Q 82 38 88 48 Q 77 52 88 58" fill="${R}"/>

        <!-- Face (partially in shadow) -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${T}"/>
        <path d="M 25 45 Q 35 40 50 45 L 50 85 Q 35 80 25 75 Z" fill="#000" opacity="0.3"/>

        <!-- Eyes -->
        ${k}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${E}

        <!-- Mystery mask -->
        <path d="M 35 35 Q 50 32 65 35 Q 60 42 50 40 Q 40 42 35 35" fill="#000" opacity="0.7"/>

        <!-- Mysterious aura -->
        <circle cx="30" cy="20" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="70" cy="25" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="85" cy="70" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="15" cy="75" r="1" fill="#9B59B6" opacity="0.8"/>
      </svg>
    `},f=p=>{const T="#FDBCB4",R="#8B4513";let k="",E="";switch(p){case"happy":k='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',E='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"determined":k='<line x1="35" y1="42" x2="45" y2="47" stroke="#654321" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#654321" stroke-width="2"/>',E='<line x1="45" y1="58" x2="55" y2="58" stroke="#333" stroke-width="2"/>';break;default:k='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',E='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #3498DB, #2980B9)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 22 38 Q 50 18 78 38 Q 73 28 50 23 Q 27 28 22 38" fill="${R}"/>
        <path d="M 18 45 Q 28 35 38 40 Q 33 50 23 55" fill="${R}"/>
        <path d="M 62 40 Q 72 35 82 45 Q 77 50 67 55" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${T}"/>

        <!-- Eyes -->
        ${k}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.7"/>

        <!-- Mouth -->
        ${E}

        <!-- Sword emblem -->
        <rect x="75" y="15" width="2" height="15" fill="#C0C0C0"/>
        <rect x="73" y="12" width="6" height="3" fill="#FFD700"/>
      </svg>
    `},C=()=>{switch(r){case"sakura":return t.jsx("div",{dangerouslySetInnerHTML:{__html:x(c)}});case"yuki":return t.jsx("div",{dangerouslySetInnerHTML:{__html:g(c)}});case"luna":return t.jsx("div",{dangerouslySetInnerHTML:{__html:b(c)}});case"mystery":return t.jsx("div",{dangerouslySetInnerHTML:{__html:N(c)}});case"hero":return t.jsx("div",{dangerouslySetInnerHTML:{__html:f(c)}});default:return t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-2xl",children:"?"})}};return t.jsx("div",{className:`${u[d]} ${o} rounded-full overflow-hidden shadow-lg border-2 border-white/20`,children:C()})},Bx=et.memo(({isLoggedIn:r,user:c,onLogout:d})=>{const o=Ge(),{resetGame:u,loadGame:x}=de(v=>v.actions),[g,b]=S.useState(0),[N,f]=S.useState(!1);S.useEffect(()=>{const v=localStorage.getItem("academyDatingSim");f(!!v)},[]);const C=S.useCallback(()=>{d(),window.location.reload()},[d]);S.useEffect(()=>{const v=setInterval(()=>{b(y=>(y+1)%4)},2e3);return()=>clearInterval(v)},[]);const p=S.useCallback(()=>{u(),o("/character-creation")},[u,o]),T=S.useCallback(()=>{x(),o("/game")},[x,o]),R=S.useCallback(()=>{o("/account-creation")},[o]),k=S.useCallback(()=>{o("/login")},[o]),E=S.useCallback(()=>{o("/game-info")},[o]),h=S.useMemo(()=>Array.from({length:20},(v,y)=>t.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`},"aria-hidden":"true",children:t.jsx("div",{className:"w-2 h-2 bg-white/20 rounded-full"})},y)),[]);return t.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden","aria-hidden":"true",children:h}),t.jsxs("div",{className:"relative z-10 max-w-6xl w-full",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-gradient mb-4 animate-pulse-glow",children:"Labyrinth Academy"}),t.jsx("h2",{className:"text-2xl md:text-3xl text-text-primary mb-2",children:"  "}),t.jsx("p",{className:"text-lg text-text-secondary",children:"      "})]}),t.jsxs("div",{className:"flex justify-center items-center gap-8 mb-12",children:[t.jsxs("div",{className:`transition-all duration-1000 ${g===0?"scale-110":"scale-100"}`,children:[t.jsx($s,{characterId:"sakura",emotion:g===0?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("div",{className:"text-text-primary font-semibold",children:""}),t.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),t.jsxs("div",{className:`transition-all duration-1000 ${g===1?"scale-110":"scale-100"}`,children:[t.jsx($s,{characterId:"yuki",emotion:g===1?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("div",{className:"text-text-primary font-semibold",children:""}),t.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),t.jsxs("div",{className:`transition-all duration-1000 ${g===2?"scale-110":"scale-100"}`,children:[t.jsx($s,{characterId:"luna",emotion:g===2?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("div",{className:"text-text-primary font-semibold",children:""}),t.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]}),t.jsxs("div",{className:`transition-all duration-1000 ${g===3?"scale-110":"scale-100"}`,children:[t.jsx($s,{characterId:"mystery",emotion:g===3?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("div",{className:"text-text-primary font-semibold",children:"???"}),t.jsx("div",{className:"text-text-secondary text-sm",children:" "})]})]})]}),t.jsxs("div",{className:"glass-card p-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),r&&c&&t.jsxs("div",{className:"glass-card p-3 mb-4 border-accent/30",children:[t.jsx("div",{className:"text-accent text-sm",children:""}),t.jsx("div",{className:"text-text-primary font-medium",children:c.username})]}),t.jsx("button",{onClick:p,disabled:!r,className:`w-full py-4 px-6 font-bold rounded-xl transition-all duration-300 transform ${r?"btn-primary hover:scale-105":"bg-gray-500 cursor-not-allowed opacity-50 text-gray-300"}`,"aria-label":r?"  ":"    ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:r?"  ":"   "})]})}),N&&t.jsx("button",{onClick:T,className:"w-full py-4 px-6 btn-glass font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"  ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:" "})]})}),t.jsx("button",{onClick:R,className:"w-full py-4 px-6 btn-accent font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"  ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:" "})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),r?t.jsx("button",{onClick:C,className:"w-full py-4 px-6 btn-secondary font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":" ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:""})]})}):t.jsx("button",{onClick:k,className:"w-full py-4 px-6 btn-secondary font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":" ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:""})]})}),t.jsx("button",{onClick:E,className:"w-full py-4 px-6 btn-glass font-bold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"   ",role:"button",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),t.jsx("span",{children:" "})]})})]})]}),t.jsxs("div",{className:"mt-8 border-t border-border pt-6",children:[t.jsx("h4",{className:"text-lg font-bold text-text-primary mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-text-primary font-semibold",children:""}),t.jsx("div",{className:"text-text-secondary text-sm",children:"   "})]}),t.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-text-primary font-semibold",children:" "}),t.jsx("div",{className:"text-text-secondary text-sm",children:"  "})]}),t.jsxs("div",{className:"glass-card p-4 hover:shadow-glow-sm transition-all duration-300",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-text-primary font-semibold",children:" "}),t.jsx("div",{className:"text-text-secondary text-sm",children:"  "})]})]})]})]}),t.jsx("div",{className:"text-center mt-8 text-text-secondary",children:t.jsx("p",{children:" 2024 Labyrinth Academy Dating Sim. Made with "})})]})]})});Bx.displayName="Homepage";const Ng=({onLogin:r})=>{const[c,d]=S.useState(""),[o,u]=S.useState(""),[x,g]=S.useState(!1),[b,N]=S.useState(""),f=Ge(),C=async p=>{p.preventDefault(),g(!0),N("");try{await new Promise(R=>setTimeout(R,1e3)),r(c,o)?f("/"):N("   .")}catch{N("   .")}finally{g(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),t.jsx("p",{className:"text-purple-200",children:"   "})]}),t.jsxs("form",{onSubmit:C,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),t.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:" ",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),t.jsx("input",{type:"password",value:o,onChange:p=>u(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:" ",required:!0})]}),b&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:t.jsx("p",{className:"text-red-300 text-sm",children:b})}),t.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:x?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):""})]}),t.jsxs("div",{className:"mt-6 text-center space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1 h-px bg-white/20"}),t.jsx("span",{className:"text-white/50 text-sm",children:""}),t.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),t.jsx("button",{onClick:()=>f("/character-creation"),className:"w-full py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105",children:"  "}),t.jsx("button",{onClick:()=>f("/"),className:"w-full py-2 px-4 text-purple-300 hover:text-white transition-colors",children:" "}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{className:"text-purple-300 hover:text-white text-sm transition-colors",children:" ?"})})]}),t.jsxs("div",{className:"mt-6 bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[t.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:" "}),t.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[t.jsx("p",{children:": demo"}),t.jsx("p",{children:": password"})]})]})]})})},wg=({onCancel:r})=>{const c=Ge(),{resetGame:d}=de(w=>w.actions),[o,u]=S.useState(1),[x,g]=S.useState(!1),[b,N]=S.useState(""),[f,C]=S.useState({playerName:"",startingStats:{intelligence:10,charm:10,stamina:10,strength:10,agility:10,luck:10}}),p=Object.values(f.startingStats).reduce((w,H)=>w+H,0),T=80,R=T-p,k=(w,H)=>{C(Z=>({...Z,[w]:H}))},E=(w,H)=>{const Z=Math.max(5,Math.min(20,H));Object.values(f.startingStats).reduce((V,ce)=>V+ce,0)-f.startingStats[w]+Z<=T&&C(V=>({...V,startingStats:{...V.startingStats,[w]:Z}}))},h=()=>f.playerName.trim()?f.playerName.length<2?"   2  .":null:"  .",v=()=>{if(N(""),o===1){const w=h();if(w){N(w);return}}u(w=>w+1)},y=async()=>{N(""),g(!0);try{await new Promise(w=>setTimeout(w,1e3)),d(f),c("/game")}catch{N("    .")}finally{g(!1)}},_=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" "}),t.jsx("p",{className:"text-purple-200",children:"    "})]}),t.jsx("div",{className:"text-center mb-6",children:t.jsx($s,{characterId:"hero",size:"large"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:" "}),t.jsx("input",{type:"text",value:f.playerName,onChange:w=>k("playerName",w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 text-center",placeholder:"  "})]}),t.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[t.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:" "}),t.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[t.jsx("p",{children:"   "}),t.jsx("p",{children:"       "}),t.jsx("p",{children:"        "})]})]})]}),M=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:" "}),t.jsxs("p",{className:"text-purple-200",children:[" ",T,"    ( : ",R,")"]})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(f.startingStats).map(([w,H])=>{const B={intelligence:{name:"",icon:"",color:"blue"},charm:{name:"",icon:"",color:"pink"},stamina:{name:"",icon:"",color:"green"},strength:{name:"",icon:"",color:"orange"},agility:{name:"",icon:"",color:"cyan"},luck:{name:"",icon:"",color:"yellow"}}[w];return t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 w-24",children:[t.jsx("span",{className:"text-lg",children:B.icon}),t.jsx("span",{className:"text-white font-medium",children:B.name})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[t.jsx("button",{onClick:()=>E(w,H-1),disabled:H<=5,className:"w-8 h-8 bg-red-500/50 hover:bg-red-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"-"}),t.jsxs("div",{className:"flex-1 mx-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-white",children:H}),t.jsxs("span",{className:"text-gray-400",children:[H,"/20"]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:`bg-gradient-to-r from-${B.color}-400 to-${B.color}-600 h-2 rounded-full transition-all duration-300`,style:{width:`${H/20*100}%`}})})]}),t.jsx("button",{onClick:()=>E(w,H+1),disabled:H>=20||R<=0,className:"w-8 h-8 bg-green-500/50 hover:bg-green-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"+"})]})]},w)})}),t.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[t.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:" "}),t.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[t.jsx("p",{children:" :      "}),t.jsx("p",{children:" :    "}),t.jsx("p",{children:" :      "}),t.jsx("p",{children:" :    "}),t.jsx("p",{children:" :    "}),t.jsx("p",{children:" :    "})]})]})]});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-lg w-full",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex justify-between text-sm text-purple-300 mb-2",children:[t.jsxs("span",{children:[" ",o,"/2"]}),t.jsxs("span",{children:[Math.round(o/2*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${o/2*100}%`}})})]}),o===1&&_(),o===2&&M(),b&&t.jsx("div",{className:"mt-6 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:t.jsx("p",{className:"text-red-300 text-sm",children:b})}),t.jsxs("div",{className:"flex gap-4 mt-8",children:[o>1&&t.jsx("button",{onClick:()=>u(w=>w-1),className:"flex-1 py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:""}),o<2?t.jsx("button",{onClick:v,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105",children:""}):t.jsx("button",{onClick:y,disabled:x||R!==0,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:x?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:" ..."})]}):" "})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{onClick:()=>r?r():c("/"),className:"text-purple-300 hover:text-white text-sm transition-colors",children:r?"":" "})})]})})},kg=[{id:1,name:" ",description:"    .     .",layout:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,2,0,1,0,3,1],[1,0,0,0,1,0,0,1],[1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,1],[1,0,4,0,0,0,5,1],[1,1,1,1,1,1,1,1]],enemies:[{id:"dustBunny",name:" ",hp:15,maxHp:15,attack:5,defense:2,agility:8,experience:10,drops:[{itemId:"energyDrink",chance:.3,quantity:1}],sprite:"",description:"     .  ."}],treasures:[{id:"chest1",position:{x:2,y:2},contents:[{itemId:"healingPotion",chance:1,quantity:2},{itemId:"flower",chance:.5,quantity:1}],opened:!1},{id:"chest2",position:{x:6,y:2},contents:[{itemId:"studyGuide",chance:1,quantity:1}],opened:!1}],nextFloorRequirement:{bossDefeated:!1}},{id:2,name:" ",description:"  .    .",layout:[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,1,0,0,0,1],[1,0,2,0,0,0,0,3,0,1],[1,0,0,0,1,1,0,0,0,1],[1,1,0,1,1,1,1,0,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,1,0,0,6,1],[1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"magicBook",name:"",hp:25,maxHp:25,attack:8,defense:4,agility:6,experience:20,drops:[{itemId:"manaPotion",chance:.4,quantity:1},{itemId:"mirror",chance:.2,quantity:1}],sprite:"",description:"  .   ."}],treasures:[{id:"magicChest1",position:{x:2,y:2},contents:[{itemId:"manaPotion",chance:1,quantity:3},{itemId:"charm",chance:.3,quantity:1}],opened:!1},{id:"magicChest2",position:{x:7,y:2},contents:[{itemId:"mysticStaff",chance:.8,quantity:1}],opened:!1},{id:"secretChest",position:{x:8,y:8},contents:[{itemId:"mysteryKey",chance:1,quantity:1}],opened:!1}],boss:{id:"shadowMage",name:" ",hp:80,maxHp:80,attack:15,defense:8,agility:10,experience:100,drops:[{itemId:"mageRobe",chance:.8,quantity:1},{itemId:"wisdomPendant",chance:.3,quantity:1},{itemId:"experienceScroll",chance:1,quantity:3}],sprite:"",description:"    .    ."},nextFloorRequirement:{bossDefeated:!0}},{id:3,name:" ",description:"     .   .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,1,1,1,1,0,3,0,1],[1,0,0,0,1,0,0,1,0,0,0,1],[1,0,1,0,1,0,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,0,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"ancientGuardian",name:" ",hp:50,maxHp:50,attack:12,defense:10,agility:4,experience:40,drops:[{itemId:"strengthAmulet",chance:.2,quantity:1},{itemId:"plateArmor",chance:.1,quantity:1}],sprite:"",description:"    .  ."}],treasures:[{id:"ancientChest1",position:{x:2,y:2},contents:[{itemId:"steelSword",chance:.7,quantity:1},{itemId:"healingPotion",chance:1,quantity:5}],opened:!1},{id:"ancientChest2",position:{x:9,y:2},contents:[{itemId:"luckRing",chance:.6,quantity:1}],opened:!1},{id:"sacredAltar",position:{x:6,y:10},contents:[{itemId:"jewelryBox",chance:1,quantity:1},{itemId:"statBooster",chance:.5,quantity:1}],opened:!1}],boss:{id:"ancientDragon",name:" ",hp:150,maxHp:150,attack:25,defense:15,agility:8,experience:200,drops:[{itemId:"wisdomPendant",chance:1,quantity:1},{itemId:"jewelryBox",chance:.8,quantity:1},{itemId:"experienceScroll",chance:1,quantity:5}],sprite:"",description:"   .   ."},nextFloorRequirement:{bossDefeated:!0,itemRequired:"mysteryKey"}},{id:4,name:" ",description:"  .    .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,1,1,0,0,0,3,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,4,4,0,0,0,0,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,1,1,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"iceGolem",name:" ",hp:80,maxHp:80,attack:18,defense:15,agility:3,experience:60,gold:80,drops:[{itemId:"iceShard",chance:.3,quantity:1}],sprite:"",description:"   "},{id:"frostSprite",name:" ",hp:45,maxHp:45,attack:22,defense:8,agility:12,experience:45,gold:60,sprite:"",description:"   "}],treasures:[{id:"iceChest1",position:{x:5,y:5},contents:[{itemId:"frostArmor",chance:.8,quantity:1}],opened:!1},{id:"iceChest2",position:{x:6,y:5},contents:[{itemId:"healingPotion",chance:1,quantity:10}],opened:!1}],boss:{id:"iceQueen",name:" ",hp:250,maxHp:250,attack:35,defense:20,agility:10,experience:300,gold:500,drops:[{itemId:"iceQueenCrown",chance:.7,quantity:1},{itemId:"experienceScroll",chance:1,quantity:10}],sprite:"",description:"   "},nextFloorRequirement:{bossDefeated:!0}},{id:5,name:" ",description:"    .    .",layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,0,1,1,0,0,0,0,3,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,4,4,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,1,1,6,6,1,1,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"lavaSerpent",name:" ",hp:90,maxHp:90,attack:28,defense:10,agility:15,experience:80,gold:100,sprite:"",description:"    "},{id:"fireElemental",name:" ",hp:70,maxHp:70,attack:32,defense:5,agility:8,experience:70,gold:90,sprite:"",description:"   "}],treasures:[{id:"lavaChest1",position:{x:6,y:5},contents:[{itemId:"fireResistRing",chance:.9,quantity:1}],opened:!1},{id:"lavaChest2",position:{x:7,y:5},contents:[{itemId:"phoenixFeather",chance:.5,quantity:1}],opened:!1}],boss:{id:"firedragon",name:" ",hp:400,maxHp:400,attack:45,defense:25,agility:12,experience:500,gold:1e3,drops:[{itemId:"dragonScale",chance:.8,quantity:1},{itemId:"legendaryWeapon",chance:.3,quantity:1}],sprite:"",description:"  ,   "},nextFloorRequirement:{bossDefeated:!0,levelRequired:30}}],Us={floors:kg},Sg={fireball:{id:"fireball",name:"",description:"   ",icon:"",type:"attack",element:"fire",mpCost:10,damage:30,cooldown:0,level:1,requiredLevel:1,requiredInt:15},heal:{id:"heal",name:"",description:"HP ",icon:"",type:"heal",element:"light",mpCost:15,healAmount:50,cooldown:2,level:1,requiredLevel:1,requiredInt:10},lightning:{id:"lightning",name:"",description:"  ",icon:"",type:"attack",element:"electric",mpCost:25,damage:50,cooldown:1,level:1,requiredLevel:10,requiredInt:25},ice_shard:{id:"ice_shard",name:" ",description:"  ",icon:"",type:"attack",element:"ice",mpCost:20,damage:35,freezeChance:.3,cooldown:1,level:1,requiredLevel:5,requiredInt:20},shield:{id:"shield",name:"",description:"  ",icon:"",type:"buff",element:"neutral",mpCost:20,defenseBoost:20,duration:3,cooldown:3,level:1,requiredLevel:8},berserk:{id:"berserk",name:"",description:" ,  ",icon:"",type:"buff",element:"neutral",mpCost:15,attackBoost:50,defenseReduce:20,duration:5,cooldown:5,level:1,requiredLevel:12,requiredStrength:30},poison_blade:{id:"poison_blade",name:"",description:"  ",icon:"",type:"attack",element:"poison",mpCost:15,damage:25,poisonDamage:5,poisonDuration:5,cooldown:2,level:1,requiredLevel:7},teleport:{id:"teleport",name:"",description:"   ",icon:"",type:"utility",element:"space",mpCost:30,cooldown:10,level:1,requiredLevel:15,requiredInt:35},summon_familiar:{id:"summon_familiar",name:" ",description:"   ",icon:"",type:"summon",element:"spirit",mpCost:40,familiarHp:50,familiarAttack:15,duration:10,cooldown:15,level:1,requiredLevel:20,requiredInt:40},meteor:{id:"meteor",name:"",description:"   ",icon:"",type:"attack",element:"fire",mpCost:50,damage:100,aoe:!0,cooldown:5,level:1,requiredLevel:25,requiredInt:50}},Cg={skills:Sg},Ka=Cg.skills,Mg=({enemy:r,onVictory:c,onDefeat:d,onFlee:o})=>{const u=de(W=>W.player),{updateHpMp:x,gainExperience:g,addItem:b,updateMoney:N}=de(W=>W.actions),[f,C]=S.useState({playerHp:u.hp,playerMp:u.mp,enemyHp:r.hp||r.maxHp,enemyMp:r.mp||50,turn:"player",battleLog:[`${r.name}()  !`],playerEffects:[],enemyEffects:[],turnCount:0,skillCooldowns:{},isAnimating:!1,currentAnimation:null}),[p,T]=S.useState(null),[R,k]=S.useState(!1),E=[Ka.fireball,Ka.heal,Ka.lightning,Ka.ice_shard,Ka.shield,Ka.poison_blade].filter(W=>W&&u.level>=(W.requiredLevel||1)),h=W=>{C(te=>({...te,battleLog:[...te.battleLog.slice(-4),W]}))},v=(W,te)=>{C(ie=>{const ee=W==="player"?"playerEffects":"enemyEffects";return ie[ee].find(Y=>Y.name===te.name)?{...ie,[ee]:ie[ee].map(Y=>Y.name===te.name?{...Y,duration:te.duration}:Y)}:{...ie,[ee]:[...ie[ee],te]}})},y=W=>{C(te=>{const ie=W==="player"?"playerEffects":"enemyEffects",ee=W==="player"?"playerHp":"enemyHp";let A=te[ee],Y=[];const le=te[ie].reduce((he,O)=>{if(O.effect.dotDamage&&(A-=O.effect.dotDamage,Y.push(`${W==="player"?"":r.name} ${O.name} ${O.effect.dotDamage}  !`)),O.effect.healOverTime){const X=W==="player"?u.maxHp:r.maxHp;A=Math.min(X,A+O.effect.healOverTime),Y.push(`${W==="player"?"":r.name} ${O.name} ${O.effect.healOverTime} HP !`)}const G=O.duration-1;return G>0?he.push({...O,duration:G}):Y.push(`${O.name}  .`),he},[]);return Y.forEach(he=>h(he)),{...te,[ie]:le,[ee]:Math.max(0,A)}})},_=(W,te)=>{const ie=te==="player"?f.playerEffects:f.enemyEffects,ee=te==="player"?f.enemyEffects:f.playerEffects;let A=W;return ie.forEach(Y=>{Y.effect.attack&&(A+=Y.effect.attack)}),ee.forEach(Y=>{Y.effect.defense&&(A=Math.max(1,A-Y.effect.defense))}),A=Math.floor(A*(.9+Math.random()*.2)),Math.max(1,A)},M=()=>{if(f.isAnimating||R)return;C(ie=>({...ie,isAnimating:!0,currentAnimation:"attack"}));const W=u.stats?.strength||10,te=_(W,"player");setTimeout(()=>{C(ie=>({...ie,enemyHp:Math.max(0,ie.enemyHp-te),isAnimating:!1,currentAnimation:null})),h(` ! ${r.name} ${te} !`),f.enemyHp-te<=0?ae():Z()},500)},w=W=>{if(f.isAnimating||R)return;const te=Ka[W];if(te){if(f.playerMp<te.mpCost){h("MP !");return}if(f.skillCooldowns[W]>0){h(`${te.name}()   ! (${f.skillCooldowns[W]})`);return}C(ie=>({...ie,isAnimating:!0,currentAnimation:`skill-${te.element}`,playerMp:ie.playerMp-te.mpCost,skillCooldowns:{...ie.skillCooldowns,[W]:te.cooldown||0}})),setTimeout(()=>{let ie=`${te.name} !`;if(te.type==="attack"){const ee=_(te.damage||20,"player");C(A=>({...A,enemyHp:Math.max(0,A.enemyHp-ee)})),ie+=` ${r.name} ${ee} ${te.element} !`,te.element==="fire"&&Math.random()<.3?(v("enemy",{name:"",icon:"",duration:3,type:"debuff",effect:{dotDamage:5}}),ie+="   !"):te.element==="ice"&&Math.random()<.3?(v("enemy",{name:"",icon:"",duration:2,type:"debuff",effect:{speed:-5}}),ie+="   !"):te.element==="electric"&&Math.random()<.3&&(v("enemy",{name:"",icon:"",duration:2,type:"debuff",effect:{attack:-3,defense:-3}}),ie+="   !")}else if(te.type==="heal"){const ee=te.healAmount||30;C(A=>({...A,playerHp:Math.min(u.maxHp,A.playerHp+ee)})),ie+=` HP ${ee} !`}else te.type==="buff"&&(v("player",{name:te.name,icon:te.icon,duration:te.duration||3,type:"buff",effect:te.effect||{}}),ie+="   !");h(ie),C(ee=>({...ee,isAnimating:!1,currentAnimation:null})),f.enemyHp<=0?ae():Z()},800)}},H=()=>{f.isAnimating||R||(v("player",{name:" ",icon:"",duration:1,type:"buff",effect:{defense:10}}),C(W=>({...W,playerMp:Math.min(u.maxMp,W.playerMp+5)})),h(" !   MP 5 ."),Z())},Z=()=>{y("player"),C(W=>({...W,skillCooldowns:Object.entries(W.skillCooldowns).reduce((te,[ie,ee])=>(te[ie]=Math.max(0,ee-1),te),{}),turn:"enemy",turnCount:W.turnCount+1})),setTimeout(()=>B(),1e3)},B=()=>{if(R)return;C(te=>({...te,isAnimating:!0,currentAnimation:"enemy-attack"}));const W=Math.random();setTimeout(()=>{if(W<.6){const te=_(r.attack||5,"enemy");C(ie=>({...ie,playerHp:Math.max(0,ie.playerHp-te)})),h(`${r.name} ! ${te}  !`)}else if(W<.9&&f.enemyMp>=10){const te=_((r.attack||5)*1.5,"enemy");C(ie=>({...ie,playerHp:Math.max(0,ie.playerHp-te),enemyMp:ie.enemyMp-10})),h(`${r.name}  ! ${te}   !`),Math.random()<.3&&(v("player",{name:"",icon:"",duration:2,type:"debuff",effect:{attack:-3}}),h("  !"))}else C(te=>({...te,enemyHp:Math.min(r.maxHp,te.enemyHp+10)})),h(`${r.name}() !`);y("enemy"),C(te=>({...te,isAnimating:!1,currentAnimation:null,turn:"player"})),f.playerHp<=0&&V()},800)},ae=()=>{k(!0),h(`! ${r.name}() !`);const W=r.experience||10,te=r.gold||Math.floor(Math.random()*20)+10;if(g(W),N(te),r.drops&&Math.random()<.5){const ie=r.drops[Math.floor(Math.random()*r.drops.length)];ie&&(b(ie.itemId),h(`${ie.itemId}() !`))}h(` +${W},  +${te}`),x(f.playerHp,f.playerMp),setTimeout(()=>{c()},2e3)},V=()=>{k(!0),h("...");const W=Math.floor(u.money*.1);N(-W),x(1,u.mp),h(` ${W} .`),setTimeout(()=>{d()},2e3)},ce=()=>{if(f.isAnimating||R)return;const W=.6+(u.stats?.agility||10)*.02;Math.random()<W?(h("!"),x(f.playerHp,f.playerMp),setTimeout(()=>o(),1e3)):(h(" !"),Z())};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",children:t.jsxs("div",{className:"w-full max-w-6xl h-full max-h-[90vh] glass-card p-6 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"glass-card p-4",children:[t.jsxs("h3",{className:"text-xl font-bold text-text-primary mb-2",children:[u.name," (Lv.",u.level,")"]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-red-400",children:"HP"}),t.jsxs("span",{className:"text-text-secondary",children:[f.playerHp,"/",u.maxHp]})]}),t.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${f.playerHp/u.maxHp*100}%`}})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-blue-400",children:"MP"}),t.jsxs("span",{className:"text-text-secondary",children:[f.playerMp,"/",u.maxMp]})]}),t.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300",style:{width:`${f.playerMp/u.maxMp*100}%`}})})]}),f.playerEffects.length>0&&t.jsx("div",{className:"flex gap-2 mt-2",children:f.playerEffects.map((W,te)=>t.jsxs("div",{className:`badge ${W.type==="buff"?"badge-success":"badge-error"}`,title:W.name,children:[W.icon," ",W.duration]},te))})]}),t.jsx("div",{className:`h-48 flex items-center justify-center ${f.currentAnimation==="attack"?"animate-pulse":""}`,children:t.jsx("div",{className:"text-8xl",children:""})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"glass-card p-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:r.name}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-red-400",children:"HP"}),t.jsxs("span",{className:"text-text-secondary",children:[f.enemyHp,"/",r.maxHp]})]}),t.jsx("div",{className:"w-full h-4 bg-background-dark rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${f.enemyHp/r.maxHp*100}%`}})})]}),f.enemyEffects.length>0&&t.jsx("div",{className:"flex gap-2 mt-2",children:f.enemyEffects.map((W,te)=>t.jsxs("div",{className:`badge ${W.type==="buff"?"badge-success":"badge-error"}`,title:W.name,children:[W.icon," ",W.duration]},te))})]}),t.jsx("div",{className:`h-48 flex items-center justify-center ${f.currentAnimation==="enemy-attack"?"animate-bounce":""}`,children:t.jsx("div",{className:"text-8xl",children:r.icon||""})})]})]}),t.jsx("div",{className:"glass-card p-3 h-24 mb-4 overflow-y-auto",children:f.battleLog.map((W,te)=>t.jsx("div",{className:"text-sm text-text-secondary",children:W},te))}),t.jsx("div",{className:"glass-card p-4",children:f.turn==="player"&&!R?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("button",{onClick:M,disabled:f.isAnimating,className:"btn-primary px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),t.jsx("button",{onClick:()=>T(p?null:"skills"),disabled:f.isAnimating,className:"btn-accent px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),t.jsx("button",{onClick:H,disabled:f.isAnimating,className:"btn-secondary px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "}),t.jsx("button",{onClick:ce,disabled:f.isAnimating,className:"btn-ghost px-4 py-3 rounded-lg font-semibold disabled:opacity-50",children:" "})]}),p==="skills"&&t.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3 p-3 bg-background-dark rounded-lg",children:E.map(W=>{const te=f.skillCooldowns[W.id]>0,ie=f.playerMp<W.mpCost;return t.jsx("button",{onClick:()=>w(W.id),disabled:f.isAnimating||te||ie,className:`p-3 rounded-lg text-left transition-all ${te||ie?"bg-gray-700 opacity-50 cursor-not-allowed":"bg-primary/20 hover:bg-primary/30"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:W.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-text-primary",children:W.name}),t.jsxs("div",{className:"text-xs text-text-secondary",children:["MP: ",W.mpCost,te&&` (CD: ${f.skillCooldowns[W.id]})`]})]})]})},W.id)})})]}):f.turn==="enemy"&&!R?t.jsx("div",{className:"text-center text-text-secondary py-4",children:t.jsx("div",{className:"animate-pulse",children:" ..."})}):R?t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"text-2xl font-bold text-text-primary mb-2",children:" !"}),t.jsx("button",{onClick:f.playerHp>0?c:d,className:"btn-primary px-6 py-3 rounded-lg font-semibold",children:""})]}):null})]})})},$c=0,di=1,Yc=2,gx=3,bx=4,Qc=5,Xc=6,Eg=()=>{const r=Ge(),c=de(G=>G.player),{updatePlayer:d,updateHpMp:o,addItem:u,updateMoney:x,gainExperience:g}=de(G=>G.actions),b=(c.dungeonProgress?.currentFloor||1)-1,N=Us.floors[b]||Us.floors[0],[f,C]=S.useState(!1),[p,T]=S.useState(null),R=G=>{for(let X=0;X<G.length;X++)for(let J=0;J<G[X].length;J++)if(G[X][J]===Yc)return{x:J,y:X};for(let X=0;X<G.length;X++)for(let J=0;J<G[X].length;J++)if(G[X][J]===$c)return{x:J,y:X};return{x:1,y:1}},[k,E]=S.useState(()=>N.layout.map(G=>[...G])),[h,v]=S.useState(()=>{const G=c.dungeonProgress?.position;return G&&G.x!==void 0&&G.y!==void 0&&k[G.y]&&k[G.y][G.x]!==di?G:R(k)}),[y,_]=S.useState(()=>{const G=h;return new Set([`${G.x},${G.y}`])}),[M,w]=S.useState(" !"),[H,Z]=S.useState(new Set),[B,ae]=S.useState(new Set),[V,ce]=S.useState(new Map);S.useEffect(()=>{const G=new Map;if(N.enemies&&N.enemies.length>0){const X=[];for(let I=0;I<k.length;I++)for(let ne=0;ne<k[I].length;ne++)if(k[I][ne]===$c){const re={x:ne,y:I},De=R(k);Math.abs(re.x-De.x)+Math.abs(re.y-De.y)>2&&X.push(re)}const J=Math.min(X.length,3+Math.floor(Math.random()*3));for(let I=0;I<J;I++)if(X.length>0){const ne=Math.floor(Math.random()*X.length),re=X[ne],De=N.enemies[Math.floor(Math.random()*N.enemies.length)];G.set(`${re.x},${re.y}`,{...De}),X.splice(ne,1)}}ce(G)},[N]),S.useEffect(()=>{d({dungeonProgress:{...c.dungeonProgress,position:h}})},[h]),S.useEffect(()=>{const G=new Set(y);for(let X=-1;X<=1;X++)for(let J=-1;J<=1;J++){const I=h.x+J,ne=h.y+X;I>=0&&ne>=0&&ne<k.length&&I<k[0].length&&G.add(`${I},${ne}`)}_(G)},[h]);const W=S.useCallback((G,X)=>{const J=h.x+G,I=h.y+X;if(J<0||I<0||I>=k.length||J>=k[0].length){w(" !");return}const ne=k[I][J];if(ne===di){w(" !");return}v({x:J,y:I}),te(J,I,ne)},[h,k]),te=(G,X,J)=>{const I=`${G},${X}`;if(V.has(I)&&!B.has(I)){const ne=V.get(I);T(ne),C(!0),w(`${ne.name}() !`);return}switch(J){case $c:case Yc:w("  ...");break;case gx:H.has(I)?w("  ."):ie(G,X);break;case bx:ee();break;case Qc:A();break;case Xc:B.has(I)?w("  ."):Y();break}},ie=(G,X)=>{const J=N.treasures||[{name:" ",effect:"HP +20",value:20},{name:"",effect:"Gold +50",value:50},{name:" ",effect:"MP +10",value:10}],I=J[Math.floor(Math.random()*J.length)];w(` ! ${I.name}() !`),I.effect.includes("HP")?o(Math.min(c.maxHp,c.hp+I.value),c.mp):I.effect.includes("MP")?o(c.hp,Math.min(c.maxMp,c.mp+I.value)):I.effect.includes("Gold")&&x(I.value),Z(ne=>new Set(ne).add(`${G},${X}`))},ee=()=>{const G=Math.floor(Math.random()*10)+5;w(` ! ${G}  !`),o(Math.max(1,c.hp-G),c.mp)},A=()=>{b<Us.floors.length-1?(w("  !"),d({dungeonProgress:{...c.dungeonProgress,currentFloor:b+2,position:{x:1,y:1}}}),E(Us.floors[b+1].layout),v(R(Us.floors[b+1].layout)),_(new Set),Z(new Set),ae(new Set)):(w("!  !"),g(100),x(500),r("/game"))},Y=(G,X)=>{const J=N.boss;if(!J){w(" .");return}T(J),C(!0),w(` ${J.name}()  !`)},le=()=>{const G=`${h.x},${h.y}`;ae(X=>new Set([...X,G])),C(!1),T(null),w(" !")},he=()=>{C(!1),T(null);const G=R(k);v(G),o(Math.floor(c.maxHp*.5),c.mp),w(" .   .")},O=()=>{C(!1),T(null);const G=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];for(const X of G){const J=h.x+X.dx,I=h.y+X.dy;if(J>=0&&I>=0&&I<k.length&&J<k[0].length&&k[I][J]!==di){v({x:J,y:I});break}}w(" .")};return S.useEffect(()=>{const G=X=>{if(!f)switch(X.key){case"ArrowUp":case"w":W(0,-1);break;case"ArrowDown":case"s":W(0,1);break;case"ArrowLeft":case"a":W(-1,0);break;case"ArrowRight":case"d":W(1,0);break}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[W,f]),f&&p?t.jsx(Mg,{enemy:p,onVictory:le,onDefeat:he,onFlee:O}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"glass-card p-4 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:["  - ",N.name]}),t.jsxs("p",{className:"text-text-secondary",children:[": ",N.id," | : (",h.x,", ",h.y,")"]})]}),t.jsx("button",{onClick:()=>r("/game"),className:"btn-secondary px-6 py-3 rounded-xl font-semibold",children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"glass-card p-6",children:[t.jsx("div",{className:"grid grid-cols-8 gap-1 mb-4",children:k.map((G,X)=>G.map((J,I)=>{const ne=`${I},${X}`,re=y.has(ne),De=I===h.x&&X===h.y,Ae=V.has(ne)&&!B.has(ne);return t.jsx("div",{className:`
                          aspect-square flex items-center justify-center rounded
                          ${re?J===di?"bg-gray-700":J===Yc?"bg-green-800":J===Qc?"bg-yellow-800":J===Xc?"bg-red-900":"bg-gray-600":"bg-gray-800"}
                          ${De?"ring-2 ring-primary animate-pulse":""}
                        `,children:re&&t.jsx(t.Fragment,{children:De?t.jsx("div",{className:"text-2xl",children:""}):t.jsxs("div",{className:"text-xl",children:[J===gx&&!H.has(ne)&&"",J===Qc&&"",J===Xc&&!B.has(ne)&&"",J===bx&&"",Ae&&t.jsx("span",{className:"animate-pulse",children:V.get(ne)?.icon||""})]})})},ne)}))}),t.jsxs("div",{className:"glass-card p-4",children:[t.jsx("p",{className:"text-text-secondary text-center mb-3",children:"  WASD "}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-xs mx-auto",children:[t.jsx("div",{}),t.jsx("button",{onClick:()=>W(0,-1),className:"btn-primary p-3 rounded-lg",children:""}),t.jsx("div",{}),t.jsx("button",{onClick:()=>W(-1,0),className:"btn-primary p-3 rounded-lg",children:""}),t.jsx("button",{onClick:()=>W(0,1),className:"btn-primary p-3 rounded-lg",children:""}),t.jsx("button",{onClick:()=>W(1,0),className:"btn-primary p-3 rounded-lg",children:""})]})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"glass-card p-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:" "}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-red-400",children:"HP"}),t.jsxs("span",{className:"text-text-secondary",children:[c.hp,"/",c.maxHp]})]}),t.jsx("div",{className:"w-full h-2 bg-background-dark rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-300",style:{width:`${c.hp/c.maxHp*100}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-blue-400",children:"MP"}),t.jsxs("span",{className:"text-text-secondary",children:[c.mp,"/",c.maxMp]})]}),t.jsx("div",{className:"w-full h-2 bg-background-dark rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300",style:{width:`${c.mp/c.maxMp*100}%`}})})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"bg-background-dark p-2 rounded",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"float-right text-text-primary",children:c.level})]}),t.jsxs("div",{className:"bg-background-dark p-2 rounded",children:[t.jsx("span",{className:"text-green-400",children:""}),t.jsx("span",{className:"float-right text-text-primary",children:c.money})]})]})]}),t.jsxs("div",{className:"glass-card p-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:""}),t.jsx("div",{className:"bg-background-dark p-3 rounded-lg h-32 overflow-y-auto",children:t.jsx("p",{className:"text-text-secondary",children:M})})]}),t.jsxs("div",{className:"glass-card p-4",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:""}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-text-secondary",children:""})]})]})]})]})]})]})})},Ag=()=>{const r=Ge(),c=de(p=>p.player),[d,o]=S.useState(null),[u,x]=S.useState(!1),g=[{id:"forest",name:" ",description:"     .",icon:"",difficulty:1,recommendedLevel:1,rewards:[" "," "," "],unlocked:!0,theme:"nature",boss:" "},{id:"crystal_cave",name:" ",description:"    .",icon:"",difficulty:2,recommendedLevel:5,rewards:[" ",""," "],unlocked:c.level>=3,theme:"crystal",boss:" "},{id:"ancient_ruins",name:" ",description:"    .",icon:"",difficulty:3,recommendedLevel:10,rewards:[" "," "," "],unlocked:c.level>=8,theme:"ancient",boss:" "},{id:"ice_palace",name:" ",description:"    .",icon:"",difficulty:4,recommendedLevel:15,rewards:[" "," "," "],unlocked:c.level>=12,theme:"ice",boss:" "},{id:"volcano",name:" ",description:"    .",icon:"",difficulty:5,recommendedLevel:20,rewards:[""," "," "],unlocked:c.level>=18,theme:"fire",boss:" "},{id:"shadow_realm",name:" ",description:"     .",icon:"",difficulty:6,recommendedLevel:25,rewards:[" "," "," "],unlocked:c.level>=22,theme:"shadow",boss:" "},{id:"celestial_tower",name:" ",description:"    .",icon:"",difficulty:7,recommendedLevel:30,rewards:[" "," "," "],unlocked:c.level>=28,theme:"celestial",boss:" "}],b=p=>{const T=g.find(R=>R.id===p);T&&T.unlocked&&(o(p),x(!0))},N=()=>{d&&(de.setState(p=>({player:{...p.player,currentDungeon:d,dungeonProgress:{...p.player.dungeonProgress,currentFloor:1,position:{x:1,y:1}}}})),r("/dungeon"))},f=p=>"".repeat(p)+"".repeat(7-p),C=p=>{const T=["from-green-500 to-green-700","from-blue-500 to-blue-700","from-purple-500 to-purple-700","from-yellow-500 to-yellow-700","from-orange-500 to-orange-700","from-red-500 to-red-700","from-pink-500 to-pink-700"];return T[p-1]||T[0]};return t.jsx("div",{className:"min-h-screen bg-background p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-6 mb-6 border border-border",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"  "}),t.jsx("p",{className:"text-text-secondary",children:"  .      ."})]}),t.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition",children:" "})]})}),t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg p-4 mb-6 border border-border",children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("div",{className:"text-text-primary",children:[t.jsx("span",{className:"text-yellow-400",children:""})," : ",c.level]}),t.jsxs("div",{className:"text-text-primary",children:[t.jsx("span",{className:"text-red-400",children:""})," HP: ",c.hp,"/",c.maxHp]}),t.jsxs("div",{className:"text-text-primary",children:[t.jsx("span",{className:"text-blue-400",children:""})," MP: ",c.mp,"/",c.maxMp]}),t.jsxs("div",{className:"text-text-primary",children:[t.jsx("span",{className:"text-yellow-400",children:""})," : ",c.gold]})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map(p=>t.jsxs("div",{className:`relative transform transition-all duration-300 ${p.unlocked?"hover:scale-105":""}`,children:[t.jsxs("div",{onClick:()=>b(p.id),className:`bg-black/50 backdrop-blur-md rounded-xl border-2 overflow-hidden cursor-pointer ${p.unlocked?"border-border hover:border-primary hover:shadow-xl hover:shadow-primary/20":"border-gray-700 opacity-60 cursor-not-allowed"} ${d===p.id?"border-accent shadow-lg shadow-accent/30":""}`,children:[t.jsx("div",{className:`p-4 bg-gradient-to-r ${C(p.difficulty)}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl mb-2",children:p.icon}),t.jsx("h3",{className:"text-xl font-bold text-white",children:p.unlocked?p.name:"???"})]})}),t.jsx("div",{className:"p-4",children:p.unlocked?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-text-secondary mb-3",children:p.description}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),t.jsx("div",{className:"text-yellow-400",children:f(p.difficulty)})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-text-secondary mb-1",children:" "}),t.jsxs("div",{className:`font-bold ${c.level>=p.recommendedLevel?"text-green-400":"text-red-400"}`,children:["Lv.",p.recommendedLevel,"+"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),t.jsx("div",{className:"text-text-primary font-semibold",children:p.boss})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-text-secondary mb-1",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-1",children:p.rewards.map((T,R)=>t.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded",children:T},R))})]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsxs("p",{className:"text-gray-400",children:[" ",g.find(T=>T.id===p.id)?.recommendedLevel-2,"  "]})]})}),p.unlocked&&t.jsx("div",{className:"px-4 pb-4",children:t.jsx("button",{className:`w-full py-2 rounded-lg font-bold transition ${d===p.id?"bg-accent text-background":"bg-primary hover:bg-secondary text-white"}`,children:d===p.id?" ":""})})]}),!p.unlocked&&t.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center pointer-events-none",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-5xl mb-2",children:""}),t.jsx("div",{className:"text-gray-300 font-bold",children:""})]})})]},p.id))}),u&&d&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-md w-full border border-border",children:[t.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"  "}),t.jsxs("p",{className:"text-text-secondary mb-6",children:[g.find(p=>p.id===d)?.name," ?",t.jsx("br",{}),t.jsx("span",{className:"text-yellow-400 text-sm",children:"      ."})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:N,className:"flex-1 px-4 py-3 bg-primary hover:bg-secondary text-white rounded-lg font-bold transition",children:""}),t.jsx("button",{onClick:()=>{x(!1),o(null)},className:"flex-1 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-bold transition",children:""})]})]})})]})})},_g=()=>{const r=Ge(),c=de(A=>A.player),[d,o]=S.useState([]),[u,x]=S.useState(!1),[g,b]=S.useState(null),[N,f]=S.useState(""),[C,p]=S.useState(null),[T,R]=S.useState(""),[k,E]=S.useState(""),[h,v]=S.useState(""),[y,_]=S.useState([]),[M,w]=S.useState([]),H=[{id:"happy",label:"",emoji:""},{id:"excited",label:"",emoji:""},{id:"peaceful",label:"",emoji:""},{id:"romantic",label:"",emoji:""},{id:"sad",label:"",emoji:""},{id:"confused",label:"",emoji:""},{id:"determined",label:"",emoji:""},{id:"nostalgic",label:"",emoji:""}],Z=()=>{const A=["","","","",""];return Object.keys(c.affection).forEach(Y=>{(c.affection[Y]||0)>0&&A.push(Y)}),c.location&&A.push(c.location),[...new Set(A)]};S.useEffect(()=>{const A=localStorage.getItem("diaryEntries");A&&o(JSON.parse(A))},[]);const B=A=>{localStorage.setItem("diaryEntries",JSON.stringify(A)),o(A)},ae=()=>{if(!T.trim()||!k.trim()){alert("  !");return}const Y=[{id:`diary-${Date.now()}`,date:new Date().toLocaleDateString("ko-KR"),day:c.day,timeOfDay:c.timeOfDay,title:T,content:k,mood:h,tags:y,memories:M,createdAt:Date.now()},...d];B(Y),R(""),E(""),v(""),_([]),w([]),x(!1);const{addExperience:le}=de.getState().actions;le(5)},V=A=>{if(confirm("  ?")){const Y=d.filter(le=>le.id!==A);B(Y),b(null)}},ce=A=>{y.includes(A)||_([...y,A])},W=A=>{_(y.filter(Y=>Y!==A))},te=()=>{const A=[];return c.level>1&&A.push(`  ${c.level} !`),Object.keys(c.affection).forEach(Y=>{(c.affection[Y]||0)>=20&&A.push(`${Y}   .`)}),A},ie=d.filter(A=>{const Y=!N||A.title.toLowerCase().includes(N.toLowerCase())||A.content.toLowerCase().includes(N.toLowerCase()),le=!C||A.tags.includes(C);return Y&&le}),ee=[...new Set(d.flatMap(A=>A.tags))];return t.jsx("div",{className:"min-h-screen bg-background p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-6 mb-6 border border-border",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent mb-2",children:"  "}),t.jsx("p",{className:"text-text-secondary",children:"   "})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-primary hover:bg-secondary text-white rounded-lg transition font-bold",children:"  "}),t.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition",children:" "})]})]})}),t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg p-4 mb-6 border border-border",children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("div",{className:"text-text-primary",children:["  : ",t.jsx("span",{className:"font-bold text-accent",children:d.length}),""]}),t.jsxs("div",{className:"text-text-primary",children:[" Day ",c.day," - ",Tg(c.timeOfDay)]}),t.jsxs("div",{className:"text-text-primary",children:[" ",c.location||""]})]})})}),!u&&!g&&t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg p-4 mb-6 border border-border",children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsx("input",{type:"text",placeholder:" ...",value:N,onChange:A=>f(A.target.value),className:"flex-1 px-4 py-2 bg-black/50 border border-border rounded-lg text-text-primary"}),t.jsxs("select",{value:C||"",onChange:A=>p(A.target.value||null),className:"px-4 py-2 bg-black/50 border border-border rounded-lg text-text-primary",children:[t.jsx("option",{value:"",children:" "}),ee.map(A=>t.jsx("option",{value:A,children:A},A))]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[!u&&!g&&t.jsx(t.Fragment,{children:ie.length>0?ie.map(A=>t.jsxs("div",{onClick:()=>b(A),className:"bg-black/50 backdrop-blur-md rounded-lg p-6 border border-border hover:border-primary cursor-pointer transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-1",children:A.title}),t.jsxs("p",{className:"text-sm text-text-secondary",children:["Day ",A.day," - ",A.date]})]}),t.jsx("span",{className:"text-2xl",children:H.find(Y=>Y.label===A.mood)?.emoji||""})]}),t.jsx("p",{className:"text-text-secondary line-clamp-3 mb-3",children:A.content}),A.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:A.tags.map((Y,le)=>t.jsxs("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded",children:["#",Y]},le))})]},A.id)):t.jsxs("div",{className:"col-span-3 text-center py-16",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("p",{className:"text-text-secondary text-lg",children:N||C?"  .":"   .   !"})]})}),u&&t.jsxs("div",{className:"lg:col-span-3 bg-black/50 backdrop-blur-md rounded-lg p-8 border border-border",children:[t.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"  "}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-text-secondary mb-2",children:""}),t.jsx("input",{type:"text",value:T,onChange:A=>R(A.target.value),placeholder:"  ...",className:"w-full px-4 py-3 bg-black/50 border border-border rounded-lg text-text-primary"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-text-secondary mb-2",children:" "}),t.jsx("div",{className:"grid grid-cols-4 gap-3",children:H.map(A=>t.jsxs("button",{onClick:()=>v(A.label),className:`px-4 py-3 rounded-lg border-2 transition ${h===A.label?"border-primary bg-primary/20":"border-border hover:border-primary/50"}`,children:[t.jsx("span",{className:"text-2xl mr-2",children:A.emoji}),t.jsx("span",{className:"text-text-primary",children:A.label})]},A.id))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-text-secondary mb-2",children:""}),t.jsx("textarea",{value:k,onChange:A=>E(A.target.value),placeholder:"    ...",rows:10,className:"w-full px-4 py-3 bg-black/50 border border-border rounded-lg text-text-primary"}),te().length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-text-secondary mb-2",children:" :"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:te().map((A,Y)=>t.jsxs("button",{onClick:()=>E(le=>le+`
`+A),className:"text-xs bg-purple-600/20 text-purple-400 px-2 py-1 rounded hover:bg-purple-600/30",children:["+ ",A]},Y))})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-text-secondary mb-2",children:""}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.map(A=>t.jsxs("span",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-2",children:["#",A,t.jsx("button",{onClick:()=>W(A),className:"text-red-400 hover:text-red-300",children:""})]},A))}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Z().map(A=>!y.includes(A)&&t.jsxs("button",{onClick:()=>ce(A),className:"text-sm bg-gray-700 text-gray-300 px-3 py-1 rounded-full hover:bg-gray-600",children:["+ ",A]},A))})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:ae,className:"flex-1 px-6 py-3 bg-primary hover:bg-secondary text-white rounded-lg font-bold transition",children:" "}),t.jsx("button",{onClick:()=>{x(!1),R(""),E(""),v(""),_([])},className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-bold transition",children:""})]})]}),g&&t.jsxs("div",{className:"lg:col-span-3 bg-black/50 backdrop-blur-md rounded-lg p-8 border border-border",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:g.title}),t.jsxs("div",{className:"flex gap-4 text-text-secondary",children:[t.jsxs("span",{children:[" Day ",g.day]}),t.jsxs("span",{children:[" ",g.date]}),t.jsxs("span",{children:[H.find(A=>A.label===g.mood)?.emoji," ",g.mood]})]})]}),t.jsx("button",{onClick:()=>b(null),className:"text-2xl text-text-secondary hover:text-text-primary",children:""})]}),t.jsx("div",{className:"bg-black/30 rounded-lg p-6 mb-6",children:t.jsx("p",{className:"text-text-primary whitespace-pre-wrap leading-relaxed",children:g.content})}),g.tags.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:""}),t.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map((A,Y)=>t.jsxs("span",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full",children:["#",A]},Y))})]}),g.memories&&g.memories.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:" "}),t.jsx("div",{className:"space-y-2",children:g.memories.map((A,Y)=>t.jsxs("div",{className:"bg-purple-600/20 text-purple-300 px-4 py-2 rounded-lg",children:[" ",A]},Y))})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>V(g.id),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition",children:" "}),t.jsx("button",{onClick:()=>b(null),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-bold transition",children:""})]})]})]})]})})},Tg=r=>({morning:"",noon:"",afternoon:"",evening:"",night:""})[r]||r,Dg=()=>{const r=Ge(),c=de(H=>H.player),d=de(H=>H.actions.updateAffection),o=de(H=>H.actions.addExperience),u=de(H=>H.actions.addGold),[x,g]=S.useState(null),[b,N]=S.useState(null),[f,C]=S.useState(0),[p,T]=S.useState({}),[R,k]=S.useState(!1),E=[{heroineId:"sakura",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"sakura-1-1",requiredAffection:0,title:" ",description:"  ",dialogue:["(      )",': "...?    ."',': ", . ..."',': ",    ?"'],choices:[{text:"  ",affectionChange:5,response:': "...   ."'},{text:" ",affectionChange:0,response:': "...   ."'}],rewards:{exp:10}},{id:"sakura-1-2",requiredAffection:10,title:" ",description:"    ",dialogue:[': ",   ."',"(   )",': "  ..."',': "? !"',': "...  .  ."'],rewards:{exp:15,gold:50}}]},{id:2,title:" ",requiredAffection:30,events:[{id:"sakura-2-1",requiredAffection:30,title:" ",description:"      ",dialogue:[': "...     ?"',': "   ."',': "...!"',"(  )",': "...     ."',': "  ..."'],choices:[{text:"  ",affectionChange:10,response:': "...  ."'},{text:" ",affectionChange:8,response:': "....     ."'}],rewards:{exp:25,gold:100}}]},{id:3,title:" ",requiredAffection:60,events:[{id:"sakura-3-1",requiredAffection:60,title:"",description:"  ",dialogue:["(  )",': "...   ."',': "    ..."',': "...      ."',': "...  ."'],choices:[{text:" ",affectionChange:20,response:': "? ...  !"'},{text:"()",affectionChange:25,response:': "...! ( )"'}],rewards:{exp:50,gold:200}}]}]},{heroineId:"yuki",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"yuki-1-1",requiredAffection:0,title:" ",description:"   ",dialogue:["(     )",': "... ..."',"(  )",': "  ?"',': "   ...  ?"'],choices:[{text:" ",affectionChange:5,response:': "?  ?"'},{text:" ",affectionChange:2,response:': "  ...   ."'}],rewards:{exp:10}}]},{id:2,title:"  ",requiredAffection:25,events:[{id:"yuki-2-1",requiredAffection:25,title:" ",description:"    ",dialogue:[': " ...  ."',"(    )",': "    ."',': "  ...  ."',': "    ."'],choices:[{text:"",affectionChange:8,response:': " ...  ."'},{text:"    ",affectionChange:12,response:': "....  ."'}],rewards:{exp:20,gold:80}}]}]},{heroineId:"luna",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"luna-1-1",requiredAffection:0,title:" ",description:"   ",dialogue:["(     )",': "!  ? !"',': "...  !"',': ",   !"',': "   ?"'],choices:[{text:"?",affectionChange:5,response:': "!  !"'},{text:"   ",affectionChange:3,response:': "    ! !"'}],rewards:{exp:10}}]}]},{heroineId:"haruka",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"haruka-1-1",requiredAffection:0,title:"  ",description:"   ",dialogue:["(    )",': "!  ?"',': " !  !"',': ", ..."',': " ?   !"'],choices:[{text:", !",affectionChange:5,response:': "! !"'},{text:" ",affectionChange:1,response:': "    !"'}],rewards:{exp:10}}]}]},{heroineId:"miku",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"miku-1-1",requiredAffection:0,title:" ",description:"   ",dialogue:["(   )","(     )",': "!   ?"',': ",  ..."',': "... ."'],choices:[{text:" ?",affectionChange:5,response:': "? !  !"'},{text:" ",affectionChange:2,response:': ".   ."'}],rewards:{exp:10}}]}]},{heroineId:"rina",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"rina-1-1",requiredAffection:0,title:" ",description:"  ",dialogue:["(    )",': "! ! ..."',': " !"',': "!  ?  !"',': "   !"'],choices:[{text:"  ",affectionChange:6,response:': " !  !"'},{text:" ",affectionChange:2,response:': "   !"'}],rewards:{exp:10}}]}]},{heroineId:"ayumi",name:"",sprite:"",currentChapter:1,chapters:[{id:1,title:" ",requiredAffection:0,events:[{id:"ayumi-1-1",requiredAffection:0,title:" ",description:"  ",dialogue:["(       )",': "...   ."',': " ?"',': " .    ..."',': "  ?"'],choices:[{text:"",affectionChange:5,response:': " ...   ."'},{text:"   ",affectionChange:4,response:': " .   ."'}],rewards:{exp:10}}]}]}];S.useEffect(()=>{const H=localStorage.getItem("completedStoryEvents");H&&T(JSON.parse(H))},[]);const h=H=>{localStorage.setItem("completedStoryEvents",JSON.stringify(H)),T(H)},v=()=>{b&&(f<b.dialogue.length-1?C(f+1):b.choices&&b.choices.length>0||_())},y=H=>{!b||!x||(d(x,H.affectionChange),alert(H.response),_())},_=()=>{if(!b||!x)return;const H=p[x]||[];if(!H.includes(b.id)){const Z={...p,[x]:[...H,b.id]};h(Z)}b.rewards&&(b.rewards.exp&&o(b.rewards.exp),b.rewards.gold&&u(b.rewards.gold)),k(!0),setTimeout(()=>{N(null),C(0),k(!1)},2e3)},M=H=>{const Z=E.find(ce=>ce.heroineId===H);if(!Z)return[];const B=c.affection[H]||0,ae=p[H]||[],V=[];for(const ce of Z.chapters)if(B>=ce.requiredAffection)for(const W of ce.events)B>=W.requiredAffection&&!ae.includes(W.id)&&V.push(W);return V},w=H=>{const Z=E.find(V=>V.heroineId===H);if(!Z)return{completed:0,total:0};const B=p[H]?.length||0,ae=Z.chapters.reduce((V,ce)=>V+ce.events.length,0);return{completed:B,total:ae}};return t.jsx("div",{className:"min-h-screen bg-background p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-6 mb-6 border border-border",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-red-500 bg-clip-text text-transparent mb-2",children:"  "}),t.jsx("p",{className:"text-text-secondary",children:"    "})]}),t.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition",children:" "})]})}),!b&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(H=>{const Z=c.affection[H.heroineId]||0,B=M(H.heroineId),ae=w(H.heroineId),V=Z<=0;return t.jsxs("div",{onClick:()=>!V&&g(H.heroineId),className:`bg-black/50 backdrop-blur-md rounded-lg p-6 border-2 transition-all ${V?"border-gray-700 opacity-60 cursor-not-allowed":"border-border hover:border-primary cursor-pointer hover:scale-105"}`,children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-6xl mb-2",children:V?"":H.sprite}),t.jsx("h3",{className:"text-xl font-bold text-text-primary",children:V?"???":H.name})]}),!V&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:""}),t.jsx("div",{className:"bg-black/50 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-3 rounded-full",style:{width:`${Math.min(Z,100)}%`}})}),t.jsxs("div",{className:"text-center text-sm text-text-primary mt-1",children:[Z,"/100"]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),t.jsxs("div",{className:"text-center text-text-primary",children:[ae.completed,"/",ae.total," "]})]}),B.length>0&&t.jsx("div",{className:"mt-4",children:t.jsxs("div",{className:"text-sm text-accent font-bold",children:["   ",B.length,""]})})]})]},H.heroineId)})}),x&&!b&&t.jsxs("div",{className:"mt-6",children:[t.jsx("button",{onClick:()=>g(null),className:"mb-4 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[M(x).map(H=>t.jsxs("div",{onClick:()=>{N(H),C(0)},className:"bg-black/50 backdrop-blur-md rounded-lg p-6 border border-border hover:border-primary cursor-pointer transition-all hover:scale-[1.02]",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:H.title}),t.jsx("p",{className:"text-text-secondary",children:H.description}),H.rewards&&t.jsxs("div",{className:"mt-3 flex gap-4 text-sm",children:[H.rewards.exp&&t.jsxs("span",{className:"text-yellow-400",children:[" EXP +",H.rewards.exp]}),H.rewards.gold&&t.jsxs("span",{className:"text-yellow-400",children:[" Gold +",H.rewards.gold]})]})]},H.id)),M(x).length===0&&t.jsx("div",{className:"text-center py-8",children:t.jsxs("p",{className:"text-text-secondary",children:["    .",t.jsx("br",{}),"  !"]})})]})]}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 rounded-xl p-8 max-w-3xl w-full",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:b.title}),t.jsx("div",{className:"bg-black/30 rounded-lg p-6 mb-6 min-h-[200px]",children:t.jsx("p",{className:"text-lg text-white leading-relaxed",children:b.dialogue[f]})}),f===b.dialogue.length-1&&b.choices?t.jsx("div",{className:"space-y-3",children:b.choices.map((H,Z)=>t.jsxs("button",{onClick:()=>y(H),className:"w-full p-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-lg text-white transition-all hover:scale-[1.02]",children:[H.text,H.affectionChange>0&&t.jsxs("span",{className:"ml-2 text-sm opacity-80",children:["( +",H.affectionChange,")"]})]},Z))}):t.jsx("button",{onClick:v,className:"w-full p-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg text-white font-bold transition-all",children:f<b.dialogue.length-1?" ":""})]})}),R&&t.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-60 pointer-events-none",children:t.jsx("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl p-8 animate-bounce",children:t.jsx("h2",{className:"text-3xl font-bold text-white text-center",children:"  ! "})})})]})})},Vc=Hx.items,Rg=()=>{const r=Ge(),c=de(w=>w.player),{buyItem:d,updateMoney:o,sellItem:u}=de(w=>w.actions),[x,g]=S.useState("buy"),[b,N]=S.useState(null),[f,C]=S.useState(""),p=Object.values(Vc).filter(w=>w.type==="gift"||w.type==="consumable"),T=["","","",""],R=p.filter(w=>f===""?!0:f===""?w.category==="":f===""?w.category==="":f===""?w.rarity==="rare"||w.rarity==="legendary":!0),k=de(w=>w.player.inventory),E=S.useMemo(()=>{const w=k.reduce((H,Z)=>(H[Z]=(H[Z]||0)+1,H),{});return Object.entries(w).map(([H,Z])=>({...Vc[H],count:Z}))},[k]),h=w=>{if(c.money<w.value){alert(" !");return}o(-w.value),d(w.id),alert(`${w.name}() !`)},v=w=>{const H=Math.floor(w.value/2);u(w.id,H),alert(`${w.name}() ${H}G !`),N(null)},y=w=>{g(w),N(null)},_=w=>{switch(w){case"common":return"";case"uncommon":return"";case"rare":return"";case"epic":return"";case"legendary":return"";default:return""}},M=b?Vc[b]:null;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 to-purple-200 p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"  "}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:"text-yellow-600",children:""}),t.jsxs("span",{className:"font-semibold text-gray-800",children:[c.money," "]})]})]}),t.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transition",children:" "})]})}),t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-1 rounded-xl shadow-md",children:[t.jsxs("button",{onClick:()=>y("buy"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${x==="buy"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{role:"img","aria-label":"buy",children:""})," "]}),t.jsxs("button",{onClick:()=>y("sell"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${x==="sell"?"bg-gradient-to-r from-green-500 to-teal-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{role:"img","aria-label":"sell",children:""})," "]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:x==="buy"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex gap-2 mb-4",children:T.map(w=>t.jsx("button",{onClick:()=>C(w),className:`px-4 py-2 rounded-lg font-medium transition ${f===w?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w},w))}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:R.map(w=>t.jsx("div",{onClick:()=>N(w.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${b===w.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-3xl",children:w.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-gray-800",children:w.name}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.rarity==="legendary"?"bg-yellow-100 text-yellow-800":w.rarity==="epic"?"bg-purple-100 text-purple-800":w.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:_(w.rarity)}),t.jsxs("span",{className:"font-bold text-yellow-700",children:[w.value," G"]})]})]})]})},w.id))})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:E.length>0?E.map(w=>t.jsx("div",{onClick:()=>N(w.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${b===w.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-3xl",children:w.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h4",{className:"font-semibold text-gray-800",children:[w.name," ",t.jsxs("span",{className:"text-sm text-gray-500",children:["x",w.count]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.rarity==="legendary"?"bg-yellow-100 text-yellow-800":w.rarity==="epic"?"bg-purple-100 text-purple-800":w.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:_(w.rarity)}),t.jsxs("span",{className:"font-bold text-green-700",children:[": ",Math.floor(w.value/2)," G"]})]})]})]})},w.id)):t.jsxs("div",{className:"col-span-full text-center text-gray-500 py-8",children:[t.jsx("span",{className:"text-4xl mb-4 block",children:""}),t.jsx("p",{children:"  ."})]})})}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[t.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),M?t.jsxs("div",{children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-6xl mb-2",children:M.icon}),t.jsx("h4",{className:"text-xl font-bold text-gray-800",children:M.name})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:""}),t.jsx("p",{className:"text-sm text-gray-600",children:M.description})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:""}),t.jsx("div",{className:"space-y-1 text-sm",children:M.effects?.map((w,H)=>t.jsxs("div",{className:"text-gray-600",children:[" ",w.type,": ",w.value]},H))})]})]}),t.jsx("div",{className:"border-t pt-3",children:x==="buy"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"font-medium",children:""}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-yellow-600",children:""}),t.jsxs("span",{className:"font-bold text-yellow-800",children:[M.value," "]})]})]}),t.jsx("button",{onClick:()=>h(M),disabled:c.money<M.value,className:`w-full py-3 rounded-lg font-bold transition ${c.money>=M.value?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:c.money>=M.value?"":" "})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"font-medium",children:" "}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-yellow-600",children:""}),t.jsxs("span",{className:"font-bold text-green-800",children:[Math.floor(M.value/2)," "]})]})]}),t.jsx("button",{onClick:()=>v(M),className:"w-full py-3 rounded-lg font-bold transition bg-red-500 hover:bg-red-600 text-white",children:""})]})})]}):t.jsxs("div",{className:"text-center text-gray-500 py-8",children:[t.jsx("span",{className:"text-4xl mb-4 block",children:""}),t.jsx("p",{children:"      ."})]})]})]})]})})},Og={fullName:"  ( )",age:18,birthday:"4 5",height:"165cm",bloodType:"O",hobby:[" ","  "," "],favorite:["",""," "],dislike:["",""," "],background:"   '' . 5   ,     3   .       .",secretStory:"        .       ,       .",personality:"  .       .      .",relationships:{yuki:"  .   .",luna:"    ."},specialSkills:["  "," "," "],weakness:"  .     .",dream:"   ,      "},zg={fullName:"  ( )",age:17,birthday:"12 24",height:"158cm",bloodType:"AB",hobby:[" "," "," "],favorite:[""," ","  "],dislike:[" ",""," "],background:"     . 10    ,    .       .",secretStory:"       .       ,       .",personality:" .   ,      .",relationships:{sakura:"   .",luna:"    ."},specialSkills:["  "," "," "],weakness:" ,    .     .",dream:"   ,     "},Hg={fullName:"  (Luna Crimson)",age:"???",birthday:"10 31",height:"162cm",bloodType:"",hobby:["  ","  "," "],favorite:[""," "," "],dislike:["","","(?)"],background:"  .   ,    .     ,      .",secretStory:"500     ,    .        .     ,          .",personality:" ,     .         .",relationships:{sakura:"   .",yuki:"      ."},specialSkills:[" "," "," "," "],weakness:"    .   .",dream:"      ,     "},qg={fullName:"??? ()",age:"",birthday:"",height:"",bloodType:"",hobby:[""," "," "],favorite:["","  "," "],dislike:["  ",""," "],background:"    .  ,  ,   .   .",secretStory:"    .        .      .",personality:"  ,      .",relationships:{all:"   ."},specialSkills:[" "," ","   "],weakness:"    .",dream:"    . ... ?"},Bg={fullName:"  ( )",age:18,birthday:"9 15",height:"168cm",bloodType:"A",hobby:[" "," "," "],favorite:[""," "," "],dislike:["",""," "],background:"  .    ,   .      .",secretStory:"      .        .",personality:"   .       .",relationships:{hana:" .   .",rin:"  .",mei:"   ."},specialSkills:[" ","  "," "],weakness:"  .    .",dream:"         "},Lg={fullName:"  ( )",age:17,birthday:"3 8",height:"160cm",bloodType:"B",hobby:[" "," "," "],favorite:[""," ","  "],dislike:[" "," "," "],background:"       .      .",secretStory:"     ,     .         .",personality:"    .   .",relationships:{akane:"   .   .",rin:"    .",sora:"    ."},specialSkills:["  "," "," "],weakness:"     .    .",dream:"        "},Ug={fullName:"  ( )",age:16,birthday:"7 21",height:"163cm",bloodType:"O",hobby:[" "," "," "],favorite:[""," "," "],dislike:["  ",""," "],background:"   .       .",secretStory:"       .       .     .",personality:"  .    .",relationships:{sakura:"  .",hana:"   .",sora:"   ."},specialSkills:[" "," "," "],weakness:"   .    .",dream:"   ,      "},Gg={fullName:"  ( )",age:17,birthday:"11 3",height:"155cm",bloodType:"AB",hobby:[" "," "," "],favorite:["",""," "],dislike:[" ","","  "],background:"     .     .",secretStory:"     .      .       .",personality:" .      .",relationships:{luna:"   .",akane:"    .",sora:"    ."},specialSkills:["  ","  "," "],weakness:" .     .",dream:"     ,     "},$g={fullName:"  ( )",age:16,birthday:"2 14",height:"152cm",bloodType:"B",hobby:["",""," "],favorite:["","",""],dislike:["","",""],background:"IQ 180  . 12  , 15  .       .",secretStory:"    ,    .       .",personality:" .      .",relationships:{yuki:"  .",hana:"   .",mei:"    ."},specialSkills:[" ","  "," "],weakness:"   .   .",dream:"   ,     "},Lx={sakura:Og,yuki:zg,luna:Hg,mystery:qg,akane:Bg,hana:Lg,rin:Ug,mei:Gg,sora:$g},Yg=({currentCharacter:r,onCharacterSelect:c})=>{const d=Lx,o=d[r];if(!o||!o.relationships)return null;const u={sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""},x={sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""};return t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-3 text-secondary flex items-center gap-2",children:"  "}),t.jsx("div",{className:"space-y-3",children:Object.entries(o.relationships).map(([g,b])=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/30 rounded-lg hover:bg-black/40 transition-colors",children:[t.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center text-xl border-2 border-primary/30 ${c?"cursor-pointer hover:scale-110 transition-transform":""}`,onClick:()=>c?.(g),children:u[g]||""}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-accent",children:x[g]||g}),c&&t.jsx("button",{onClick:()=>c(g),className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded hover:bg-primary/30 transition-colors",children:""})]}),t.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:b})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-pink-400 to-red-400 rounded-full animate-pulse"})})]},g))}),t.jsxs("div",{className:"mt-4 pt-3 border-t border-border/30",children:[t.jsx("h6",{className:"text-sm font-medium text-text-secondary mb-2",children:"  "}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(o.relationships).map(g=>{const N=d[g]?.relationships?.[r];return N?t.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-black/20 rounded",children:[t.jsxs("span",{className:"text-accent",children:[x[g]," :"]}),t.jsx("span",{className:"text-text-primary flex-1",children:N})]},g):null})})]})]})},Zc=Fa,Ie=Lx,Ux=et.memo(()=>{const r=Ge(),c=de(M=>M.player),d=de(M=>M.unlockedCharacters),o=S.useMemo(()=>Object.keys(Zc),[]),u=S.useMemo(()=>o.filter(M=>(c.affection[M]||0)>0),[o,c.affection]),[x,g]=S.useState(u[0]||d[0]||"sakura"),b=S.useMemo(()=>({sakura:"",yuki:"",luna:"",mystery:"???"}),[]),N=S.useMemo(()=>({morning:"  ",noon:"",afternoon:" ",evening:"",night:" "}),[]),f=S.useCallback(M=>{const w=c.affection[M]||0;return{poise:Math.max(60+Math.floor(w/5),0),stress:Math.max(40-Math.floor(w/3),0),arousal:Math.min(20+Math.floor(w/8),100),affection:w}},[c.affection]),C=S.useCallback(M=>b[M]||" ",[b]),p=S.useCallback(M=>(c.affection[M]||0)>=70?"  ":N[c.timeOfDay]||" ",[c.affection,c.timeOfDay,N]),T=S.useCallback(M=>{const w=c.affection[M]||0;return w>=80?" ":w>=60?" ":w>=40?"  ()":" "},[c.affection]),R=S.useCallback(M=>{const w=c.affection[M]||0;return w>=90?"":w>=75?" ":w>=60?" ":w>=40?"":w>=20?"":" "},[c.affection]),k=S.useCallback((M,w)=>{const H=c.affection[w]||0;if(H===0)return"  .  .";const Z=Object.keys(M.dialogues).map(Number).sort((B,ae)=>ae-B);for(const B of Z)if(H>=B)return M.dialogues[B.toString()]||"  .  .";return M.dialogues[0]||"  .  ."},[c.affection]),E=S.useMemo(()=>({morning:"8:30 AM",noon:"12:00 PM",afternoon:"3:00 PM",evening:"6:30 PM",night:"10:00 PM"}),[]),h=S.useCallback(()=>E[c.timeOfDay]||"Unknown",[c.timeOfDay,E]),v=S.useMemo(()=>{const M=new Date,w=M.getMonth()+1,H=M.getDate(),B=["","","","","","",""][M.getDay()];return`${M.getFullYear()}-${w.toString().padStart(2,"0")}-${H.toString().padStart(2,"0")} ${B}`},[]),y=S.useMemo(()=>Zc[x],[x]),_=S.useCallback(()=>{r("/game")},[r]);return t.jsx("div",{className:"min-h-screen bg-background p-4 text-text-primary",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg shadow-lg p-4 mb-4 border border-border",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"  "}),t.jsx("button",{onClick:_,className:"px-4 py-2 bg-primary hover:bg-secondary text-white rounded-lg transition","aria-label":"   ",role:"button",children:"  "})]})}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:t.jsxs("div",{className:"lg:col-span-4",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-t-lg shadow-lg p-4 border-b border-border",children:[t.jsx("h3",{className:"text-lg font-bold mb-4 text-text-primary text-center",children:" "}),t.jsx("div",{className:"flex gap-4 justify-center overflow-x-auto pb-2",children:o.map(M=>{const w=Zc[M];if(!w)return null;const Z=!((c.affection[M]||0)>0);return t.jsxs("button",{onClick:()=>{Z||g(M)},disabled:Z,className:`px-6 py-3 rounded-lg transition-all border-2 flex flex-col items-center gap-2 min-w-[120px] relative ${Z?"border-gray-600 bg-gray-900/50 opacity-60 cursor-not-allowed":x===M?"border-primary bg-primary/20 scale-105 shadow-lg":"border-border hover:border-primary hover:bg-primary/10 hover:shadow-md"}`,"aria-label":`${Z?" ":w.name+"  "}`,"aria-pressed":!Z&&x===M,role:"button",children:[Z&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/60",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsx("span",{className:"text-3xl","aria-hidden":"true",children:Z?"":w.sprite}),t.jsx("div",{className:"font-bold text-text-primary text-sm whitespace-nowrap",children:Z?"???":w.name})]},M)})})]}),y&&!((c.affection[x]||0)<=0)?t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-b-2xl shadow-2xl overflow-hidden border border-border border-t-0",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 min-h-[700px]",children:[t.jsxs("div",{className:"bg-black/20 p-8 flex flex-col items-center justify-center relative",children:["                    ",t.jsx("div",{className:"absolute top-4 right-4 text-6xl opacity-10",children:y.sprite}),t.jsxs("div",{className:"w-56 h-56 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-8xl mb-6 shadow-xl border-4 border-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),t.jsx("span",{className:"relative z-10",children:y.sprite})]}),t.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2 text-center",children:y.name}),t.jsx("p",{className:"text-secondary font-medium text-lg mb-4",children:y.role}),t.jsx("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4 w-full",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-secondary",children:f(x).affection}),t.jsx("div",{className:"text-sm text-text-secondary",children:""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-primary",children:R(x)}),t.jsx("div",{className:"text-sm text-text-secondary",children:""})]})]})})]}),t.jsxs("div",{className:"lg:col-span-2 p-8",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),t.jsx("div",{className:"font-medium text-lg text-text-primary",children:C(x)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),t.jsx("div",{className:"font-medium text-lg text-text-primary",children:T(x)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),t.jsx("div",{className:"font-medium text-lg text-text-primary",children:p(x)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-text-secondary mb-1",children:" "}),t.jsx("div",{className:"font-medium text-lg text-text-primary",children:R(x)})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:" "}),t.jsx("div",{className:"space-y-4",children:Object.entries(f(x)).map(([M,w])=>{const Z={poise:{icon:"",label:"",color:"from-blue-400 to-blue-600"},stress:{icon:"",label:"",color:"from-orange-400 to-orange-600"},arousal:{icon:"",label:"",color:"from-pink-400 to-pink-600"},affection:{icon:"",label:"",color:"from-red-400 to-red-600"}}[M];return Z?t.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"font-medium flex items-center gap-2 text-text-primary",children:[t.jsx("span",{className:"text-xl",children:Z.icon}),t.jsx("span",{children:Z.label})]}),t.jsxs("span",{className:"font-bold text-lg text-text-primary",children:[w,"%"]})]}),t.jsx("div",{className:"w-full bg-black/50 rounded-full h-4 overflow-hidden",children:t.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${Z.color} transition-all duration-1000 ease-out relative`,style:{width:`${Math.max(w,0)}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent rounded-full"})})})]},M):null})})]}),Ie[x]&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary",children:":"})," ",t.jsx("span",{className:"text-text-primary",children:Ie[x].fullName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary",children:":"})," ",t.jsx("span",{className:"text-text-primary",children:Ie[x].age})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary",children:":"})," ",t.jsx("span",{className:"text-text-primary",children:Ie[x].birthday})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary",children:":"})," ",t.jsx("span",{className:"text-text-primary",children:Ie[x].bloodType})]})]})]}),t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),t.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:Ie[x].background})]}),t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),t.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:Ie[x].personality})]}),t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" & "}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary text-sm",children:":"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[x].hobby?.map((M,w)=>t.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs",children:M},w))})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary text-sm",children:" :"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[x].favorite?.map((M,w)=>t.jsxs("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs",children:[" ",M]},w))})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-secondary text-sm",children:" :"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ie[x].dislike?.map((M,w)=>t.jsxs("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs",children:[" ",M]},w))})]})]})]}),t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Ie[x].specialSkills?.map((M,w)=>t.jsxs("span",{className:"bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-sm font-medium border border-purple-500/30",children:[" ",M]},w))})]}),Ie[x].weakness&&t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:""}),t.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:[" ",Ie[x].weakness]})]}),t.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:" "}),t.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:[" ",Ie[x].dream]})]}),Ie[x].secretStory&&c.affection[x]>=50&&t.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 backdrop-blur-sm rounded-lg p-4 border border-purple-500/30",children:[t.jsxs("h5",{className:"text-md font-semibold mb-2 text-purple-300 flex items-center gap-2",children:["  ",t.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded",children:" 50+ "})]}),t.jsx("p",{className:"text-sm text-purple-100 leading-relaxed",children:Ie[x].secretStory})]}),Ie[x].secretStory&&c.affection[x]<50&&t.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-gray-600/30",children:[t.jsxs("h5",{className:"text-md font-semibold mb-2 text-gray-400 flex items-center gap-2",children:["  ",t.jsx("span",{className:"text-xs bg-gray-600/20 text-gray-400 px-2 py-1 rounded",children:" 50 "})]}),t.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"        ..."})]}),t.jsx(Yg,{currentCharacter:x,onCharacterSelect:M=>{d.includes(M)&&g(M)}})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),t.jsx("div",{className:"bg-black/20 rounded-lg p-6 border-l-4 border-primary",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl",children:y.sprite}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-primary mb-2",children:y.name}),t.jsxs("p",{className:"text-text-secondary italic leading-relaxed",children:['"',k(y,x),'"']})]})]})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"  "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:y.likes?.slice(0,8).map((M,w)=>t.jsx("span",{className:"bg-primary/20 text-primary px-4 py-2 rounded-full text-sm font-medium border border-primary/50",children:M},w))})]}),t.jsxs("div",{className:"border-t border-border pt-6 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm text-text-secondary",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:v})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:h()})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:"bg-accent text-background px-3 py-1 rounded-full text-sm font-medium",children:["Day ",c.day]})})]})]})]})}):t.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-b-2xl shadow-2xl overflow-hidden border border-border border-t-0",children:t.jsxs("div",{className:"flex flex-col items-center justify-center p-16",children:[t.jsx("div",{className:"text-8xl mb-6",children:""}),t.jsx("h2",{className:"text-3xl font-bold text-gray-400 mb-4",children:" "}),t.jsxs("p",{className:"text-gray-500 text-center max-w-md",children:["       .",t.jsx("br",{}),t.jsx("br",{}),":       ."]})]})})]})})]})})});Ux.displayName="CharacterCardPage";const Qg=({onCreateAccount:r})=>{const c=Ge(),[d,o]=S.useState(!1),[u,x]=S.useState(""),[g,b]=S.useState({username:"",email:"",password:"",confirmPassword:""}),N=(p,T)=>{b(R=>({...R,[p]:T}))},f=()=>g.username.trim()?g.username.length<3?"  3  .":g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)?g.password.trim()?g.password.length<6?"  6  .":g.password!==g.confirmPassword?"  .":null:" .":"   .":" .":" .",C=async p=>{p.preventDefault(),x("");const T=f();if(T){x(T);return}o(!0);try{await new Promise(k=>setTimeout(k,2e3)),r(g)?(alert("  !"),c("/login")):x("    .")}catch{x("    .")}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-2",children:" "}),t.jsx("p",{className:"text-purple-200",children:"Labyrinth Academy   "})]}),t.jsxs("form",{onSubmit:C,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),t.jsx("input",{type:"text",value:g.username,onChange:p=>N("username",p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  (3 )",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),t.jsx("input",{type:"email",value:g.email,onChange:p=>N("email",p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:""}),t.jsx("input",{type:"password",value:g.password,onChange:p=>N("password",p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  (6 )",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:" "}),t.jsx("input",{type:"password",value:g.confirmPassword,onChange:p=>N("confirmPassword",p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  ",required:!0})]}),u&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:t.jsx("p",{className:"text-red-300 text-sm",children:u})}),t.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[t.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:" "}),t.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[t.jsx("p",{children:"   18   "}),t.jsx("p",{children:"     "}),t.jsx("p",{children:"    "})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:d?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"  ..."})]}):" "})]}),t.jsxs("div",{className:"flex justify-between items-center mt-6 text-sm",children:[t.jsx("button",{onClick:()=>c("/"),className:"text-purple-300 hover:text-white transition-colors",children:"  "}),t.jsx("button",{onClick:()=>c("/login"),className:"text-purple-300 hover:text-white transition-colors",children:"  ?  "})]})]})})},Xg=()=>{const r=Ge();return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:" "}),t.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:" "})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"text-purple-200 space-y-3",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Labyrinth Academy"}),"         ."]}),t.jsx("p",{children:"       ,  ,    ."}),t.jsx("p",{children:" 30         !"})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"   "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-purple-200",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:" "}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:":"}),"     "]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:" :"}),' " "  ']}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:":"}),"    "]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:":"}),"     "]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:" "}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"/:"}),"   "]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:":"}),"    "]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:":"}),' " "  ']}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:" :"}),"    "]})]})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-pink-300 mb-3",children:"  "}),t.jsxs("div",{className:"text-purple-200 space-y-2",children:[t.jsx("p",{children:"      "}),t.jsx("p",{children:"      "}),t.jsx("p",{children:"       "})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-3",children:"  "}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-purple-200",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Intelligence)"}),t.jsx("div",{className:"text-sm",children:"   "})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Charm)"}),t.jsx("div",{className:"text-sm",children:"  "})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Stamina)"}),t.jsx("div",{className:"text-sm",children:"  "})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Strength)"}),t.jsx("div",{className:"text-sm",children:"   "})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Agility)"}),t.jsx("div",{className:"text-sm",children:"  "})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:" (Luck)"}),t.jsx("div",{className:"text-sm",children:"  "})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-3",children:"  "}),t.jsxs("div",{className:"text-purple-200 space-y-2",children:[t.jsx("p",{children:"  5  : , , , , "}),t.jsx("p",{children:"        "}),t.jsx("p",{children:"  30      "})]})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-pink-500/20 p-4 rounded-lg border border-pink-400/30",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-3xl",children:""}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-white",children:""}),t.jsx("p",{className:"text-pink-300",children:" "})]})]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"    .      ."})]}),t.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-400/30",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-3xl",children:""}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-white",children:""}),t.jsx("p",{className:"text-blue-300",children:" "})]})]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"    .      ."})]}),t.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg border border-purple-400/30",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-3xl",children:""}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-white",children:""}),t.jsx("p",{className:"text-purple-300",children:" "})]})]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"  .        ."})]}),t.jsxs("div",{className:"bg-gray-500/20 p-4 rounded-lg border border-gray-400/30",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-3xl",children:""}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-white",children:"???"}),t.jsx("p",{className:"text-gray-300",children:" "})]})]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"     .     ."})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"text-purple-200 space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"     .   !"})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"         ."})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"       ."})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"     ,   ."})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"   .   !"})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-yellow-400 mt-1",children:""}),t.jsx("p",{children:"       ."})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"text-purple-200 space-y-3",children:[t.jsx("p",{children:"     :"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{className:"bg-pink-500/20 p-3 rounded border border-pink-400/30",children:[t.jsx("div",{className:"font-semibold text-pink-300",children:"  "}),t.jsx("div",{className:"text-sm",children:"    "})]}),t.jsxs("div",{className:"bg-green-500/20 p-3 rounded border border-green-400/30",children:[t.jsx("div",{className:"font-semibold text-green-300",children:"  "}),t.jsx("div",{className:"text-sm",children:"   "})]}),t.jsxs("div",{className:"bg-blue-500/20 p-3 rounded border border-blue-400/30",children:[t.jsx("div",{className:"font-semibold text-blue-300",children:"  "}),t.jsx("div",{className:"text-sm",children:"   "})]}),t.jsxs("div",{className:"bg-gray-500/20 p-3 rounded border border-gray-400/30",children:[t.jsx("div",{className:"font-semibold text-gray-300",children:"  "}),t.jsx("div",{className:"text-sm",children:"   "})]})]})]})]})]})})},ui={masterVolume:80,musicVolume:70,soundVolume:80,voiceVolume:80,difficulty:"normal",autoSave:!0,fastText:!1,skipRead:!1,fullscreen:!1,animations:!0},Vg=()=>{const r=Ge(),[c,d]=S.useState(ui),[o,u]=S.useState(!1);S.useEffect(()=>{const p=localStorage.getItem("academyDatingSimSettings");if(p)try{const T=JSON.parse(p);d({...ui,...T})}catch(T){console.error("Failed to load settings:",T)}},[]);const x=(p,T)=>{d(R=>({...R,[p]:T})),u(!0)},g=()=>{localStorage.setItem("academyDatingSimSettings",JSON.stringify(c)),u(!1),alert(" !")},b=()=>{confirm("   ?")&&(d(ui),u(!0))},N=()=>{const p=JSON.stringify(c,null,2),T=new Blob([p],{type:"application/json"}),R=URL.createObjectURL(T),k=document.createElement("a");k.href=R,k.download="academy-dating-sim-settings.json",k.click(),URL.revokeObjectURL(R)},f=p=>{const T=p.target.files?.[0];if(T){const R=new FileReader;R.onload=k=>{try{const E=JSON.parse(k.target?.result);d({...ui,...E}),u(!0),alert(" !")}catch{alert("    .")}},R.readAsText(T)}},C=()=>{confirm("    ?     .")&&confirm(" ?  ,     .")&&(localStorage.removeItem("academyDatingSim"),localStorage.removeItem("academyDatingSimSettings"),alert("  ."),r("/"))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:" "}),t.jsxs("div",{className:"flex gap-2",children:[o&&t.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition",children:" "}),t.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:" "})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.masterVolume,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:c.masterVolume,onChange:p=>x("masterVolume",parseInt(p.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.musicVolume,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:c.musicVolume,onChange:p=>x("musicVolume",parseInt(p.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.soundVolume,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:c.soundVolume,onChange:p=>x("soundVolume",parseInt(p.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-white font-medium mb-2",children:[" : ",c.voiceVolume,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:c.voiceVolume,onChange:p=>x("voiceVolume",parseInt(p.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:""}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","normal","hard"].map(p=>t.jsxs("button",{onClick:()=>x("difficulty",p),className:`p-3 rounded-lg border transition ${c.difficulty===p?"bg-purple-600 border-purple-400 text-white":"bg-purple-800/30 border-purple-600/30 text-purple-200 hover:bg-purple-700/40"}`,children:[p==="easy"&&" ",p==="normal"&&" ",p==="hard"&&" "]},p))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.autoSave,onChange:p=>x("autoSave",p.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),t.jsx("span",{children:" "})]}),t.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.fastText,onChange:p=>x("fastText",p.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),t.jsx("span",{children:" "})]}),t.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.skipRead,onChange:p=>x("skipRead",p.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),t.jsx("span",{children:"  "})]}),t.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.animations,onChange:p=>x("animations",p.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),t.jsx("span",{children:" "})]})]})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),t.jsx("div",{className:"space-y-4",children:t.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.fullscreen,onChange:p=>x("fullscreen",p.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),t.jsx("span",{children:" "})]})})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx("button",{onClick:N,className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"  "}),t.jsxs("label",{className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition flex items-center justify-center gap-2 cursor-pointer",children:["  ",t.jsx("input",{type:"file",accept:".json",onChange:f,className:"hidden"})]}),t.jsx("button",{onClick:b,className:"px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:" "}),t.jsx("button",{onClick:C,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"   "})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" /"}),t.jsxs("div",{className:"text-purple-200 space-y-4",children:[t.jsx("p",{children:"       ."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-white mb-2",children:" "}),t.jsx("p",{className:"text-sm",children:"    ."})]}),t.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-white mb-2",children:" "}),t.jsx("p",{className:"text-sm",children:"        ."})]})]})]})]}),o&&t.jsx("div",{className:"fixed bottom-4 right-4 bg-orange-600 text-white p-4 rounded-lg shadow-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"   "}),t.jsx("button",{onClick:g,className:"ml-2 px-3 py-1 bg-white text-orange-600 rounded hover:bg-gray-100 transition",children:""})]})})]})})},Zg=[{id:"first_love",name:"",description:"    50 ",icon:"",points:10,category:"romance",condition:{type:"affection",value:50}},{id:"popular",name:"/",description:"   30 ",icon:"",points:20,category:"romance",condition:{type:"all_affection",value:30}},{id:"true_love",name:" ",description:"   100 ",icon:"",points:30,category:"romance",condition:{type:"max_affection",value:100}},{id:"monster_slayer",name:" ",description:" 100 ",icon:"",points:15,category:"combat",condition:{type:"monsters_defeated",value:100}},{id:"dragon_slayer",name:" ",description:"  ",icon:"",points:50,category:"combat",condition:{type:"boss_defeated",value:"fire_dragon"}},{id:"dungeon_master",name:" ",description:"   ",icon:"",points:40,category:"exploration",condition:{type:"dungeon_clear",value:5}},{id:"treasure_hunter",name:" ",description:" 50 ",icon:"",points:20,category:"exploration",condition:{type:"treasures_found",value:50}},{id:"millionaire",name:"",description:"100  ",icon:"",points:25,category:"wealth",condition:{type:"gold",value:1e6}},{id:"quiz_master",name:" ",description:"  10  ",icon:"",points:15,category:"minigame",condition:{type:"quiz_streak",value:10}},{id:"card_shark",name:" ",description:"  30  ",icon:"",points:15,category:"minigame",condition:{type:"card_time",value:30}},{id:"level_50",name:" 50 ",description:"  50 ",icon:"",points:30,category:"growth",condition:{type:"level",value:50}},{id:"stat_master",name:" ",description:"  50 ",icon:"",points:35,category:"growth",condition:{type:"all_stats",value:50}},{id:"perfect_attendance",name:"",description:"30  ",icon:"",points:20,category:"dedication",condition:{type:"login_streak",value:30}},{id:"night_owl",name:"",description:"  ",icon:"",points:5,category:"special",condition:{type:"play_time",value:"midnight"}},{id:"completionist",name:"",description:"  ",icon:"",points:100,category:"special",condition:{type:"all_achievements",value:!0}}],Ja={achievements:Zg};class Hl{constructor(){this.bgmAudio=null,this.sfxVolume=.5,this.bgmVolume=.3,this.isMuted=!1,this.bgmTracks={menu:"/sounds/bgm/menu.mp3",game:"/sounds/bgm/game.mp3",battle:"/sounds/bgm/battle.mp3",dungeon:"/sounds/bgm/dungeon.mp3",victory:"/sounds/bgm/victory.mp3",romantic:"/sounds/bgm/romantic.mp3"},this.sfxTracks={click:"/sounds/sfx/click.mp3",hover:"/sounds/sfx/hover.mp3",success:"/sounds/sfx/success.mp3",error:"/sounds/sfx/error.mp3",levelUp:"/sounds/sfx/levelup.mp3",attack:"/sounds/sfx/attack.mp3",damage:"/sounds/sfx/damage.mp3",heal:"/sounds/sfx/heal.mp3",coin:"/sounds/sfx/coin.mp3",open:"/sounds/sfx/open.mp3",close:"/sounds/sfx/close.mp3",notification:"/sounds/sfx/notification.mp3"};const c=localStorage.getItem("soundSettings");if(c){const d=JSON.parse(c);this.sfxVolume=d.sfxVolume??.5,this.bgmVolume=d.bgmVolume??.3,this.isMuted=d.isMuted??!1}}static getInstance(){return Hl.instance||(Hl.instance=new Hl),Hl.instance}playBGM(c){try{this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0),this.bgmAudio=new Audio(this.bgmTracks[c]),this.bgmAudio.volume=this.isMuted?0:this.bgmVolume,this.bgmAudio.loop=!0;const d=this.bgmAudio.play();d!==void 0&&d.catch(o=>{console.log("BGM autoplay prevented:",o)})}catch(d){console.error("Error playing BGM:",d)}}stopBGM(){this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0)}pauseBGM(){this.bgmAudio&&this.bgmAudio.pause()}resumeBGM(){this.bgmAudio&&!this.isMuted&&this.bgmAudio.play().catch(c=>{console.log("BGM resume prevented:",c)})}playSFX(c){if(!this.isMuted)try{const d=new Audio(this.sfxTracks[c]);d.volume=this.sfxVolume;const o=d.play();o!==void 0&&o.catch(u=>{console.log("SFX play prevented:",u)})}catch(d){console.error("Error playing SFX:",d)}}setSFXVolume(c){this.sfxVolume=Math.max(0,Math.min(1,c)),this.saveSettings()}setBGMVolume(c){this.bgmVolume=Math.max(0,Math.min(1,c)),this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}toggleMute(){return this.isMuted=!this.isMuted,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings(),this.isMuted}setMute(c){this.isMuted=c,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}getSFXVolume(){return this.sfxVolume}getBGMVolume(){return this.bgmVolume}isMutedStatus(){return this.isMuted}saveSettings(){const c={sfxVolume:this.sfxVolume,bgmVolume:this.bgmVolume,isMuted:this.isMuted};localStorage.setItem("soundSettings",JSON.stringify(c))}playClickSound(){this.playSFX("click")}playHoverSound(){this.playSFX("hover")}playSuccessSound(){this.playSFX("success")}playErrorSound(){this.playSFX("error")}playLevelUpSound(){this.playSFX("levelUp")}playCoinSound(){this.playSFX("coin")}playNotificationSound(){this.playSFX("notification")}playAttackSound(){this.playSFX("attack")}playDamageSound(){this.playSFX("damage")}playHealSound(){this.playSFX("heal")}}const Be=Hl.getInstance(),Kg=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState(r.achievements||[]),[u,x]=S.useState("all"),[g,b]=S.useState(null),N=[{id:"all",name:"",icon:""},{id:"romance",name:"",icon:""},{id:"combat",name:"",icon:""},{id:"exploration",name:"",icon:""},{id:"wealth",name:"",icon:""},{id:"minigame",name:"",icon:""},{id:"growth",name:"",icon:""},{id:"dedication",name:"",icon:""},{id:"special",name:"",icon:""}],f=E=>{if(d.includes(E.id))return!0;switch(E.condition.type){case"affection":return Object.values(r.affection||{}).some(h=>h>=E.condition.value);case"all_affection":return Object.values(r.affection||{}).every(h=>h>=E.condition.value);case"max_affection":return Object.values(r.affection||{}).some(h=>h>=E.condition.value);case"monsters_defeated":return(r.statistics?.monstersDefeated||0)>=E.condition.value;case"boss_defeated":return r.defeatedBosses?.includes(E.condition.value)||!1;case"dungeon_clear":return(r.dungeonProgress?.floor||1)>=E.condition.value;case"treasures_found":return(r.statistics?.treasuresFound||0)>=E.condition.value;case"gold":return r.gold>=E.condition.value;case"level":return r.level>=E.condition.value;case"all_stats":return r.strength>=E.condition.value&&r.intelligence>=E.condition.value&&r.charm>=E.condition.value&&r.luck>=E.condition.value;case"quiz_streak":return(r.statistics?.quizStreak||0)>=E.condition.value;case"card_time":return(r.statistics?.bestCardTime||1/0)<=E.condition.value;case"login_streak":return(r.statistics?.loginStreak||0)>=E.condition.value;case"play_time":if(E.condition.value==="midnight"){const h=new Date().getHours();return h>=0&&h<6}return!1;case"all_achievements":return d.length>=Ja.achievements.length-1;default:return!1}},C=E=>{if(!d.includes(E.id)){const h=[...d,E.id];o(h),c({achievements:h,achievementPoints:(r.achievementPoints||0)+E.points}),Be.playSuccessSound(),b(E),setTimeout(()=>{b(null)},3e3)}};S.useEffect(()=>{Ja.achievements.forEach(E=>{f(E)&&C(E)})},[r]);const p=Ja.achievements.filter(E=>u==="all"||E.category===u),T=Ja.achievements.reduce((E,h)=>E+h.points,0),R=Ja.achievements.filter(E=>d.includes(E.id)).reduce((E,h)=>E+h.points,0),k=Math.floor(d.length/Ja.achievements.length*100);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-pink-900 p-4",children:[g&&t.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-4xl",children:g.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold",children:" !"}),t.jsx("div",{className:"text-lg",children:g.name}),t.jsxs("div",{className:"text-sm opacity-90",children:["+",g.points," "]})]})]})})}),t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm opacity-80",children:""}),t.jsxs("div",{className:"text-2xl font-bold",children:[k,"%"]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${k}%`}})})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm opacity-80",children:" "}),t.jsxs("div",{className:"text-2xl font-bold",children:[R," / ",T]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm opacity-80",children:" "}),t.jsxs("div",{className:"text-2xl font-bold",children:[d.length," / ",Ja.achievements.length]})]})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(E=>t.jsxs("button",{onClick:()=>x(E.id),className:`px-4 py-2 rounded-lg transition-all ${u===E.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("span",{className:"mr-2",children:E.icon}),E.name]},E.id))})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(E=>{const h=d.includes(E.id);return t.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${h?"bg-gradient-to-br from-yellow-400/20 to-orange-400/20 border-2 border-yellow-400/50":"bg-black/30 border-2 border-white/10"}`,children:[h&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs px-2 py-1 rounded-full",children:" "})}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`text-4xl ${h?"":"opacity-30 grayscale"}`,children:E.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`font-bold text-lg ${h?"text-yellow-300":"text-white/70"}`,children:E.name}),t.jsx("p",{className:`text-sm mt-1 ${h?"text-white/90":"text-white/50"}`,children:E.description}),t.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.jsxs("span",{className:`text-sm ${h?"text-yellow-300":"text-white/40"}`,children:["+",E.points," "]})})]})]}),!h&&t.jsx("div",{className:"mt-3",children:t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:"0%"}})})})]},E.id)})})]}),t.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})},Jg=()=>{const{player:r}=de(),[c,d]=S.useState("heroines"),o={heroines:r.metHeroines||[],monsters:r.defeatedMonsterTypes||[],items:r.collectedItems||[],endings:r.unlockedEndings||[]},u=[{id:"heroines",name:"",icon:""},{id:"monsters",name:"",icon:""},{id:"items",name:"",icon:""},{id:"endings",name:"",icon:""}],x=Object.entries(Fa).map(([k,E])=>({id:k,name:E.name,description:E.role||"",icon:E.sprite||"",category:"heroines",unlocked:o.heroines.includes(k),affection:r.affection?.[k]||0})),g=[{id:"slime",name:"",description:" ",icon:""},{id:"goblin",name:"",description:"  ",icon:""},{id:"skeleton",name:"",description:" ",icon:""},{id:"orc",name:"",description:" ",icon:""},{id:"ghost",name:"",description:" ",icon:""},{id:"vampire",name:"",description:"  ",icon:""},{id:"ice_golem",name:" ",description:"  ",icon:""},{id:"frost_spirit",name:" ",description:" ",icon:""},{id:"lava_serpent",name:" ",description:" ",icon:""},{id:"flame_elemental",name:" ",description:" ",icon:""},{id:"dark_knight",name:" ",description:"  ()",icon:""},{id:"lich_king",name:" ",description:"  ()",icon:""},{id:"ice_queen",name:" ",description:"  ()",icon:""},{id:"fire_dragon",name:" ",description:"  ()",icon:""}].map(k=>({...k,category:"monsters",unlocked:o.monsters.includes(k.id)})),b=[{id:"health_potion",name:" ",description:"HP ",icon:"",rarity:"common"},{id:"mana_potion",name:" ",description:"MP ",icon:"",rarity:"common"},{id:"sword",name:"",description:" ",icon:"",rarity:"common"},{id:"shield",name:"",description:"",icon:"",rarity:"common"},{id:"magic_staff",name:" ",description:"  ",icon:"",rarity:"rare"},{id:"dragon_scale",name:" ",description:" ",icon:"",rarity:"legendary"},{id:"phoenix_feather",name:" ",description:" ",icon:"",rarity:"legendary"},{id:"crystal_heart",name:" ",description:"  ",icon:"",rarity:"epic"},{id:"ancient_tome",name:" ",description:" ",icon:"",rarity:"epic"},{id:"golden_apple",name:" ",description:" ",icon:"",rarity:"legendary"}].map(k=>({...k,category:"items",unlocked:o.items.includes(k.id)})),N=[{id:"true_end_luna",name:"  ",description:"  ",icon:""},{id:"true_end_sakura",name:"  ",description:"  ",icon:""},{id:"true_end_ice",name:"  ",description:"  ",icon:""},{id:"true_end_rose",name:"  ",description:"  ",icon:""},{id:"true_end_star",name:"  ",description:"  ",icon:""},{id:"harem_ending",name:" ",description:"  ",icon:""},{id:"normal_ending",name:" ",description:"  ",icon:""},{id:"bad_ending",name:" ",description:" ",icon:""},{id:"secret_ending",name:" ",description:" ",icon:""},{id:"legend_ending",name:" ",description:" ",icon:""}].map(k=>({...k,category:"endings",unlocked:o.endings.includes(k.id)})),C=(()=>{switch(c){case"heroines":return x;case"monsters":return g;case"items":return b;case"endings":return N;default:return[]}})(),p=C.filter(k=>k.unlocked).length,T=Math.floor(p/C.length*100),R=k=>{switch(k){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-white",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{children:""}),t.jsxs("span",{className:"font-bold",children:[p," / ",C.length]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${T}%`}})}),t.jsxs("div",{className:"text-center mt-2 text-xl font-bold",children:[T,"%"]})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(k=>t.jsxs("button",{onClick:()=>d(k.id),className:`px-4 py-2 rounded-lg transition-all ${c===k.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("span",{className:"mr-2",children:k.icon}),k.name]},k.id))})}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(k=>t.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${k.unlocked?"bg-gradient-to-br from-white/20 to-white/10 border-2 border-white/30":"bg-black/30 border-2 border-white/5"}`,children:[k.rarity&&k.unlocked&&t.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-bold text-white bg-gradient-to-r ${R(k.rarity)}`,children:k.rarity.toUpperCase()}),t.jsx("div",{className:`text-5xl text-center mb-3 ${k.unlocked?"":"grayscale opacity-30"}`,children:k.unlocked?k.icon:""}),t.jsx("h3",{className:`font-bold text-center ${k.unlocked?"text-white":"text-white/30"}`,children:k.unlocked?k.name:"???"}),k.unlocked&&t.jsx("p",{className:"text-xs text-white/70 text-center mt-2",children:k.description}),k.category==="heroines"&&k.unlocked&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"text-xs text-white/60 mb-1",children:""}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${Math.min(k.affection,100)}%`}})}),t.jsxs("div",{className:"text-xs text-center text-white/80 mt-1",children:[k.affection,"/100"]})]}),!k.unlocked&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-3xl opacity-20",children:""})})]},k.id))}),C.length===0&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("p",{className:"text-xl",children:"   ."}),t.jsx("p",{className:"text-white/70 mt-2",children:"    !"})]})]})})},Fg=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState([]),[u,x]=S.useState("daily"),[g,b]=S.useState(null),N=[{id:"daily_talk",title:" ",description:" 3 ",icon:"",requirement:{type:"talk",target:3},reward:{gold:500,exp:100}},{id:"daily_battle",title:" ",description:" 5 ",icon:"",requirement:{type:"battle",target:5},reward:{gold:800,exp:150}},{id:"daily_dungeon",title:" ",description:" 1 ",icon:"",requirement:{type:"dungeon",target:1},reward:{gold:1e3,exp:200}},{id:"daily_shop",title:"",description:"  ",icon:"",requirement:{type:"shop",target:1},reward:{gold:300,exp:50}},{id:"daily_minigame",title:" ",description:" 2 ",icon:"",requirement:{type:"minigame",target:2},reward:{gold:600,exp:120}}],f=[{id:"weekly_affection",title:"",description:"  50 ",icon:"",requirement:{type:"affection",target:50},reward:{gold:5e3,exp:1e3,achievementPoints:10}},{id:"weekly_monster",title:" ",description:" 50 ",icon:"",requirement:{type:"monster",target:50},reward:{gold:8e3,exp:1500,items:["rare_weapon"]}},{id:"weekly_level",title:" ",description:" 5 ",icon:"",requirement:{type:"level",target:5},reward:{gold:1e4,exp:2e3,achievementPoints:20}}],C=[{id:"special_boss",title:" ",description:"  ",icon:"",requirement:{type:"boss",target:1},reward:{gold:2e4,exp:5e3,items:["legendary_item"]}},{id:"special_perfect",title:" ",description:"   ",icon:"",requirement:{type:"all_daily",target:5},reward:{gold:15e3,achievementPoints:50}}];S.useEffect(()=>{const h=new Date().toDateString();if(localStorage.getItem("lastQuestDate")!==h){const y=N.map(Z=>({...Z,type:"daily",requirement:{...Z.requirement,current:0},completed:!1,claimed:!1})),M=new Date().getDay()===1?f.map(Z=>({...Z,type:"weekly",requirement:{...Z.requirement,current:0},completed:!1,claimed:!1})):p("weekly"),w=C.map(Z=>({...Z,type:"special",requirement:{...Z.requirement,current:0},completed:!1,claimed:!1})),H=[...y,...M,...w];o(H),localStorage.setItem("lastQuestDate",h),localStorage.setItem("dailyQuests",JSON.stringify(H))}else{const y=localStorage.getItem("dailyQuests");y&&o(JSON.parse(y))}},[]);const p=h=>{const v=localStorage.getItem("dailyQuests");return v?JSON.parse(v).filter(_=>_.type===h):[]},T=h=>{if(!h.completed||h.claimed)return;const v=h.reward;let y={...r};v.gold&&(y.gold=r.gold+v.gold),v.exp&&(y.experience=r.experience+v.exp),v.achievementPoints&&(y.achievementPoints=(r.achievementPoints||0)+v.achievementPoints),c(y);const _=d.map(M=>M.id===h.id?{...M,claimed:!0}:M);o(_),localStorage.setItem("dailyQuests",JSON.stringify(_)),b(h),Be.playCoinSound(),setTimeout(()=>{b(null)},2e3)},R=d.filter(h=>h.type===u),k=R.filter(h=>h.completed).length,E=R.length;return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-800 to-pink-900 p-4",children:[g&&t.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce-in",children:t.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:[t.jsx("div",{className:"font-bold text-lg mb-2",children:" !"}),t.jsxs("div",{className:"flex items-center gap-3",children:[g.reward.gold&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["+",g.reward.gold]})]}),g.reward.exp&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["+",g.reward.exp," EXP"]})]})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between text-white text-sm mb-2",children:[t.jsx("span",{children:" "}),t.jsxs("span",{children:[k," / ",E]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${k/E*100}%`}})})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsx("div",{className:"flex gap-2",children:["daily","weekly","special"].map(h=>t.jsxs("button",{onClick:()=>x(h),className:`px-4 py-2 rounded-lg transition-all flex-1 ${u===h?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[h==="daily"&&"",h==="weekly"&&"",h==="special"&&""]},h))})}),t.jsx("div",{className:"space-y-4",children:R.map(h=>t.jsx("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${h.completed?"border-2 border-green-400/50":"border-2 border-white/10"}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`text-4xl ${h.completed?"":"opacity-50"}`,children:h.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:`font-bold text-lg ${h.completed?"text-green-400":"text-white"}`,children:h.title}),h.completed&&!h.claimed&&t.jsx("span",{className:"bg-green-400 text-black text-xs px-2 py-1 rounded-full font-bold",children:"!"}),h.claimed&&t.jsx("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:" "})]}),t.jsx("p",{className:"text-white/70 text-sm mt-1",children:h.description}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[h.requirement.current," / ",h.requirement.target]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:`h-full rounded-full transition-all ${h.completed?"bg-gradient-to-r from-green-400 to-emerald-400":"bg-gradient-to-r from-blue-400 to-purple-400"}`,style:{width:`${h.requirement.current/h.requirement.target*100}%`}})})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-sm",children:[t.jsx("span",{className:"text-white/60",children:":"}),h.reward.gold&&t.jsxs("span",{className:"text-yellow-400",children:[" ",h.reward.gold]}),h.reward.exp&&t.jsxs("span",{className:"text-blue-400",children:[" ",h.reward.exp," EXP"]}),h.reward.achievementPoints&&t.jsxs("span",{className:"text-purple-400",children:[" ",h.reward.achievementPoints,"P"]})]})]}),h.completed&&!h.claimed&&t.jsx("button",{onClick:()=>T(h),className:"bg-gradient-to-r from-green-400 to-emerald-400 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all animate-pulse",children:""})]})},h.id))}),R.length===0&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("p",{className:"text-xl",children:"    ."})]})]}),t.jsx("style",{jsx:!0,children:`
        @keyframes bounce-in {
          0% {
            transform: translateX(-50%) scale(0.5);
            opacity: 0;
          }
          50% {
            transform: translateX(-50%) scale(1.1);
          }
          100% {
            transform: translateX(-50%) scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.5s ease-out;
        }
      `})]})},Pg=()=>{const{player:r,gameDate:c,updatePlayer:d}=de(),[o,u]=S.useState(c.month),[x,g]=S.useState(null),[b,N]=S.useState(r.participatedEvents||[]),f=["1","2","3","4","5","6","7","8","9","10","11","12"],C=[{id:"cherry_blossom",name:" ",description:"    !    .",icon:"",type:"festival",date:15,month:4,duration:3,rewards:{affection:{sakura:20,luna:10,ice:10,rose:10,star:10}}},{id:"spring_sports",name:" ",description:"   !   !",icon:"",type:"competition",date:25,month:5,duration:2,rewards:{gold:5e3,exp:1e3,items:["trophy"]},requirements:{level:10}},{id:"summer_festival",name:" ",description:"   !   .",icon:"",type:"festival",date:20,month:7,duration:3,rewards:{affection:{luna:15,sakura:15,ice:15,rose:15,star:15}}},{id:"beach_event",name:" ",description:"  !   .",icon:"",type:"special",date:10,month:8,duration:7,rewards:{gold:3e3,affection:{ice:20,rose:20}}},{id:"harvest_festival",name:" ",description:"   .   !",icon:"",type:"festival",date:15,month:10,duration:3,rewards:{gold:4e3,items:["harvest_basket"]}},{id:"halloween",name:" ",description:"  !   .",icon:"",type:"special",date:31,month:10,duration:1,rewards:{exp:2e3,items:["halloween_costume"],affection:{star:25}}},{id:"culture_festival",name:"",description:"   !     .",icon:"",type:"festival",date:20,month:11,duration:5,rewards:{gold:1e4,exp:3e3,affection:{luna:20,sakura:20,ice:20,rose:20,star:20}},requirements:{level:15}},{id:"christmas",name:"",description:" !   .",icon:"",type:"special",date:24,month:12,duration:2,rewards:{items:["christmas_gift"],affection:{luna:30,sakura:30,ice:30,rose:30,star:30}}},{id:"new_year",name:" ",description:"  !   .",icon:"",type:"seasonal",date:1,month:1,duration:3,rewards:{gold:8888,exp:2e3,items:["lucky_charm"]}},{id:"valentines",name:" ",description:"  !  .",icon:"",type:"special",date:14,month:2,duration:1,rewards:{affection:{luna:50,sakura:50,ice:50,rose:50,star:50},items:["chocolate"]},requirements:{affection:{luna:30}}},{id:"midterm_exam",name:"",description:"   .    !",icon:"",type:"competition",date:15,month:6,duration:3,rewards:{gold:3e3,exp:1500,items:["study_guide"]},requirements:{level:5}},{id:"final_exam",name:"",description:"   .   !",icon:"",type:"competition",date:15,month:12,duration:3,rewards:{gold:5e3,exp:2500,items:["diploma"]},requirements:{level:20}}],p=v=>C.filter(y=>y.month===v),T=v=>{if(v.requirements){if(v.requirements.level&&r.level<v.requirements.level){alert(` ${v.requirements.level}    .`);return}if(v.requirements.affection){for(const[M,w]of Object.entries(v.requirements.affection))if((r.affection?.[M]||0)<w){alert(`${M}  ${w}    .`);return}}}if(b.includes(v.id)){alert("  !");return}let y={...r};if(v.rewards.gold&&(y.gold=r.gold+v.rewards.gold),v.rewards.exp&&(y.experience=r.experience+v.rewards.exp),v.rewards.affection){y.affection={...r.affection};for(const[M,w]of Object.entries(v.rewards.affection))y.affection[M]=(y.affection[M]||0)+w}v.rewards.items&&(y.inventory=[...r.inventory||[],...v.rewards.items.map(M=>({id:M,quantity:1}))]);const _=[...b,v.id];N(_),y.participatedEvents=_,d(y),Be.playSuccessSound(),alert(`${v.name} !  .`),g(null)},k=(()=>{const v=new Date(c.year,o-1,1).getDay(),y=new Date(c.year,o,0).getDate(),_=[];for(let M=0;M<v;M++)_.push(null);for(let M=1;M<=y;M++)_.push(M);return _})(),E=p(o),h=v=>v?E.find(y=>v>=y.date&&v<y.date+y.duration):null;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-white",children:[t.jsx("div",{className:"text-sm opacity-80",children:" "}),t.jsxs("div",{className:"text-xl font-bold",children:[c.year," ",c.month," ",c.day,""]})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between text-white",children:[t.jsx("button",{onClick:()=>u(o===1?12:o-1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:""}),t.jsx("h2",{className:"text-2xl font-bold",children:f[o-1]}),t.jsx("button",{onClick:()=>u(o===12?1:o+1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("div",{className:"grid grid-cols-7 gap-2 text-white mb-2",children:["","","","","","",""].map(v=>t.jsx("div",{className:"text-center font-bold text-sm opacity-80",children:v},v))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:k.map((v,y)=>{const _=h(v),M=v===c.day&&o===c.month;return t.jsx("div",{onClick:()=>_&&g(_),className:`
                      aspect-square rounded-lg p-2 flex flex-col items-center justify-center
                      ${v?"bg-white/10 hover:bg-white/20 cursor-pointer":""}
                      ${M?"ring-2 ring-yellow-400":""}
                      ${_?"bg-gradient-to-br from-purple-500/30 to-pink-500/30":""}
                      transition-all
                    `,children:v&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`text-white ${M?"font-bold":""}`,children:v}),_&&t.jsx("div",{className:"text-2xl mt-1",children:_.icon})]})},y)})})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" "}),t.jsxs("div",{className:"space-y-3",children:[E.map(v=>{const y=b.includes(v.id);return t.jsx("div",{onClick:()=>g(v),className:`
                      bg-white/10 rounded-lg p-3 cursor-pointer transition-all
                      ${y?"opacity-50":"hover:bg-white/20"}
                    `,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:v.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:v.name}),t.jsxs("div",{className:"text-xs text-white/70",children:[v.month," ",v.date," (",v.duration,")"]}),y&&t.jsx("div",{className:"text-xs text-green-400 mt-1",children:"  "})]})]})},v.id)}),E.length===0&&t.jsx("div",{className:"text-white/50 text-center py-4",children:"  ."})]})]})]}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full border-2 border-white/20",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-5xl mb-3",children:x.icon}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:x.name}),t.jsxs("div",{className:"text-white/70 text-sm mt-2",children:[x.month," ",x.date," ~ ",x.date+x.duration-1,""]})]}),t.jsx("p",{className:"text-white/90 mb-4",children:x.description}),x.requirements&&t.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[t.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),x.requirements.level&&t.jsxs("div",{className:"text-white/70 text-sm",children:[" ",x.requirements.level," "]}),x.requirements.affection&&t.jsx("div",{className:"text-white/70 text-sm",children:"  "})]}),t.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[t.jsx("div",{className:"text-sm font-bold text-white mb-2",children:""}),t.jsxs("div",{className:"space-y-1",children:[x.rewards.gold&&t.jsxs("div",{className:"text-yellow-400 text-sm",children:[" ",x.rewards.gold," "]}),x.rewards.exp&&t.jsxs("div",{className:"text-blue-400 text-sm",children:[" ",x.rewards.exp," EXP"]}),x.rewards.affection&&t.jsx("div",{className:"text-pink-400 text-sm",children:"  "}),x.rewards.items&&t.jsx("div",{className:"text-green-400 text-sm",children:"  "})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>T(x),disabled:b.includes(x.id),className:`
                    flex-1 py-3 rounded-lg font-bold transition-all
                    ${b.includes(x.id)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg"}
                  `,children:b.includes(x.id)?" ":""}),t.jsx("button",{onClick:()=>g(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-bold transition-all",children:""})]})]})})]})})},Wg=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState("all"),[u,x]=S.useState(null),g=[{id:"health_potion_large",name:"  ",description:"HP 100 ",result:{id:"health_potion_large",quantity:1},materials:[{id:"health_potion",quantity:3},{id:"herb",quantity:2}],category:"consumable",requiredLevel:5,icon:""},{id:"iron_sword",name:"",description:"  ",result:{id:"iron_sword",quantity:1},materials:[{id:"iron_ore",quantity:5},{id:"wood",quantity:2}],category:"weapon",requiredLevel:3,icon:""},{id:"magic_staff",name:" ",description:"  ",result:{id:"magic_staff",quantity:1},materials:[{id:"magic_crystal",quantity:3},{id:"ancient_wood",quantity:2},{id:"gold",quantity:100}],category:"weapon",requiredLevel:10,icon:""},{id:"leather_armor",name:" ",description:" ",result:{id:"leather_armor",quantity:1},materials:[{id:"leather",quantity:5},{id:"thread",quantity:3}],category:"armor",requiredLevel:5,icon:""},{id:"crystal_ring",name:" ",description:" ",result:{id:"crystal_ring",quantity:1},materials:[{id:"crystal",quantity:2},{id:"silver",quantity:3}],category:"accessory",requiredLevel:8,icon:""},{id:"dragon_scale_armor",name:"  ",description:" ",result:{id:"dragon_scale_armor",quantity:1},materials:[{id:"dragon_scale",quantity:10},{id:"mythril",quantity:5},{id:"gold",quantity:1e3}],category:"armor",requiredLevel:25,icon:""},{id:"phoenix_feather_accessory",name:"  ",description:"    ",result:{id:"phoenix_feather_accessory",quantity:1},materials:[{id:"phoenix_feather",quantity:1},{id:"holy_water",quantity:5}],category:"accessory",requiredLevel:20,icon:""},{id:"elixir",name:"",description:"HP MP  ",result:{id:"elixir",quantity:1},materials:[{id:"health_potion_large",quantity:2},{id:"mana_potion_large",quantity:2},{id:"unicorn_horn",quantity:1}],category:"consumable",requiredLevel:15,icon:""}],b=[{id:"all",name:"",icon:""},{id:"weapon",name:"",icon:""},{id:"armor",name:"",icon:""},{id:"accessory",name:"",icon:""},{id:"consumable",name:"",icon:""}],N=p=>p.materials.every(T=>{const R=r.inventory?.find(k=>k.id===T.id);return R&&R.quantity>=T.quantity}),f=p=>{if(r.level<p.requiredLevel){alert(` ${p.requiredLevel}    .`);return}if(!N(p)){alert(" !");return}let T=[...r.inventory||[]];p.materials.forEach(k=>{const E=T.findIndex(h=>h.id===k.id);E!==-1&&(T[E].quantity-=k.quantity,T[E].quantity<=0&&T.splice(E,1))});const R=T.find(k=>k.id===p.result.id);R?R.quantity+=p.result.quantity:T.push({...p.result}),c({inventory:T}),Be.playSuccessSound(),alert(`${p.name}() !`)},C=d==="all"?g:g.filter(p=>p.category===d);return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-brown-800 to-orange-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex gap-4",children:[t.jsxs("div",{className:"text-white",children:[t.jsx("span",{className:"text-sm opacity-80",children:""}),t.jsx("div",{className:"font-bold",children:r.level})]}),t.jsxs("div",{className:"text-yellow-400",children:[t.jsx("span",{className:"text-sm opacity-80",children:""}),t.jsx("div",{className:"font-bold",children:r.gold||0})]})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(p=>t.jsxs("button",{onClick:()=>o(p.id),className:`px-4 py-2 rounded-lg transition-all ${d===p.id?"bg-gradient-to-r from-amber-500 to-orange-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("span",{className:"mr-2",children:p.icon}),p.name]},p.id))})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(p=>{const T=r.level>=p.requiredLevel&&N(p);return t.jsxs("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${T?"border-2 border-amber-400/50 hover:border-amber-400":"border-2 border-white/10 opacity-75"}`,children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:"text-4xl",children:p.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold text-white",children:p.name}),t.jsx("p",{className:"text-sm text-white/70",children:p.description}),t.jsxs("div",{className:"text-xs text-amber-400 mt-1",children:["Lv.",p.requiredLevel," "]})]})]}),t.jsxs("div",{className:"bg-black/20 rounded-lg p-2 mb-3",children:[t.jsx("div",{className:"text-sm font-bold text-white/80 mb-1",children:""}),t.jsx("div",{className:"space-y-1",children:p.materials.map(R=>{const k=r.inventory?.find(h=>h.id===R.id),E=k&&k.quantity>=R.quantity;return t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:E?"text-green-400":"text-red-400",children:R.id}),t.jsxs("span",{className:E?"text-green-400":"text-red-400",children:[k?.quantity||0," / ",R.quantity]})]},R.id)})})]}),t.jsx("button",{onClick:()=>f(p),disabled:!T,className:`w-full py-2 rounded-lg font-bold transition-all ${T?"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:T?"":r.level<p.requiredLevel?" ":" "})]},p.id)})})]})})},Ig=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState("overview"),[u,x]=S.useState(null),[g,b]=S.useState(!1),[N,f]=S.useState(""),C=[{id:"crimson_phoenix",name:" ",description:"  ",icon:"",level:15,exp:8500,maxExp:1e4,members:[],maxMembers:50,benefits:[" +10%","  +20%","  +15%"],treasury:15e4,ranking:1},{id:"azure_dragon",name:" ",description:"   ",icon:"",level:12,exp:6e3,maxExp:8e3,members:[],maxMembers:40,benefits:[" +20%","  -10%","  +25%"],treasury:12e4,ranking:2},{id:"golden_merchant",name:" ",description:"   ",icon:"",level:10,exp:4500,maxExp:6e3,members:[],maxMembers:60,benefits:["  20%","  +15%","  "],treasury:5e5,ranking:3}],p=[{id:"daily_dungeon",name:"  ",description:"  10 ",reward:{guildExp:100,treasury:5e3},requirement:" 10 ",difficulty:"easy",progress:3,maxProgress:10},{id:"boss_raid",name:" ",description:"  ",reward:{guildExp:500,treasury:2e4,items:["legendary_weapon"]},requirement:"  ",difficulty:"hard",progress:0,maxProgress:1},{id:"guild_war",name:"  ",description:"   ",reward:{guildExp:1e3,treasury:5e4},requirement:" ",difficulty:"legendary",progress:0,maxProgress:1},{id:"resource_gathering",name:" ",description:"   ",reward:{guildExp:200,treasury:1e4},requirement:" 100 ",difficulty:"medium",progress:45,maxProgress:100}],T=[{id:"guild_blessing",name:" ",description:"  +10 (24)",cost:1e4,icon:""},{id:"guild_teleport",name:"  ",description:"   ",cost:1e3,icon:""},{id:"guild_exp_boost",name:" ",description:" +50% (1)",cost:5e3,icon:""},{id:"guild_weapon",name:"  ",description:"    ",cost:5e4,icon:""},{id:"guild_mount",name:" ",description:" +100%",cost:1e5,icon:""}],R=()=>{if(!N){alert("  .");return}if((r.gold||0)<5e4){alert("  50,000  .");return}const h={id:`guild_${Date.now()}`,name:N,description:"  ",icon:"",level:1,exp:0,maxExp:1e3,members:[{id:r.id||"player",name:r.name,role:"leader",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:""}],maxMembers:20,benefits:["  "],treasury:0,ranking:999};x(h),c({gold:(r.gold||0)-5e4}),Be.playSuccessSound(),b(!1)},k=h=>{const v={id:r.id||"player",name:r.name,role:"member",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:""};h.members.push(v),x(h),Be.playSuccessSound(),alert(`${h.name}  !`)},E=h=>{switch(h){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";case"legendary":return"text-purple-400";default:return"text-white"}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})}),u?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"text-6xl",children:u.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:u.name}),t.jsx("p",{className:"text-white/70",children:u.description}),t.jsxs("div",{className:"flex gap-4 mt-2",children:[t.jsxs("span",{className:"text-yellow-400",children:["Lv.",u.level]}),t.jsxs("span",{className:"text-blue-400",children:[" #",u.ranking]}),t.jsxs("span",{className:"text-green-400",children:[" ",u.members.length,"/",u.maxMembers]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white/80",children:" "}),t.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[u.treasury.toLocaleString()," G"]})]})]}),t.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[t.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[t.jsx("span",{children:" "}),t.jsxs("span",{children:[u.exp," / ",u.maxExp]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:`${u.exp/u.maxExp*100}%`}})})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:t.jsx("div",{className:"flex gap-2",children:["overview","members","quests","shop"].map(h=>t.jsxs("button",{onClick:()=>o(h),className:`px-4 py-2 rounded-lg transition-all ${d===h?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[h==="overview"&&" ",h==="members"&&" ",h==="quests"&&" ",h==="shop"&&" "]},h))})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[d==="overview"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),t.jsx("div",{className:"grid gap-2",children:u.benefits.map((h,v)=>t.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-3 text-purple-300",children:[" ",h]},v))})]}),d==="members"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),t.jsx("div",{className:"space-y-2",children:u.members.map(h=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:h.avatar}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:h.name}),t.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",h.level," | ",h.role==="leader"?" ":h.role==="officer"?" ":" "]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-white/60",children:""}),t.jsx("div",{className:"text-yellow-400 font-bold",children:h.contribution})]})]},h.id))})]}),d==="quests"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),t.jsx("div",{className:"grid gap-3",children:p.map(h=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-white",children:h.name}),t.jsx("div",{className:"text-sm text-white/70",children:h.description}),t.jsxs("div",{className:`text-sm mt-1 ${E(h.difficulty)}`,children:[": ",h.difficulty.toUpperCase()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-white/60",children:""}),t.jsxs("div",{className:"text-yellow-400",children:["+",h.reward.guildExp," EXP"]}),t.jsxs("div",{className:"text-green-400",children:["+",h.reward.treasury," G"]})]})]}),t.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[t.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[h.progress," / ",h.maxProgress]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 h-full rounded-full",style:{width:`${h.progress/h.maxProgress*100}%`}})})]})]},h.id))})]}),d==="shop"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" "}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:T.map(h=>t.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-3xl",children:h.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:h.name}),t.jsx("div",{className:"text-sm text-white/70",children:h.description}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-yellow-400 font-bold",children:[h.cost," G"]}),t.jsx("button",{className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg text-sm font-bold hover:shadow-lg transition-all",children:""})]})]})]})},h.id))})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" /"}),t.jsx("button",{onClick:()=>b(!0),className:"w-full mb-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"   (50,000 )"}),t.jsx("div",{className:"grid gap-4",children:C.map(h=>t.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-5xl",children:h.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:h.name}),t.jsx("p",{className:"text-white/70 mb-2",children:h.description}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[t.jsxs("div",{className:"text-white/80",children:[t.jsxs("span",{className:"text-yellow-400",children:["Lv.",h.level]})," |",t.jsxs("span",{className:"text-blue-400",children:["  #",h.ranking]})]}),t.jsxs("div",{className:"text-white/80",children:[": ",h.members.length,"/",h.maxMembers]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.benefits.map((v,y)=>t.jsx("span",{className:"bg-purple-500/30 px-2 py-1 rounded text-xs text-purple-300",children:v},y))}),t.jsx("button",{onClick:()=>k(h),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})},h.id))})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsx("input",{type:"text",value:N,onChange:h=>f(h.target.value),placeholder:"  ",className:"w-full p-3 rounded-lg bg-black/30 text-white placeholder-white/50 mb-4",maxLength:20}),t.jsxs("div",{className:"text-white/70 mb-4",children:[t.jsx("p",{children:"  : 50,000 "}),t.jsx("p",{children:"   : 20"}),t.jsx("p",{children:"    "})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:R,className:"flex-1 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold",children:""}),t.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg font-bold",children:""})]})]})})]})]})})},eb=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState(null),[u,x]=S.useState(!1),[g,b]=S.useState([]),[N,f]=S.useState("care"),C=[{id:"cat_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:100,happiness:100,hunger:80,stats:{attack:10,defense:8,speed:15,intelligence:12},skills:["",""],rarity:"common"},{id:"dog_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:100,happiness:100,hunger:70,stats:{attack:12,defense:10,speed:10,intelligence:8},skills:["",""],rarity:"common"},{id:"dragon_1",name:"",species:" ",icon:"",level:1,exp:0,maxExp:150,happiness:80,hunger:60,stats:{attack:20,defense:15,speed:12,intelligence:18},skills:[" ",""],evolution:"adult_dragon",rarity:"legendary"},{id:"fox_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:120,happiness:90,hunger:75,stats:{attack:15,defense:12,speed:18,intelligence:20},skills:["",""],rarity:"epic"},{id:"bird_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:130,happiness:85,hunger:65,stats:{attack:18,defense:10,speed:25,intelligence:15},skills:["",""],rarity:"epic"},{id:"rabbit_1",name:"",species:"",icon:"",level:1,exp:0,maxExp:90,happiness:95,hunger:85,stats:{attack:8,defense:6,speed:20,intelligence:10},skills:["",""],rarity:"rare"}],p=[{id:"basic_food",name:" ",icon:"",hungerRestore:20,happinessBonus:5,cost:50},{id:"premium_food",name:" ",icon:"",hungerRestore:40,happinessBonus:15,cost:200},{id:"treat",name:" ",icon:"",hungerRestore:10,happinessBonus:30,cost:150},{id:"magic_food",name:" ",icon:"",hungerRestore:50,happinessBonus:25,cost:500}],T=[{id:"attack_training",name:" ",stat:"attack",cost:200,expGain:20,icon:""},{id:"defense_training",name:" ",stat:"defense",cost:200,expGain:20,icon:""},{id:"speed_training",name:" ",stat:"speed",cost:200,expGain:20,icon:""},{id:"intelligence_training",name:" ",stat:"intelligence",cost:200,expGain:20,icon:""}];S.useEffect(()=>{const y=localStorage.getItem("myPets");if(y)try{const M=JSON.parse(y);Array.isArray(M)&&b(M)}catch(M){console.error("Failed to load pets:",M)}const _=setInterval(()=>{b(M=>{const w=M.map(H=>({...H,hunger:Math.max(0,H.hunger-1),happiness:Math.max(0,H.happiness-.5)}));return localStorage.setItem("myPets",JSON.stringify(w)),w})},3e4);return()=>clearInterval(_)},[]);const R=y=>{const _=y.rarity==="legendary"?5e3:y.rarity==="epic"?2e3:y.rarity==="rare"?800:300;if((r.money||0)<_){alert(`${_}  !  : ${r.money}`);return}if(g.length>=6){alert(" 6   !");return}const M={...y,id:`${y.id}_${Date.now()}`},w=[...g,M];b(w),localStorage.setItem("myPets",JSON.stringify(w));const H=(r.money||0)-_;c({money:H}),Be.playSuccessSound(),alert(`${y.name}() ! (${_} )`),x(!1)},k=(y,_)=>{if((r.money||0)<_.cost){alert(" !");return}const M=g.map(w=>w.id===y.id?{...w,hunger:Math.min(100,w.hunger+_.hungerRestore),happiness:Math.min(100,w.happiness+_.happinessBonus)}:w);b(M),c({money:(r.money||0)-_.cost}),Be.playSuccessSound()},E=(y,_)=>{if((r.money||0)<_.cost){alert(" !");return}const M=g.map(w=>{if(w.id===y.id){const H=w.exp+_.expGain,Z=H>=w.maxExp;return{...w,exp:Z?H-w.maxExp:H,level:Z?w.level+1:w.level,maxExp:Z?w.maxExp*1.5:w.maxExp,stats:{...w.stats,[_.stat]:w.stats[_.stat]+(Z?5:2)}}}return w});b(M),c({money:(r.money||0)-_.cost}),Be.playSuccessSound()},h=y=>{if(!y.evolution||y.level<10){alert(" 10    !");return}const _={...y,species:" "+y.species,icon:"",stats:{attack:y.stats.attack*2,defense:y.stats.defense*2,speed:y.stats.speed*1.5,intelligence:y.stats.intelligence*2},skills:[...y.skills," "],evolution:void 0},M=g.map(w=>w.id===y.id?_:w);b(M),Be.playLevelUpSound(),alert(`${y.name}() !`)},v=y=>{switch(y){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-teal-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"  "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})]})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),g.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("p",{className:"text-white/70",children:"  .   !"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>t.jsx("div",{onClick:()=>o(y),className:`bg-gradient-to-br ${v(y.rarity)} p-0.5 rounded-xl cursor-pointer hover:scale-105 transition-all`,children:t.jsxs("div",{className:"bg-black/80 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"text-4xl",children:y.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:y.name}),t.jsx("div",{className:"text-sm text-white/70",children:y.species}),t.jsxs("div",{className:"text-xs text-yellow-400",children:["Lv.",y.level]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[Math.floor(y.happiness),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${y.happiness}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[Math.floor(y.hunger),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${y.hunger}%`}})})]})]})]})},y.id))})]}),d&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[t.jsx("div",{className:"text-8xl",children:d.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:d.name}),t.jsx("p",{className:"text-white/70",children:d.species}),t.jsxs("div",{className:"flex gap-4 mt-2",children:[t.jsxs("span",{className:"text-yellow-400",children:["Lv.",d.level]}),t.jsxs("span",{className:"text-blue-400",children:["EXP: ",d.exp,"/",d.maxExp]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[t.jsxs("div",{className:"bg-white/10 rounded p-2",children:[t.jsx("span",{className:"text-white/60 text-sm",children:""}),t.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.attack]})]}),t.jsxs("div",{className:"bg-white/10 rounded p-2",children:[t.jsx("span",{className:"text-white/60 text-sm",children:""}),t.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.defense]})]}),t.jsxs("div",{className:"bg-white/10 rounded p-2",children:[t.jsx("span",{className:"text-white/60 text-sm",children:""}),t.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.speed]})]}),t.jsxs("div",{className:"bg-white/10 rounded p-2",children:[t.jsx("span",{className:"text-white/60 text-sm",children:""}),t.jsxs("div",{className:"text-white font-bold",children:[" ",d.stats.intelligence]})]})]})]})]}),t.jsx("div",{className:"flex gap-2 mb-4",children:["care","train","battle","evolve"].map(y=>t.jsxs("button",{onClick:()=>f(y),className:`px-4 py-2 rounded-lg transition-all ${N===y?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[y==="care"&&" ",y==="train"&&" ",y==="battle"&&" ",y==="evolve"&&" "]},y))}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[N==="care"&&t.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map(y=>t.jsx("button",{onClick:()=>k(d,y),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-3xl",children:y.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-white",children:y.name}),t.jsxs("div",{className:"text-xs text-white/60",children:[" +",y.hungerRestore," |  +",y.happinessBonus]}),t.jsxs("div",{className:"text-sm text-yellow-400",children:[y.cost," G"]})]})]})},y.id))}),N==="train"&&t.jsx("div",{className:"grid grid-cols-2 gap-3",children:T.map(y=>t.jsx("button",{onClick:()=>E(d,y),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-3xl",children:y.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-white",children:y.name}),t.jsxs("div",{className:"text-xs text-white/60",children:["+",y.expGain," EXP"]}),t.jsxs("div",{className:"text-sm text-yellow-400",children:[y.cost," G"]})]})]})},y.id))}),N==="battle"&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-4xl mb-4",children:""}),t.jsx("p",{className:"text-white/70",children:"    ..."})]}),N==="evolve"&&t.jsx("div",{className:"text-center py-8",children:d.evolution?t.jsxs("div",{children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("p",{className:"text-white mb-4",children:" 10  !"}),t.jsx("button",{onClick:()=>h(d),disabled:d.level<10,className:`px-6 py-3 rounded-lg font-bold ${d.level>=10?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:""})]}):t.jsxs("div",{children:[t.jsx("div",{className:"text-4xl mb-4",children:""}),t.jsx("p",{className:"text-white/70",children:"    ."})]})})]})]}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-emerald-900 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>x(!1),className:"text-white hover:text-red-400 text-2xl",children:""})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(y=>{const _=y.rarity==="legendary"?5e3:y.rarity==="epic"?2e3:y.rarity==="rare"?800:300;return t.jsx("div",{className:`bg-gradient-to-br ${v(y.rarity)} p-0.5 rounded-xl`,children:t.jsx("div",{className:"bg-black/80 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-5xl",children:y.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:y.name}),t.jsx("div",{className:"text-sm text-white/70",children:y.species}),t.jsx("div",{className:"text-xs text-yellow-400 uppercase",children:y.rarity}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:y.skills.map(M=>t.jsx("span",{className:"bg-white/20 px-2 py-1 rounded text-xs text-white",children:M},M))}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-yellow-400 font-bold",children:[_," G"]}),t.jsx("button",{onClick:()=>R(y),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})]})})},y.id)})})]})})]})})},tb=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState(!1),[u,x]=S.useState(!1),[g,b]=S.useState(null),[N,f]=S.useState(50),[C,p]=S.useState(!1),[T,R]=S.useState(50),[k,E]=S.useState([]),[h,v]=S.useState("basic"),[y,_]=S.useState("wooden");S.useRef(null);const M=[{id:"minnow",name:"",icon:"",rarity:"common",size:5,value:50,difficulty:10},{id:"carp",name:"",icon:"",rarity:"common",size:15,value:100,difficulty:20},{id:"bass",name:"",icon:"",rarity:"common",size:20,value:150,difficulty:25},{id:"salmon",name:"",icon:"",rarity:"rare",size:30,value:300,difficulty:40},{id:"tuna",name:"",icon:"",rarity:"rare",size:40,value:500,difficulty:50},{id:"eel",name:"",icon:"",rarity:"rare",size:25,value:400,difficulty:45},{id:"swordfish",name:"",icon:"",rarity:"epic",size:60,value:1e3,difficulty:70},{id:"shark",name:"",icon:"",rarity:"epic",size:80,value:1500,difficulty:80},{id:"octopus",name:"",icon:"",rarity:"epic",size:35,value:800,difficulty:60},{id:"golden_fish",name:" ",icon:"",rarity:"legendary",size:50,value:5e3,difficulty:90},{id:"dragon_fish",name:" ",icon:"",rarity:"legendary",size:100,value:1e4,difficulty:95},{id:"mermaid_tear",name:" ",icon:"",rarity:"legendary",size:1,value:2e4,difficulty:100}],w={basic:{name:" ",cost:10,bonus:0,icon:""},premium:{name:" ",cost:50,bonus:20,icon:""},special:{name:" ",cost:200,bonus:50,icon:""}},H={wooden:{name:" ",power:1,cost:0,icon:""},iron:{name:" ",power:1.5,cost:1e3,icon:""},golden:{name:" ",power:2,cost:5e3,icon:""}};S.useEffect(()=>{let ee;if(d&&!u){const Y=20+w[h].bonus;ee=setInterval(()=>{if(Math.random()*100<Y){const le=Z();b(le),x(!0),Be.playNotificationSound()}},1e3)}return()=>clearInterval(ee)},[d,u,h]),S.useEffect(()=>{let ee;return C&&g&&(ee=setInterval(()=>{const A=g.difficulty/100;H[y].power,R(Y=>{const le=Y+(Math.random()-.5)*A*20;return Math.max(0,Math.min(100,le))}),f(Y=>{const le=A*2,he=Y-le;return he<=0?(p(!1),x(!1),b(null),f(50),alert(" !"),50):he})},100)),()=>clearInterval(ee)},[C,g,y]);const Z=()=>{const ee=Math.random()*100;let A;return h==="special"?ee<10?A=M.filter(Y=>Y.rarity==="legendary"):ee<30?A=M.filter(Y=>Y.rarity==="epic"):ee<60?A=M.filter(Y=>Y.rarity==="rare"):A=M.filter(Y=>Y.rarity==="common"):h==="premium"?ee<5?A=M.filter(Y=>Y.rarity==="legendary"):ee<20?A=M.filter(Y=>Y.rarity==="epic"):ee<50?A=M.filter(Y=>Y.rarity==="rare"):A=M.filter(Y=>Y.rarity==="common"):ee<1?A=M.filter(Y=>Y.rarity==="legendary"):ee<10?A=M.filter(Y=>Y.rarity==="epic"):ee<30?A=M.filter(Y=>Y.rarity==="rare"):A=M.filter(Y=>Y.rarity==="common"),A[Math.floor(Math.random()*A.length)]},B=()=>{const ee=w[h].cost;if((r.gold||0)<ee){alert("   !");return}c({gold:(r.gold||0)-ee}),o(!0),x(!1),f(50)},ae=()=>{o(!1),x(!1),b(null),p(!1),f(50)},V=()=>{!u||!g||p(!0)},ce=()=>{if(!C||!g)return;const A=10*H[y].power;f(Y=>Math.min(100,Y+A)),N>80&&Math.abs(T-50)<20&&W(g)},W=ee=>{E([...k,ee]),c({gold:(r.gold||0)+ee.value,experience:r.experience+ee.size*10}),Be.playSuccessSound(),alert(`${ee.name}() ! +${ee.value} `),p(!1),x(!1),b(null),f(50),o(!1)},te=ee=>{const A=H[ee];if((r.gold||0)<A.cost){alert(" !");return}c({gold:(r.gold||0)-A.cost}),_(ee),Be.playSuccessSound()},ie=ee=>{switch(ee){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-900 via-blue-700 to-cyan-600 p-4",children:[t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"relative h-64 bg-gradient-to-b from-cyan-600/50 to-blue-800/50 rounded-xl overflow-hidden mb-4",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"wave wave1"}),t.jsx("div",{className:"wave wave2"})]}),d&&t.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2",children:[t.jsx("div",{className:"w-0.5 h-48 bg-white/50"}),t.jsx("div",{className:"text-2xl transform -translate-x-1/2",children:u?"":""})]}),u&&g&&t.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:t.jsx("div",{className:"text-4xl animate-pulse",children:g.icon})})]}),C&&g&&t.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"mb-2 text-white font-bold",children:[g.name,"()  !"]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[Math.floor(N),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:t.jsx("div",{className:`h-full rounded-full transition-all ${N>80?"bg-green-500":N>30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${N}%`}})})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm text-white/80 mb-1",children:" "}),t.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:[t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-full bg-green-500/30"}),t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 text-2xl",style:{left:`${T}%`},children:""})]})]}),t.jsx("button",{onClick:ce,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"! ()"})]}),d?t.jsxs("div",{className:"space-y-3",children:[u&&!C&&t.jsx("button",{onClick:V,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all animate-pulse",children:" !"}),t.jsx("button",{onClick:ae,className:"w-full py-3 bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700 transition-all",children:""})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-bold mb-2",children:" "}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(w).map(ee=>t.jsxs("button",{onClick:()=>v(ee),className:`p-3 rounded-lg transition-all ${h===ee?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("div",{className:"text-2xl mb-1",children:w[ee].icon}),t.jsx("div",{className:"text-sm",children:w[ee].name}),t.jsxs("div",{className:"text-xs opacity-80",children:[w[ee].cost," G"]})]},ee))})]}),t.jsx("button",{onClick:B,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all",children:"  "})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"  "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${y==="iron"?"border-2 border-green-400":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-3xl",children:""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:" "}),t.jsx("div",{className:"text-sm text-white/70",children:" +50%"}),t.jsx("div",{className:"text-yellow-400",children:"1,000 G"})]}),y!=="iron"&&y!=="golden"&&t.jsx("button",{onClick:()=>te("iron"),className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold",children:""})]})}),t.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${y==="golden"?"border-2 border-yellow-400":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-3xl",children:""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white",children:" "}),t.jsx("div",{className:"text-sm text-white/70",children:" +100%"}),t.jsx("div",{className:"text-yellow-400",children:"5,000 G"})]}),y!=="golden"&&t.jsx("button",{onClick:()=>te("golden"),className:"px-3 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold",children:""})]})})]})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"  "}),k.length===0?t.jsx("p",{className:"text-white/70 text-center py-4",children:"   ."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:k.map((ee,A)=>t.jsx("div",{className:`bg-gradient-to-br ${ie(ee.rarity)} p-0.5 rounded-lg`,children:t.jsxs("div",{className:"bg-black/80 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-3xl mb-1",children:ee.icon}),t.jsx("div",{className:"text-sm font-bold text-white",children:ee.name}),t.jsxs("div",{className:"text-xs text-yellow-400",children:[ee.size,"cm"]})]})},A))}),t.jsxs("div",{className:"mt-4 text-center",children:[t.jsx("div",{className:"text-white/80",children:" "}),t.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[k.reduce((ee,A)=>ee+A.value,0)," G"]})]})]})]}),t.jsx("style",{jsx:!0,children:`
        .wave {
          position: absolute;
          width: 200%;
          height: 100%;
          background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          animation: wave 3s linear infinite;
        }

        .wave1 {
          animation-delay: 0s;
        }

        .wave2 {
          animation-delay: 1.5s;
        }

        @keyframes wave {
          0% {
            transform: translateX(-50%);
          }
          100% {
            transform: translateX(0);
          }
        }
      `})]})},ab=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState(()=>{const v=[];for(let y=0;y<12;y++)v.push({id:y,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null,isUnlocked:y<4});return v}),[u,x]=S.useState(null),[g,b]=S.useState(Date.now()),N=[{id:"wheat",name:"",icon:"",seedCost:50,growthTime:60,sellPrice:150,waterNeeded:2},{id:"carrot",name:"",icon:"",seedCost:100,growthTime:120,sellPrice:350,waterNeeded:3},{id:"tomato",name:"",icon:"",seedCost:150,growthTime:180,sellPrice:500,waterNeeded:4},{id:"corn",name:"",icon:"",seedCost:200,growthTime:240,sellPrice:700,waterNeeded:5},{id:"pumpkin",name:"",icon:"",seedCost:300,growthTime:300,sellPrice:1e3,waterNeeded:6},{id:"watermelon",name:"",icon:"",seedCost:400,growthTime:360,sellPrice:1500,waterNeeded:7},{id:"strawberry",name:"",icon:"",seedCost:500,growthTime:150,sellPrice:800,waterNeeded:4},{id:"grapes",name:"",icon:"",seedCost:600,growthTime:400,sellPrice:2e3,waterNeeded:8},{id:"apple",name:"",icon:"",seedCost:800,growthTime:600,sellPrice:3e3,waterNeeded:10},{id:"golden_apple",name:"",icon:"",seedCost:5e3,growthTime:1200,sellPrice:2e4,waterNeeded:20}];S.useEffect(()=>{const v=setInterval(()=>{b(Date.now()),f()},1e3);return()=>clearInterval(v)},[d]);const f=()=>{o(v=>v.map(y=>{if(!y.crop||!y.plantedAt)return y;const M=(Date.now()-y.plantedAt)/1e3/y.crop.growthTime,w=y.lastWateredAt?(Date.now()-y.lastWateredAt)/1e3:1/0;let H=y.crop.stage;return w>120&&y.crop.stage!=="dead"?H="dead":M>=1&&y.wateredTimes>=y.crop.waterNeeded?H="mature":M>=.66?H="growing":M>=.33&&(H="sprout"),{...y,crop:{...y.crop,stage:H}}}))},C=v=>{if(!u){alert("  !");return}const y=N.find(M=>M.id===u);if(!y)return;if((r.gold||0)<y.seedCost){alert(" !");return}const _={...y,stage:"seed"};o(M=>M.map(w=>w.id===v?{...w,crop:_,plantedAt:Date.now(),wateredTimes:0,lastWateredAt:null}:w)),c({gold:(r.gold||0)-y.seedCost}),Be.playSuccessSound()},p=v=>{const y=d.find(M=>M.id===v);if(!y||!y.crop)return;if(y.crop.stage==="dead"){alert("     !");return}if(y.crop.stage==="mature"){alert("  !");return}if((y.lastWateredAt?(Date.now()-y.lastWateredAt)/1e3:1/0)<30){alert("    ! 30   .");return}o(M=>M.map(w=>w.id===v?{...w,wateredTimes:w.wateredTimes+1,lastWateredAt:Date.now()}:w)),Be.playSuccessSound()},T=v=>{const y=d.find(M=>M.id===v);if(!y||!y.crop)return;if(y.crop.stage!=="mature"){alert("   !");return}const _=y.crop.sellPrice;c({gold:(r.gold||0)+_,experience:r.experience+Math.floor(_/10)}),o(M=>M.map(w=>w.id===v?{...w,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:w)),Be.playSuccessSound(),alert(`${y.crop.name}() ! +${_} `)},R=v=>{o(y=>y.map(_=>_.id===v?{..._,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:_))},k=v=>{const y=1e3*(v-2);if((r.gold||0)<y){alert(`${y}  !`);return}o(_=>_.map(M=>M.id===v?{...M,isUnlocked:!0}:M)),c({gold:(r.gold||0)-y}),Be.playSuccessSound()},E=v=>{if(!v.crop)return"";switch(v.crop.stage){case"seed":return"";case"sprout":return"";case"growing":return"";case"mature":return v.crop.icon;case"dead":return"";default:return""}},h=v=>{if(!v.crop||!v.plantedAt)return 0;const y=(g-v.plantedAt)/1e3;return Math.min(100,y/v.crop.growthTime*100)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-700 via-green-600 to-yellow-600 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:" "}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-white",children:[t.jsx("span",{className:"text-yellow-400",children:""})," ",r.gold||0," G"]}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]})]})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"  "}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:N.map(v=>t.jsxs("button",{onClick:()=>x(v.id),className:`p-3 rounded-lg transition-all ${u===v.id?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("div",{className:"text-2xl mb-1",children:v.icon}),t.jsx("div",{className:"text-sm font-bold",children:v.name}),t.jsxs("div",{className:"text-xs",children:[": ",v.seedCost,"G"]}),t.jsxs("div",{className:"text-xs",children:[": ",v.sellPrice,"G"]}),t.jsxs("div",{className:"text-xs opacity-70",children:[v.growthTime,""]})]},v.id))})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"  "}),t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:d.map(v=>t.jsx("div",{className:`relative aspect-square rounded-lg p-4 ${v.isUnlocked?"bg-gradient-to-b from-amber-700 to-amber-900":"bg-gray-800"}`,children:v.isUnlocked?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-5xl text-center mb-2",children:E(v)}),v.crop&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-white font-bold",children:v.crop.name}),v.crop.stage!=="dead"&&v.crop.stage!=="mature"&&t.jsx("div",{className:"mt-1",children:t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${h(v)}%`}})})}),v.crop.stage!=="dead"&&v.crop.stage!=="mature"&&t.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:[" ",v.wateredTimes,"/",v.crop.waterNeeded]}),v.crop.stage==="mature"&&t.jsx("div",{className:"text-xs text-green-400 font-bold mt-1",children:" !"}),v.crop.stage==="dead"&&t.jsx("div",{className:"text-xs text-red-400 font-bold mt-1",children:""})]}),t.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex gap-1",children:[!v.crop&&t.jsx("button",{onClick:()=>C(v.id),className:"flex-1 py-1 px-2 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:""}),v.crop&&v.crop.stage!=="mature"&&v.crop.stage!=="dead"&&t.jsx("button",{onClick:()=>p(v.id),className:"flex-1 py-1 px-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:""}),v.crop&&v.crop.stage==="mature"&&t.jsx("button",{onClick:()=>T(v.id),className:"flex-1 py-1 px-2 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:""}),v.crop&&v.crop.stage==="dead"&&t.jsx("button",{onClick:()=>R(v.id),className:"flex-1 py-1 px-2 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:""})]})]}):t.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsxs("button",{onClick:()=>k(v.id),className:"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:[" (",1e3*(v.id-2),"G)"]})]})},v.id))}),t.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-4",children:[t.jsx("h3",{className:"font-bold text-white mb-2",children:" "}),t.jsxs("ul",{className:"text-sm text-white/80 space-y-1",children:[t.jsx("li",{children:"      (30)"}),t.jsx("li",{children:"  2     "}),t.jsx("li",{children:"      "}),t.jsx("li",{children:"    !"})]})]})]})]})})},lb=()=>{const{player:r,updatePlayer:c}=de(),[d,o]=S.useState({id:"starter_room",name:" ",size:"small",furniture:[],wallpaper:"basic",flooring:"wood",comfort:0,style:0,maxFurniture:10}),[u,x]=S.useState("room"),[g,b]=S.useState(null),N=[{id:"basic_bed",name:" ",icon:"",category:"bed",cost:500,comfort:10,style:5},{id:"luxury_bed",name:" ",icon:"",category:"bed",cost:2e3,comfort:30,style:20},{id:"royal_bed",name:" ",icon:"",category:"bed",cost:1e4,comfort:100,style:80},{id:"wooden_chair",name:" ",icon:"",category:"chair",cost:200,comfort:5,style:3},{id:"gaming_chair",name:" ",icon:"",category:"chair",cost:1500,comfort:25,style:15},{id:"throne",name:"",icon:"",category:"chair",cost:8e3,comfort:50,style:70},{id:"study_desk",name:"",icon:"",category:"table",cost:300,comfort:5,style:5},{id:"dining_table",name:"",icon:"",category:"table",cost:800,comfort:10,style:10},{id:"magic_table",name:" ",icon:"",category:"table",cost:5e3,comfort:20,style:50},{id:"plant",name:"",icon:"",category:"decoration",cost:100,comfort:3,style:5},{id:"painting",name:"",icon:"",category:"decoration",cost:500,comfort:5,style:15},{id:"chandelier",name:"",icon:"",category:"decoration",cost:3e3,comfort:15,style:40},{id:"aquarium",name:"",icon:"",category:"decoration",cost:1200,comfort:20,style:25},{id:"fireplace",name:"",icon:"",category:"decoration",cost:2500,comfort:35,style:30},{id:"bookshelf",name:"",icon:"",category:"storage",cost:600,comfort:8,style:12},{id:"wardrobe",name:"",icon:"",category:"storage",cost:900,comfort:10,style:10},{id:"treasure_chest",name:"",icon:"",category:"storage",cost:4e3,comfort:5,style:35},{id:"piano",name:"",icon:"",category:"special",cost:7e3,comfort:40,style:60},{id:"telescope",name:"",icon:"",category:"special",cost:3500,comfort:15,style:30},{id:"gaming_setup",name:" ",icon:"",category:"special",cost:1e4,comfort:60,style:45},{id:"magic_crystal",name:" ",icon:"",category:"special",cost:15e3,comfort:50,style:100}],f=[{id:"basic",name:" ",cost:0,style:0,icon:""},{id:"floral",name:" ",cost:500,style:10,icon:""},{id:"starry",name:" ",cost:1e3,style:20,icon:""},{id:"royal",name:" ",cost:3e3,style:50,icon:""},{id:"magical",name:" ",cost:5e3,style:80,icon:""}],C=[{id:"wood",name:" ",cost:0,style:5,icon:""},{id:"carpet",name:"",cost:800,style:15,icon:""},{id:"marble",name:"",cost:2e3,style:35,icon:""},{id:"crystal",name:" ",cost:6e3,style:70,icon:""}],p=[{size:"medium",name:" ",cost:5e3,maxFurniture:20},{size:"large",name:" ",cost:15e3,maxFurniture:35},{size:"mansion",name:"",cost:5e4,maxFurniture:50}],T=_=>{if((r.gold||0)<_.cost){alert(" !");return}if(d.furniture.length>=d.maxFurniture){alert("      !");return}const M={..._,position:{x:50,y:50}};o(w=>({...w,furniture:[...w.furniture,M],comfort:w.comfort+_.comfort,style:w.style+_.style})),c({gold:(r.gold||0)-_.cost}),Be.playSuccessSound()},R=_=>{const M=d.furniture.find(H=>H.id===_);if(!M)return;const w=Math.floor(M.cost*.5);o(H=>({...H,furniture:H.furniture.filter(Z=>Z.id!==_),comfort:H.comfort-M.comfort,style:H.style-M.style})),c({gold:(r.gold||0)+w}),Be.playCoinSound()},k=_=>{const M=f.find(w=>w.id===_);if(M){if((r.gold||0)<M.cost){alert(" !");return}o(w=>({...w,wallpaper:_,style:w.style+M.style})),c({gold:(r.gold||0)-M.cost}),Be.playSuccessSound()}},E=_=>{const M=C.find(w=>w.id===_);if(M){if((r.gold||0)<M.cost){alert(" !");return}o(w=>({...w,flooring:_,style:w.style+M.style})),c({gold:(r.gold||0)-M.cost}),Be.playSuccessSound()}},h=_=>{const M=p.find(w=>w.size===_);if(M){if((r.gold||0)<M.cost){alert(" !");return}o(w=>({...w,size:_,maxFurniture:M.maxFurniture})),c({gold:(r.gold||0)-M.cost}),Be.playLevelUpSound()}},y=(()=>{const _=Math.floor(d.comfort/10),M=Math.floor(d.style/10);return{happiness:_*2,charm:M,dailyGold:(_+M)*10}})();return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:""})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.comfort]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.style]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.furniture.length,"/",d.maxFurniture]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[" ",d.size]})]})]})]}),t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:t.jsx("div",{className:"flex gap-2",children:["room","furniture","customize","upgrade"].map(_=>t.jsxs("button",{onClick:()=>x(_),className:`px-4 py-2 rounded-lg transition-all ${u===_?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[_==="room"&&"  ",_==="furniture"&&"  ",_==="customize"&&" ",_==="upgrade"&&" "]},_))})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[u==="room"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-800 rounded-xl h-64 mb-4 relative overflow-hidden",children:[d.furniture.map((_,M)=>t.jsx("div",{className:"absolute text-4xl cursor-pointer hover:scale-110 transition-all",style:{left:`${_.position?.x||50}%`,top:`${_.position?.y||50}%`,transform:"translate(-50%, -50%)"},onClick:()=>R(_.id),title:`${_.name} ( )`,children:_.icon},M)),d.furniture.length===0&&t.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:"   !"})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("h3",{className:"font-bold text-white mb-2",children:"  "}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-pink-400",children:[" +",y.happiness]})}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-purple-400",children:[" +",y.charm]})}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-yellow-400",children:["  +",y.dailyGold]})})]})]})]}),u==="furniture"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map(_=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-3xl text-center mb-2",children:_.icon}),t.jsx("div",{className:"text-sm font-bold text-white",children:_.name}),t.jsx("div",{className:"text-xs text-white/70",children:_.category}),t.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[t.jsxs("span",{className:"text-blue-400",children:[" +",_.comfort]}),t.jsxs("span",{className:"text-purple-400",children:[" +",_.style]})]}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-yellow-400 font-bold",children:[_.cost," G"]}),t.jsx("button",{onClick:()=>T(_),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-sm font-bold hover:shadow-lg transition-all",children:""})]})]},_.id))})]}),u==="customize"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:""}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:f.map(_=>t.jsxs("button",{onClick:()=>k(_.id),className:`p-3 rounded-lg transition-all ${d.wallpaper===_.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("div",{className:"text-2xl mb-1",children:_.icon}),t.jsx("div",{className:"text-xs",children:_.name}),t.jsxs("div",{className:"text-xs",children:[_.cost," G"]})]},_.id))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:""}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:C.map(_=>t.jsxs("button",{onClick:()=>E(_.id),className:`p-3 rounded-lg transition-all ${d.flooring===_.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[t.jsx("div",{className:"text-2xl mb-1",children:_.icon}),t.jsx("div",{className:"text-xs",children:_.name}),t.jsxs("div",{className:"text-xs",children:[_.cost," G"]})]},_.id))})]})]}),u==="upgrade"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"grid gap-4",children:p.map(_=>t.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${d.size===_.size?"border-2 border-green-400":""}`,children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-white",children:_.name}),t.jsxs("div",{className:"text-sm text-white/70",children:[" : ",_.maxFurniture,""]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-yellow-400 font-bold text-xl",children:[_.cost," G"]}),d.size!==_.size&&t.jsx("button",{onClick:()=>h(_.size),className:"mt-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:""})]})]})},_.size))})]})]})]})})},sb=()=>{const r=Ge(),c=de(o=>o.player),d=[{title:"  ",items:[{name:" ",icon:"",path:"/dungeon",color:"from-red-500 to-red-600"},{name:"",icon:"",path:"/shopping",color:"from-yellow-500 to-yellow-600"},{name:" ",icon:"",path:"/characters",color:"from-blue-500 to-blue-600"},{name:" ",icon:"",path:"/heroines",color:"from-pink-500 to-pink-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/achievements",color:"from-yellow-500 to-orange-500"},{name:"",icon:"",path:"/collection",color:"from-purple-500 to-purple-600"},{name:" ",icon:"",path:"/quests",color:"from-green-500 to-green-600"},{name:" ",icon:"",path:"/calendar",color:"from-pink-500 to-pink-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/clubs",color:"from-purple-500 to-indigo-600"},{name:"",icon:"",path:"/guild",color:"from-indigo-500 to-indigo-600"},{name:" ",icon:"",path:"/pets",color:"from-emerald-500 to-emerald-600"}]},{title:"  & ",items:[{name:"",icon:"",path:"/fishing",color:"from-cyan-500 to-cyan-600"},{name:"",icon:"",path:"/farming",color:"from-green-600 to-green-700"},{name:" ",icon:"",path:"/card-matching",color:"from-purple-600 to-pink-600"},{name:" ",icon:"",path:"/quiz-game",color:"from-orange-500 to-red-500"}]},{title:"  ",items:[{name:"",icon:"",path:"/housing",color:"from-purple-600 to-pink-600"},{name:"",icon:"",path:"/crafting",color:"from-amber-500 to-amber-600"}]}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),t.jsx("button",{onClick:()=>r("/game"),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg font-bold hover:shadow-lg transition-all",children:" "})]})}),t.jsx("div",{className:"space-y-6",children:d.map((o,u)=>t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:o.title}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.items.map((x,g)=>t.jsxs("button",{onClick:()=>r(x.path),className:`bg-gradient-to-r ${x.color} p-4 rounded-xl hover:scale-105 transition-all shadow-lg hover:shadow-xl`,children:[t.jsx("div",{className:"text-4xl mb-2",children:x.icon}),t.jsx("div",{className:"text-white font-bold",children:x.name})]},g))})]},u))}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mt-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"  "}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-white/70",children:" "}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["Day ",c.day]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:["Lv.",c.level]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-white/70",children:""}),t.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[c.money||0," G"]})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-white/70",children:" "}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:c.achievementPoints||0})]})]})]})]})})},nb=({onComplete:r,onSkip:c})=>{const d=Ge(),[o,u]=S.useState(0),[x,g]=S.useState(!1),b=[{id:1,title:"    !",content:"     .    .",image:""},{id:2,title:" ",content:"   . , ,       .",image:"",highlightElement:".character-creation"},{id:3,title:" ",content:"(HP), (MP), , , ,     .      .",image:""},{id:4,title:" ",content:"5     .      .",image:""},{id:5,title:" ",content:", ,       .     .",image:""},{id:6,title:" ",content:" , ,   .       .",image:""},{id:7,title:" ",content:"        .    .",image:""},{id:8,title:" ",content:"    .    !",image:"",highlightElement:".dungeon-button"},{id:9,title:" ",content:"       .    .",image:""},{id:10,title:"",content:"    . , ,       .",image:"",highlightElement:".shop-button"},{id:11,title:"",content:" ,       .    !",image:""},{id:12,title:"",content:"       .      .",image:""},{id:13,title:" & ",content:"       .    .",image:""},{id:14,title:"",content:`   
   
    
   `,image:""},{id:15,title:" !",content:"      .  !",image:"",action:()=>{r(),d("/character-creation")}}],N=()=>{o<b.length-1?(g(!0),setTimeout(()=>{u(o+1),g(!1)},300)):b[o].action?.()},f=()=>{o>0&&(g(!0),setTimeout(()=>{u(o-1),g(!1)},300))},C=()=>{window.confirm(" ?      .")&&(c(),d("/character-creation"))};return S.useEffect(()=>{const p=b[o];if(p.highlightElement){const T=document.querySelector(p.highlightElement);if(T)return T.classList.add("tutorial-highlight"),()=>{T.classList.remove("tutorial-highlight")}}},[o]),t.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[t.jsx("div",{className:"bg-gray-200 h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full transition-all duration-500",style:{width:`${(o+1)/b.length*100}%`}})}),t.jsxs("div",{className:`p-8 transition-opacity duration-300 ${x?"opacity-0":"opacity-100"}`,children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("span",{className:"text-sm font-semibold text-gray-500",children:[" ",o+1," / ",b.length]}),t.jsx("button",{onClick:C,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:""})]}),t.jsxs("div",{className:"text-center mb-8",children:[b[o].image&&t.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:b[o].image}),t.jsx("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:b[o].title}),t.jsx("p",{className:"text-lg text-gray-700 whitespace-pre-line leading-relaxed",children:b[o].content})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("button",{onClick:f,disabled:o===0,className:`
                px-6 py-3 rounded-lg font-semibold transition-all
                ${o===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}
              `,children:""}),t.jsx("div",{className:"flex gap-2",children:b.map((p,T)=>t.jsx("button",{onClick:()=>{T<=o&&u(T)},className:`
                    w-2 h-2 rounded-full transition-all
                    ${T===o?"w-8 bg-gradient-to-r from-purple-500 to-pink-500":T<o?"bg-purple-300 cursor-pointer hover:bg-purple-400":"bg-gray-300"}
                  `},T))}),t.jsx("button",{onClick:N,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all transform hover:scale-105",children:o===b.length-1?"":""})]})]})]}),t.jsx("style",{children:`
        .tutorial-highlight {
          position: relative;
          z-index: 51;
          box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          animation: pulse 2s infinite;
        }

        @keyframes pulse {
          0% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          }
          50% {
            box-shadow: 0 0 20px 9999px rgba(0, 0, 0, 0.3);
          }
          100% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
          }
        }
      `})]})},ib=()=>{const[r,c]=S.useState([]),[d,o]=S.useState([]),[u,x]=S.useState(0),[g,b]=S.useState(0),[N,f]=S.useState(!1),C=["","","","","","","",""];S.useEffect(()=>{p()},[]);const p=()=>{const R=[...C,...C].map((k,E)=>({id:E,value:k,isFlipped:!1,isMatched:!1})).sort(()=>Math.random()-.5);c(R),o([]),x(0),b(0),f(!1)},T=R=>{if(d.length===2||d.includes(R)||r[R].isMatched)return;const k=[...d,R];if(o(k),k.length===2){b(g+1);const[E,h]=k;r[E].value===r[h].value?setTimeout(()=>{c(y=>y.map(_=>_.id===E||_.id===h?{..._,isMatched:!0}:_)),o([]),x(u+10),r.map(y=>y.id===E||y.id===h?{...y,isMatched:!0}:y).every(y=>y.isMatched)&&f(!0)},1e3):setTimeout(()=>{o([])},1e3)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-900 via-purple-900 to-indigo-900 p-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-8 border border-white/20",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-6 text-center",children:"   "}),t.jsxs("div",{className:"flex justify-center gap-8 mb-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:u}),t.jsx("div",{className:"text-sm text-gray-300",children:""})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:g}),t.jsx("div",{className:"text-sm text-gray-300",children:" "})]})]}),N&&t.jsxs("div",{className:"bg-green-600/20 border border-green-500 rounded-lg p-4 mb-6 text-center",children:[t.jsx("h2",{className:"text-xl font-bold text-green-400 mb-2",children:"  !"}),t.jsxs("p",{className:"text-green-200",children:[g,"  ",u," !"]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6 max-w-md mx-auto",children:r.map(R=>t.jsx("div",{onClick:()=>T(R.id),className:`
                  aspect-square bg-white/10 rounded-lg border-2 border-white/20 
                  flex items-center justify-center text-3xl cursor-pointer
                  transition-all duration-300 hover:scale-105
                  ${d.includes(R.id)||R.isMatched?"bg-white/20 border-yellow-400":"hover:bg-white/15"}
                  ${R.isMatched?"opacity-50":""}
                `,children:d.includes(R.id)||R.isMatched?R.value:""},R.id))}),t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("button",{onClick:p,className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all transform hover:scale-105",children:" "}),t.jsx("div",{className:"text-gray-300 text-sm",children:"    !"}),t.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all",children:""})]})]})})})},rb=({onComplete:r})=>{const{updateStats:c,updateMoney:d,gainExperience:o}=de(H=>H.actions),u=[{id:1,question:"   ?",options:["1850","1900","1925","1950"],correctAnswer:2,category:" "},{id:2,question:"  ?",options:["","","",""],correctAnswer:2,category:""},{id:3,question:"  ?",options:[" "," "," "," "],correctAnswer:2,category:""},{id:4,question:"    ?",options:["","","",""],correctAnswer:1,category:""},{id:5,question:"    ?",options:["","","",""],correctAnswer:0,category:""}],[x,g]=S.useState(0),[b,N]=S.useState(null),[f,C]=S.useState(0),[p,T]=S.useState(15),[R,k]=S.useState(!1),[E,h]=S.useState(!1);S.useEffect(()=>{if(p>0&&!E&&!R){const H=setTimeout(()=>T(p-1),1e3);return()=>clearTimeout(H)}else p===0&&!E&&v()},[p,E,R]);const v=()=>{h(!0),setTimeout(()=>_(),2e3)},y=H=>{if(!E){if(N(H),h(!0),H===u[x].correctAnswer){const Z=Math.max(50,100-(15-p)*5);C(f+Z)}setTimeout(()=>_(),2e3)}},_=()=>{x+1<u.length?(g(x+1),N(null),h(!1),T(15)):M()},M=()=>{k(!0);const H=Math.floor(f/20),Z=Math.floor(f/10),B=Math.floor(f/100);d(H),o(Z),B>0&&c({intelligence:B}),r(f)},w=H=>E?H===u[x].correctAnswer?"bg-green-500 text-white border-2 border-green-600":b===H&&H!==u[x].correctAnswer?"bg-red-500 text-white border-2 border-red-600":"bg-gray-200 text-gray-500 border-2 border-gray-300":"bg-white hover:bg-purple-50 border-2 border-purple-300 text-gray-800";return R?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"  !"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-6xl mb-4",children:f>=400?"":f>=300?"":f>=200?"":""}),t.jsx("p",{className:"text-2xl font-bold mb-2",children:" "}),t.jsx("p",{className:"text-4xl font-bold text-purple-600 mb-6",children:f}),t.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:" :"}),t.jsxs("p",{className:"font-semibold",children:[" ",Math.floor(f/20)," "]}),t.jsxs("p",{className:"font-semibold",children:[" ",Math.floor(f/10)," "]}),Math.floor(f/100)>0&&t.jsxs("p",{className:"font-semibold",children:["  +",Math.floor(f/100)]})]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:shadow-lg transition",children:" "})]})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[" ",x+1," / ",u.length]}),t.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[": ",f]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(x+1)/u.length*100}%`}})}),t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-semibold",children:u[x].category}),t.jsxs("div",{className:`text-2xl font-bold ${p<=5?"text-red-500 animate-pulse":"text-gray-700"}`,children:[" ",p,""]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:u[x].question}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:u[x].options.map((H,Z)=>t.jsxs("button",{onClick:()=>y(Z),disabled:E,className:`
                  p-4 rounded-lg font-semibold text-left transition-all
                  ${w(Z)}
                  ${E?"":"hover:scale-102 active:scale-98"}
                `,children:[t.jsxs("span",{className:"mr-3",children:[String.fromCharCode(65+Z),"."]}),H,E&&Z===u[x].correctAnswer&&t.jsx("span",{className:"ml-2",children:""}),E&&b===Z&&Z!==u[x].correctAnswer&&t.jsx("span",{className:"ml-2",children:""})]},Z))})]}),E&&t.jsx("div",{className:`text-center font-bold text-lg ${b===u[x].correctAnswer?"text-green-600":"text-red-600"}`,children:b===u[x].correctAnswer?`! +${Math.max(50,100-(15-p)*5)} `:"!"})]})})},cb=()=>{const{player:r}=de(),[c,d]=S.useState(null),[o,u]=S.useState(!1),[x,g]=S.useState(null),[b,N]=S.useState([]),[f,C]=S.useState("ranked"),p=[{id:"opponent1",name:"Shadow Knight",level:15,hp:200,maxHp:200,mp:50,maxMp:50,attack:40,defense:30,speed:25,skills:["slash","shadowstrike"],ranking:1500,wins:45,losses:12,streak:5,avatar:""},{id:"opponent2",name:"Fire Mage",level:14,hp:150,maxHp:150,mp:100,maxMp:100,attack:50,defense:20,speed:30,skills:["fireball","meteor"],ranking:1450,wins:38,losses:15,streak:3,avatar:""},{id:"opponent3",name:"Holy Priest",level:16,hp:180,maxHp:180,mp:80,maxMp:80,attack:30,defense:40,speed:20,skills:["heal","holylight"],ranking:1600,wins:52,losses:8,streak:8,avatar:""},{id:"opponent4",name:"Assassin",level:13,hp:140,maxHp:140,mp:40,maxMp:40,attack:55,defense:15,speed:40,skills:["backstab","poisondagger"],ranking:1400,wins:30,losses:20,streak:1,avatar:""},{id:"opponent5",name:"Tank Warrior",level:17,hp:250,maxHp:250,mp:30,maxMp:30,attack:35,defense:50,speed:15,skills:["shieldbash","ironwall"],ranking:1550,wins:40,losses:10,streak:4,avatar:""}],T={slash:{name:"",damage:35,mpCost:5,description:" "},fireball:{name:"",damage:45,mpCost:10,description:" "},heal:{name:"",damage:-40,mpCost:15,description:"HP "},backstab:{name:"",damage:60,mpCost:8,description:" "},shieldbash:{name:" ",damage:25,mpCost:5,description:" "},shadowstrike:{name:" ",damage:50,mpCost:12,description:" "},meteor:{name:"",damage:70,mpCost:20,description:" "},holylight:{name:" ",damage:40,mpCost:10,description:" "},poisondagger:{name:"",damage:30,mpCost:6,description:" "},ironwall:{name:"",damage:0,mpCost:10,description:" "}};S.useEffect(()=>{const h=[...p].sort((v,y)=>y.ranking-v.ranking);N(h)},[]);const R=()=>{u(!0),setTimeout(()=>{const h=p[Math.floor(Math.random()*p.length)],v={id:"player",name:r.name,level:r.level||10,hp:100+(r.level||10)*10,maxHp:100+(r.level||10)*10,mp:50+(r.level||10)*5,maxMp:50+(r.level||10)*5,attack:20+(r.level||10)*2,defense:15+(r.level||10),speed:20+Math.floor((r.level||10)/2),skills:["slash","fireball","heal"],ranking:1200,wins:0,losses:0,streak:0,avatar:""};d({player:v,opponent:{...h},turn:v.speed>=h.speed?"player":"opponent",logs:[],status:"preparing"}),u(!1),setTimeout(()=>{d(y=>y?{...y,status:"battling"}:null)},2e3)},2e3)},k=h=>{if(!c||c.status!=="battling"||c.turn!=="player")return;const v=T[h];if(!v||v.mpCost>c.player.mp)return;let y=v.damage;y>0&&(y=Math.max(1,y+c.player.attack-c.opponent.defense));const _=y>0?Math.max(0,c.opponent.hp-y):c.opponent.hp,M=y<0?Math.min(c.player.maxHp,c.player.hp-y):c.player.hp,w={attacker:r.name,action:v.name,damage:Math.abs(y),effect:y<0?"heal":"damage",timestamp:Date.now()};if(d({...c,player:{...c.player,mp:c.player.mp-v.mpCost,hp:M},opponent:{...c.opponent,hp:_},turn:"opponent",logs:[...c.logs,w]}),_<=0){setTimeout(()=>{d(H=>H?{...H,status:"victory"}:null)},1e3);return}setTimeout(()=>{E()},1500)},E=()=>{if(!c||c.status!=="battling")return;const h=c.opponent.skills.filter(Z=>{const B=T[Z];return B&&B.mpCost<=c.opponent.mp});if(h.length===0)return;const v=h[Math.floor(Math.random()*h.length)],y=T[v];let _=y.damage;_>0&&(_=Math.max(1,_+c.opponent.attack-c.player.defense));const M=_>0?Math.max(0,c.player.hp-_):c.player.hp,w=_<0?Math.min(c.opponent.maxHp,c.opponent.hp-_):c.opponent.hp,H={attacker:c.opponent.name,action:y.name,damage:Math.abs(_),effect:_<0?"heal":"damage",timestamp:Date.now()};d({...c,opponent:{...c.opponent,mp:c.opponent.mp-y.mpCost,hp:w},player:{...c.player,hp:M},turn:"player",logs:[...c.logs,H]}),M<=0&&setTimeout(()=>{d(Z=>Z?{...Z,status:"defeat"}:null)},1e3)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-purple-800 to-blue-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:" PvP  "}),t.jsx("div",{className:"flex gap-2",children:["ranked","casual","tournament"].map(h=>t.jsx("button",{onClick:()=>C(h),className:`px-4 py-2 rounded-lg font-bold transition-all ${f===h?"bg-gradient-to-r from-red-500 to-orange-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:h==="ranked"?"":h==="casual"?"":""},h))})]})}),c?t.jsx(t.Fragment,{children:c.status==="preparing"?t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),t.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:"VS"}),t.jsxs("div",{className:"flex justify-center items-center gap-8",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-4xl mb-2",children:c.player.avatar}),t.jsx("div",{className:"text-xl font-bold text-white",children:c.player.name}),t.jsxs("div",{className:"text-white/70",children:["Lv.",c.player.level]})]}),t.jsx("div",{className:"text-4xl text-yellow-400",children:"VS"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-4xl mb-2",children:c.opponent.avatar}),t.jsx("div",{className:"text-xl font-bold text-white",children:c.opponent.name}),t.jsxs("div",{className:"text-white/70",children:["Lv.",c.opponent.level]})]})]})]})}):c.status==="battling"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxs("div",{className:`${c.turn==="player"?"ring-4 ring-green-400":""} rounded-xl p-4`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"text-3xl",children:c.player.avatar}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-bold",children:c.player.name}),t.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",c.player.level]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[t.jsx("span",{children:"HP"}),t.jsxs("span",{children:[c.player.hp,"/",c.player.maxHp]})]}),t.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-full transition-all",style:{width:`${c.player.hp/c.player.maxHp*100}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[t.jsx("span",{children:"MP"}),t.jsxs("span",{children:[c.player.mp,"/",c.player.maxMp]})]}),t.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-full transition-all",style:{width:`${c.player.mp/c.player.maxMp*100}%`}})})]})]})]}),t.jsxs("div",{className:`${c.turn==="opponent"?"ring-4 ring-red-400":""} rounded-xl p-4`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"text-3xl",children:c.opponent.avatar}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-bold",children:c.opponent.name}),t.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",c.opponent.level]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[t.jsx("span",{children:"HP"}),t.jsxs("span",{children:[c.opponent.hp,"/",c.opponent.maxHp]})]}),t.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-full transition-all",style:{width:`${c.opponent.hp/c.opponent.maxHp*100}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-white mb-1",children:[t.jsx("span",{children:"MP"}),t.jsxs("span",{children:[c.opponent.mp,"/",c.opponent.maxMp]})]}),t.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-full transition-all",style:{width:`${c.opponent.mp/c.opponent.maxMp*100}%`}})})]})]})]})]}),c.turn==="player"&&t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-white font-bold mb-2",children:" !"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.player.skills.map(h=>{const v=T[h],y=v&&v.mpCost<=c.player.mp;return t.jsxs("button",{onClick:()=>y&&k(h),disabled:!y,className:`p-3 rounded-lg font-bold transition-all ${y?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:[t.jsx("div",{children:v?.name}),t.jsxs("div",{className:"text-xs",children:["MP: ",v?.mpCost]})]},h)})})]}),c.turn==="opponent"&&t.jsx("div",{className:"mt-6 text-center",children:t.jsx("div",{className:"text-white/70",children:" ..."})})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("div",{className:"text-white font-bold mb-2",children:" "}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:c.logs.slice(-5).map((h,v)=>t.jsxs("div",{className:"text-sm text-white/80",children:[t.jsx("span",{className:"font-bold",children:h.attacker}),"",t.jsxs("span",{className:"text-yellow-400",children:[" ",h.action]}),"!",h.effect==="damage"&&t.jsxs("span",{className:"text-red-400",children:[" -",h.damage," "]}),h.effect==="heal"&&t.jsxs("span",{className:"text-green-400",children:[" +",h.damage," "]})]},v))})]})]}):t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:c.status==="victory"?"":""}),t.jsx("div",{className:"text-4xl font-bold text-white mb-4",children:c.status==="victory"?"VICTORY!":"DEFEAT"}),t.jsx("div",{className:"text-white/70 mb-6",children:c.status==="victory"?`${c.opponent.name}() !`:`${c.opponent.name} ...`}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4 mb-6",children:[t.jsx("div",{className:"text-white font-bold mb-2",children:" "}),t.jsx("div",{className:"space-y-1 text-white/80",children:c.status==="victory"?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:"  : +25 RP"}),t.jsx("div",{children:" : +100 G"}),t.jsx("div",{children:" : +50 EXP"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{children:"  : -10 RP"}),t.jsx("div",{children:" : +25 G"}),t.jsx("div",{children:" : +10 EXP"})]})})]}),t.jsx("button",{onClick:()=>d(null),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-bold hover:scale-105 transition-all",children:" "})]})})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 mb-6",children:t.jsx("div",{className:"text-center",children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),t.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:" ..."}),t.jsx("div",{className:"text-white/70",children:"  "})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("div",{className:"text-2xl font-bold text-white mb-4",children:"  !"}),t.jsx("button",{onClick:R,className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-8 py-4 rounded-xl text-xl font-bold hover:scale-105 transition-all",children:" "}),t.jsxs("div",{className:"mt-4 text-white/70",children:[" : #",r.pvpRanking||1e3," | : ",r.pvpWins||0,"W ",r.pvpLosses||0,"L"]})]})})}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"space-y-2",children:b.map((h,v)=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:v===0?"":v===1?"":v===2?"":`#${v+1}`}),t.jsx("div",{className:"text-2xl",children:h.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:h.name}),t.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",h.level]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold",children:[h.ranking," RP"]}),t.jsxs("div",{className:"text-sm text-white/70",children:[h.wins,"W ",h.losses,"L"]}),h.streak>0&&t.jsxs("div",{className:"text-sm text-orange-400",children:[" ",h.streak," "]})]})]},h.id))})]})]})]})})},ob=()=>{const{player:r}=de(),[c,d]=S.useState("friends"),[o,u]=S.useState([]),[x,g]=S.useState([]),[b,N]=S.useState(null),[f,C]=S.useState([]),[p,T]=S.useState(""),[R,k]=S.useState(""),[E,h]=S.useState(!1),v=[{id:"flower",name:"",icon:"",friendshipPoints:10,cost:50},{id:"chocolate",name:"",icon:"",friendshipPoints:15,cost:75},{id:"gem",name:"",icon:"",friendshipPoints:30,cost:150},{id:"letter",name:"",icon:"",friendshipPoints:20,cost:100},{id:"trophy",name:"",icon:"",friendshipPoints:50,cost:300}],y=[{id:"1",name:"Luna",level:15,status:"online",lastSeen:new Date,friendshipLevel:85,avatar:"",mutualGuilds:["Starlight"],achievements:24,message:"   ~"},{id:"2",name:"Phoenix",level:22,status:"busy",lastSeen:new Date,friendshipLevel:70,avatar:"",mutualGuilds:["Blaze","Starlight"],achievements:45,message:" "},{id:"3",name:"Crystal",level:18,status:"offline",lastSeen:new Date(Date.now()-36e5),friendshipLevel:60,avatar:"",mutualGuilds:[],achievements:31},{id:"4",name:"Shadow",level:25,status:"away",lastSeen:new Date,friendshipLevel:45,avatar:"",mutualGuilds:["DarkKnights"],achievements:67,message:"AFK"},{id:"5",name:"Aurora",level:20,status:"online",lastSeen:new Date,friendshipLevel:92,avatar:"",mutualGuilds:["Starlight"],achievements:38,message:"  "}],_=[{id:"6",name:"Blade",level:30,status:"online",lastSeen:new Date,friendshipLevel:0,avatar:"",mutualGuilds:[],achievements:89},{id:"7",name:"Rose",level:16,status:"online",lastSeen:new Date,friendshipLevel:0,avatar:"",mutualGuilds:[],achievements:22}];S.useEffect(()=>{u(y.slice(0,3)),g(y.slice(3,4))},[]);const M=()=>{if(!p.trim()||!b)return;const V={id:Date.now().toString(),sender:r.name,content:p,timestamp:new Date,type:"text"};C([...f,V]),T("")},w=V=>{if(!b)return;const ce={id:Date.now().toString(),sender:r.name,content:`${V.icon} ${V.name}() !`,timestamp:new Date,type:"gift"};C([...f,ce]),u(o.map(W=>W.id===b.id?{...W,friendshipLevel:Math.min(100,W.friendshipLevel+V.friendshipPoints/5)}:W)),h(!1)},H=V=>{u([...o,V]),g(x.filter(ce=>ce.id!==V.id))},Z=V=>{alert(`${V.name}   !`)},B=V=>{switch(V){case"online":return"bg-green-500";case"busy":return"bg-red-500";case"away":return"bg-yellow-500";default:return"bg-gray-500"}},ae=V=>V>=90?"":V>=70?" ":V>=50?"":V>=30?" ":" ";return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),t.jsx("div",{className:"flex gap-2 mt-4",children:["friends","chat","search","requests"].map(V=>t.jsxs("button",{onClick:()=>d(V),className:`px-4 py-2 rounded-lg font-bold transition-all ${c===V?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[V==="friends"&&" ",V==="chat"&&"",V==="search"&&" ",V==="requests"&&`  ${x.length>0?`(${x.length})`:""}`]},V))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1",children:[c==="friends"&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:["  (",o.length,")"]}),t.jsx("div",{className:"space-y-2",children:o.map(V=>t.jsx("div",{onClick:()=>N(V),className:`bg-white/10 rounded-lg p-3 cursor-pointer hover:bg-white/20 transition-all ${b?.id===V.id?"ring-2 ring-pink-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"text-2xl",children:V.avatar}),t.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 ${B(V.status)} rounded-full border-2 border-black`})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:V.name}),t.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",V.level]}),V.message&&t.jsx("div",{className:"text-xs text-white/50 italic",children:V.message})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-white/70",children:ae(V.friendshipLevel)}),t.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-1 mt-1",children:t.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-full rounded-full",style:{width:`${V.friendshipLevel}%`}})})]})]})},V.id))})]}),c==="search"&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),t.jsx("input",{type:"text",value:R,onChange:V=>k(V.target.value),placeholder:"  ...",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 mb-4"}),t.jsx("div",{className:"space-y-2",children:_.filter(V=>V.name.toLowerCase().includes(R.toLowerCase())).map(V=>t.jsx("div",{className:"bg-white/10 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:V.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:V.name}),t.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",V.level,"  ",V.achievements," "]})]})]}),t.jsx("button",{onClick:()=>Z(V),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1 rounded text-sm font-bold hover:scale-105 transition-all",children:" "})]})},V.id))})]}),c==="requests"&&t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),x.length>0?t.jsx("div",{className:"space-y-2",children:x.map(V=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:V.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:V.name}),t.jsxs("div",{className:"text-xs text-white/70",children:["Lv.",V.level]})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>H(V),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white py-1 rounded text-sm font-bold",children:""}),t.jsx("button",{onClick:()=>g(x.filter(ce=>ce.id!==V.id)),className:"flex-1 bg-red-500/20 text-red-400 py-1 rounded text-sm font-bold",children:""})]})]},V.id))}):t.jsx("div",{className:"text-center text-white/50 py-8",children:"   "})]})]}),t.jsx("div",{className:"lg:col-span-2",children:(c==="friends"||c==="chat")&&b?t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 h-[600px] flex flex-col",children:[t.jsx("div",{className:"bg-white/10 rounded-lg p-4 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"text-4xl",children:b.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-white",children:b.name}),t.jsxs("div",{className:"text-white/70",children:["Lv.",b.level,"  ",ae(b.friendshipLevel)]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:`w-2 h-2 ${B(b.status)} rounded-full`}),t.jsx("span",{className:"text-sm text-white/50",children:b.status})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-2 rounded-lg font-bold hover:scale-105 transition-all",children:" "}),t.jsx("button",{className:"bg-white/10 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all",children:" "})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:f.map(V=>t.jsx("div",{className:`flex ${V.sender===r.name?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${V.sender===r.name?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white"}`,children:[V.type==="gift"&&t.jsx("div",{className:"text-2xl mb-1 text-center",children:""}),t.jsx("div",{className:"text-sm",children:V.content}),t.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(V.timestamp).toLocaleTimeString()})]})},V.id))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:p,onChange:V=>T(V.target.value),onKeyPress:V=>V.key==="Enter"&&M(),placeholder:" ...",className:"flex-1 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50"}),t.jsx("button",{onClick:M,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-2 rounded-lg font-bold hover:scale-105 transition-all",children:""})]})]}):t.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8",children:t.jsxs("div",{className:"text-center text-white/50",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("div",{className:"text-xl",children:"   "})]})})})]}),E&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:v.map(V=>t.jsxs("button",{onClick:()=>w(V),className:"bg-white/10 rounded-lg p-4 hover:bg-white/20 transition-all",children:[t.jsx("div",{className:"text-3xl mb-2",children:V.icon}),t.jsx("div",{className:"text-sm text-white font-bold",children:V.name}),t.jsxs("div",{className:"text-xs text-white/70",children:[V.cost," G"]}),t.jsxs("div",{className:"text-xs text-green-400",children:["+",V.friendshipPoints," "]})]},V.id))}),t.jsx("button",{onClick:()=>h(!1),className:"w-full mt-4 bg-white/10 text-white py-2 rounded-lg font-bold hover:bg-white/20 transition-all",children:""})]})})]})})},db=()=>{const{player:r}=de(),[c,d]=S.useState(null),[o,u]=S.useState([]),[x,g]=S.useState(!1),[b,N]=S.useState(null),f=[{id:"1",name:" ",type:"weapon",icon:"",level:0,maxLevel:15,rarity:"common",baseStats:{attack:10},enhancedStats:{attack:10},enhancementCost:100,successRate:95},{id:"2",name:" ",type:"armor",icon:"",level:3,maxLevel:15,rarity:"rare",baseStats:{defense:15,hp:50},enhancedStats:{defense:20,hp:65},enhancementCost:200,successRate:80},{id:"3",name:" ",type:"accessory",icon:"",level:5,maxLevel:20,rarity:"epic",baseStats:{mp:30,speed:5},enhancedStats:{mp:45,speed:8},enhancementCost:500,successRate:65},{id:"4",name:" ",type:"weapon",icon:"",level:7,maxLevel:25,rarity:"legendary",baseStats:{attack:50,speed:10},enhancedStats:{attack:85,speed:17},enhancementCost:1e3,successRate:45},{id:"5",name:" ",type:"accessory",icon:"",level:1,maxLevel:15,rarity:"rare",baseStats:{hp:30,mp:20},enhancedStats:{hp:35,mp:23},enhancementCost:150,successRate:88}],C=[{id:"blessing",name:" ",icon:"",successBonus:10,protectItem:!1,quantity:5},{id:"protection",name:" ",icon:"",successBonus:0,protectItem:!0,quantity:3},{id:"lucky",name:" ",icon:"",successBonus:20,protectItem:!1,quantity:2},{id:"master",name:" ",icon:"",successBonus:30,protectItem:!0,quantity:1}],p=()=>{if(!c)return 0;let h=c.successRate-c.level*5;h=Math.max(10,h);const v=o.reduce((y,_)=>y+_.successBonus,0);return Math.min(100,h+v)},T=()=>c?c.enhancementCost*(c.level+1):0,R=()=>{!c||x||(g(!0),N(null),setTimeout(()=>{const h=p();if(Math.random()*100<h){const _=c.level+1,M=Math.floor(_/3+1);d({...c,level:_,enhancedStats:{attack:c.baseStats.attack?c.baseStats.attack+M*3:void 0,defense:c.baseStats.defense?c.baseStats.defense+M*2:void 0,hp:c.baseStats.hp?c.baseStats.hp+M*10:void 0,mp:c.baseStats.mp?c.baseStats.mp+M*5:void 0,speed:c.baseStats.speed?c.baseStats.speed+M:void 0}}),N({success:!0,newLevel:_})}else{const _=o.some(M=>M.protectItem);!_&&c.level>=10?(N({success:!1,destroyed:!0}),d(null)):!_&&c.level>=5?(d({...c,level:Math.max(0,c.level-1)}),N({success:!1,newLevel:Math.max(0,c.level-1)})):N({success:!1})}g(!1),u([])},2e3))},k=h=>{switch(h){case"legendary":return"from-yellow-500 to-orange-500";case"epic":return"from-purple-500 to-pink-500";case"rare":return"from-blue-500 to-cyan-500";default:return"from-gray-500 to-gray-600"}},E=h=>{switch(h){case"legendary":return"text-yellow-400";case"epic":return"text-purple-400";case"rare":return"text-blue-400";default:return"text-gray-400"}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"  "}),t.jsx("div",{className:"mt-2 text-white/70",children:"    !      ."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:f.map(h=>t.jsx("button",{onClick:()=>d(h),className:`w-full bg-white/10 rounded-lg p-3 hover:bg-white/20 transition-all text-left ${c?.id===h.id?"ring-2 ring-yellow-400":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:h.icon}),t.jsxs("div",{children:[t.jsxs("div",{className:`font-bold ${E(h.rarity)}`,children:[h.name," ",h.level>0&&`+${h.level}`]}),t.jsx("div",{className:"text-xs text-white/60",children:h.type==="weapon"?"":h.type==="armor"?"":""})]})]}),h.level===h.maxLevel&&t.jsx("div",{className:"text-xs text-yellow-400 font-bold",children:"MAX"})]})},h.id))})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),c?t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`bg-gradient-to-r ${k(c.rarity)} p-4 rounded-lg`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-2",children:c.icon}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[c.name," +",c.level]}),t.jsxs("div",{className:"text-white/80",children:[c.level," / ",c.maxLevel]})]})}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),t.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(c.enhancedStats).map(([h,v])=>v&&t.jsxs("div",{className:"flex justify-between text-white/80",children:[t.jsx("span",{children:h==="attack"?"":h==="defense"?"":h.toUpperCase()}),t.jsxs("span",{className:"text-green-400",children:["+",v]})]},h))})]}),c.level<c.maxLevel&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"text-sm font-bold text-white mb-2",children:["  (+",c.level+1,")"]}),t.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(c.enhancedStats).map(([h,v])=>{if(!v)return null;const y=Math.floor((c.level+1)/3+1)*(h==="attack"?3:h==="defense"?2:h==="hp"?10:h==="mp"?5:1);return t.jsxs("div",{className:"flex justify-between text-white/80",children:[t.jsx("span",{children:h==="attack"?"":h==="defense"?"":h.toUpperCase()}),t.jsxs("span",{className:"text-yellow-400",children:["+",v+y-v," ( ",v+y-v,")"]})]},h)})})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between text-white/80",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:`font-bold ${p()>=70?"text-green-400":p()>=40?"text-yellow-400":"text-red-400"}`,children:[p(),"%"]})]}),t.jsxs("div",{className:"flex justify-between text-white/80",children:[t.jsx("span",{children:" "}),t.jsxs("span",{className:"text-yellow-400",children:[T()," G"]})]}),c.level>=5&&t.jsxs("div",{className:"text-xs text-red-400",children:["   ",c.level>=10?"   ":"    "]})]})]}):t.jsx("div",{className:"text-center text-white/50 py-8",children:"  "})]}),t.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),t.jsx("div",{className:"space-y-2 mb-4",children:C.map(h=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:h.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold text-sm",children:h.name}),t.jsxs("div",{className:"text-xs text-white/60",children:[h.successBonus>0&&` +${h.successBonus}%`,h.protectItem&&" "]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-white/70 text-sm",children:["x",h.quantity]}),h.quantity>0&&t.jsx("button",{onClick:()=>{o.find(v=>v.id===h.id)?u(o.filter(v=>v.id!==h.id)):u([...o,h])},className:`px-2 py-1 rounded text-xs font-bold transition-all ${o.find(v=>v.id===h.id)?"bg-green-500 text-white":"bg-white/20 text-white/70 hover:bg-white/30"}`,children:o.find(v=>v.id===h.id)?"":""})]})]},h.id))}),o.length>0&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-4",children:[t.jsx("div",{className:"text-sm font-bold text-white mb-2",children:" "}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:o.map(h=>t.jsxs("div",{className:"bg-white/20 rounded px-2 py-1 text-xs text-white flex items-center gap-1",children:[t.jsx("span",{children:h.icon}),t.jsx("span",{children:h.name})]},h.id))})]}),c&&c.level<c.maxLevel&&t.jsx("button",{onClick:R,disabled:x||(r.gold||0)<T(),className:`w-full py-4 rounded-lg font-bold text-lg transition-all ${x?"bg-gray-600 text-gray-400 cursor-not-allowed":(r.gold||0)<T()?"bg-red-600/50 text-red-300 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:scale-105"}`,children:x?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"animate-spin",children:""})," ..."]}):(r.gold||0)<T()?" ":" "}),b&&t.jsxs("div",{className:`mt-4 p-4 rounded-lg text-center ${b.success?"bg-green-500/20":"bg-red-500/20"}`,children:[t.jsx("div",{className:"text-3xl mb-2",children:b.success?"":b.destroyed?"":""}),t.jsx("div",{className:"text-white font-bold",children:b.success?` ! (+${b.newLevel})`:b.destroyed?" ...":b.newLevel!==void 0?` ... (+${b.newLevel})`:" "})]})]})]})]})})},ub="http://localhost:9000";class mb{constructor(c=ub){this.baseUrl=c}async healthCheck(){try{return await(await fetch(`${this.baseUrl}/health`)).json()}catch(c){throw console.error("Health check failed:",c),c}}async testApi(){try{return await(await fetch(`${this.baseUrl}/api/test`)).json()}catch(c){throw console.error("API test failed:",c),c}}async login(c,d){try{return await(await fetch(`${this.baseUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d})})).json()}catch(o){throw console.error("Login failed:",o),o}}async register(c,d,o){try{return await(await fetch(`${this.baseUrl}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,username:d,password:o})})).json()}catch(u){throw console.error("Registration failed:",u),u}}async saveGame(c){try{return await(await fetch(`${this.baseUrl}/api/game/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(c)})).json()}catch(d){throw console.error("Save game failed:",d),d}}async loadGame(){try{return await(await fetch(`${this.baseUrl}/api/game/load`,{headers:{Authorization:`Bearer ${this.getToken()}`}})).json()}catch(c){throw console.error("Load game failed:",c),c}}getToken(){return localStorage.getItem("authToken")}setToken(c){localStorage.setItem("authToken",c)}removeToken(){localStorage.removeItem("authToken")}}const Kc=new mb,xb=()=>{const[r,c]=S.useState(null),[d,o]=S.useState(null),[u,x]=S.useState(!1),[g,b]=S.useState(null);S.useEffect(()=>{N()},[]);const N=async()=>{x(!0),b(null);try{const p=await Kc.healthCheck();c(p)}catch(p){b("  : "+p.message)}finally{x(!1)}},f=async()=>{x(!0),b(null);try{const p=await Kc.testApi();o(p)}catch(p){b("API  : "+p.message)}finally{x(!1)}},C=async()=>{x(!0),b(null);try{const p=await Kc.login("demo@academy-dating-sim.com","demo123");console.log("Login result:",p),alert("    ")}catch(p){b("  : "+p.message)}finally{x(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-8 border border-white/20",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"  API  "}),g&&t.jsxs("div",{className:"bg-red-500/20 border border-red-500 rounded-lg p-4 mb-6 text-red-200",children:[t.jsx("strong",{children:":"})," ",g]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:" Health Check"}),t.jsx("button",{onClick:N,disabled:u,className:"w-full mb-4 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:u?" ...":"  "}),r&&t.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:t.jsx("pre",{className:"text-green-300 whitespace-pre-wrap",children:JSON.stringify(r,null,2)})})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:" API "}),t.jsx("button",{onClick:f,disabled:u,className:"w-full mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:u?" ...":"API  "}),d&&t.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:t.jsx("pre",{className:"text-blue-300 whitespace-pre-wrap",children:JSON.stringify(d,null,2)})})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"  "}),t.jsx("button",{onClick:C,disabled:u,className:"w-full mb-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:u?" ...":"  (demo )"}),t.jsx("p",{className:"text-gray-300 text-xs",children:" : demo@academy-dating-sim.com / demo123"})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"  "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:":"}),t.jsx("span",{className:"text-green-400",children:" http://localhost:5173"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:":"}),t.jsxs("span",{className:r?"text-green-400":"text-red-400",children:[r?"":""," http://localhost:3001"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:":"}),t.jsx("span",{className:"text-green-400",children:" Supabase PostgreSQL"})]})]})]})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all",children:" "})})]})})})},fb=[{id:"kendo",name:"",description:"    ",leader:"sakura",members:["sakura","npc_kendo_1","npc_kendo_2"],maxMembers:20,requirements:{stats:{strength:15,stamina:10},level:5},schedule:{monday:{time:"afternoon",activity:"training"},wednesday:{time:"afternoon",activity:"training"},friday:{time:"afternoon",activity:"sparring"},saturday:{time:"morning",activity:"tournament"}},benefits:{daily:{stats:{strength:1,stamina:1},exp:50},weekly:{items:["training_sword"],money:500},rank:{beginner:{title:"",bonus:{strength:5}},intermediate:{title:"",bonus:{strength:10,stamina:5}},advanced:{title:"",bonus:{strength:15,stamina:10,agility:5}},master:{title:"",bonus:{strength:25,stamina:15,agility:10}}}},activities:[{id:"daily_training",name:" ",description:"  ",rewards:{exp:30,stats:{strength:1}}},{id:"sparring_match",name:"",description:"  ",rewards:{exp:50,stats:{strength:2,agility:1}}},{id:"tournament",name:"",description:"  ",rewards:{exp:100,money:1e3,item:"trophy"}}],events:[{id:"kendo_festival",name:" ",description:"  ",date:{month:6,day:15},rewards:{affinity:{sakura:20},item:"special_sword"}}],reputation:0,level:1,exp:0},{id:"library",name:"",description:"   ",leader:"yuki",members:["yuki","npc_library_1","npc_library_2"],maxMembers:15,requirements:{stats:{intelligence:20},level:3},schedule:{tuesday:{time:"afternoon",activity:"reading"},thursday:{time:"afternoon",activity:"discussion"},saturday:{time:"noon",activity:"book_club"}},benefits:{daily:{stats:{intelligence:2},exp:40},weekly:{items:["rare_book"],money:300},rank:{member:{title:"",bonus:{intelligence:5}},librarian:{title:"",bonus:{intelligence:10,exp_gain:10}},scholar:{title:"",bonus:{intelligence:20,exp_gain:20}},sage:{title:"",bonus:{intelligence:30,all_stats:5}}}},activities:[{id:"quiet_reading",name:" ",description:"  ",rewards:{exp:25,stats:{intelligence:1}}},{id:"book_discussion",name:" ",description:"  ",rewards:{exp:40,stats:{intelligence:2,charm:1}}},{id:"write_review",name:" ",description:"   ",rewards:{exp:60,money:200}}],events:[{id:"book_fair",name:" ",description:"  ",date:{month:9,day:20},rewards:{affinity:{yuki:15},item:"ancient_tome"}}],reputation:0,level:1,exp:0},{id:"magic",name:" ",description:"   ",leader:"luna",members:["luna","npc_magic_1","npc_magic_2","npc_magic_3"],maxMembers:12,requirements:{stats:{intelligence:25,luck:10},level:10},schedule:{monday:{time:"evening",activity:"theory"},wednesday:{time:"evening",activity:"practice"},friday:{time:"night",activity:"ritual"}},benefits:{daily:{stats:{intelligence:1,luck:1},mp:5,exp:60},weekly:{items:["mana_potion","spell_scroll"],money:800},rank:{apprentice:{title:" ",bonus:{mp:10,intelligence:5}},adept:{title:" ",bonus:{mp:20,intelligence:10,luck:5}},wizard:{title:"",bonus:{mp:40,intelligence:20,luck:10}},archmage:{title:"",bonus:{mp:60,all_stats:10}}}},activities:[{id:"spell_practice",name:" ",description:"  ",rewards:{exp:40,mp:5}},{id:"enchantment",name:" ",description:"  ",rewards:{exp:70,item:"enchanted_item"}},{id:"summoning",name:"",description:"  ",rewards:{exp:100,stats:{luck:2}}}],reputation:0,level:1,exp:0},{id:"track",name:"",description:"    ",leader:"rin",members:["rin","npc_track_1","npc_track_2"],maxMembers:25,requirements:{stats:{stamina:20,agility:15},level:5},schedule:{daily:{time:"morning",activity:"morning_run"},weekend:{time:"afternoon",activity:"competition"}},benefits:{daily:{stats:{stamina:2,agility:1},exp:45},weekly:{items:["energy_drink","running_shoes"],money:400}},activities:[{id:"morning_jog",name:" ",description:"  ",rewards:{exp:30,stats:{stamina:2}}},{id:"sprint_training",name:" ",description:"  ",rewards:{exp:50,stats:{agility:2,stamina:1}}}],reputation:0,level:1,exp:0},{id:"art",name:"",description:"   ",leader:"mei",members:["mei","npc_art_1","npc_art_2"],maxMembers:18,requirements:{stats:{charm:15},level:4},schedule:{tuesday:{time:"afternoon",activity:"sketching"},thursday:{time:"afternoon",activity:"painting"},sunday:{time:"noon",activity:"exhibition"}},benefits:{daily:{stats:{charm:2},exp:35},weekly:{items:["art_supplies","canvas"],money:600}},activities:[{id:"sketching",name:"",description:"  ",rewards:{exp:30,stats:{charm:1}}},{id:"painting",name:" ",description:"  ",rewards:{exp:50,item:"painting",money:300}}],reputation:0,level:1,exp:0},{id:"cooking",name:"",description:"   ",leader:"hana",members:["hana","npc_cooking_1","npc_cooking_2"],maxMembers:20,requirements:{stats:{stamina:10},level:2},schedule:{monday:{time:"noon",activity:"basic_cooking"},wednesday:{time:"noon",activity:"baking"},friday:{time:"noon",activity:"special_menu"}},benefits:{daily:{stats:{stamina:1,charm:1},exp:30,items:["lunch_box"]},weekly:{items:["special_recipe","ingredients"],money:350}},activities:[{id:"cooking_practice",name:" ",description:"  ",rewards:{exp:25,item:"homemade_meal"}},{id:"bake_dessert",name:" ",description:"  ",rewards:{exp:40,item:"dessert",affinity_all:2}}],reputation:0,level:1,exp:0},{id:"science",name:"",description:"    ",leader:"sora",members:["sora","npc_science_1","npc_science_2"],maxMembers:16,requirements:{stats:{intelligence:30},level:8},schedule:{tuesday:{time:"evening",activity:"experiment"},thursday:{time:"evening",activity:"research"},saturday:{time:"afternoon",activity:"invention"}},benefits:{daily:{stats:{intelligence:3},exp:55},weekly:{items:["research_notes","invention"],money:1e3}},activities:[{id:"experiment",name:"",description:"  ",rewards:{exp:45,stats:{intelligence:2}}},{id:"invention",name:"",description:"  ",rewards:{exp:80,item:"invention",money:500}}],reputation:0,level:1,exp:0},{id:"student_council",name:"",description:"   ",leader:"akane",members:["akane","npc_council_1","npc_council_2","npc_council_3"],maxMembers:10,requirements:{stats:{intelligence:25,charm:20},level:15,reputation:500},schedule:{daily:{time:"afternoon",activity:"meeting"},friday:{time:"evening",activity:"event_planning"}},benefits:{daily:{stats:{charm:2,intelligence:1},exp:70,reputation:5},weekly:{money:1500,items:["council_badge"]},rank:{member:{title:" ",bonus:{charm:5,reputation_gain:10}},secretary:{title:"",bonus:{charm:10,intelligence:5,reputation_gain:20}},vice_president:{title:"",bonus:{all_stats:10,reputation_gain:30}},president:{title:"",bonus:{all_stats:20,reputation_gain:50}}}},activities:[{id:"council_meeting",name:"",description:"  ",rewards:{exp:50,reputation:10}},{id:"event_organization",name:" ",description:"  ",rewards:{exp:100,reputation:20,money:500}}],reputation:0,level:1,exp:0},{id:"occult",name:" ",description:"     ",leader:"mystery",members:["mystery","npc_occult_1"],maxMembers:7,requirements:{stats:{intelligence:20,luck:20},level:20,flags:["discovered_secret"],affinity:{mystery:50}},secret:!0,schedule:{midnight:{time:"night",activity:"ritual"}},benefits:{daily:{stats:{luck:3,intelligence:2},exp:100},weekly:{items:["mysterious_artifact","forbidden_knowledge"],money:2e3}},activities:[{id:"sance",name:"",description:" ",rewards:{exp:100,stats:{luck:5}}},{id:"dimension_research",name:" ",description:"  ",rewards:{exp:200,unlock:"special_ending"}}],reputation:0,level:1,exp:0}],hb={clubs:fb},Gs=hb.clubs,yx=Fa,pb=()=>{const r=Ge(),c=de(v=>v.player),{updateStats:d,updatePlayer:o,addItem:u,updateMoney:x}=de(v=>v.actions),[g,b]=S.useState(null),[N,f]=S.useState(c.currentClub||null),[C,p]=S.useState({}),T=v=>{if(N||v.requirements.level&&c.level<v.requirements.level)return!1;if(v.requirements.stats){for(const[y,_]of Object.entries(v.requirements.stats))if(c.stats[y]<_)return!1}return!0},R=v=>{const y=Gs.find(_=>_.id===v);!y||!T(y)||(f(v),o({currentClub:v,clubJoinDate:c.day}),alert(`${y.name} !`))},k=()=>{N&&confirm("  ?")&&(f(null),o({currentClub:null,clubJoinDate:null}),alert(" ."))},E=(v,y)=>{const _=Gs.find(H=>H.id===v),M=_?.activities.find(H=>H.id===y);if(!_||!M)return;const w=`${v}_${y}_${c.day}`;if(C[w]){alert("    !");return}M.rewards.exp&&o({experience:c.experience+M.rewards.exp}),M.rewards.stats&&d(M.rewards.stats),M.rewards.money&&x(M.rewards.money),M.rewards.item&&u(M.rewards.item),p(H=>({...H,[w]:!0})),alert(`${M.name}  !`)},h=v=>{const y=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],_=(c.day-1)%7,M=y[_],w=v.schedule[M];return w?`${w.time} ${w.activity}`:null};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-indigo-900 p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"glass-card p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"  "}),t.jsx("p",{className:"text-text-secondary",children:"    !"}),N&&t.jsxs("div",{className:"mt-2 badge badge-primary",children:[" : ",Gs.find(v=>v.id===N)?.name]})]}),t.jsx("button",{onClick:()=>r("/game"),className:"btn-ghost px-6 py-3 rounded-xl font-semibold",children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),Gs.map(v=>{const y=N===v.id,_=T(v),M=yx[v.leader];return t.jsxs("div",{className:`glass-card p-6 cursor-pointer transition-all duration-300 ${g===v.id?"ring-2 ring-primary":""} ${y?"border-2 border-accent":""}`,onClick:()=>b(v.id),children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[v.name,y&&t.jsx("span",{className:"badge badge-accent",children:" "})]}),t.jsx("p",{className:"text-text-secondary mt-1",children:v.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-text-secondary",children:""}),t.jsx("div",{className:"font-medium text-text-primary",children:M?.name||v.leader})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:" "}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.requirements.level&&t.jsxs("span",{className:`badge ${c.level>=v.requirements.level?"badge-success":"badge-error"}`,children:[" ",v.requirements.level]}),v.requirements.stats&&Object.entries(v.requirements.stats).map(([w,H])=>t.jsxs("span",{className:`badge ${c.stats[w]>=H?"badge-success":"badge-error"}`,children:[w," ",H]},w))]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"text-sm text-text-secondary",children:[": ",v.members.length,"/",v.maxMembers,""]}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[v.members.slice(0,5).map(w=>{const H=yx[w];return H?t.jsx("span",{className:"badge badge-primary",children:H.name},w):null}),v.members.length>5&&t.jsxs("span",{className:"badge",children:["+",v.members.length-5]})]})]}),h(v)&&t.jsxs("div",{className:"mb-4 p-3 bg-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-sm font-semibold text-primary",children:" "}),t.jsx("div",{className:"text-text-primary",children:h(v)})]}),t.jsxs("div",{className:"flex gap-2",children:[!N&&t.jsx("button",{onClick:w=>{w.stopPropagation(),R(v.id)},disabled:!_,className:`btn ${_?"btn-primary":"btn-ghost opacity-50"} px-4 py-2`,children:""}),y&&t.jsx(t.Fragment,{children:t.jsx("button",{onClick:w=>{w.stopPropagation(),k()},className:"btn btn-secondary px-4 py-2",children:""})})]})]},v.id)})]}),t.jsxs("div",{className:"glass-card p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:" "}),g?(()=>{const v=Gs.find(y=>y.id===g);return v?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:""}),t.jsxs("div",{className:"space-y-2 text-sm",children:[v.benefits.daily&&t.jsxs("div",{className:"p-2 bg-surface/50 rounded",children:[t.jsx("div",{className:"font-medium text-accent",children:" "}),v.benefits.daily.exp&&t.jsxs("div",{children:[" +",v.benefits.daily.exp]}),v.benefits.daily.stats&&Object.entries(v.benefits.daily.stats).map(([y,_])=>t.jsxs("div",{children:[y," +",_]},y))]}),v.benefits.weekly&&t.jsxs("div",{className:"p-2 bg-surface/50 rounded",children:[t.jsx("div",{className:"font-medium text-accent",children:" "}),v.benefits.weekly.money&&t.jsxs("div",{children:[" +",v.benefits.weekly.money]}),v.benefits.weekly.items&&v.benefits.weekly.items.map(y=>t.jsx("div",{children:y},y))]})]})]}),N===g&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:""}),t.jsx("div",{className:"space-y-2",children:v.activities.map(y=>{const _=C[`${v.id}_${y.id}_${c.day}`];return t.jsxs("div",{className:"p-3 bg-surface/50 rounded",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-text-primary",children:y.name}),t.jsx("div",{className:"text-xs text-text-secondary",children:y.description})]}),_&&t.jsx("span",{className:"badge badge-success",children:""})]}),!_&&t.jsx("button",{onClick:()=>E(v.id,y.id),className:"btn btn-primary btn-sm w-full",children:""})]},y.id)})})]})]}):null})():t.jsx("p",{className:"text-text-secondary",children:" "})]})]})]})})},Jc=Fa,gb=qx,bb=()=>{const r=Ge(),c=de(k=>k.player),d=de(k=>k.unlockedCharacters),[o,u]=S.useState(null),[x,g]=S.useState("gallery"),b=k=>({sakura:"",yuki:"",luna:"",mystery:"",akane:"",hana:"",rin:"",mei:"",sora:""})[k]||"",N=k=>({sakura:"from-pink-600 via-rose-500 to-pink-600",yuki:"from-blue-600 via-cyan-500 to-blue-600",luna:"from-purple-600 via-indigo-500 to-purple-600",mystery:"from-gray-600 via-slate-500 to-gray-600",akane:"from-red-600 via-orange-500 to-red-600",hana:"from-yellow-500 via-amber-400 to-yellow-500",rin:"from-violet-600 via-purple-500 to-violet-600",mei:"from-emerald-600 via-green-500 to-emerald-600",sora:"from-sky-500 via-blue-400 to-sky-500"})[k]||"from-purple-600 via-pink-500 to-purple-600",f=k=>k>=80?{level:"",color:"text-pink-400",stars:""}:k>=60?{level:"",color:"text-purple-400",stars:""}:k>=40?{level:"",color:"text-blue-400",stars:""}:k>=20?{level:"",color:"text-green-400",stars:""}:{level:"",color:"text-gray-400",stars:""},C=k=>{if(!d.includes(k)){const E=Jc[k];return E?.unlockCondition?{locked:!0,reason:`Day ${E.unlockCondition.day||0} ,   ${E.unlockCondition.totalAffection||0} `}:{locked:!0,reason:"  "}}return{locked:!1}},p=o?Jc[o]:null,T=o&&c.affection[o]||0,R=o?gb[o]?.conversations:[];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"glass-card p-6 mb-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"  "}),t.jsx("p",{className:"text-text-secondary",children:"    "})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>g(x==="gallery"?"detail":"gallery"),className:"btn-secondary px-6 py-3 rounded-xl font-semibold",children:x==="gallery"?" ":" "}),t.jsx("button",{onClick:()=>r("/game"),className:"btn-primary px-6 py-3 rounded-xl font-semibold",children:" "})]})]})}),x==="gallery"?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(Jc).map(k=>{const E=c.affection[k.id]||0,h=f(E),v=C(k.id),y=d.includes(k.id);return t.jsxs("div",{onClick:()=>{y&&(u(k.id),g("detail"))},className:`glass-card p-6 transition-all duration-300 ${y?"hover:scale-105 cursor-pointer":"opacity-50"}`,children:[t.jsx("div",{className:`bg-gradient-to-br ${N(k.id)} p-4 rounded-xl mb-4`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl mb-2",children:b(k.id)}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:k.name}),t.jsx("p",{className:"text-white/80",children:k.role})]})}),y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-text-secondary",children:""}),t.jsx("span",{className:`font-bold ${h.color}`,children:h.level})]}),t.jsx("div",{className:"w-full bg-background-dark rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 transition-all duration-500",style:{width:`${E}%`}})}),t.jsx("div",{className:"text-center mt-2 text-yellow-400 text-lg",children:h.stars})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[t.jsxs("div",{className:"bg-background-dark p-2 rounded-lg",children:[t.jsx("div",{className:"text-xs text-text-secondary",children:" "}),t.jsx("div",{className:"text-lg font-bold text-text-primary",children:c.metHeroines?.filter(_=>_===k.id).length||0})]}),t.jsxs("div",{className:"bg-background-dark p-2 rounded-lg",children:[t.jsx("div",{className:"text-xs text-text-secondary",children:""}),t.jsxs("div",{className:"text-lg font-bold text-text-primary",children:[E,"/100"]})]})]}),t.jsx("p",{className:"text-sm text-text-secondary mb-4 line-clamp-2",children:k.baseText}),t.jsx("button",{className:"w-full btn-primary py-2 rounded-lg font-semibold",children:"  "})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("p",{className:"text-text-secondary font-semibold",children:" "}),t.jsx("p",{className:"text-xs text-text-secondary mt-2",children:v.reason})]})]},k.id)})}):p&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"glass-card p-6 sticky top-4",children:[t.jsx("div",{className:`bg-gradient-to-br ${N(o)} p-6 rounded-xl mb-6`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-8xl mb-3",children:b(o)}),t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:p.name}),t.jsx("p",{className:"text-xl text-white/90",children:p.role})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:""}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-sm text-text-secondary",children:" "}),t.jsxs("span",{className:"text-sm font-bold text-text-primary",children:[T,"/100"]})]}),t.jsx("div",{className:"w-full bg-background-dark rounded-full h-4 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 transition-all duration-500",style:{width:`${T}%`}})})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:`text-2xl font-bold ${f(T).color}`,children:f(T).level}),t.jsx("div",{className:"text-yellow-400 text-xl mt-1",children:f(T).stars})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.likes.map((k,E)=>t.jsx("span",{className:"badge badge-success",children:k},E))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:" "}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.dislikes.map((k,E)=>t.jsx("span",{className:"badge badge-error",children:k},E))})]})]})]})}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"glass-card p-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),t.jsxs("div",{className:"prose prose-invert max-w-none",children:[t.jsx("p",{className:"text-text-secondary leading-relaxed",children:p.baseText}),p.backstory&&t.jsxs("div",{className:"mt-4 p-4 bg-background-dark rounded-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-2",children:" "}),t.jsx("p",{className:"text-text-secondary",children:p.backstory})]})]})]}),t.jsxs("div",{className:"glass-card p-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),t.jsx("div",{className:"space-y-3",children:p.dialogues&&Object.entries(p.dialogues).map(([k,E])=>{const h=parseInt(k),v=T>=h;return t.jsxs("div",{className:`p-4 rounded-lg transition-all ${v?"bg-background-dark border border-primary/30":"bg-background-dark/50 opacity-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-semibold text-primary",children:[" ",k]}),v?t.jsx("span",{className:"badge badge-success",children:""}):t.jsx("span",{className:"badge",children:" "})]}),t.jsxs("p",{className:`text-text-secondary ${!v&&"blur-sm"}`,children:['"',v?E:"???",'"']})]},k)})})]}),R&&R.length>0&&t.jsxs("div",{className:"glass-card p-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:" "}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map((k,E)=>{const h=T>=(k.requiredAffection||0);return t.jsxs("div",{className:`p-4 rounded-lg border ${h?"bg-gradient-to-br from-primary/20 to-accent/20 border-primary/50":"bg-background-dark/50 border-border opacity-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-text-primary",children:k.title||` ${E+1}`}),h?t.jsx("span",{className:"text-green-400",children:""}):t.jsx("span",{className:"text-gray-400",children:""})]}),t.jsxs("p",{className:"text-sm text-text-secondary",children:[" : ",k.requiredAffection||0]})]},E)})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{r("/game")},className:"flex-1 btn-primary px-6 py-3 rounded-xl font-semibold",children:"  "}),t.jsx("button",{onClick:()=>g("gallery"),className:"flex-1 btn-secondary px-6 py-3 rounded-xl font-semibold",children:" "})]})]})]})]})})},yb=()=>{const r=Ge(),c=de(N=>N.player),[d,o]=S.useState(0),u=[{title:" ",content:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-lg",children:"   ''  ."}),t.jsx("p",{className:"text-lg",children:"      ,      ."}),t.jsxs("div",{className:"bg-purple-900/30 p-4 rounded-lg mt-4",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:" : 100 "}),t.jsx("li",{children:" :   "}),t.jsx("li",{children:"  :  1,000"}),t.jsx("li",{children:" :    "})]})]})]}),emoji:""},{title:" ",content:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-lg font-bold text-yellow-300",children:"30       :"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-pink-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:" 9  "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"  80  "}),t.jsx("li",{children:"   "})]})]}),t.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"  "}),t.jsx("li",{children:"  20 "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"   "})]})]}),t.jsxs("div",{className:"bg-green-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"  "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"  "})]})]}),t.jsxs("div",{className:"bg-yellow-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"   "}),t.jsx("li",{children:"  "}),t.jsx("li",{children:" 10,000 "}),t.jsx("li",{children:"   "})]})]})]})]}),emoji:""},{title:" ",content:t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-purple-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"  30  "}),t.jsx("li",{children:"  2  "}),t.jsx("li",{children:" /  "}),t.jsx("li",{children:"   "})]})]}),t.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"    "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"   "})]})]}),t.jsxs("div",{className:"bg-green-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:" :  "}),t.jsx("li",{children:" : "}),t.jsx("li",{children:" :  "}),t.jsx("li",{children:" :  "}),t.jsx("li",{children:" :  "})]})]}),t.jsxs("div",{className:"bg-pink-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:"   "}),t.jsx("li",{children:"  "}),t.jsx("li",{children:"   "}),t.jsx("li",{children:"   "})]})]})]})}),emoji:""},{title:" ",content:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-lg",children:"9    !"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "},{name:"",emoji:"",type:" "}].map(N=>t.jsxs("div",{className:"bg-pink-900/30 p-3 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl mb-1",children:N.emoji}),t.jsx("div",{className:"font-bold",children:N.name}),t.jsx("div",{className:"text-xs text-pink-300",children:N.type})]},N.name))}),t.jsx("p",{className:"text-sm text-yellow-300 text-center",children:"     !"})]}),emoji:""},{title:" ",content:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-yellow-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"  "}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:"    "}),t.jsx("li",{children:"     "}),t.jsx("li",{children:"    "}),t.jsx("li",{children:"     "}),t.jsx("li",{children:"     "})]})]}),t.jsxs("div",{className:"bg-red-900/30 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:" "}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:" 30   "}),t.jsx("li",{children:"     "}),t.jsx("li",{children:"     "}),t.jsx("li",{children:"       "})]})]})]}),emoji:""}],x=()=>{d<u.length-1?o(d+1):r("/game")},g=()=>{d>0&&o(d-1)},b=()=>{r("/game")};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-4xl w-full",children:[t.jsxs("div",{className:"bg-black/40 backdrop-blur-lg rounded-2xl p-8 shadow-2xl",children:[t.jsx("div",{className:"flex justify-between mb-6",children:u.map((N,f)=>t.jsx("div",{className:`flex-1 h-2 mx-1 rounded-full transition-all ${f<=d?"bg-gradient-to-r from-purple-400 to-pink-400":"bg-gray-600"}`},f))}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"text-6xl mb-4",children:u[d].emoji}),t.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:u[d].title}),t.jsx("div",{className:"text-gray-100",children:u[d].content})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("button",{onClick:g,disabled:d===0,className:`px-6 py-3 rounded-lg font-bold transition-all ${d===0?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg"}`,children:""}),t.jsx("button",{onClick:b,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:""}),t.jsx("button",{onClick:x,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:d===u.length-1?" !":""})]})]}),t.jsx("div",{className:"mt-4 text-center text-white/70",children:t.jsxs("p",{children:[": ",c.name," | Day ",c.day,"/30"]})})]})})};function vb(){const[r,c]=S.useState(!1),[d,o]=S.useState(null),u=de(N=>N.gameEnding);S.useEffect(()=>{const N=localStorage.getItem("user");N&&(o(JSON.parse(N)),c(!0))},[]);const x=(N,f)=>{if(N==="demo"&&f==="password"){const C={username:N,email:"demo@example.com"};return c(!0),o(C),localStorage.setItem("user",JSON.stringify(C)),!0}return!1},g=N=>{const f={username:N.username,email:N.email};return c(!0),o(f),localStorage.setItem("user",JSON.stringify(f)),!0},b=()=>{c(!1),o(null),localStorage.removeItem("user")};return t.jsx(Op,{children:t.jsx("div",{className:"min-h-screen",children:t.jsxs(up,{children:[t.jsx(ve,{path:"/",element:t.jsx(Bx,{isLoggedIn:r,user:d,onLogout:b})}),t.jsx(ve,{path:"/login",element:t.jsx(Ng,{onLogin:x})}),t.jsx(ve,{path:"/account-creation",element:t.jsx(Qg,{onCreateAccount:g})}),t.jsx(ve,{path:"/character-creation",element:t.jsx(wg,{})}),t.jsx(ve,{path:"/game-info",element:t.jsx(Xg,{})}),t.jsx(ve,{path:"/game-intro",element:t.jsx(yb,{})}),t.jsx(ve,{path:"/settings",element:t.jsx(Vg,{})}),t.jsx(ve,{path:"/api-test",element:t.jsx(xb,{})}),t.jsx(ve,{path:"/dungeon-selection",element:t.jsx(Ag,{})}),t.jsx(ve,{path:"/dungeon",element:t.jsx(Eg,{})}),t.jsx(ve,{path:"/diary",element:t.jsx(_g,{})}),t.jsx(ve,{path:"/heroine-stories",element:t.jsx(Dg,{})}),t.jsx(ve,{path:"/shopping",element:t.jsx(Rg,{})}),t.jsx(ve,{path:"/characters",element:t.jsx(Ux,{})}),t.jsx(ve,{path:"/achievements",element:t.jsx(Kg,{})}),t.jsx(ve,{path:"/collection",element:t.jsx(Jg,{})}),t.jsx(ve,{path:"/quests",element:t.jsx(Fg,{})}),t.jsx(ve,{path:"/calendar",element:t.jsx(Pg,{})}),t.jsx(ve,{path:"/crafting",element:t.jsx(Wg,{})}),t.jsx(ve,{path:"/guild",element:t.jsx(Ig,{})}),t.jsx(ve,{path:"/pets",element:t.jsx(eb,{})}),t.jsx(ve,{path:"/fishing",element:t.jsx(tb,{})}),t.jsx(ve,{path:"/farming",element:t.jsx(ab,{})}),t.jsx(ve,{path:"/housing",element:t.jsx(lb,{})}),t.jsx(ve,{path:"/game-menu",element:t.jsx(sb,{})}),t.jsx(ve,{path:"/tutorial",element:t.jsx(nb,{onComplete:()=>{},onSkip:()=>{}})}),t.jsx(ve,{path:"/card-matching",element:t.jsx(ib,{})}),t.jsx(ve,{path:"/quiz",element:t.jsx(rb,{onComplete:N=>console.log("Quiz completed with score:",N)})}),t.jsx(ve,{path:"/pvp",element:t.jsx(cb,{})}),t.jsx(ve,{path:"/social",element:t.jsx(ob,{})}),t.jsx(ve,{path:"/enhancement",element:t.jsx(db,{})}),t.jsx(ve,{path:"/clubs",element:t.jsx(pb,{})}),t.jsx(ve,{path:"/heroines",element:t.jsx(bb,{})}),t.jsx(ve,{path:"/game",element:u?t.jsx(jg,{}):t.jsx(bg,{})}),t.jsx(ve,{path:"*",element:t.jsx(op,{to:"/",replace:!0})})]})})})}v0.createRoot(document.getElementById("root")).render(t.jsx(S.StrictMode,{children:t.jsx(vb,{})}));
