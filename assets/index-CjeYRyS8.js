(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const g of x.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function c(m){if(m.ep)return;m.ep=!0;const x=d(m);fetch(m.href,x)}})();function ex(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tc={exports:{}},Bn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function tx(){if($m)return Bn;$m=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(c,m,x){var g=null;if(x!==void 0&&(g=""+x),m.key!==void 0&&(g=""+m.key),"key"in m){x={};for(var v in m)v!=="key"&&(x[v]=m[v])}else x=m;return m=x.ref,{$$typeof:r,type:c,key:g,ref:m!==void 0?m:null,props:x}}return Bn.Fragment=o,Bn.jsx=d,Bn.jsxs=d,Bn}var Xm;function lx(){return Xm||(Xm=1,Tc.exports=tx()),Tc.exports}var l=lx(),Ac={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function ax(){if(Zm)return ce;Zm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function D(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function h(M,$,J){this.props=M,this.context=$,this.refs=S,this.updater=J||R}h.prototype.isReactComponent={},h.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},h.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=h.prototype;function p(M,$,J){this.props=M,this.context=$,this.refs=S,this.updater=J||R}var k=p.prototype=new C;k.constructor=p,N(k,h.prototype),k.isPureReactComponent=!0;var B=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function V(M,$,J,F,le,pe){return J=pe.ref,{$$typeof:r,type:M,key:$,ref:J!==void 0?J:null,props:pe}}function W(M,$){return V(M.type,$,void 0,void 0,void 0,M.props)}function ee(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function xe(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return $[J]})}var oe=/\/+/g;function ve(M,$){return typeof M=="object"&&M!==null&&M.key!=null?xe(""+M.key):$.toString(36)}function Ce(){}function ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ce,Ce):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,$,J,F,le){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var re=!1;if(M===null)re=!0;else switch(pe){case"bigint":case"string":case"number":re=!0;break;case"object":switch(M.$$typeof){case r:case o:re=!0;break;case w:return re=M._init,K(re(M._payload),$,J,F,le)}}if(re)return le=le(M),re=F===""?"."+ve(M,0):F,B(le)?(J="",re!=null&&(J=re.replace(oe,"$&/")+"/"),K(le,$,J,"",function(nl){return nl})):le!=null&&(ee(le)&&(le=W(le,J+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(oe,"$&/")+"/")+re)),$.push(le)),1;re=0;var ct=F===""?".":F+":";if(B(M))for(var Ae=0;Ae<M.length;Ae++)F=M[Ae],pe=ct+ve(F,Ae),re+=K(F,$,J,pe,le);else if(Ae=D(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(F=M.next()).done;)F=F.value,pe=ct+ve(F,Ae++),re+=K(F,$,J,pe,le);else if(pe==="object"){if(typeof M.then=="function")return K(ie(M),$,J,F,le);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return re}function U(M,$,J){if(M==null)return M;var F=[],le=0;return K(M,F,"","",function(pe){return $.call(J,pe,le++)}),F}function X(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var P=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function be(){}return ce.Children={map:U,forEach:function(M,$,J){U(M,function(){$.apply(this,arguments)},J)},count:function(M){var $=0;return U(M,function(){$++}),$},toArray:function(M){return U(M,function($){return $})||[]},only:function(M){if(!ee(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ce.Component=h,ce.Fragment=d,ce.Profiler=m,ce.PureComponent=p,ce.StrictMode=c,ce.Suspense=j,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},ce.cache=function(M){return function(){return M.apply(null,arguments)}},ce.cloneElement=function(M,$,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var F=N({},M.props),le=M.key,pe=void 0;if($!=null)for(re in $.ref!==void 0&&(pe=void 0),$.key!==void 0&&(le=""+$.key),$)!z.call($,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&$.ref===void 0||(F[re]=$[re]);var re=arguments.length-2;if(re===1)F.children=J;else if(1<re){for(var ct=Array(re),Ae=0;Ae<re;Ae++)ct[Ae]=arguments[Ae+2];F.children=ct}return V(M.type,le,void 0,void 0,pe,F)},ce.createContext=function(M){return M={$$typeof:g,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:x,_context:M},M},ce.createElement=function(M,$,J){var F,le={},pe=null;if($!=null)for(F in $.key!==void 0&&(pe=""+$.key),$)z.call($,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(le[F]=$[F]);var re=arguments.length-2;if(re===1)le.children=J;else if(1<re){for(var ct=Array(re),Ae=0;Ae<re;Ae++)ct[Ae]=arguments[Ae+2];le.children=ct}if(M&&M.defaultProps)for(F in re=M.defaultProps,re)le[F]===void 0&&(le[F]=re[F]);return V(M,pe,void 0,void 0,null,le)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(M){return{$$typeof:v,render:M}},ce.isValidElement=ee,ce.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:X}},ce.memo=function(M,$){return{$$typeof:b,type:M,compare:$===void 0?null:$}},ce.startTransition=function(M){var $=A.T,J={};A.T=J;try{var F=M(),le=A.S;le!==null&&le(J,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(be,P)}catch(pe){P(pe)}finally{A.T=$}},ce.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ce.use=function(M){return A.H.use(M)},ce.useActionState=function(M,$,J){return A.H.useActionState(M,$,J)},ce.useCallback=function(M,$){return A.H.useCallback(M,$)},ce.useContext=function(M){return A.H.useContext(M)},ce.useDebugValue=function(){},ce.useDeferredValue=function(M,$){return A.H.useDeferredValue(M,$)},ce.useEffect=function(M,$,J){var F=A.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(M,$)},ce.useId=function(){return A.H.useId()},ce.useImperativeHandle=function(M,$,J){return A.H.useImperativeHandle(M,$,J)},ce.useInsertionEffect=function(M,$){return A.H.useInsertionEffect(M,$)},ce.useLayoutEffect=function(M,$){return A.H.useLayoutEffect(M,$)},ce.useMemo=function(M,$){return A.H.useMemo(M,$)},ce.useOptimistic=function(M,$){return A.H.useOptimistic(M,$)},ce.useReducer=function(M,$,J){return A.H.useReducer(M,$,J)},ce.useRef=function(M){return A.H.useRef(M)},ce.useState=function(M){return A.H.useState(M)},ce.useSyncExternalStore=function(M,$,J){return A.H.useSyncExternalStore(M,$,J)},ce.useTransition=function(){return A.H.useTransition()},ce.version="19.1.1",ce}var Vm;function Qc(){return Vm||(Vm=1,Ac.exports=ax()),Ac.exports}var E=Qc();const Pe=ex(E);var _c={exports:{}},Hn={},Dc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function nx(){return Km||(Km=1,(function(r){function o(U,X){var P=U.length;U.push(X);e:for(;0<P;){var be=P-1>>>1,M=U[be];if(0<m(M,X))U[be]=X,U[P]=M,P=be;else break e}}function d(U){return U.length===0?null:U[0]}function c(U){if(U.length===0)return null;var X=U[0],P=U.pop();if(P!==X){U[0]=P;e:for(var be=0,M=U.length,$=M>>>1;be<$;){var J=2*(be+1)-1,F=U[J],le=J+1,pe=U[le];if(0>m(F,P))le<M&&0>m(pe,F)?(U[be]=pe,U[le]=P,be=le):(U[be]=F,U[J]=P,be=J);else if(le<M&&0>m(pe,P))U[be]=pe,U[le]=P,be=le;else break e}}return X}function m(U,X){var P=U.sortIndex-X.sortIndex;return P!==0?P:U.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var g=Date,v=g.now();r.unstable_now=function(){return g.now()-v}}var j=[],b=[],w=1,y=null,D=3,R=!1,N=!1,S=!1,h=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(U){for(var X=d(b);X!==null;){if(X.callback===null)c(b);else if(X.startTime<=U)c(b),X.sortIndex=X.expirationTime,o(j,X);else break;X=d(b)}}function A(U){if(S=!1,B(U),!N)if(d(j)!==null)N=!0,z||(z=!0,ve());else{var X=d(b);X!==null&&K(A,X.startTime-U)}}var z=!1,V=-1,W=5,ee=-1;function xe(){return h?!0:!(r.unstable_now()-ee<W)}function oe(){if(h=!1,z){var U=r.unstable_now();ee=U;var X=!0;try{e:{N=!1,S&&(S=!1,p(V),V=-1),R=!0;var P=D;try{t:{for(B(U),y=d(j);y!==null&&!(y.expirationTime>U&&xe());){var be=y.callback;if(typeof be=="function"){y.callback=null,D=y.priorityLevel;var M=be(y.expirationTime<=U);if(U=r.unstable_now(),typeof M=="function"){y.callback=M,B(U),X=!0;break t}y===d(j)&&c(j),B(U)}else c(j);y=d(j)}if(y!==null)X=!0;else{var $=d(b);$!==null&&K(A,$.startTime-U),X=!1}}break e}finally{y=null,D=P,R=!1}X=void 0}}finally{X?ve():z=!1}}}var ve;if(typeof k=="function")ve=function(){k(oe)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ie=Ce.port2;Ce.port1.onmessage=oe,ve=function(){ie.postMessage(null)}}else ve=function(){C(oe,0)};function K(U,X){V=C(function(){U(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(U){switch(D){case 1:case 2:case 3:var X=3;break;default:X=D}var P=D;D=X;try{return U()}finally{D=P}},r.unstable_requestPaint=function(){h=!0},r.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=D;D=U;try{return X()}finally{D=P}},r.unstable_scheduleCallback=function(U,X,P){var be=r.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?be+P:be):P=be,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=P+M,U={id:w++,callback:X,priorityLevel:U,startTime:P,expirationTime:M,sortIndex:-1},P>be?(U.sortIndex=P,o(b,U),d(j)===null&&U===d(b)&&(S?(p(V),V=-1):S=!0,K(A,P-be))):(U.sortIndex=M,o(j,U),N||R||(N=!0,z||(z=!0,ve()))),U},r.unstable_shouldYield=xe,r.unstable_wrapCallback=function(U){var X=D;return function(){var P=D;D=X;try{return U.apply(this,arguments)}finally{D=P}}}})(Rc)),Rc}var Jm;function sx(){return Jm||(Jm=1,Dc.exports=nx()),Dc.exports}var zc={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function ix(){if(Fm)return tt;Fm=1;var r=Qc();function o(j){var b="https://react.dev/errors/"+j;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)b+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+j+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function x(j,b,w){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:y==null?null:""+y,children:j,containerInfo:b,implementation:w}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(j,b){if(j==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,tt.createPortal=function(j,b){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(o(299));return x(j,b,null,w)},tt.flushSync=function(j){var b=g.T,w=c.p;try{if(g.T=null,c.p=2,j)return j()}finally{g.T=b,c.p=w,c.d.f()}},tt.preconnect=function(j,b){typeof j=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,c.d.C(j,b))},tt.prefetchDNS=function(j){typeof j=="string"&&c.d.D(j)},tt.preinit=function(j,b){if(typeof j=="string"&&b&&typeof b.as=="string"){var w=b.as,y=v(w,b.crossOrigin),D=typeof b.integrity=="string"?b.integrity:void 0,R=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;w==="style"?c.d.S(j,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:y,integrity:D,fetchPriority:R}):w==="script"&&c.d.X(j,{crossOrigin:y,integrity:D,fetchPriority:R,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},tt.preinitModule=function(j,b){if(typeof j=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var w=v(b.as,b.crossOrigin);c.d.M(j,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&c.d.M(j)},tt.preload=function(j,b){if(typeof j=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var w=b.as,y=v(w,b.crossOrigin);c.d.L(j,w,{crossOrigin:y,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},tt.preloadModule=function(j,b){if(typeof j=="string")if(b){var w=v(b.as,b.crossOrigin);c.d.m(j,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else c.d.m(j)},tt.requestFormReset=function(j){c.d.r(j)},tt.unstable_batchedUpdates=function(j,b){return j(b)},tt.useFormState=function(j,b,w){return g.H.useFormState(j,b,w)},tt.useFormStatus=function(){return g.H.useHostTransitionStatus()},tt.version="19.1.1",tt}var Wm;function rx(){if(Wm)return zc.exports;Wm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),zc.exports=ix(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function cx(){if(Pm)return Hn;Pm=1;var r=sx(),o=Qc(),d=rx();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(x(e)!==e)throw Error(c(188))}function j(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return v(s),e;if(i===n)return v(s),t;i=i.sibling}throw Error(c(188))}if(a.return!==n.return)a=s,n=i;else{for(var u=!1,f=s.child;f;){if(f===a){u=!0,a=s,n=i;break}if(f===n){u=!0,n=s,a=i;break}f=f.sibling}if(!u){for(f=i.child;f;){if(f===a){u=!0,a=i,n=s;break}if(f===n){u=!0,n=i,a=s;break}f=f.sibling}if(!u)throw Error(c(189))}}if(a.alternate!==n)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,y=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case h:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case z:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case k:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var K=Array.isArray,U=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},be=[],M=-1;function $(e){return{current:e}}function J(e){0>M||(e.current=be[M],be[M]=null,M--)}function F(e,t){M++,be[M]=e.current,e.current=t}var le=$(null),pe=$(null),re=$(null),ct=$(null);function Ae(e,t){switch(F(re,t),F(pe,e),F(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bm(t),e=ym(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(le),F(le,e)}function nl(){J(le),J(pe),J(re)}function hi(e){e.memoizedState!==null&&F(ct,e);var t=le.current,a=ym(t,e.type);t!==a&&(F(pe,e),F(le,a))}function $n(e){pe.current===e&&(J(le),J(pe)),ct.current===e&&(J(ct),_n._currentValue=P)}var xi=Object.prototype.hasOwnProperty,pi=r.unstable_scheduleCallback,gi=r.unstable_cancelCallback,Df=r.unstable_shouldYield,Rf=r.unstable_requestPaint,zt=r.unstable_now,zf=r.unstable_getCurrentPriorityLevel,Wc=r.unstable_ImmediatePriority,Pc=r.unstable_UserBlockingPriority,Xn=r.unstable_NormalPriority,Of=r.unstable_LowPriority,Ic=r.unstable_IdlePriority,Bf=r.log,Hf=r.unstable_setDisableYieldValue,Ua=null,ot=null;function sl(e){if(typeof Bf=="function"&&Hf(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Ua,e)}catch{}}var dt=Math.clz32?Math.clz32:Lf,Uf=Math.log,qf=Math.LN2;function Lf(e){return e>>>=0,e===0?32:31-(Uf(e)/qf|0)|0}var Zn=256,Vn=4194304;function Al(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var f=n&134217727;return f!==0?(n=f&~i,n!==0?s=Al(n):(u&=f,u!==0?s=Al(u):a||(a=f&~e,a!==0&&(s=Al(a))))):(f=n&~i,f!==0?s=Al(f):u!==0?s=Al(u):a||(a=n&~e,a!==0&&(s=Al(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var e=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),e}function to(){var e=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),e}function bi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function La(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yf(e,t,a,n,s,i){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,T=e.expirationTimes,q=e.hiddenUpdates;for(a=u&~a;0<a;){var Y=31-dt(a),Z=1<<Y;f[Y]=0,T[Y]=-1;var L=q[Y];if(L!==null)for(q[Y]=null,Y=0;Y<L.length;Y++){var G=L[Y];G!==null&&(G.lane&=-536870913)}a&=~Z}n!==0&&lo(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function lo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-dt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function ao(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-dt(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function no(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Um(e.type))}function Qf(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var il=Math.random().toString(36).slice(2),Ie="__reactFiber$"+il,at="__reactProps$"+il,Jl="__reactContainer$"+il,ji="__reactEvents$"+il,$f="__reactListeners$"+il,Xf="__reactHandles$"+il,so="__reactResources$"+il,Ga="__reactMarker$"+il;function Ni(e){delete e[Ie],delete e[at],delete e[ji],delete e[$f],delete e[Xf]}function Fl(e){var t=e[Ie];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jl]||a[Ie]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=wm(e);e!==null;){if(a=e[Ie])return a;e=wm(e)}return t}e=a,a=e.parentNode}return null}function Wl(e){if(e=e[Ie]||e[Jl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ya(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Pl(e){var t=e[so];return t||(t=e[so]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Ga]=!0}var io=new Set,ro={};function _l(e,t){Il(e,t),Il(e+"Capture",t)}function Il(e,t){for(ro[e]=t,e=0;e<t.length;e++)io.add(t[e])}var Zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},oo={};function Vf(e){return xi.call(oo,e)?!0:xi.call(co,e)?!1:Zf.test(e)?oo[e]=!0:(co[e]=!0,!1)}function Jn(e,t,a){if(Vf(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Fn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var wi,uo;function ea(e){if(wi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);wi=t&&t[1]||"",uo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+e+uo}var Si=!1;function ki(e,t){if(!e||Si)return"";Si=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var L=G}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(G){L=G}e.call(Z.prototype)}}else{try{throw Error()}catch(G){L=G}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),u=i[0],f=i[1];if(u&&f){var T=u.split(`
`),q=f.split(`
`);for(s=n=0;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;for(;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;if(n===T.length||s===q.length)for(n=T.length-1,s=q.length-1;1<=n&&0<=s&&T[n]!==q[s];)s--;for(;1<=n&&0<=s;n--,s--)if(T[n]!==q[s]){if(n!==1||s!==1)do if(n--,s--,0>s||T[n]!==q[s]){var Y=`
`+T[n].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=n&&0<=s);break}}}finally{Si=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ea(a):""}function Kf(e){switch(e.tag){case 26:case 27:case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return ki(e.type,!1);case 11:return ki(e.type.render,!1);case 1:return ki(e.type,!0);case 31:return ea("Activity");default:return""}}function mo(e){try{var t="";do t+=Kf(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jf(e){var t=fo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wn(e){e._valueTracker||(e._valueTracker=Jf(e))}function ho(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=fo(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Pn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ff=/[\n"\\]/g;function vt(e){return e.replace(Ff,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ei(e,t,a,n,s,i,u,f){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Ci(e,u,yt(t)):a!=null?Ci(e,u,yt(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+yt(f):e.removeAttribute("name")}function xo(e,t,a,n,s,i,u,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;a=a!=null?""+yt(a):"",t=t!=null?""+yt(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=f?e.checked:!!n,e.defaultChecked=!!n,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function Ci(e,t,a){t==="number"&&Pn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ta(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+yt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function po(e,t,a){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+yt(a):""}function go(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(c(92));if(K(n)){if(1<n.length)throw Error(c(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=yt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function la(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Wf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function yo(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&bo(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&bo(e,i,t[i])}function Mi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(e){return If.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function Ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,na=null;function vo(e){var t=Wl(e);if(t&&(e=t.stateNode)){var a=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ei(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[at]||null;if(!s)throw Error(c(90));Ei(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&ho(n)}break e;case"textarea":po(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ta(e,!!a.multiple,t,!1)}}}var _i=!1;function jo(e,t,a){if(_i)return e(t,a);_i=!0;try{var n=e(t);return n}finally{if(_i=!1,(aa!==null||na!==null)&&(Us(),aa&&(t=aa,e=na,na=aa=null,vo(t),e)))for(t=0;t<e.length;t++)vo(e[t])}}function Qa(e,t){var a=e.stateNode;if(a===null)return null;var n=a[at]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(Yt)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Di=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Di=!1}var rl=null,Ri=null,es=null;function No(){if(es)return es;var e,t=Ri,a=t.length,n,s="value"in rl?rl.value:rl.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var u=a-e;for(n=1;n<=u&&t[a-n]===s[i-n];n++);return es=s.slice(e,1<n?1-n:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function wo(){return!1}function nt(e){function t(a,n,s,i,u){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ls:wo,this.isPropagationStopped=wo,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=nt(Dl),Xa=w({},Dl,{view:0,detail:0}),e0=nt(Xa),zi,Oi,Za,ns=w({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Za&&(Za&&e.type==="mousemove"?(zi=e.screenX-Za.screenX,Oi=e.screenY-Za.screenY):Oi=zi=0,Za=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Oi}}),So=nt(ns),t0=w({},ns,{dataTransfer:0}),l0=nt(t0),a0=w({},Xa,{relatedTarget:0}),Bi=nt(a0),n0=w({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=nt(n0),i0=w({},Dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r0=nt(i0),c0=w({},Dl,{data:0}),ko=nt(c0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u0[e])?!!t[e]:!1}function Hi(){return m0}var f0=w({},Xa,{key:function(e){if(e.key){var t=o0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h0=nt(f0),x0=w({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=nt(x0),p0=w({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),g0=nt(p0),b0=w({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=nt(b0),v0=w({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=nt(v0),N0=w({},Dl,{newState:0,oldState:0}),w0=nt(N0),S0=[9,13,27,32],Ui=Yt&&"CompositionEvent"in window,Va=null;Yt&&"documentMode"in document&&(Va=document.documentMode);var k0=Yt&&"TextEvent"in window&&!Va,Co=Yt&&(!Ui||Va&&8<Va&&11>=Va),Mo=" ",To=!1;function Ao(e,t){switch(e){case"keyup":return S0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function E0(e,t){switch(e){case"compositionend":return _o(t);case"keypress":return t.which!==32?null:(To=!0,Mo);case"textInput":return e=t.data,e===Mo&&To?null:e;default:return null}}function C0(e,t){if(sa)return e==="compositionend"||!Ui&&Ao(e,t)?(e=No(),es=Ri=rl=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Co&&t.locale!=="ko"?null:t.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M0[e.type]:t==="textarea"}function Ro(e,t,a,n){aa?na?na.push(n):na=[n]:aa=n,t=$s(t,"onChange"),0<t.length&&(a=new as("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ka=null,Ja=null;function T0(e){fm(e,0)}function ss(e){var t=Ya(e);if(ho(t))return e}function zo(e,t){if(e==="change")return t}var Oo=!1;if(Yt){var qi;if(Yt){var Li="oninput"in document;if(!Li){var Bo=document.createElement("div");Bo.setAttribute("oninput","return;"),Li=typeof Bo.oninput=="function"}qi=Li}else qi=!1;Oo=qi&&(!document.documentMode||9<document.documentMode)}function Ho(){Ka&&(Ka.detachEvent("onpropertychange",Uo),Ja=Ka=null)}function Uo(e){if(e.propertyName==="value"&&ss(Ja)){var t=[];Ro(t,Ja,e,Ai(e)),jo(T0,t)}}function A0(e,t,a){e==="focusin"?(Ho(),Ka=t,Ja=a,Ka.attachEvent("onpropertychange",Uo)):e==="focusout"&&Ho()}function _0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(Ja)}function D0(e,t){if(e==="click")return ss(t)}function R0(e,t){if(e==="input"||e==="change")return ss(t)}function z0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:z0;function Fa(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!xi.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function qo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lo(e,t){var a=qo(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qo(a)}}function Go(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Go(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Pn(e.document)}return t}function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O0=Yt&&"documentMode"in document&&11>=document.documentMode,ia=null,Yi=null,Wa=null,Qi=!1;function Qo(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qi||ia==null||ia!==Pn(n)||(n=ia,"selectionStart"in n&&Gi(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wa&&Fa(Wa,n)||(Wa=n,n=$s(Yi,"onSelect"),0<n.length&&(t=new as("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=ia)))}function Rl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ra={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},$i={},$o={};Yt&&($o=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function zl(e){if($i[e])return $i[e];if(!ra[e])return e;var t=ra[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in $o)return $i[e]=t[a];return e}var Xo=zl("animationend"),Zo=zl("animationiteration"),Vo=zl("animationstart"),B0=zl("transitionrun"),H0=zl("transitionstart"),U0=zl("transitioncancel"),Ko=zl("transitionend"),Jo=new Map,Xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xi.push("scrollEnd");function Mt(e,t){Jo.set(e,t),_l(t,[e])}var Fo=new WeakMap;function jt(e,t){if(typeof e=="object"&&e!==null){var a=Fo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:mo(t)},Fo.set(e,t),t)}return{value:e,source:t,stack:mo(t)}}var Nt=[],ca=0,Zi=0;function is(){for(var e=ca,t=Zi=ca=0;t<e;){var a=Nt[t];Nt[t++]=null;var n=Nt[t];Nt[t++]=null;var s=Nt[t];Nt[t++]=null;var i=Nt[t];if(Nt[t++]=null,n!==null&&s!==null){var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}i!==0&&Wo(a,s,i)}}function rs(e,t,a,n){Nt[ca++]=e,Nt[ca++]=t,Nt[ca++]=a,Nt[ca++]=n,Zi|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Vi(e,t,a,n){return rs(e,t,a,n),cs(e)}function oa(e,t){return rs(e,null,null,t),cs(e)}function Wo(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-dt(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function cs(e){if(50<wn)throw wn=0,Ir=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var da={};function q0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,a,n){return new q0(e,t,a,n)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qt(e,t){var a=e.alternate;return a===null?(a=mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Po(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function os(e,t,a,n,s,i){var u=0;if(n=e,typeof e=="function")Ki(e)&&(u=1);else if(typeof e=="string")u=Gh(e,a,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=mt(31,a,t,s),e.elementType=ee,e.lanes=i,e;case N:return Ol(a.children,s,i,t);case S:u=8,s|=24;break;case h:return e=mt(12,a,t,s|2),e.elementType=h,e.lanes=i,e;case A:return e=mt(13,a,t,s),e.elementType=A,e.lanes=i,e;case z:return e=mt(19,a,t,s),e.elementType=z,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case k:u=10;break e;case p:u=9;break e;case B:u=11;break e;case V:u=14;break e;case W:u=16,n=null;break e}u=29,a=Error(c(130,e===null?"null":typeof e,"")),n=null}return t=mt(u,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ol(e,t,a,n){return e=mt(7,e,n,t),e.lanes=a,e}function Ji(e,t,a){return e=mt(6,e,null,t),e.lanes=a,e}function Fi(e,t,a){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ua=[],ma=0,ds=null,us=0,wt=[],St=0,Bl=null,$t=1,Xt="";function Hl(e,t){ua[ma++]=us,ua[ma++]=ds,ds=e,us=t}function Io(e,t,a){wt[St++]=$t,wt[St++]=Xt,wt[St++]=Bl,Bl=e;var n=$t;e=Xt;var s=32-dt(n)-1;n&=~(1<<s),a+=1;var i=32-dt(t)+s;if(30<i){var u=s-s%5;i=(n&(1<<u)-1).toString(32),n>>=u,s-=u,$t=1<<32-dt(t)+s|a<<s|n,Xt=i+e}else $t=1<<i|a<<s|n,Xt=e}function Wi(e){e.return!==null&&(Hl(e,1),Io(e,1,0))}function Pi(e){for(;e===ds;)ds=ua[--ma],ua[ma]=null,us=ua[--ma],ua[ma]=null;for(;e===Bl;)Bl=wt[--St],wt[St]=null,Xt=wt[--St],wt[St]=null,$t=wt[--St],wt[St]=null}var lt=null,Oe=null,je=!1,Ul=null,Ot=!1,Ii=Error(c(519));function ql(e){var t=Error(c(418,""));throw en(jt(t,e)),Ii}function ed(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Ie]=e,t[at]=n,a){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(a=0;a<kn.length;a++)fe(kn[a],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),xo(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Wn(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),go(t,n.value,n.defaultValue,n.children),Wn(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||gm(t.textContent,a)?(n.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),n.onScroll!=null&&fe("scroll",t),n.onScrollEnd!=null&&fe("scrollend",t),n.onClick!=null&&(t.onclick=Xs),t=!0):t=!1,t||ql(e)}function td(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:lt=lt.return}}function Pa(e){if(e!==lt)return!1;if(!je)return td(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xc(e.type,e.memoizedProps)),a=!a),a&&Oe&&ql(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Oe=At(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Oe=null}}else t===27?(t=Oe,wl(e.type)?(e=yc,yc=null,Oe=e):Oe=t):Oe=lt?At(e.stateNode.nextSibling):null;return!0}function Ia(){Oe=lt=null,je=!1}function ld(){var e=Ul;return e!==null&&(rt===null?rt=e:rt.push.apply(rt,e),Ul=null),e}function en(e){Ul===null?Ul=[e]:Ul.push(e)}var er=$(null),Ll=null,Zt=null;function cl(e,t,a){F(er,t._currentValue),t._currentValue=a}function Vt(e){e._currentValue=er.current,J(er)}function tr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function lr(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var u=s.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=s;for(var T=0;T<t.length;T++)if(f.context===t[T]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),tr(i.return,a,e),n||(u=null);break e}i=f.next}}else if(s.tag===18){if(u=s.return,u===null)throw Error(c(341));u.lanes|=a,i=u.alternate,i!==null&&(i.lanes|=a),tr(u,a,e),u=null}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}}function tn(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var u=s.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var f=s.type;ut(s.pendingProps.value,u.value)||(e!==null?e.push(f):e=[f])}}else if(s===ct.current){if(u=s.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(_n):e=[_n])}s=s.return}e!==null&&lr(t,e,a,n),t.flags|=262144}function ms(e){for(e=e.firstContext;e!==null;){if(!ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gl(e){Ll=e,Zt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return ad(Ll,e)}function fs(e,t){return Ll===null&&Gl(e),ad(e,t)}function ad(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Zt===null){if(e===null)throw Error(c(308));Zt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zt=Zt.next=t;return a}var L0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},G0=r.unstable_scheduleCallback,Y0=r.unstable_NormalPriority,Ye={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ar(){return{controller:new L0,data:new Map,refCount:0}}function ln(e){e.refCount--,e.refCount===0&&G0(Y0,function(){e.controller.abort()})}var an=null,nr=0,fa=0,ha=null;function Q0(e,t){if(an===null){var a=an=[];nr=0,fa=ic(),ha={status:"pending",value:void 0,then:function(n){a.push(n)}}}return nr++,t.then(nd,nd),t}function nd(){if(--nr===0&&an!==null){ha!==null&&(ha.status="fulfilled");var e=an;an=null,fa=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var sd=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q0(e,t),sd!==null&&sd(e,t)};var Yl=$(null);function sr(){var e=Yl.current;return e!==null?e:Te.pooledCache}function hs(e,t){t===null?F(Yl,Yl.current):F(Yl,t.pool)}function id(){var e=sr();return e===null?null:{parent:Ye._currentValue,pool:e}}var nn=Error(c(460)),rd=Error(c(474)),xs=Error(c(542)),ir={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ps(){}function od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ps,ps),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e;default:if(typeof t.status=="string")t.then(ps,ps);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e}throw sn=t,nn}}var sn=null;function dd(){if(sn===null)throw Error(c(459));var e=sn;return sn=null,e}function ud(e){if(e===nn||e===xs)throw Error(c(483))}var ol=!1;function rr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ul(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ne&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=cs(e),Wo(e,null,a),t}return rs(e,n,t,a),cs(e)}function rn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ao(e,a)}}function or(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=u:i=i.next=u,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var dr=!1;function cn(){if(dr){var e=ha;if(e!==null)throw e}}function on(e,t,a,n){dr=!1;var s=e.updateQueue;ol=!1;var i=s.firstBaseUpdate,u=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var T=f,q=T.next;T.next=null,u===null?i=q:u.next=q,u=T;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,f=Y.lastBaseUpdate,f!==u&&(f===null?Y.firstBaseUpdate=q:f.next=q,Y.lastBaseUpdate=T))}if(i!==null){var Z=s.baseState;u=0,Y=q=T=null,f=i;do{var L=f.lane&-536870913,G=L!==f.lane;if(G?(ge&L)===L:(n&L)===L){L!==0&&L===fa&&(dr=!0),Y!==null&&(Y=Y.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var se=e,ae=f;L=t;var Ee=a;switch(ae.tag){case 1:if(se=ae.payload,typeof se=="function"){Z=se.call(Ee,Z,L);break e}Z=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,L=typeof se=="function"?se.call(Ee,Z,L):se,L==null)break e;Z=w({},Z,L);break e;case 2:ol=!0}}L=f.callback,L!==null&&(e.flags|=64,G&&(e.flags|=8192),G=s.callbacks,G===null?s.callbacks=[L]:G.push(L))}else G={lane:L,tag:f.tag,payload:f.payload,callback:f.callback,next:null},Y===null?(q=Y=G,T=Z):Y=Y.next=G,u|=L;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;G=f,f=G.next,G.next=null,s.lastBaseUpdate=G,s.shared.pending=null}}while(!0);Y===null&&(T=Z),s.baseState=T,s.firstBaseUpdate=q,s.lastBaseUpdate=Y,i===null&&(s.shared.lanes=0),yl|=u,e.lanes=u,e.memoizedState=Z}}function md(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function fd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)md(a[e],t)}var xa=$(null),gs=$(0);function hd(e,t){e=el,F(gs,e),F(xa,t),el=e|t.baseLanes}function ur(){F(gs,el),F(xa,xa.current)}function mr(){el=gs.current,J(xa),J(gs)}var ml=0,de=null,Se=null,Le=null,bs=!1,pa=!1,Ql=!1,ys=0,dn=0,ga=null,X0=0;function Ue(){throw Error(c(321))}function fr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ut(e[a],t[a]))return!1;return!0}function hr(e,t,a,n,s,i){return ml=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Wd:Pd,Ql=!1,i=a(n,s),Ql=!1,pa&&(i=pd(t,a,n,s)),xd(e),i}function xd(e){U.H=ks;var t=Se!==null&&Se.next!==null;if(ml=0,Le=Se=de=null,bs=!1,dn=0,ga=null,t)throw Error(c(300));e===null||Xe||(e=e.dependencies,e!==null&&ms(e)&&(Xe=!0))}function pd(e,t,a,n){de=e;var s=0;do{if(pa&&(ga=null),dn=0,pa=!1,25<=s)throw Error(c(301));if(s+=1,Le=Se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}U.H=P0,i=t(a,n)}while(pa);return i}function Z0(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?un(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(de.flags|=1024),t}function xr(){var e=ys!==0;return ys=0,e}function pr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function gr(e){if(bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bs=!1}ml=0,Le=Se=de=null,pa=!1,dn=ys=0,ga=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?de.memoizedState=Le=e:Le=Le.next=e,Le}function Ge(){if(Se===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Le===null?de.memoizedState:Le.next;if(t!==null)Le=t,Se=e;else{if(e===null)throw de.alternate===null?Error(c(467)):Error(c(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Le===null?de.memoizedState=Le=e:Le=Le.next=e}return Le}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function un(e){var t=dn;return dn+=1,ga===null&&(ga=[]),e=od(ga,e,t),t=de,(Le===null?t.memoizedState:Le.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Wd:Pd),e}function vs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return un(e);if(e.$$typeof===k)return et(e)}throw Error(c(438,String(e)))}function yr(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=de.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=br(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=xe;return t.index++,a}function Kt(e,t){return typeof t=="function"?t(e):t}function js(e){var t=Ge();return vr(t,Se,e)}function vr(e,t,a){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var u=s.next;s.next=i.next,i.next=u}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var f=u=null,T=null,q=t,Y=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(ge&Z)===Z:(ml&Z)===Z){var L=q.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===fa&&(Y=!0);else if((ml&L)===L){q=q.next,L===fa&&(Y=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(f=T=Z,u=i):T=T.next=Z,de.lanes|=L,yl|=L;Z=q.action,Ql&&a(i,Z),i=q.hasEagerState?q.eagerState:a(i,Z)}else L={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(f=T=L,u=i):T=T.next=L,de.lanes|=Z,yl|=Z;q=q.next}while(q!==null&&q!==t);if(T===null?u=i:T.next=f,!ut(i,e.memoizedState)&&(Xe=!0,Y&&(a=ha,a!==null)))throw a;e.memoizedState=i,e.baseState=u,e.baseQueue=T,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function jr(e){var t=Ge(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var u=s=s.next;do i=e(i,u.action),u=u.next;while(u!==s);ut(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function gd(e,t,a){var n=de,s=Ge(),i=je;if(i){if(a===void 0)throw Error(c(407));a=a()}else a=t();var u=!ut((Se||s).memoizedState,a);u&&(s.memoizedState=a,Xe=!0),s=s.queue;var f=vd.bind(null,n,s,e);if(mn(2048,8,f,[e]),s.getSnapshot!==t||u||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,ba(9,Ns(),yd.bind(null,n,s,a,t),null),Te===null)throw Error(c(349));i||(ml&124)!==0||bd(n,t,a)}return a}function bd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=br(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function yd(e,t,a,n){t.value=a,t.getSnapshot=n,jd(t)&&Nd(e)}function vd(e,t,a){return a(function(){jd(t)&&Nd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ut(e,a)}catch{return!0}}function Nd(e){var t=oa(e,2);t!==null&&gt(t,e,2)}function Nr(e){var t=st();if(typeof e=="function"){var a=e;if(e=a(),Ql){sl(!0);try{a()}finally{sl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:e},t}function wd(e,t,a,n){return e.baseState=a,vr(e,Se,typeof n=="function"?n:Kt)}function V0(e,t,a,n,s){if(Ss(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};U.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Sd(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Sd(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=U.T,u={};U.T=u;try{var f=a(s,n),T=U.S;T!==null&&T(u,f),kd(e,t,f)}catch(q){wr(e,t,q)}finally{U.T=i}}else try{i=a(s,n),kd(e,t,i)}catch(q){wr(e,t,q)}}function kd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ed(e,t,n)},function(n){return wr(e,t,n)}):Ed(e,t,a)}function Ed(e,t,a){t.status="fulfilled",t.value=a,Cd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Sd(e,a)))}function wr(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Cd(t),t=t.next;while(t!==n)}e.action=null}function Cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Md(e,t){return t}function Td(e,t){if(je){var a=Te.formState;if(a!==null){e:{var n=de;if(je){if(Oe){t:{for(var s=Oe,i=Ot;s.nodeType!==8;){if(!i){s=null;break t}if(s=At(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Oe=At(s.nextSibling),n=s.data==="F!";break e}}ql(n)}n=!1}n&&(t=a[0])}}return a=st(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},a.queue=n,a=Kd.bind(null,de,n),n.dispatch=a,n=Nr(!1),i=Mr.bind(null,de,!1,n.queue),n=st(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=V0.bind(null,de,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Ad(e){var t=Ge();return _d(t,Se,e)}function _d(e,t,a){if(t=vr(e,t,Md)[0],e=js(Kt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=un(t)}catch(u){throw u===nn?xs:u}else n=t;t=Ge();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(de.flags|=2048,ba(9,Ns(),K0.bind(null,s,a),null)),[n,i,e]}function K0(e,t){e.action=t}function Dd(e){var t=Ge(),a=Se;if(a!==null)return _d(t,a,e);Ge(),t=t.memoizedState,a=Ge();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function ba(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=de.updateQueue,t===null&&(t=br(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ns(){return{destroy:void 0,resource:void 0}}function Rd(){return Ge().memoizedState}function ws(e,t,a,n){var s=st();n=n===void 0?null:n,de.flags|=e,s.memoizedState=ba(1|t,Ns(),a,n)}function mn(e,t,a,n){var s=Ge();n=n===void 0?null:n;var i=s.memoizedState.inst;Se!==null&&n!==null&&fr(n,Se.memoizedState.deps)?s.memoizedState=ba(t,i,a,n):(de.flags|=e,s.memoizedState=ba(1|t,i,a,n))}function zd(e,t){ws(8390656,8,e,t)}function Od(e,t){mn(2048,8,e,t)}function Bd(e,t){return mn(4,2,e,t)}function Hd(e,t){return mn(4,4,e,t)}function Ud(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,a){a=a!=null?a.concat([e]):null,mn(4,4,Ud.bind(null,t,e),a)}function Sr(){}function Ld(e,t){var a=Ge();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&fr(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Gd(e,t){var a=Ge();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&fr(t,n[1]))return n[0];if(n=e(),Ql){sl(!0);try{e()}finally{sl(!1)}}return a.memoizedState=[n,t],n}function kr(e,t,a){return a===void 0||(ml&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=$u(),de.lanes|=e,yl|=e,a)}function Yd(e,t,a,n){return ut(a,t)?a:xa.current!==null?(e=kr(e,a,n),ut(e,t)||(Xe=!0),e):(ml&42)===0?(Xe=!0,e.memoizedState=a):(e=$u(),de.lanes|=e,yl|=e,t)}function Qd(e,t,a,n,s){var i=X.p;X.p=i!==0&&8>i?i:8;var u=U.T,f={};U.T=f,Mr(e,!1,t,a);try{var T=s(),q=U.S;if(q!==null&&q(f,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Y=$0(T,n);fn(e,t,Y,pt(e))}else fn(e,t,n,pt(e))}catch(Z){fn(e,t,{then:function(){},status:"rejected",reason:Z},pt())}finally{X.p=i,U.T=u}}function J0(){}function Er(e,t,a,n){if(e.tag!==5)throw Error(c(476));var s=$d(e).queue;Qd(e,s,t,P,a===null?J0:function(){return Xd(e),a(n)})}function $d(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:P},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xd(e){var t=$d(e).next.queue;fn(e,t,{},pt())}function Cr(){return et(_n)}function Zd(){return Ge().memoizedState}function Vd(){return Ge().memoizedState}function F0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=pt();e=dl(a);var n=ul(t,e,a);n!==null&&(gt(n,t,a),rn(n,t,a)),t={cache:ar()},e.payload=t;return}t=t.return}}function W0(e,t,a){var n=pt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ss(e)?Jd(t,a):(a=Vi(e,t,a,n),a!==null&&(gt(a,e,n),Fd(a,t,n)))}function Kd(e,t,a){var n=pt();fn(e,t,a,n)}function fn(e,t,a,n){var s={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))Jd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,f=i(u,a);if(s.hasEagerState=!0,s.eagerState=f,ut(f,u))return rs(e,t,s,0),Te===null&&is(),!1}catch{}finally{}if(a=Vi(e,t,s,n),a!==null)return gt(a,e,n),Fd(a,t,n),!0}return!1}function Mr(e,t,a,n){if(n={lane:2,revertLane:ic(),action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(c(479))}else t=Vi(e,a,n,2),t!==null&&gt(t,e,2)}function Ss(e){var t=e.alternate;return e===de||t!==null&&t===de}function Jd(e,t){pa=bs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Fd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ao(e,a)}}var ks={readContext:et,use:vs,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},Wd={readContext:et,use:vs,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:zd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ws(4194308,4,Ud.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var a=st();t=t===void 0?null:t;var n=e();if(Ql){sl(!0);try{e()}finally{sl(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=st();if(a!==void 0){var s=a(t);if(Ql){sl(!0);try{a(t)}finally{sl(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=W0.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=Nr(e);var t=e.queue,a=Kd.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Sr,useDeferredValue:function(e,t){var a=st();return kr(a,e,t)},useTransition:function(){var e=Nr(!1);return e=Qd.bind(null,de,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=de,s=st();if(je){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Te===null)throw Error(c(349));(ge&124)!==0||bd(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,zd(vd.bind(null,n,i,e),[e]),n.flags|=2048,ba(9,Ns(),yd.bind(null,n,i,a,t),null),a},useId:function(){var e=st(),t=Te.identifierPrefix;if(je){var a=Xt,n=$t;a=(n&~(1<<32-dt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=ys++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=X0++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Cr,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mr.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:yr,useCacheRefresh:function(){return st().memoizedState=F0.bind(null,de)}},Pd={readContext:et,use:vs,useCallback:Ld,useContext:et,useEffect:Od,useImperativeHandle:qd,useInsertionEffect:Bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:js,useRef:Rd,useState:function(){return js(Kt)},useDebugValue:Sr,useDeferredValue:function(e,t){var a=Ge();return Yd(a,Se.memoizedState,e,t)},useTransition:function(){var e=js(Kt)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:un(e),t]},useSyncExternalStore:gd,useId:Zd,useHostTransitionStatus:Cr,useFormState:Ad,useActionState:Ad,useOptimistic:function(e,t){var a=Ge();return wd(a,Se,e,t)},useMemoCache:yr,useCacheRefresh:Vd},P0={readContext:et,use:vs,useCallback:Ld,useContext:et,useEffect:Od,useImperativeHandle:qd,useInsertionEffect:Bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:jr,useRef:Rd,useState:function(){return jr(Kt)},useDebugValue:Sr,useDeferredValue:function(e,t){var a=Ge();return Se===null?kr(a,e,t):Yd(a,Se.memoizedState,e,t)},useTransition:function(){var e=jr(Kt)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:un(e),t]},useSyncExternalStore:gd,useId:Zd,useHostTransitionStatus:Cr,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var a=Ge();return Se!==null?wd(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yr,useCacheRefresh:Vd},ya=null,hn=0;function Es(e){var t=hn;return hn+=1,ya===null&&(ya=[]),od(ya,e,t)}function xn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cs(e,t){throw t.$$typeof===y?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){var t=e._init;return t(e._payload)}function eu(e){function t(O,_){if(e){var H=O.deletions;H===null?(O.deletions=[_],O.flags|=16):H.push(_)}}function a(O,_){if(!e)return null;for(;_!==null;)t(O,_),_=_.sibling;return null}function n(O){for(var _=new Map;O!==null;)O.key!==null?_.set(O.key,O):_.set(O.index,O),O=O.sibling;return _}function s(O,_){return O=Qt(O,_),O.index=0,O.sibling=null,O}function i(O,_,H){return O.index=H,e?(H=O.alternate,H!==null?(H=H.index,H<_?(O.flags|=67108866,_):H):(O.flags|=67108866,_)):(O.flags|=1048576,_)}function u(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function f(O,_,H,Q){return _===null||_.tag!==6?(_=Ji(H,O.mode,Q),_.return=O,_):(_=s(_,H),_.return=O,_)}function T(O,_,H,Q){var I=H.type;return I===N?Y(O,_,H.props.children,Q,H.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===W&&Id(I)===_.type)?(_=s(_,H.props),xn(_,H),_.return=O,_):(_=os(H.type,H.key,H.props,null,O.mode,Q),xn(_,H),_.return=O,_)}function q(O,_,H,Q){return _===null||_.tag!==4||_.stateNode.containerInfo!==H.containerInfo||_.stateNode.implementation!==H.implementation?(_=Fi(H,O.mode,Q),_.return=O,_):(_=s(_,H.children||[]),_.return=O,_)}function Y(O,_,H,Q,I){return _===null||_.tag!==7?(_=Ol(H,O.mode,Q,I),_.return=O,_):(_=s(_,H),_.return=O,_)}function Z(O,_,H){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ji(""+_,O.mode,H),_.return=O,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case D:return H=os(_.type,_.key,_.props,null,O.mode,H),xn(H,_),H.return=O,H;case R:return _=Fi(_,O.mode,H),_.return=O,_;case W:var Q=_._init;return _=Q(_._payload),Z(O,_,H)}if(K(_)||ve(_))return _=Ol(_,O.mode,H,null),_.return=O,_;if(typeof _.then=="function")return Z(O,Es(_),H);if(_.$$typeof===k)return Z(O,fs(O,_),H);Cs(O,_)}return null}function L(O,_,H,Q){var I=_!==null?_.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return I!==null?null:f(O,_,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===I?T(O,_,H,Q):null;case R:return H.key===I?q(O,_,H,Q):null;case W:return I=H._init,H=I(H._payload),L(O,_,H,Q)}if(K(H)||ve(H))return I!==null?null:Y(O,_,H,Q,null);if(typeof H.then=="function")return L(O,_,Es(H),Q);if(H.$$typeof===k)return L(O,_,fs(O,H),Q);Cs(O,H)}return null}function G(O,_,H,Q,I){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(H)||null,f(_,O,""+Q,I);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return O=O.get(Q.key===null?H:Q.key)||null,T(_,O,Q,I);case R:return O=O.get(Q.key===null?H:Q.key)||null,q(_,O,Q,I);case W:var ue=Q._init;return Q=ue(Q._payload),G(O,_,H,Q,I)}if(K(Q)||ve(Q))return O=O.get(H)||null,Y(_,O,Q,I,null);if(typeof Q.then=="function")return G(O,_,H,Es(Q),I);if(Q.$$typeof===k)return G(O,_,H,fs(_,Q),I);Cs(_,Q)}return null}function se(O,_,H,Q){for(var I=null,ue=null,te=_,ne=_=0,Ve=null;te!==null&&ne<H.length;ne++){te.index>ne?(Ve=te,te=null):Ve=te.sibling;var ye=L(O,te,H[ne],Q);if(ye===null){te===null&&(te=Ve);break}e&&te&&ye.alternate===null&&t(O,te),_=i(ye,_,ne),ue===null?I=ye:ue.sibling=ye,ue=ye,te=Ve}if(ne===H.length)return a(O,te),je&&Hl(O,ne),I;if(te===null){for(;ne<H.length;ne++)te=Z(O,H[ne],Q),te!==null&&(_=i(te,_,ne),ue===null?I=te:ue.sibling=te,ue=te);return je&&Hl(O,ne),I}for(te=n(te);ne<H.length;ne++)Ve=G(te,O,ne,H[ne],Q),Ve!==null&&(e&&Ve.alternate!==null&&te.delete(Ve.key===null?ne:Ve.key),_=i(Ve,_,ne),ue===null?I=Ve:ue.sibling=Ve,ue=Ve);return e&&te.forEach(function(Ml){return t(O,Ml)}),je&&Hl(O,ne),I}function ae(O,_,H,Q){if(H==null)throw Error(c(151));for(var I=null,ue=null,te=_,ne=_=0,Ve=null,ye=H.next();te!==null&&!ye.done;ne++,ye=H.next()){te.index>ne?(Ve=te,te=null):Ve=te.sibling;var Ml=L(O,te,ye.value,Q);if(Ml===null){te===null&&(te=Ve);break}e&&te&&Ml.alternate===null&&t(O,te),_=i(Ml,_,ne),ue===null?I=Ml:ue.sibling=Ml,ue=Ml,te=Ve}if(ye.done)return a(O,te),je&&Hl(O,ne),I;if(te===null){for(;!ye.done;ne++,ye=H.next())ye=Z(O,ye.value,Q),ye!==null&&(_=i(ye,_,ne),ue===null?I=ye:ue.sibling=ye,ue=ye);return je&&Hl(O,ne),I}for(te=n(te);!ye.done;ne++,ye=H.next())ye=G(te,O,ne,ye.value,Q),ye!==null&&(e&&ye.alternate!==null&&te.delete(ye.key===null?ne:ye.key),_=i(ye,_,ne),ue===null?I=ye:ue.sibling=ye,ue=ye);return e&&te.forEach(function(Ih){return t(O,Ih)}),je&&Hl(O,ne),I}function Ee(O,_,H,Q){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var I=H.key;_!==null;){if(_.key===I){if(I=H.type,I===N){if(_.tag===7){a(O,_.sibling),Q=s(_,H.props.children),Q.return=O,O=Q;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===W&&Id(I)===_.type){a(O,_.sibling),Q=s(_,H.props),xn(Q,H),Q.return=O,O=Q;break e}a(O,_);break}else t(O,_);_=_.sibling}H.type===N?(Q=Ol(H.props.children,O.mode,Q,H.key),Q.return=O,O=Q):(Q=os(H.type,H.key,H.props,null,O.mode,Q),xn(Q,H),Q.return=O,O=Q)}return u(O);case R:e:{for(I=H.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===H.containerInfo&&_.stateNode.implementation===H.implementation){a(O,_.sibling),Q=s(_,H.children||[]),Q.return=O,O=Q;break e}else{a(O,_);break}else t(O,_);_=_.sibling}Q=Fi(H,O.mode,Q),Q.return=O,O=Q}return u(O);case W:return I=H._init,H=I(H._payload),Ee(O,_,H,Q)}if(K(H))return se(O,_,H,Q);if(ve(H)){if(I=ve(H),typeof I!="function")throw Error(c(150));return H=I.call(H),ae(O,_,H,Q)}if(typeof H.then=="function")return Ee(O,_,Es(H),Q);if(H.$$typeof===k)return Ee(O,_,fs(O,H),Q);Cs(O,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,_!==null&&_.tag===6?(a(O,_.sibling),Q=s(_,H),Q.return=O,O=Q):(a(O,_),Q=Ji(H,O.mode,Q),Q.return=O,O=Q),u(O)):a(O,_)}return function(O,_,H,Q){try{hn=0;var I=Ee(O,_,H,Q);return ya=null,I}catch(te){if(te===nn||te===xs)throw te;var ue=mt(29,te,null,O.mode);return ue.lanes=Q,ue.return=O,ue}finally{}}}var va=eu(!0),tu=eu(!1),kt=$(null),Bt=null;function fl(e){var t=e.alternate;F(Qe,Qe.current&1),F(kt,e),Bt===null&&(t===null||xa.current!==null||t.memoizedState!==null)&&(Bt=e)}function lu(e){if(e.tag===22){if(F(Qe,Qe.current),F(kt,e),Bt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Bt=e)}}else hl()}function hl(){F(Qe,Qe.current),F(kt,kt.current)}function Jt(e){J(kt),Bt===e&&(Bt=null),J(Qe)}var Qe=$(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Tr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ar={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=pt(),s=dl(n);s.payload=t,a!=null&&(s.callback=a),t=ul(e,s,n),t!==null&&(gt(t,e,n),rn(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=pt(),s=dl(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=ul(e,s,n),t!==null&&(gt(t,e,n),rn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=pt(),n=dl(a);n.tag=2,t!=null&&(n.callback=t),t=ul(e,n,a),t!==null&&(gt(t,e,a),rn(t,e,a))}};function au(e,t,a,n,s,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,u):t.prototype&&t.prototype.isPureReactComponent?!Fa(a,n)||!Fa(s,i):!0}function nu(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ar.enqueueReplaceState(t,t.state,null)}function $l(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}var Ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function su(e){Ts(e)}function iu(e){console.error(e)}function ru(e){Ts(e)}function As(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function cu(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function _r(e,t,a){return a=dl(a),a.tag=3,a.payload={element:null},a.callback=function(){As(e,t)},a}function ou(e){return e=dl(e),e.tag=3,e}function du(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){cu(t,a,n)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){cu(t,a,n),typeof s!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})})}function I0(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&tn(t,a,s,!0),a=kt.current,a!==null){switch(a.tag){case 13:return Bt===null?tc():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===ir?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ac(e,n,s)),!1;case 22:return a.flags|=65536,n===ir?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ac(e,n,s)),!1}throw Error(c(435,a.tag))}return ac(e,n,s),tc(),!1}if(je)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==Ii&&(e=Error(c(422),{cause:n}),en(jt(e,a)))):(n!==Ii&&(t=Error(c(423),{cause:n}),en(jt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=jt(n,a),s=_r(e.stateNode,n,s),or(e,s),Be!==4&&(Be=2)),!1;var i=Error(c(520),{cause:n});if(i=jt(i,a),Nn===null?Nn=[i]:Nn.push(i),Be!==4&&(Be=2),t===null)return!0;n=jt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=_r(a.stateNode,n,e),or(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(vl===null||!vl.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=ou(s),du(s,e,a,n),or(a,s),!1}a=a.return}while(a!==null);return!1}var uu=Error(c(461)),Xe=!1;function Ke(e,t,a,n){t.child=e===null?tu(t,null,a,n):va(t,e.child,a,n)}function mu(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var u={};for(var f in n)f!=="ref"&&(u[f]=n[f])}else u=n;return Gl(t),n=hr(e,t,a,u,i,s),f=xr(),e!==null&&!Xe?(pr(e,t,s),Ft(e,t,s)):(je&&f&&Wi(t),t.flags|=1,Ke(e,t,n,s),t.child)}function fu(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!Ki(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,hu(e,t,i,n,s)):(e=os(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!qr(e,s)){var u=i.memoizedProps;if(a=a.compare,a=a!==null?a:Fa,a(u,n)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=Qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function hu(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(Fa(i,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=i,qr(e,s))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return Dr(e,t,a,n,s)}function xu(e,t,a){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return pu(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hs(t,i!==null?i.cachePool:null),i!==null?hd(t,i):ur(),lu(t);else return t.lanes=t.childLanes=536870912,pu(e,t,i!==null?i.baseLanes|a:a,a)}else i!==null?(hs(t,i.cachePool),hd(t,i),hl(),t.memoizedState=null):(e!==null&&hs(t,null),ur(),hl());return Ke(e,t,s,a),t.child}function pu(e,t,a,n){var s=sr();return s=s===null?null:{parent:Ye._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&hs(t,null),ur(),lu(t),e!==null&&tn(e,t,n,!0),null}function _s(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Dr(e,t,a,n,s){return Gl(t),a=hr(e,t,a,n,void 0,s),n=xr(),e!==null&&!Xe?(pr(e,t,s),Ft(e,t,s)):(je&&n&&Wi(t),t.flags|=1,Ke(e,t,a,s),t.child)}function gu(e,t,a,n,s,i){return Gl(t),t.updateQueue=null,a=pd(t,n,a,s),xd(e),n=xr(),e!==null&&!Xe?(pr(e,t,i),Ft(e,t,i)):(je&&n&&Wi(t),t.flags|=1,Ke(e,t,a,i),t.child)}function bu(e,t,a,n,s){if(Gl(t),t.stateNode===null){var i=da,u=a.contextType;typeof u=="object"&&u!==null&&(i=et(u)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ar,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},rr(t),u=a.contextType,i.context=typeof u=="object"&&u!==null?et(u):da,i.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Tr(t,a,u,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&Ar.enqueueReplaceState(i,i.state,null),on(t,n,i,s),cn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,T=$l(a,f);i.props=T;var q=i.context,Y=a.contextType;u=da,typeof Y=="object"&&Y!==null&&(u=et(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,Y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||q!==u)&&nu(t,i,n,u),ol=!1;var L=t.memoizedState;i.state=L,on(t,n,i,s),cn(),q=t.memoizedState,f||L!==q||ol?(typeof Z=="function"&&(Tr(t,a,Z,n),q=t.memoizedState),(T=ol||au(t,a,T,n,L,q,u))?(Y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=q),i.props=n,i.state=q,i.context=u,n=T):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,cr(e,t),u=t.memoizedProps,Y=$l(a,u),i.props=Y,Z=t.pendingProps,L=i.context,q=a.contextType,T=da,typeof q=="object"&&q!==null&&(T=et(q)),f=a.getDerivedStateFromProps,(q=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==Z||L!==T)&&nu(t,i,n,T),ol=!1,L=t.memoizedState,i.state=L,on(t,n,i,s),cn();var G=t.memoizedState;u!==Z||L!==G||ol||e!==null&&e.dependencies!==null&&ms(e.dependencies)?(typeof f=="function"&&(Tr(t,a,f,n),G=t.memoizedState),(Y=ol||au(t,a,Y,n,L,G,T)||e!==null&&e.dependencies!==null&&ms(e.dependencies))?(q||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,G,T),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,G,T)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=G),i.props=n,i.state=G,i.context=T,n=Y):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,_s(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=va(t,e.child,null,s),t.child=va(t,null,a,s)):Ke(e,t,a,s),t.memoizedState=i.state,e=t.child):e=Ft(e,t,s),e}function yu(e,t,a,n){return Ia(),t.flags|=256,Ke(e,t,a,n),t.child}var Rr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zr(e){return{baseLanes:e,cachePool:id()}}function Or(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Et),e}function vu(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),u&&(s=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(s?fl(t):hl(),je){var f=Oe,T;if(T=f){e:{for(T=f,f=Ot;T.nodeType!==8;){if(!f){f=null;break e}if(T=At(T.nextSibling),T===null){f=null;break e}}f=T}f!==null?(t.memoizedState={dehydrated:f,treeContext:Bl!==null?{id:$t,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},T=mt(18,null,null,0),T.stateNode=f,T.return=t,t.child=T,lt=t,Oe=null,T=!0):T=!1}T||ql(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return bc(f)?t.lanes=32:t.lanes=536870912,null;Jt(t)}return f=n.children,n=n.fallback,s?(hl(),s=t.mode,f=Ds({mode:"hidden",children:f},s),n=Ol(n,s,a,null),f.return=t,n.return=t,f.sibling=n,t.child=f,s=t.child,s.memoizedState=zr(a),s.childLanes=Or(e,u,a),t.memoizedState=Rr,n):(fl(t),Br(t,f))}if(T=e.memoizedState,T!==null&&(f=T.dehydrated,f!==null)){if(i)t.flags&256?(fl(t),t.flags&=-257,t=Hr(e,t,a)):t.memoizedState!==null?(hl(),t.child=e.child,t.flags|=128,t=null):(hl(),s=n.fallback,f=t.mode,n=Ds({mode:"visible",children:n.children},f),s=Ol(s,f,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,va(t,e.child,null,a),n=t.child,n.memoizedState=zr(a),n.childLanes=Or(e,u,a),t.memoizedState=Rr,t=s);else if(fl(t),bc(f)){if(u=f.nextSibling&&f.nextSibling.dataset,u)var q=u.dgst;u=q,n=Error(c(419)),n.stack="",n.digest=u,en({value:n,source:null,stack:null}),t=Hr(e,t,a)}else if(Xe||tn(e,t,a,!1),u=(a&e.childLanes)!==0,Xe||u){if(u=Te,u!==null&&(n=a&-a,n=(n&42)!==0?1:yi(n),n=(n&(u.suspendedLanes|a))!==0?0:n,n!==0&&n!==T.retryLane))throw T.retryLane=n,oa(e,n),gt(u,e,n),uu;f.data==="$?"||tc(),t=Hr(e,t,a)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Oe=At(f.nextSibling),lt=t,je=!0,Ul=null,Ot=!1,e!==null&&(wt[St++]=$t,wt[St++]=Xt,wt[St++]=Bl,$t=e.id,Xt=e.overflow,Bl=t),t=Br(t,n.children),t.flags|=4096);return t}return s?(hl(),s=n.fallback,f=t.mode,T=e.child,q=T.sibling,n=Qt(T,{mode:"hidden",children:n.children}),n.subtreeFlags=T.subtreeFlags&65011712,q!==null?s=Qt(q,s):(s=Ol(s,f,a,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,f=e.child.memoizedState,f===null?f=zr(a):(T=f.cachePool,T!==null?(q=Ye._currentValue,T=T.parent!==q?{parent:q,pool:q}:T):T=id(),f={baseLanes:f.baseLanes|a,cachePool:T}),s.memoizedState=f,s.childLanes=Or(e,u,a),t.memoizedState=Rr,n):(fl(t),a=e.child,e=a.sibling,a=Qt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function Br(e,t){return t=Ds({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ds(e,t){return e=mt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hr(e,t,a){return va(t,e.child,null,a),e=Br(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ju(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tr(e.return,t,a)}function Ur(e,t,a,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=a,i.tailMode=s)}function Nu(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ke(e,t,n.children,a),n=Qe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,a,t);else if(e.tag===19)ju(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(F(Qe,n),s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Ms(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Ur(t,!1,s,a,i);break;case"backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ms(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Ur(t,!0,a,null,i);break;case"together":Ur(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ft(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),yl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(tn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=Qt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Qt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ms(e)))}function eh(e,t,a){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),cl(t,Ye,e.memoizedState.cache),Ia();break;case 27:case 5:hi(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:cl(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(fl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?vu(e,t,a):(fl(t),e=Ft(e,t,a),e!==null?e.sibling:null);fl(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(tn(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Nu(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,a);case 24:cl(t,Ye,e.memoizedState.cache)}return Ft(e,t,a)}function wu(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!qr(e,a)&&(t.flags&128)===0)return Xe=!1,eh(e,t,a);Xe=(e.flags&131072)!==0}else Xe=!1,je&&(t.flags&1048576)!==0&&Io(t,us,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,typeof n=="function")Ki(n)?(e=$l(n,e),t.tag=1,t=bu(null,t,n,e,a)):(t.tag=0,t=Dr(null,t,n,e,a));else{if(n!=null){if(s=n.$$typeof,s===B){t.tag=11,t=mu(null,t,n,e,a);break e}else if(s===V){t.tag=14,t=fu(null,t,n,e,a);break e}}throw t=ie(n)||n,Error(c(306,t,""))}}return t;case 0:return Dr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=$l(n,t.pendingProps),bu(e,t,n,s,a);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(c(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,cr(e,t),on(t,n,null,a);var u=t.memoizedState;if(n=u.cache,cl(t,Ye,n),n!==i.cache&&lr(t,[Ye],a,!0),cn(),n=u.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=yu(e,t,n,a);break e}else if(n!==s){s=jt(Error(c(424)),t),en(s),t=yu(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=At(e.firstChild),lt=t,je=!0,Ul=null,Ot=!0,a=tu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ia(),n===s){t=Ft(e,t,a);break e}Ke(e,t,n,a)}t=t.child}return t;case 26:return _s(e,t),e===null?(a=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,n=Zs(re.current).createElement(a),n[Ie]=t,n[at]=e,Fe(n,a,e),$e(n),t.stateNode=n):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hi(t),e===null&&je&&(n=t.stateNode=Sm(t.type,t.pendingProps,re.current),lt=t,Ot=!0,s=Oe,wl(t.type)?(yc=s,Oe=At(n.firstChild)):Oe=s),Ke(e,t,t.pendingProps.children,a),_s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((s=n=Oe)&&(n=Mh(n,t.type,t.pendingProps,Ot),n!==null?(t.stateNode=n,lt=t,Oe=At(n.firstChild),Ot=!1,s=!0):s=!1),s||ql(t)),hi(t),s=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,n=i.children,xc(s,i)?n=null:u!==null&&xc(s,u)&&(t.flags|=32),t.memoizedState!==null&&(s=hr(e,t,Z0,null,null,a),_n._currentValue=s),_s(e,t),Ke(e,t,n,a),t.child;case 6:return e===null&&je&&((e=a=Oe)&&(a=Th(a,t.pendingProps,Ot),a!==null?(t.stateNode=a,lt=t,Oe=null,e=!0):e=!1),e||ql(t)),null;case 13:return vu(e,t,a);case 4:return Ae(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=va(t,null,n,a):Ke(e,t,n,a),t.child;case 11:return mu(e,t,t.type,t.pendingProps,a);case 7:return Ke(e,t,t.pendingProps,a),t.child;case 8:return Ke(e,t,t.pendingProps.children,a),t.child;case 12:return Ke(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,cl(t,t.type,n.value),Ke(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Gl(t),s=et(s),n=n(s),t.flags|=1,Ke(e,t,n,a),t.child;case 14:return fu(e,t,t.type,t.pendingProps,a);case 15:return hu(e,t,t.type,t.pendingProps,a);case 19:return Nu(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Ds(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Qt(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return xu(e,t,a);case 24:return Gl(t),n=et(Ye),e===null?(s=sr(),s===null&&(s=Te,i=ar(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},rr(t),cl(t,Ye,s)):((e.lanes&a)!==0&&(cr(e,t),on(t,null,null,a),cn()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),cl(t,Ye,n)):(n=i.cache,cl(t,Ye,n),n!==s.cache&&lr(t,[Ye],a,!0))),Ke(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Wt(e){e.flags|=4}function Su(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dm(t)){if(t=kt.current,t!==null&&((ge&4194048)===ge?Bt!==null:(ge&62914560)!==ge&&(ge&536870912)===0||t!==Bt))throw sn=ir,rd;e.flags|=8192}}function Rs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?to():536870912,e.lanes|=t,Sa|=t)}function pn(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function th(e,t,a){var n=t.pendingProps;switch(Pi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Vt(Ye),nl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?Wt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ld())),Re(t),null;case 26:return a=t.memoizedState,e===null?(Wt(t),a!==null?(Re(t),Su(t,a)):(Re(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Wt(t),Re(t),Su(t,a)):(Re(t),t.flags&=-16777217):(e.memoizedProps!==n&&Wt(t),Re(t),t.flags&=-16777217),null;case 27:$n(t),a=re.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Wt(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return Re(t),null}e=le.current,Pa(t)?ed(t):(e=Sm(s,n,a),t.stateNode=e,Wt(t))}return Re(t),null;case 5:if($n(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Wt(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return Re(t),null}if(e=le.current,Pa(t))ed(t);else{switch(s=Zs(re.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}e[Ie]=t,e[at]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Fe(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wt(t)}}return Re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Wt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(e=re.current,Pa(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=lt,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||gm(e.nodeValue,a)),e||ql(t)}else e=Zs(e).createTextNode(n),e[Ie]=t,t.stateNode=e}return Re(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Pa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[Ie]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else s=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Jt(t),t):(Jt(t),null)}if(Jt(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool);var i=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Rs(t,t.updateQueue),Re(t),null;case 4:return nl(),e===null&&dc(t.stateNode.containerInfo),Re(t),null;case 10:return Vt(t.type),Re(t),null;case 19:if(J(Qe),s=t.memoizedState,s===null)return Re(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)pn(s,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ms(e),i!==null){for(t.flags|=128,pn(s,!1),e=i.updateQueue,t.updateQueue=e,Rs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Po(a,e),a=a.sibling;return F(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&zt()>Bs&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ms(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Rs(t,e),pn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!je)return Re(t),null}else 2*zt()-s.renderingStartTime>Bs&&a!==536870912&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=zt(),t.sibling=null,e=Qe.current,F(Qe,n?e&1|2:e&1),t):(Re(t),null);case 22:case 23:return Jt(t),mr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),a=t.updateQueue,a!==null&&Rs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&J(Yl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vt(Ye),Re(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function lh(e,t){switch(Pi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vt(Ye),nl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $n(t),null;case 13:if(Jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Qe),null;case 4:return nl(),null;case 10:return Vt(t.type),null;case 22:case 23:return Jt(t),mr(),e!==null&&J(Yl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vt(Ye),null;case 25:return null;default:return null}}function ku(e,t){switch(Pi(t),t.tag){case 3:Vt(Ye),nl();break;case 26:case 27:case 5:$n(t);break;case 4:nl();break;case 13:Jt(t);break;case 19:J(Qe);break;case 10:Vt(t.type);break;case 22:case 23:Jt(t),mr(),e!==null&&J(Yl);break;case 24:Vt(Ye)}}function gn(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,u=a.inst;n=i(),u.destroy=n}a=a.next}while(a!==s)}}catch(f){Me(t,t.return,f)}}function xl(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var u=n.inst,f=u.destroy;if(f!==void 0){u.destroy=void 0,s=t;var T=a,q=f;try{q()}catch(Y){Me(s,T,Y)}}}n=n.next}while(n!==i)}}catch(Y){Me(t,t.return,Y)}}function Eu(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{fd(t,a)}catch(n){Me(e,e.return,n)}}}function Cu(e,t,a){a.props=$l(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Me(e,t,n)}}function bn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Me(e,t,s)}}function Ht(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Me(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Me(e,t,s)}else a.current=null}function Mu(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Me(e,e.return,s)}}function Lr(e,t,a){try{var n=e.stateNode;wh(n,e.type,a,t),n[at]=t}catch(s){Me(e,e.return,s)}}function Tu(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wl(e.type)||e.tag===4}function Gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Xs));else if(n!==4&&(n===27&&wl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Yr(e,t,a),e=e.sibling;e!==null;)Yr(e,t,a),e=e.sibling}function zs(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&wl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zs(e,t,a),e=e.sibling;e!==null;)zs(e,t,a),e=e.sibling}function Au(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Fe(t,n,a),t[Ie]=e,t[at]=a}catch(i){Me(e,e.return,i)}}var Pt=!1,qe=!1,Qr=!1,_u=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ah(e,t){if(e=e.containerInfo,fc=Ps,e=Yo(e),Gi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var u=0,f=-1,T=-1,q=0,Y=0,Z=e,L=null;t:for(;;){for(var G;Z!==a||s!==0&&Z.nodeType!==3||(f=u+s),Z!==i||n!==0&&Z.nodeType!==3||(T=u+n),Z.nodeType===3&&(u+=Z.nodeValue.length),(G=Z.firstChild)!==null;)L=Z,Z=G;for(;;){if(Z===e)break t;if(L===a&&++q===s&&(f=u),L===i&&++Y===n&&(T=u),(G=Z.nextSibling)!==null)break;Z=L,L=Z.parentNode}Z=G}a=f===-1||T===-1?null:{start:f,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(hc={focusedElem:e,selectionRange:a},Ps=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var se=$l(a.type,s,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(se,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Me(a,a.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)gc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Du(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:pl(e,a),n&4&&gn(5,a);break;case 1:if(pl(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){Me(a,a.return,u)}else{var s=$l(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Me(a,a.return,u)}}n&64&&Eu(a),n&512&&bn(a,a.return);break;case 3:if(pl(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{fd(e,t)}catch(u){Me(a,a.return,u)}}break;case 27:t===null&&n&4&&Au(a);case 26:case 5:pl(e,a),t===null&&n&4&&Mu(a),n&512&&bn(a,a.return);break;case 12:pl(e,a);break;case 13:pl(e,a),n&4&&Ou(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mh.bind(null,a),Ah(e,a))));break;case 22:if(n=a.memoizedState!==null||Pt,!n){t=t!==null&&t.memoizedState!==null||qe,s=Pt;var i=qe;Pt=n,(qe=t)&&!i?gl(e,a,(a.subtreeFlags&8772)!==0):pl(e,a),Pt=s,qe=i}break;case 30:break;default:pl(e,a)}}function Ru(e){var t=e.alternate;t!==null&&(e.alternate=null,Ru(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ni(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,it=!1;function It(e,t,a){for(a=a.child;a!==null;)zu(e,t,a),a=a.sibling}function zu(e,t,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Ua,a)}catch{}switch(a.tag){case 26:qe||Ht(a,t),It(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Ht(a,t);var n=_e,s=it;wl(a.type)&&(_e=a.stateNode,it=!1),It(e,t,a),Cn(a.stateNode),_e=n,it=s;break;case 5:qe||Ht(a,t);case 6:if(n=_e,s=it,_e=null,It(e,t,a),_e=n,it=s,_e!==null)if(it)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(i){Me(a,t,i)}else try{_e.removeChild(a.stateNode)}catch(i){Me(a,t,i)}break;case 18:_e!==null&&(it?(e=_e,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),On(e)):Nm(_e,a.stateNode));break;case 4:n=_e,s=it,_e=a.stateNode.containerInfo,it=!0,It(e,t,a),_e=n,it=s;break;case 0:case 11:case 14:case 15:qe||xl(2,a,t),qe||xl(4,a,t),It(e,t,a);break;case 1:qe||(Ht(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Cu(a,t,n)),It(e,t,a);break;case 21:It(e,t,a);break;case 22:qe=(n=qe)||a.memoizedState!==null,It(e,t,a),qe=n;break;default:It(e,t,a)}}function Ou(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{On(e)}catch(a){Me(t,t.return,a)}}function nh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _u),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _u),t;default:throw Error(c(435,e.tag))}}function $r(e,t){var a=nh(e);t.forEach(function(n){var s=fh.bind(null,e,n);a.has(n)||(a.add(n),n.then(s,s))})}function ft(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 27:if(wl(f.type)){_e=f.stateNode,it=!1;break e}break;case 5:_e=f.stateNode,it=!1;break e;case 3:case 4:_e=f.stateNode.containerInfo,it=!0;break e}f=f.return}if(_e===null)throw Error(c(160));zu(i,u,s),_e=null,it=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Bu(t,e),t=t.sibling}var Tt=null;function Bu(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),ht(e),n&4&&(xl(3,e,e.return),gn(3,e),xl(5,e,e.return));break;case 1:ft(t,e),ht(e),n&512&&(qe||a===null||Ht(a,a.return)),n&64&&Pt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Tt;if(ft(t,e),ht(e),n&512&&(qe||a===null||Ht(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Ga]||i[Ie]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),Fe(i,n,a),i[Ie]=e,$e(i),n=i;break e;case"link":var u=Am("link","href",s).get(n+(a.href||""));if(u){for(var f=0;f<u.length;f++)if(i=u[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(f,1);break t}}i=s.createElement(n),Fe(i,n,a),s.head.appendChild(i);break;case"meta":if(u=Am("meta","content",s).get(n+(a.content||""))){for(f=0;f<u.length;f++)if(i=u[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(f,1);break t}}i=s.createElement(n),Fe(i,n,a),s.head.appendChild(i);break;default:throw Error(c(468,n))}i[Ie]=e,$e(i),n=i}e.stateNode=n}else _m(s,e.type,e.stateNode);else e.stateNode=Tm(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?_m(s,e.type,e.stateNode):Tm(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Lr(e,e.memoizedProps,a.memoizedProps)}break;case 27:ft(t,e),ht(e),n&512&&(qe||a===null||Ht(a,a.return)),a!==null&&n&4&&Lr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ft(t,e),ht(e),n&512&&(qe||a===null||Ht(a,a.return)),e.flags&32){s=e.stateNode;try{la(s,"")}catch(G){Me(e,e.return,G)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Lr(e,s,a!==null?a.memoizedProps:s)),n&1024&&(Qr=!0);break;case 6:if(ft(t,e),ht(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(G){Me(e,e.return,G)}}break;case 3:if(Js=null,s=Tt,Tt=Vs(t.containerInfo),ft(t,e),Tt=s,ht(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{On(t.containerInfo)}catch(G){Me(e,e.return,G)}Qr&&(Qr=!1,Hu(e));break;case 4:n=Tt,Tt=Vs(e.stateNode.containerInfo),ft(t,e),ht(e),Tt=n;break;case 12:ft(t,e),ht(e);break;case 13:ft(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fr=zt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,$r(e,n)));break;case 22:s=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,q=Pt,Y=qe;if(Pt=q||s,qe=Y||T,ft(t,e),qe=Y,Pt=q,ht(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||T||Pt||qe||Xl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(i=T.stateNode,s)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{f=T.stateNode;var Z=T.memoizedProps.style,L=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;f.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(G){Me(T,T.return,G)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=s?"":T.memoizedProps}catch(G){Me(T,T.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,$r(e,a))));break;case 19:ft(t,e),ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,$r(e,n)));break;case 30:break;case 21:break;default:ft(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Tu(n)){a=n;break}n=n.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var s=a.stateNode,i=Gr(e);zs(e,i,s);break;case 5:var u=a.stateNode;a.flags&32&&(la(u,""),a.flags&=-33);var f=Gr(e);zs(e,f,u);break;case 3:case 4:var T=a.stateNode.containerInfo,q=Gr(e);Yr(e,q,T);break;default:throw Error(c(161))}}catch(Y){Me(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hu(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Du(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xl(4,t,t.return),Xl(t);break;case 1:Ht(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Cu(t,t.return,a),Xl(t);break;case 27:Cn(t.stateNode);case 26:case 5:Ht(t,t.return),Xl(t);break;case 22:t.memoizedState===null&&Xl(t);break;case 30:Xl(t);break;default:Xl(t)}e=e.sibling}}function gl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:gl(s,i,a),gn(4,i);break;case 1:if(gl(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(q){Me(n,n.return,q)}if(n=i,s=n.updateQueue,s!==null){var f=n.stateNode;try{var T=s.shared.hiddenCallbacks;if(T!==null)for(s.shared.hiddenCallbacks=null,s=0;s<T.length;s++)md(T[s],f)}catch(q){Me(n,n.return,q)}}a&&u&64&&Eu(i),bn(i,i.return);break;case 27:Au(i);case 26:case 5:gl(s,i,a),a&&n===null&&u&4&&Mu(i),bn(i,i.return);break;case 12:gl(s,i,a);break;case 13:gl(s,i,a),a&&u&4&&Ou(s,i);break;case 22:i.memoizedState===null&&gl(s,i,a),bn(i,i.return);break;case 30:break;default:gl(s,i,a)}t=t.sibling}}function Xr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ln(a))}function Zr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ln(e))}function Ut(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uu(e,t,a,n),t=t.sibling}function Uu(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ut(e,t,a,n),s&2048&&gn(9,t);break;case 1:Ut(e,t,a,n);break;case 3:Ut(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ln(e)));break;case 12:if(s&2048){Ut(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,f=i.onPostCommit;typeof f=="function"&&f(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Me(t,t.return,T)}}else Ut(e,t,a,n);break;case 13:Ut(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?Ut(e,t,a,n):yn(e,t):i._visibility&2?Ut(e,t,a,n):(i._visibility|=2,ja(e,t,a,n,(t.subtreeFlags&10256)!==0)),s&2048&&Xr(u,t);break;case 24:Ut(e,t,a,n),s&2048&&Zr(t.alternate,t);break;default:Ut(e,t,a,n)}}function ja(e,t,a,n,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,u=t,f=a,T=n,q=u.flags;switch(u.tag){case 0:case 11:case 15:ja(i,u,f,T,s),gn(8,u);break;case 23:break;case 22:var Y=u.stateNode;u.memoizedState!==null?Y._visibility&2?ja(i,u,f,T,s):yn(i,u):(Y._visibility|=2,ja(i,u,f,T,s)),s&&q&2048&&Xr(u.alternate,u);break;case 24:ja(i,u,f,T,s),s&&q&2048&&Zr(u.alternate,u);break;default:ja(i,u,f,T,s)}t=t.sibling}}function yn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:yn(a,n),s&2048&&Xr(n.alternate,n);break;case 24:yn(a,n),s&2048&&Zr(n.alternate,n);break;default:yn(a,n)}t=t.sibling}}var vn=8192;function Na(e){if(e.subtreeFlags&vn)for(e=e.child;e!==null;)qu(e),e=e.sibling}function qu(e){switch(e.tag){case 26:Na(e),e.flags&vn&&e.memoizedState!==null&&Qh(Tt,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var t=Tt;Tt=Vs(e.stateNode.containerInfo),Na(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=vn,vn=16777216,Na(e),vn=t):Na(e));break;default:Na(e)}}function Lu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ze=n,Yu(n,e)}Lu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gu(e),e=e.sibling}function Gu(e){switch(e.tag){case 0:case 11:case 15:jn(e),e.flags&2048&&xl(9,e,e.return);break;case 3:jn(e);break;case 12:jn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Os(e)):jn(e);break;default:jn(e)}}function Os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ze=n,Yu(n,e)}Lu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xl(8,t,t.return),Os(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Os(t));break;default:Os(t)}e=e.sibling}}function Yu(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:xl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ln(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ze=n;else e:for(a=e;Ze!==null;){n=Ze;var s=n.sibling,i=n.return;if(Ru(n),n===a){Ze=null;break e}if(s!==null){s.return=i,Ze=s;break e}Ze=i}}}var sh={getCacheForType:function(e){var t=et(Ye),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},ih=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Te=null,me=null,ge=0,we=0,xt=null,bl=!1,wa=!1,Vr=!1,el=0,Be=0,yl=0,Zl=0,Kr=0,Et=0,Sa=0,Nn=null,rt=null,Jr=!1,Fr=0,Bs=1/0,Hs=null,vl=null,Je=0,jl=null,ka=null,Ea=0,Wr=0,Pr=null,Qu=null,wn=0,Ir=null;function pt(){if((Ne&2)!==0&&ge!==0)return ge&-ge;if(U.T!==null){var e=fa;return e!==0?e:ic()}return no()}function $u(){Et===0&&(Et=(ge&536870912)===0||je?eo():536870912);var e=kt.current;return e!==null&&(e.flags|=32),Et}function gt(e,t,a){(e===Te&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Nl(e,ge,Et,!1)),La(e,a),((Ne&2)===0||e!==Te)&&(e===Te&&((Ne&2)===0&&(Zl|=a),Be===4&&Nl(e,ge,Et,!1)),qt(e))}function Xu(e,t,a){if((Ne&6)!==0)throw Error(c(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||qa(e,t),s=n?oh(e,t):lc(e,t,!0),i=n;do{if(s===0){wa&&!n&&Nl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!rh(a)){s=lc(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var f=e;s=Nn;var T=f.current.memoizedState.isDehydrated;if(T&&(Ca(f,u).flags|=256),u=lc(f,u,!1),u!==2){if(Vr&&!T){f.errorRecoveryDisabledLanes|=i,Zl|=i,s=4;break e}i=rt,rt=s,i!==null&&(rt===null?rt=i:rt.push.apply(rt,i))}s=u}if(i=!1,s!==2)continue}}if(s===1){Ca(e,0),Nl(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Nl(n,t,Et,!bl);break e;case 2:rt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=Fr+300-zt(),10<s)){if(Nl(n,t,Et,!bl),Kn(n,0,!0)!==0)break e;n.timeoutHandle=vm(Zu.bind(null,n,a,rt,Hs,Jr,t,Et,Zl,Sa,bl,i,2,-0,0),s);break e}Zu(n,a,rt,Hs,Jr,t,Et,Zl,Sa,bl,i,0,-0,0)}}break}while(!0);qt(e)}function Zu(e,t,a,n,s,i,u,f,T,q,Y,Z,L,G){if(e.timeoutHandle=-1,Z=t.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(An={stylesheets:null,count:0,unsuspend:Yh},qu(t),Z=$h(),Z!==null)){e.cancelPendingCommit=Z(Iu.bind(null,e,t,i,a,n,s,u,f,T,Y,1,L,G)),Nl(e,i,u,!q);return}Iu(e,t,i,a,n,s,u,f,T)}function rh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nl(e,t,a,n){t&=~Kr,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-dt(s),u=1<<i;n[i]=-1,s&=~u}a!==0&&lo(e,a,t)}function Us(){return(Ne&6)===0?(Sn(0),!1):!0}function ec(){if(me!==null){if(we===0)var e=me.return;else e=me,Zt=Ll=null,gr(e),ya=null,hn=0,e=me;for(;e!==null;)ku(e.alternate,e),e=e.return;me=null}}function Ca(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,kh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ec(),Te=e,me=a=Qt(e.current,null),ge=t,we=0,xt=null,bl=!1,wa=qa(e,t),Vr=!1,Sa=Et=Kr=Zl=yl=Be=0,rt=Nn=null,Jr=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-dt(n),i=1<<s;t|=e[s],n&=~i}return el=t,is(),a}function Vu(e,t){de=null,U.H=ks,t===nn||t===xs?(t=dd(),we=3):t===rd?(t=dd(),we=4):we=t===uu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,me===null&&(Be=1,As(e,jt(t,e.current)))}function Ku(){var e=U.H;return U.H=ks,e===null?ks:e}function Ju(){var e=U.A;return U.A=sh,e}function tc(){Be=4,bl||(ge&4194048)!==ge&&kt.current!==null||(wa=!0),(yl&134217727)===0&&(Zl&134217727)===0||Te===null||Nl(Te,ge,Et,!1)}function lc(e,t,a){var n=Ne;Ne|=2;var s=Ku(),i=Ju();(Te!==e||ge!==t)&&(Hs=null,Ca(e,t)),t=!1;var u=Be;e:do try{if(we!==0&&me!==null){var f=me,T=xt;switch(we){case 8:ec(),u=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var q=we;if(we=0,xt=null,Ma(e,f,T,q),a&&wa){u=0;break e}break;default:q=we,we=0,xt=null,Ma(e,f,T,q)}}ch(),u=Be;break}catch(Y){Vu(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Zt=Ll=null,Ne=n,U.H=s,U.A=i,me===null&&(Te=null,ge=0,is()),u}function ch(){for(;me!==null;)Fu(me)}function oh(e,t){var a=Ne;Ne|=2;var n=Ku(),s=Ju();Te!==e||ge!==t?(Hs=null,Bs=zt()+500,Ca(e,t)):wa=qa(e,t);e:do try{if(we!==0&&me!==null){t=me;var i=xt;t:switch(we){case 1:we=0,xt=null,Ma(e,t,i,1);break;case 2:case 9:if(cd(i)){we=0,xt=null,Wu(t);break}t=function(){we!==2&&we!==9||Te!==e||(we=7),qt(e)},i.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:cd(i)?(we=0,xt=null,Wu(t)):(we=0,xt=null,Ma(e,t,i,7));break;case 5:var u=null;switch(me.tag){case 26:u=me.memoizedState;case 5:case 27:var f=me;if(!u||Dm(u)){we=0,xt=null;var T=f.sibling;if(T!==null)me=T;else{var q=f.return;q!==null?(me=q,qs(q)):me=null}break t}}we=0,xt=null,Ma(e,t,i,5);break;case 6:we=0,xt=null,Ma(e,t,i,6);break;case 8:ec(),Be=6;break e;default:throw Error(c(462))}}dh();break}catch(Y){Vu(e,Y)}while(!0);return Zt=Ll=null,U.H=n,U.A=s,Ne=a,me!==null?0:(Te=null,ge=0,is(),Be)}function dh(){for(;me!==null&&!Df();)Fu(me)}function Fu(e){var t=wu(e.alternate,e,el);e.memoizedProps=e.pendingProps,t===null?qs(e):me=t}function Wu(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=gu(a,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=gu(a,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:gr(t);default:ku(a,t),t=me=Po(t,el),t=wu(a,t,el)}e.memoizedProps=e.pendingProps,t===null?qs(e):me=t}function Ma(e,t,a,n){Zt=Ll=null,gr(t),ya=null,hn=0;var s=t.return;try{if(I0(e,s,t,a,ge)){Be=1,As(e,jt(a,e.current)),me=null;return}}catch(i){if(s!==null)throw me=s,i;Be=1,As(e,jt(a,e.current)),me=null;return}t.flags&32768?(je||n===1?e=!0:wa||(ge&536870912)!==0?e=!1:(bl=e=!0,(n===2||n===9||n===3||n===6)&&(n=kt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Pu(t,e)):qs(t)}function qs(e){var t=e;do{if((t.flags&32768)!==0){Pu(t,bl);return}e=t.return;var a=th(t.alternate,t,el);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Be===0&&(Be=5)}function Pu(e,t){do{var a=lh(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Be=6,me=null}function Iu(e,t,a,n,s,i,u,f,T){e.cancelPendingCommit=null;do Ls();while(Je!==0);if((Ne&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=Zi,Yf(e,a,i,u,f,T),e===Te&&(me=Te=null,ge=0),ka=t,jl=e,Ea=a,Wr=i,Pr=s,Qu=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hh(Xn,function(){return nm(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null,s=X.p,X.p=2,u=Ne,Ne|=4;try{ah(e,t,a)}finally{Ne=u,X.p=s,U.T=n}}Je=1,em(),tm(),lm()}}function em(){if(Je===1){Je=0;var e=jl,t=ka,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var n=X.p;X.p=2;var s=Ne;Ne|=4;try{Bu(t,e);var i=hc,u=Yo(e.containerInfo),f=i.focusedElem,T=i.selectionRange;if(u!==f&&f&&f.ownerDocument&&Go(f.ownerDocument.documentElement,f)){if(T!==null&&Gi(f)){var q=T.start,Y=T.end;if(Y===void 0&&(Y=q),"selectionStart"in f)f.selectionStart=q,f.selectionEnd=Math.min(Y,f.value.length);else{var Z=f.ownerDocument||document,L=Z&&Z.defaultView||window;if(L.getSelection){var G=L.getSelection(),se=f.textContent.length,ae=Math.min(T.start,se),Ee=T.end===void 0?ae:Math.min(T.end,se);!G.extend&&ae>Ee&&(u=Ee,Ee=ae,ae=u);var O=Lo(f,ae),_=Lo(f,Ee);if(O&&_&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var H=Z.createRange();H.setStart(O.node,O.offset),G.removeAllRanges(),ae>Ee?(G.addRange(H),G.extend(_.node,_.offset)):(H.setEnd(_.node,_.offset),G.addRange(H))}}}}for(Z=[],G=f;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<Z.length;f++){var Q=Z[f];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ps=!!fc,hc=fc=null}finally{Ne=s,X.p=n,U.T=a}}e.current=t,Je=2}}function tm(){if(Je===2){Je=0;var e=jl,t=ka,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var n=X.p;X.p=2;var s=Ne;Ne|=4;try{Du(e,t.alternate,t)}finally{Ne=s,X.p=n,U.T=a}}Je=3}}function lm(){if(Je===4||Je===3){Je=0,Rf();var e=jl,t=ka,a=Ea,n=Qu;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Je=5:(Je=0,ka=jl=null,am(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(vl=null),vi(a),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Ua,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=U.T,s=X.p,X.p=2,U.T=null;try{for(var i=e.onRecoverableError,u=0;u<n.length;u++){var f=n[u];i(f.value,{componentStack:f.stack})}}finally{U.T=t,X.p=s}}(Ea&3)!==0&&Ls(),qt(e),s=e.pendingLanes,(a&4194090)!==0&&(s&42)!==0?e===Ir?wn++:(wn=0,Ir=e):wn=0,Sn(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ln(t)))}function Ls(e){return em(),tm(),lm(),nm()}function nm(){if(Je!==5)return!1;var e=jl,t=Wr;Wr=0;var a=vi(Ea),n=U.T,s=X.p;try{X.p=32>a?32:a,U.T=null,a=Pr,Pr=null;var i=jl,u=Ea;if(Je=0,ka=jl=null,Ea=0,(Ne&6)!==0)throw Error(c(331));var f=Ne;if(Ne|=4,Gu(i.current),Uu(i,i.current,u,a),Ne=f,Sn(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Ua,i)}catch{}return!0}finally{X.p=s,U.T=n,am(e,t)}}function sm(e,t,a){t=jt(a,t),t=_r(e.stateNode,t,2),e=ul(e,t,2),e!==null&&(La(e,2),qt(e))}function Me(e,t,a){if(e.tag===3)sm(e,e,a);else for(;t!==null;){if(t.tag===3){sm(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){e=jt(a,e),a=ou(2),n=ul(t,a,2),n!==null&&(du(a,n,t,e),La(n,2),qt(n));break}}t=t.return}}function ac(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new ih;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(Vr=!0,s.add(a),e=uh.bind(null,e,t,a),t.then(e,e))}function uh(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Te===e&&(ge&a)===a&&(Be===4||Be===3&&(ge&62914560)===ge&&300>zt()-Fr?(Ne&2)===0&&Ca(e,0):Kr|=a,Sa===ge&&(Sa=0)),qt(e)}function im(e,t){t===0&&(t=to()),e=oa(e,t),e!==null&&(La(e,t),qt(e))}function mh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),im(e,a)}function fh(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(t),im(e,a)}function hh(e,t){return pi(e,t)}var Gs=null,Ta=null,nc=!1,Ys=!1,sc=!1,Vl=0;function qt(e){e!==Ta&&e.next===null&&(Ta===null?Gs=Ta=e:Ta=Ta.next=e),Ys=!0,nc||(nc=!0,ph())}function Sn(e,t){if(!sc&&Ys){sc=!0;do for(var a=!1,n=Gs;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var u=n.suspendedLanes,f=n.pingedLanes;i=(1<<31-dt(42|e)+1)-1,i&=s&~(u&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,dm(n,i))}else i=ge,i=Kn(n,n===Te?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||qa(n,i)||(a=!0,dm(n,i));n=n.next}while(a);sc=!1}}function xh(){rm()}function rm(){Ys=nc=!1;var e=0;Vl!==0&&(Sh()&&(e=Vl),Vl=0);for(var t=zt(),a=null,n=Gs;n!==null;){var s=n.next,i=cm(n,t);i===0?(n.next=null,a===null?Gs=s:a.next=s,s===null&&(Ta=a)):(a=n,(e!==0||(i&3)!==0)&&(Ys=!0)),n=s}Sn(e)}function cm(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-dt(i),f=1<<u,T=s[u];T===-1?((f&a)===0||(f&n)!==0)&&(s[u]=Gf(f,t)):T<=t&&(e.expiredLanes|=f),i&=~f}if(t=Te,a=ge,a=Kn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&gi(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&gi(n),vi(a)){case 2:case 8:a=Pc;break;case 32:a=Xn;break;case 268435456:a=Ic;break;default:a=Xn}return n=om.bind(null,e),a=pi(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&gi(n),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ls()&&e.callbackNode!==a)return null;var n=ge;return n=Kn(e,e===Te?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Xu(e,n,t),cm(e,zt()),e.callbackNode!=null&&e.callbackNode===a?om.bind(null,e):null)}function dm(e,t){if(Ls())return null;Xu(e,t,!0)}function ph(){Eh(function(){(Ne&6)!==0?pi(Wc,xh):rm()})}function ic(){return Vl===0&&(Vl=eo()),Vl}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:In(""+e)}function mm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gh(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=um((s[at]||null).action),u=n.submitter;u&&(t=(t=u[at]||null)?um(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var f=new as("action","action",null,n,s);e.push({event:f,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Vl!==0){var T=u?mm(s,u):new FormData(s);Er(a,{pending:!0,data:T,method:s.method,action:i},null,T)}}else typeof i=="function"&&(f.preventDefault(),T=u?mm(s,u):new FormData(s),Er(a,{pending:!0,data:T,method:s.method,action:i},i,T))},currentTarget:s}]})}}for(var rc=0;rc<Xi.length;rc++){var cc=Xi[rc],bh=cc.toLowerCase(),yh=cc[0].toUpperCase()+cc.slice(1);Mt(bh,"on"+yh)}Mt(Xo,"onAnimationEnd"),Mt(Zo,"onAnimationIteration"),Mt(Vo,"onAnimationStart"),Mt("dblclick","onDoubleClick"),Mt("focusin","onFocus"),Mt("focusout","onBlur"),Mt(B0,"onTransitionRun"),Mt(H0,"onTransitionStart"),Mt(U0,"onTransitionCancel"),Mt(Ko,"onTransitionEnd"),Il("onMouseEnter",["mouseout","mouseover"]),Il("onMouseLeave",["mouseout","mouseover"]),Il("onPointerEnter",["pointerout","pointerover"]),Il("onPointerLeave",["pointerout","pointerover"]),_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_l("onBeforeInput",["compositionend","keypress","textInput","paste"]),_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kn));function fm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var u=n.length-1;0<=u;u--){var f=n[u],T=f.instance,q=f.currentTarget;if(f=f.listener,T!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=q;try{i(s)}catch(Y){Ts(Y)}s.currentTarget=null,i=T}else for(u=0;u<n.length;u++){if(f=n[u],T=f.instance,q=f.currentTarget,f=f.listener,T!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=q;try{i(s)}catch(Y){Ts(Y)}s.currentTarget=null,i=T}}}}function fe(e,t){var a=t[ji];a===void 0&&(a=t[ji]=new Set);var n=e+"__bubble";a.has(n)||(hm(t,e,2,!1),a.add(n))}function oc(e,t,a){var n=0;t&&(n|=4),hm(a,e,n,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[Qs]){e[Qs]=!0,io.forEach(function(a){a!=="selectionchange"&&(vh.has(a)||oc(a,!1,e),oc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,oc("selectionchange",!1,t))}}function hm(e,t,a,n){switch(Um(t)){case 2:var s=Vh;break;case 8:s=Kh;break;default:s=Sc}a=s.bind(null,t,a,e),s=void 0,!Di||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function uc(e,t,a,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var f=n.stateNode.containerInfo;if(f===s)break;if(u===4)for(u=n.return;u!==null;){var T=u.tag;if((T===3||T===4)&&u.stateNode.containerInfo===s)return;u=u.return}for(;f!==null;){if(u=Fl(f),u===null)return;if(T=u.tag,T===5||T===6||T===26||T===27){n=i=u;continue e}f=f.parentNode}}n=n.return}jo(function(){var q=i,Y=Ai(a),Z=[];e:{var L=Jo.get(e);if(L!==void 0){var G=as,se=e;switch(e){case"keypress":if(ts(a)===0)break e;case"keydown":case"keyup":G=h0;break;case"focusin":se="focus",G=Bi;break;case"focusout":se="blur",G=Bi;break;case"beforeblur":case"afterblur":G=Bi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g0;break;case Xo:case Zo:case Vo:G=s0;break;case Ko:G=y0;break;case"scroll":case"scrollend":G=e0;break;case"wheel":G=j0;break;case"copy":case"cut":case"paste":G=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Eo;break;case"toggle":case"beforetoggle":G=w0}var ae=(t&4)!==0,Ee=!ae&&(e==="scroll"||e==="scrollend"),O=ae?L!==null?L+"Capture":null:L;ae=[];for(var _=q,H;_!==null;){var Q=_;if(H=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||H===null||O===null||(Q=Qa(_,O),Q!=null&&ae.push(En(_,Q,H))),Ee)break;_=_.return}0<ae.length&&(L=new G(L,se,null,a,Y),Z.push({event:L,listeners:ae}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&a!==Ti&&(se=a.relatedTarget||a.fromElement)&&(Fl(se)||se[Jl]))break e;if((G||L)&&(L=Y.window===Y?Y:(L=Y.ownerDocument)?L.defaultView||L.parentWindow:window,G?(se=a.relatedTarget||a.toElement,G=q,se=se?Fl(se):null,se!==null&&(Ee=x(se),ae=se.tag,se!==Ee||ae!==5&&ae!==27&&ae!==6)&&(se=null)):(G=null,se=q),G!==se)){if(ae=So,Q="onMouseLeave",O="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Eo,Q="onPointerLeave",O="onPointerEnter",_="pointer"),Ee=G==null?L:Ya(G),H=se==null?L:Ya(se),L=new ae(Q,_+"leave",G,a,Y),L.target=Ee,L.relatedTarget=H,Q=null,Fl(Y)===q&&(ae=new ae(O,_+"enter",se,a,Y),ae.target=H,ae.relatedTarget=Ee,Q=ae),Ee=Q,G&&se)t:{for(ae=G,O=se,_=0,H=ae;H;H=Aa(H))_++;for(H=0,Q=O;Q;Q=Aa(Q))H++;for(;0<_-H;)ae=Aa(ae),_--;for(;0<H-_;)O=Aa(O),H--;for(;_--;){if(ae===O||O!==null&&ae===O.alternate)break t;ae=Aa(ae),O=Aa(O)}ae=null}else ae=null;G!==null&&xm(Z,L,G,ae,!1),se!==null&&Ee!==null&&xm(Z,Ee,se,ae,!0)}}e:{if(L=q?Ya(q):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var I=zo;else if(Do(L))if(Oo)I=R0;else{I=_0;var ue=A0}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?q&&Mi(q.elementType)&&(I=zo):I=D0;if(I&&(I=I(e,q))){Ro(Z,I,a,Y);break e}ue&&ue(e,L,q),e==="focusout"&&q&&L.type==="number"&&q.memoizedProps.value!=null&&Ci(L,"number",L.value)}switch(ue=q?Ya(q):window,e){case"focusin":(Do(ue)||ue.contentEditable==="true")&&(ia=ue,Yi=q,Wa=null);break;case"focusout":Wa=Yi=ia=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Qo(Z,a,Y);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Qo(Z,a,Y)}var te;if(Ui)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else sa?Ao(e,a)&&(ne="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(Co&&a.locale!=="ko"&&(sa||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&sa&&(te=No()):(rl=Y,Ri="value"in rl?rl.value:rl.textContent,sa=!0)),ue=$s(q,ne),0<ue.length&&(ne=new ko(ne,e,null,a,Y),Z.push({event:ne,listeners:ue}),te?ne.data=te:(te=_o(a),te!==null&&(ne.data=te)))),(te=k0?E0(e,a):C0(e,a))&&(ne=$s(q,"onBeforeInput"),0<ne.length&&(ue=new ko("onBeforeInput","beforeinput",null,a,Y),Z.push({event:ue,listeners:ne}),ue.data=te)),gh(Z,e,q,a,Y)}fm(Z,t)})}function En(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $s(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Qa(e,a),s!=null&&n.unshift(En(e,s,i)),s=Qa(e,t),s!=null&&n.push(En(e,s,i))),e.tag===3)return n;e=e.return}return[]}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,t,a,n,s){for(var i=t._reactName,u=[];a!==null&&a!==n;){var f=a,T=f.alternate,q=f.stateNode;if(f=f.tag,T!==null&&T===n)break;f!==5&&f!==26&&f!==27||q===null||(T=q,s?(q=Qa(a,i),q!=null&&u.unshift(En(a,q,T))):s||(q=Qa(a,i),q!=null&&u.push(En(a,q,T)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var jh=/\r\n?/g,Nh=/\u0000|\uFFFD/g;function pm(e){return(typeof e=="string"?e:""+e).replace(jh,`
`).replace(Nh,"")}function gm(e,t){return t=pm(t),pm(e)===t}function Xs(){}function ke(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||la(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&la(e,""+n);break;case"className":Fn(e,"class",n);break;case"tabIndex":Fn(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,n);break;case"style":yo(e,n,i);break;case"data":if(t!=="object"){Fn(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=In(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ke(e,t,"name",s.name,s,null),ke(e,t,"formEncType",s.formEncType,s,null),ke(e,t,"formMethod",s.formMethod,s,null),ke(e,t,"formTarget",s.formTarget,s,null)):(ke(e,t,"encType",s.encType,s,null),ke(e,t,"method",s.method,s,null),ke(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=In(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Xs);break;case"onScroll":n!=null&&fe("scroll",e);break;case"onScrollEnd":n!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=In(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Jn(e,"popover",n);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Jn(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pf.get(a)||a,Jn(e,a,n))}}function mc(e,t,a,n,s,i){switch(a){case"style":yo(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof n=="string"?la(e,n):(typeof n=="number"||typeof n=="bigint")&&la(e,""+n);break;case"onScroll":n!=null&&fe("scroll",e);break;case"onScrollEnd":n!=null&&fe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[at]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Jn(e,a,n)}}}function Fe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];if(u!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ke(e,t,i,u,a,null)}}s&&ke(e,t,"srcSet",a.srcSet,a,null),n&&ke(e,t,"src",a.src,a,null);return;case"input":fe("invalid",e);var f=i=u=s=null,T=null,q=null;for(n in a)if(a.hasOwnProperty(n)){var Y=a[n];if(Y!=null)switch(n){case"name":s=Y;break;case"type":u=Y;break;case"checked":T=Y;break;case"defaultChecked":q=Y;break;case"value":i=Y;break;case"defaultValue":f=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,t));break;default:ke(e,t,n,Y,a,null)}}xo(e,i,f,T,q,u,s,!1),Wn(e);return;case"select":fe("invalid",e),n=u=i=null;for(s in a)if(a.hasOwnProperty(s)&&(f=a[s],f!=null))switch(s){case"value":i=f;break;case"defaultValue":u=f;break;case"multiple":n=f;default:ke(e,t,s,f,a,null)}t=i,a=u,e.multiple=!!n,t!=null?ta(e,!!n,t,!1):a!=null&&ta(e,!!n,a,!0);return;case"textarea":fe("invalid",e),i=s=n=null;for(u in a)if(a.hasOwnProperty(u)&&(f=a[u],f!=null))switch(u){case"value":n=f;break;case"defaultValue":s=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:ke(e,t,u,f,a,null)}go(e,n,s,i),Wn(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(n=a[T],n!=null))switch(T){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ke(e,t,T,n,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(n=0;n<kn.length;n++)fe(kn[n],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(n=a[q],n!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ke(e,t,q,n,a,null)}return;default:if(Mi(t)){for(Y in a)a.hasOwnProperty(Y)&&(n=a[Y],n!==void 0&&mc(e,t,Y,n,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!=null&&ke(e,t,f,n,a,null))}function wh(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,u=null,f=null,T=null,q=null,Y=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":T=Z;default:n.hasOwnProperty(G)||ke(e,t,G,null,n,Z)}}for(var L in n){var G=n[L];if(Z=a[L],n.hasOwnProperty(L)&&(G!=null||Z!=null))switch(L){case"type":i=G;break;case"name":s=G;break;case"checked":q=G;break;case"defaultChecked":Y=G;break;case"value":u=G;break;case"defaultValue":f=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:G!==Z&&ke(e,t,L,G,n,Z)}}Ei(e,u,f,T,q,Y,i,s);return;case"select":G=u=f=L=null;for(i in a)if(T=a[i],a.hasOwnProperty(i)&&T!=null)switch(i){case"value":break;case"multiple":G=T;default:n.hasOwnProperty(i)||ke(e,t,i,null,n,T)}for(s in n)if(i=n[s],T=a[s],n.hasOwnProperty(s)&&(i!=null||T!=null))switch(s){case"value":L=i;break;case"defaultValue":f=i;break;case"multiple":u=i;default:i!==T&&ke(e,t,s,i,n,T)}t=f,a=u,n=G,L!=null?ta(e,!!a,L,!1):!!n!=!!a&&(t!=null?ta(e,!!a,t,!0):ta(e,!!a,a?[]:"",!1));return;case"textarea":G=L=null;for(f in a)if(s=a[f],a.hasOwnProperty(f)&&s!=null&&!n.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:ke(e,t,f,null,n,s)}for(u in n)if(s=n[u],i=a[u],n.hasOwnProperty(u)&&(s!=null||i!=null))switch(u){case"value":L=s;break;case"defaultValue":G=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==i&&ke(e,t,u,s,n,i)}po(e,L,G);return;case"option":for(var se in a)if(L=a[se],a.hasOwnProperty(se)&&L!=null&&!n.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:ke(e,t,se,null,n,L)}for(T in n)if(L=n[T],G=a[T],n.hasOwnProperty(T)&&L!==G&&(L!=null||G!=null))switch(T){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ke(e,t,T,L,n,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)L=a[ae],a.hasOwnProperty(ae)&&L!=null&&!n.hasOwnProperty(ae)&&ke(e,t,ae,null,n,L);for(q in n)if(L=n[q],G=a[q],n.hasOwnProperty(q)&&L!==G&&(L!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(c(137,t));break;default:ke(e,t,q,L,n,G)}return;default:if(Mi(t)){for(var Ee in a)L=a[Ee],a.hasOwnProperty(Ee)&&L!==void 0&&!n.hasOwnProperty(Ee)&&mc(e,t,Ee,void 0,n,L);for(Y in n)L=n[Y],G=a[Y],!n.hasOwnProperty(Y)||L===G||L===void 0&&G===void 0||mc(e,t,Y,L,n,G);return}}for(var O in a)L=a[O],a.hasOwnProperty(O)&&L!=null&&!n.hasOwnProperty(O)&&ke(e,t,O,null,n,L);for(Z in n)L=n[Z],G=a[Z],!n.hasOwnProperty(Z)||L===G||L==null&&G==null||ke(e,t,Z,L,n,G)}var fc=null,hc=null;function Zs(e){return e.nodeType===9?e:e.ownerDocument}function bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=null;function Sh(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var vm=typeof setTimeout=="function"?setTimeout:void 0,kh=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Eh=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(Ch)}:vm;function Ch(e){setTimeout(function(){throw e})}function wl(e){return e==="head"}function Nm(e,t){var a=t,n=0,s=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(0<n&&8>n){a=n;var u=e.ownerDocument;if(a&1&&Cn(u.documentElement),a&2&&Cn(u.body),a&4)for(a=u.head,Cn(a),u=a.firstChild;u;){var f=u.nextSibling,T=u.nodeName;u[Ga]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=f}}if(s===0){e.removeChild(i),On(t);return}s--}else a==="$"||a==="$?"||a==="$!"?s++:n=a.charCodeAt(0)-48;else n=0;a=i}while(a);On(t)}function gc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gc(a),Ni(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Mh(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ga])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=At(e.nextSibling),e===null)break}return null}function Th(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=At(e.nextSibling),e===null))return null;return e}function bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ah(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var yc=null;function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Sm(e,t,a){switch(t=Zs(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Cn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ni(e)}var Ct=new Map,km=new Set;function Vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tl=X.d;X.d={f:_h,r:Dh,D:Rh,C:zh,L:Oh,m:Bh,X:Uh,S:Hh,M:qh};function _h(){var e=tl.f(),t=Us();return e||t}function Dh(e){var t=Wl(e);t!==null&&t.tag===5&&t.type==="form"?Xd(t):tl.r(e)}var _a=typeof document>"u"?null:document;function Em(e,t,a){var n=_a;if(n&&typeof t=="string"&&t){var s=vt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),km.has(s)||(km.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Fe(t,"link",e),$e(t),n.head.appendChild(t)))}}function Rh(e){tl.D(e),Em("dns-prefetch",e,null)}function zh(e,t){tl.C(e,t),Em("preconnect",e,t)}function Oh(e,t,a){tl.L(e,t,a);var n=_a;if(n&&e&&t){var s='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+vt(a.imageSizes)+'"]')):s+='[href="'+vt(e)+'"]';var i=s;switch(t){case"style":i=Da(e);break;case"script":i=Ra(e)}Ct.has(i)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ct.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Mn(i))||t==="script"&&n.querySelector(Tn(i))||(t=n.createElement("link"),Fe(t,"link",e),$e(t),n.head.appendChild(t)))}}function Bh(e,t){tl.m(e,t);var a=_a;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ra(e)}if(!Ct.has(i)&&(e=w({rel:"modulepreload",href:e},t),Ct.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tn(i)))return}n=a.createElement("link"),Fe(n,"link",e),$e(n),a.head.appendChild(n)}}}function Hh(e,t,a){tl.S(e,t,a);var n=_a;if(n&&e){var s=Pl(n).hoistableStyles,i=Da(e);t=t||"default";var u=s.get(i);if(!u){var f={loading:0,preload:null};if(u=n.querySelector(Mn(i)))f.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ct.get(i))&&vc(e,a);var T=u=n.createElement("link");$e(T),Fe(T,"link",e),T._p=new Promise(function(q,Y){T.onload=q,T.onerror=Y}),T.addEventListener("load",function(){f.loading|=1}),T.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ks(u,t,n)}u={type:"stylesheet",instance:u,count:1,state:f},s.set(i,u)}}}function Uh(e,t){tl.X(e,t);var a=_a;if(a&&e){var n=Pl(a).hoistableScripts,s=Ra(e),i=n.get(s);i||(i=a.querySelector(Tn(s)),i||(e=w({src:e,async:!0},t),(t=Ct.get(s))&&jc(e,t),i=a.createElement("script"),$e(i),Fe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function qh(e,t){tl.M(e,t);var a=_a;if(a&&e){var n=Pl(a).hoistableScripts,s=Ra(e),i=n.get(s);i||(i=a.querySelector(Tn(s)),i||(e=w({src:e,async:!0,type:"module"},t),(t=Ct.get(s))&&jc(e,t),i=a.createElement("script"),$e(i),Fe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function Cm(e,t,a,n){var s=(s=re.current)?Vs(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Da(a.href),a=Pl(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var i=Pl(s).hoistableStyles,u=i.get(e);if(u||(s=s.ownerDocument||s,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=s.querySelector(Mn(e)))&&!i._p&&(u.instance=i,u.state.loading=5),Ct.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ct.set(e,a),i||Lh(s,e,a,u.state))),t&&n===null)throw Error(c(528,""));return u}if(t&&n!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ra(a),a=Pl(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Da(e){return'href="'+vt(e)+'"'}function Mn(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Lh(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Fe(t,"link",a),$e(t),e.head.appendChild(t))}function Ra(e){return'[src="'+vt(e)+'"]'}function Tn(e){return"script[async]"+e}function Tm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(a.href)+'"]');if(n)return t.instance=n,$e(n),n;var s=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),$e(n),Fe(n,"style",s),Ks(n,a.precedence,e),t.instance=n;case"stylesheet":s=Da(a.href);var i=e.querySelector(Mn(s));if(i)return t.state.loading|=4,t.instance=i,$e(i),i;n=Mm(a),(s=Ct.get(s))&&vc(n,s),i=(e.ownerDocument||e).createElement("link"),$e(i);var u=i;return u._p=new Promise(function(f,T){u.onload=f,u.onerror=T}),Fe(i,"link",n),t.state.loading|=4,Ks(i,a.precedence,e),t.instance=i;case"script":return i=Ra(a.src),(s=e.querySelector(Tn(i)))?(t.instance=s,$e(s),s):(n=a,(s=Ct.get(i))&&(n=w({},a),jc(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),$e(s),Fe(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ks(n,a.precedence,e));return t.instance}function Ks(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,u=0;u<n.length;u++){var f=n[u];if(f.dataset.precedence===t)i=f;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Js=null;function Am(e,t,a){if(Js===null){var n=new Map,s=Js=new Map;s.set(a,n)}else s=Js,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Ga]||i[Ie]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var f=n.get(u);f?f.push(i):n.set(u,[i])}}return n}function _m(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Gh(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var An=null;function Yh(){}function Qh(e,t,a){if(An===null)throw Error(c(475));var n=An;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=Da(a.href),i=e.querySelector(Mn(s));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Fs.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,$e(i);return}i=e.ownerDocument||e,a=Mm(a),(s=Ct.get(s))&&vc(a,s),i=i.createElement("link"),$e(i);var u=i;u._p=new Promise(function(f,T){u.onload=f,u.onerror=T}),Fe(i,"link",a),t.instance=i}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Fs.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function $h(){if(An===null)throw Error(c(475));var e=An;return e.stylesheets&&e.count===0&&Nc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Fs(){if(this.count--,this.count===0){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function Nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(Xh,e),Ws=null,Fs.call(e))}function Xh(e,t){if(!(t.state.loading&4)){var a=Ws.get(e);if(a)var n=a.get(null);else{a=new Map,Ws.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var u=s[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),n=u)}n&&a.set(null,n)}s=t.instance,u=s.getAttribute("data-precedence"),i=a.get(u)||n,i===n&&a.set(null,s),a.set(u,s),this.count++,n=Fs.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var _n={$$typeof:k,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Zh(e,t,a,n,s,i,u,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Rm(e,t,a,n,s,i,u,f,T,q,Y,Z){return e=new Zh(e,t,a,u,f,T,q,Z),t=1,i===!0&&(t|=24),i=mt(3,null,null,t),e.current=i,i.stateNode=e,t=ar(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},rr(i),e}function zm(e){return e?(e=da,e):da}function Om(e,t,a,n,s,i){s=zm(s),n.context===null?n.context=s:n.pendingContext=s,n=dl(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=ul(e,n,t),a!==null&&(gt(a,e,t),rn(a,e,t))}function Bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function wc(e,t){Bm(e,t),(e=e.alternate)&&Bm(e,t)}function Hm(e){if(e.tag===13){var t=oa(e,67108864);t!==null&&gt(t,e,67108864),wc(e,67108864)}}var Ps=!0;function Vh(e,t,a,n){var s=U.T;U.T=null;var i=X.p;try{X.p=2,Sc(e,t,a,n)}finally{X.p=i,U.T=s}}function Kh(e,t,a,n){var s=U.T;U.T=null;var i=X.p;try{X.p=8,Sc(e,t,a,n)}finally{X.p=i,U.T=s}}function Sc(e,t,a,n){if(Ps){var s=kc(n);if(s===null)uc(e,t,n,Is,a),qm(e,n);else if(Fh(s,e,t,a,n))n.stopPropagation();else if(qm(e,n),t&4&&-1<Jh.indexOf(e)){for(;s!==null;){var i=Wl(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=Al(i.pendingLanes);if(u!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;u;){var T=1<<31-dt(u);f.entanglements[1]|=T,u&=~T}qt(i),(Ne&6)===0&&(Bs=zt()+500,Sn(0))}}break;case 13:f=oa(i,2),f!==null&&gt(f,i,2),Us(),wc(i,2)}if(i=kc(n),i===null&&uc(e,t,n,Is,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else uc(e,t,n,null,a)}}function kc(e){return e=Ai(e),Ec(e)}var Is=null;function Ec(e){if(Is=null,e=Fl(e),e!==null){var t=x(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Is=e,null}function Um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zf()){case Wc:return 2;case Pc:return 8;case Xn:case Of:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Cc=!1,Sl=null,kl=null,El=null,Dn=new Map,Rn=new Map,Cl=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function zn(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wl(t),t!==null&&Hm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fh(e,t,a,n,s){switch(t){case"focusin":return Sl=zn(Sl,e,t,a,n,s),!0;case"dragenter":return kl=zn(kl,e,t,a,n,s),!0;case"mouseover":return El=zn(El,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return Dn.set(i,zn(Dn.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rn.set(i,zn(Rn.get(i)||null,e,t,a,n,s)),!0}return!1}function Lm(e){var t=Fl(e.target);if(t!==null){var a=x(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Qf(e.priority,function(){if(a.tag===13){var n=pt();n=yi(n);var s=oa(a,n);s!==null&&gt(s,a,n),wc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=kc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Ti=n,a.target.dispatchEvent(n),Ti=null}else return t=Wl(a),t!==null&&Hm(t),e.blockedOn=a,!1;t.shift()}return!0}function Gm(e,t,a){ei(e)&&a.delete(t)}function Wh(){Cc=!1,Sl!==null&&ei(Sl)&&(Sl=null),kl!==null&&ei(kl)&&(kl=null),El!==null&&ei(El)&&(El=null),Dn.forEach(Gm),Rn.forEach(Gm)}function ti(e,t){e.blockedOn===t&&(e.blockedOn=null,Cc||(Cc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wh)))}var li=null;function Ym(e){li!==e&&(li=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){li===e&&(li=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Ec(n||a)===null)continue;break}var i=Wl(a);i!==null&&(e.splice(t,3),t-=3,Er(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function On(e){function t(T){return ti(T,e)}Sl!==null&&ti(Sl,e),kl!==null&&ti(kl,e),El!==null&&ti(El,e),Dn.forEach(t),Rn.forEach(t);for(var a=0;a<Cl.length;a++){var n=Cl[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Cl.length&&(a=Cl[0],a.blockedOn===null);)Lm(a),a.blockedOn===null&&Cl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],u=s[at]||null;if(typeof i=="function")u||Ym(a);else if(u){var f=null;if(i&&i.hasAttribute("formAction")){if(s=i,u=i[at]||null)f=u.formAction;else if(Ec(s)!==null)continue}else f=u.action;typeof f=="function"?a[n+1]=f:(a.splice(n,3),n-=3),Ym(a)}}}function Mc(e){this._internalRoot=e}ai.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,n=pt();Om(a,n,e,t,null,null)},ai.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(e.current,2,null,e,null,null),Us(),t[Jl]=null}};function ai(e){this._internalRoot=e}ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=no();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Cl.length&&t!==0&&t<Cl[a].priority;a++);Cl.splice(a,0,e),a===0&&Lm(e)}};var Qm=o.version;if(Qm!=="19.1.1")throw Error(c(527,Qm,"19.1.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=j(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ph={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{Ua=ni.inject(Ph),ot=ni}catch{}}return Hn.createRoot=function(e,t){if(!m(e))throw Error(c(299));var a=!1,n="",s=su,i=iu,u=ru,f=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=Rm(e,1,!1,null,null,a,n,s,i,u,f,null),e[Jl]=t.current,dc(e),new Mc(t)},Hn.hydrateRoot=function(e,t,a){if(!m(e))throw Error(c(299));var n=!1,s="",i=su,u=iu,f=ru,T=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),t=Rm(e,1,!0,t,a??null,n,s,i,u,f,T,q),t.context=zm(null),a=t.current,n=pt(),n=yi(n),s=dl(n),s.callback=null,ul(a,s,n),a=n,t.current.lanes=a,La(t,a),qt(t),e[Jl]=t.current,dc(e),new ai(t)},Hn.version="19.1.1",Hn}var Im;function ox(){if(Im)return _c.exports;Im=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),_c.exports=cx(),_c.exports}var dx=ox();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ef="popstate";function ux(r={}){function o(c,m){let{pathname:x,search:g,hash:v}=c.location;return Gc("",{pathname:x,search:g,hash:v},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function d(c,m){return typeof m=="string"?m:Ln(m)}return fx(o,d,null,r)}function De(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Dt(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function mx(){return Math.random().toString(36).substring(2,10)}function tf(r,o){return{usr:r.state,key:r.key,idx:o}}function Gc(r,o,d=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?Oa(o):o,state:d,key:o&&o.key||c||mx()}}function Ln({pathname:r="/",search:o="",hash:d=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function Oa(r){let o={};if(r){let d=r.indexOf("#");d>=0&&(o.hash=r.substring(d),r=r.substring(0,d));let c=r.indexOf("?");c>=0&&(o.search=r.substring(c),r=r.substring(0,c)),r&&(o.pathname=r)}return o}function fx(r,o,d,c={}){let{window:m=document.defaultView,v5Compat:x=!1}=c,g=m.history,v="POP",j=null,b=w();b==null&&(b=0,g.replaceState({...g.state,idx:b},""));function w(){return(g.state||{idx:null}).idx}function y(){v="POP";let h=w(),C=h==null?null:h-b;b=h,j&&j({action:v,location:S.location,delta:C})}function D(h,C){v="PUSH";let p=Gc(S.location,h,C);b=w()+1;let k=tf(p,b),B=S.createHref(p);try{g.pushState(k,"",B)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;m.location.assign(B)}x&&j&&j({action:v,location:S.location,delta:1})}function R(h,C){v="REPLACE";let p=Gc(S.location,h,C);b=w();let k=tf(p,b),B=S.createHref(p);g.replaceState(k,"",B),x&&j&&j({action:v,location:S.location,delta:0})}function N(h){return hx(h)}let S={get action(){return v},get location(){return r(m,g)},listen(h){if(j)throw new Error("A history only accepts one active listener");return m.addEventListener(ef,y),j=h,()=>{m.removeEventListener(ef,y),j=null}},createHref(h){return o(m,h)},createURL:N,encodeLocation(h){let C=N(h);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:D,replace:R,go(h){return g.go(h)}};return S}function hx(r,o=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),De(d,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:Ln(r);return c=c.replace(/ $/,"%20"),!o&&c.startsWith("//")&&(c=d+c),new URL(c,d)}function uf(r,o,d="/"){return xx(r,o,d,!1)}function xx(r,o,d,c){let m=typeof o=="string"?Oa(o):o,x=al(m.pathname||"/",d);if(x==null)return null;let g=mf(r);px(g);let v=null;for(let j=0;v==null&&j<g.length;++j){let b=Cx(x);v=kx(g[j],b,c)}return v}function mf(r,o=[],d=[],c="",m=!1){let x=(g,v,j=m,b)=>{let w={relativePath:b===void 0?g.path||"":b,caseSensitive:g.caseSensitive===!0,childrenIndex:v,route:g};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(c)&&j)return;De(w.relativePath.startsWith(c),`Absolute route path "${w.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(c.length)}let y=ll([c,w.relativePath]),D=d.concat(w);g.children&&g.children.length>0&&(De(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),mf(g.children,o,D,y,j)),!(g.path==null&&!g.index)&&o.push({path:y,score:wx(y,g.index),routesMeta:D})};return r.forEach((g,v)=>{if(g.path===""||!g.path?.includes("?"))x(g,v);else for(let j of ff(g.path))x(g,v,!0,j)}),o}function ff(r){let o=r.split("/");if(o.length===0)return[];let[d,...c]=o,m=d.endsWith("?"),x=d.replace(/\?$/,"");if(c.length===0)return m?[x,""]:[x];let g=ff(c.join("/")),v=[];return v.push(...g.map(j=>j===""?x:[x,j].join("/"))),m&&v.push(...g),v.map(j=>r.startsWith("/")&&j===""?"/":j)}function px(r){r.sort((o,d)=>o.score!==d.score?d.score-o.score:Sx(o.routesMeta.map(c=>c.childrenIndex),d.routesMeta.map(c=>c.childrenIndex)))}var gx=/^:[\w-]+$/,bx=3,yx=2,vx=1,jx=10,Nx=-2,lf=r=>r==="*";function wx(r,o){let d=r.split("/"),c=d.length;return d.some(lf)&&(c+=Nx),o&&(c+=yx),d.filter(m=>!lf(m)).reduce((m,x)=>m+(gx.test(x)?bx:x===""?vx:jx),c)}function Sx(r,o){return r.length===o.length&&r.slice(0,-1).every((c,m)=>c===o[m])?r[r.length-1]-o[o.length-1]:0}function kx(r,o,d=!1){let{routesMeta:c}=r,m={},x="/",g=[];for(let v=0;v<c.length;++v){let j=c[v],b=v===c.length-1,w=x==="/"?o:o.slice(x.length)||"/",y=di({path:j.relativePath,caseSensitive:j.caseSensitive,end:b},w),D=j.route;if(!y&&b&&d&&!c[c.length-1].route.index&&(y=di({path:j.relativePath,caseSensitive:j.caseSensitive,end:!1},w)),!y)return null;Object.assign(m,y.params),g.push({params:m,pathname:ll([x,y.pathname]),pathnameBase:_x(ll([x,y.pathnameBase])),route:D}),y.pathnameBase!=="/"&&(x=ll([x,y.pathnameBase]))}return g}function di(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,c]=Ex(r.path,r.caseSensitive,r.end),m=o.match(d);if(!m)return null;let x=m[0],g=x.replace(/(.)\/+$/,"$1"),v=m.slice(1);return{params:c.reduce((b,{paramName:w,isOptional:y},D)=>{if(w==="*"){let N=v[D]||"";g=x.slice(0,x.length-N.length).replace(/(.)\/+$/,"$1")}const R=v[D];return y&&!R?b[w]=void 0:b[w]=(R||"").replace(/%2F/g,"/"),b},{}),pathname:x,pathnameBase:g,pattern:r}}function Ex(r,o=!1,d=!0){Dt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,j)=>(c.push({paramName:v,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,o?void 0:"i"),c]}function Cx(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Dt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function al(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let d=o.endsWith("/")?o.length-1:o.length,c=r.charAt(d);return c&&c!=="/"?null:r.slice(d)||"/"}function Mx(r,o="/"){let{pathname:d,search:c="",hash:m=""}=typeof r=="string"?Oa(r):r;return{pathname:d?d.startsWith("/")?d:Tx(d,o):o,search:Dx(c),hash:Rx(m)}}function Tx(r,o){let d=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?d.length>1&&d.pop():m!=="."&&d.push(m)}),d.length>1?d.join("/"):"/"}function Oc(r,o,d,c){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ax(r){return r.filter((o,d)=>d===0||o.route.path&&o.route.path.length>0)}function $c(r){let o=Ax(r);return o.map((d,c)=>c===o.length-1?d.pathname:d.pathnameBase)}function Xc(r,o,d,c=!1){let m;typeof r=="string"?m=Oa(r):(m={...r},De(!m.pathname||!m.pathname.includes("?"),Oc("?","pathname","search",m)),De(!m.pathname||!m.pathname.includes("#"),Oc("#","pathname","hash",m)),De(!m.search||!m.search.includes("#"),Oc("#","search","hash",m)));let x=r===""||m.pathname==="",g=x?"/":m.pathname,v;if(g==null)v=d;else{let y=o.length-1;if(!c&&g.startsWith("..")){let D=g.split("/");for(;D[0]==="..";)D.shift(),y-=1;m.pathname=D.join("/")}v=y>=0?o[y]:"/"}let j=Mx(m,v),b=g&&g!=="/"&&g.endsWith("/"),w=(x||g===".")&&d.endsWith("/");return!j.pathname.endsWith("/")&&(b||w)&&(j.pathname+="/"),j}var ll=r=>r.join("/").replace(/\/\/+/g,"/"),_x=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Rx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hf=["POST","PUT","PATCH","DELETE"];new Set(hf);var Ox=["GET",...hf];new Set(Ox);var Ba=E.createContext(null);Ba.displayName="DataRouter";var mi=E.createContext(null);mi.displayName="DataRouterState";E.createContext(!1);var xf=E.createContext({isTransitioning:!1});xf.displayName="ViewTransition";var Bx=E.createContext(new Map);Bx.displayName="Fetchers";var Hx=E.createContext(null);Hx.displayName="Await";var Rt=E.createContext(null);Rt.displayName="Navigation";var Gn=E.createContext(null);Gn.displayName="Location";var Lt=E.createContext({outlet:null,matches:[],isDataRoute:!1});Lt.displayName="Route";var Zc=E.createContext(null);Zc.displayName="RouteError";function Ux(r,{relative:o}={}){De(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:c}=E.useContext(Rt),{hash:m,pathname:x,search:g}=Yn(r,{relative:o}),v=x;return d!=="/"&&(v=x==="/"?d:ll([d,x])),c.createHref({pathname:v,search:g,hash:m})}function Ha(){return E.useContext(Gn)!=null}function Tl(){return De(Ha(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Gn).location}var pf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gf(r){E.useContext(Rt).static||E.useLayoutEffect(r)}function bt(){let{isDataRoute:r}=E.useContext(Lt);return r?Wx():qx()}function qx(){De(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(Ba),{basename:o,navigator:d}=E.useContext(Rt),{matches:c}=E.useContext(Lt),{pathname:m}=Tl(),x=JSON.stringify($c(c)),g=E.useRef(!1);return gf(()=>{g.current=!0}),E.useCallback((j,b={})=>{if(Dt(g.current,pf),!g.current)return;if(typeof j=="number"){d.go(j);return}let w=Xc(j,JSON.parse(x),m,b.relative==="path");r==null&&o!=="/"&&(w.pathname=w.pathname==="/"?o:ll([o,w.pathname])),(b.replace?d.replace:d.push)(w,b.state,b)},[o,d,x,m,r])}E.createContext(null);function Yn(r,{relative:o}={}){let{matches:d}=E.useContext(Lt),{pathname:c}=Tl(),m=JSON.stringify($c(d));return E.useMemo(()=>Xc(r,JSON.parse(m),c,o==="path"),[r,m,c,o])}function Lx(r,o){return bf(r,o)}function bf(r,o,d,c,m){De(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=E.useContext(Rt),{matches:g}=E.useContext(Lt),v=g[g.length-1],j=v?v.params:{},b=v?v.pathname:"/",w=v?v.pathnameBase:"/",y=v&&v.route;{let p=y&&y.path||"";yf(b,!y||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let D=Tl(),R;if(o){let p=typeof o=="string"?Oa(o):o;De(w==="/"||p.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${p.pathname}" was given in the \`location\` prop.`),R=p}else R=D;let N=R.pathname||"/",S=N;if(w!=="/"){let p=w.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(p.length).join("/")}let h=uf(r,{pathname:S});Dt(y||h!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Dt(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Xx(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},j,p.params),pathname:ll([w,x.encodeLocation?x.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?w:ll([w,x.encodeLocation?x.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),g,d,c,m);return o&&C?E.createElement(Gn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},C):C}function Gx(){let r=Fx(),o=zx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:c},x={padding:"2px 4px",backgroundColor:c},g=null;return console.error("Error handled by React Router default ErrorBoundary:",r),g=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:x},"ErrorBoundary")," or"," ",E.createElement("code",{style:x},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},o),d?E.createElement("pre",{style:m},d):null,g)}var Yx=E.createElement(Gx,null),Qx=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){this.props.unstable_onError?this.props.unstable_onError(r,o):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?E.createElement(Lt.Provider,{value:this.props.routeContext},E.createElement(Zc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $x({routeContext:r,match:o,children:d}){let c=E.useContext(Ba);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),E.createElement(Lt.Provider,{value:r},d)}function Xx(r,o=[],d=null,c=null,m=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(o.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let x=r,g=d?.errors;if(g!=null){let b=x.findIndex(w=>w.route.id&&g?.[w.route.id]!==void 0);De(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),x=x.slice(0,Math.min(x.length,b+1))}let v=!1,j=-1;if(d)for(let b=0;b<x.length;b++){let w=x[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(j=b),w.route.id){let{loaderData:y,errors:D}=d,R=w.route.loader&&!y.hasOwnProperty(w.route.id)&&(!D||D[w.route.id]===void 0);if(w.route.lazy||R){v=!0,j>=0?x=x.slice(0,j+1):x=[x[0]];break}}}return x.reduceRight((b,w,y)=>{let D,R=!1,N=null,S=null;d&&(D=g&&w.route.id?g[w.route.id]:void 0,N=w.route.errorElement||Yx,v&&(j<0&&y===0?(yf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,S=null):j===y&&(R=!0,S=w.route.hydrateFallbackElement||null)));let h=o.concat(x.slice(0,y+1)),C=()=>{let p;return D?p=N:R?p=S:w.route.Component?p=E.createElement(w.route.Component,null):w.route.element?p=w.route.element:p=b,E.createElement($x,{match:w,routeContext:{outlet:b,matches:h,isDataRoute:d!=null},children:p})};return d&&(w.route.ErrorBoundary||w.route.errorElement||y===0)?E.createElement(Qx,{location:d.location,revalidation:d.revalidation,component:N,error:D,children:C(),routeContext:{outlet:null,matches:h,isDataRoute:!0},unstable_onError:c}):C()},null)}function Vc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(r){let o=E.useContext(Ba);return De(o,Vc(r)),o}function Vx(r){let o=E.useContext(mi);return De(o,Vc(r)),o}function Kx(r){let o=E.useContext(Lt);return De(o,Vc(r)),o}function Kc(r){let o=Kx(r),d=o.matches[o.matches.length-1];return De(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function Jx(){return Kc("useRouteId")}function Fx(){let r=E.useContext(Zc),o=Vx("useRouteError"),d=Kc("useRouteError");return r!==void 0?r:o.errors?.[d]}function Wx(){let{router:r}=Zx("useNavigate"),o=Kc("useNavigate"),d=E.useRef(!1);return gf(()=>{d.current=!0}),E.useCallback(async(m,x={})=>{Dt(d.current,pf),d.current&&(typeof m=="number"?r.navigate(m):await r.navigate(m,{fromRouteId:o,...x}))},[r,o])}var af={};function yf(r,o,d){!o&&!af[r]&&(af[r]=!0,Dt(!1,d))}E.memo(Px);function Px({routes:r,future:o,state:d,unstable_onError:c}){return bf(r,void 0,d,c,o)}function Ix({to:r,replace:o,state:d,relative:c}){De(Ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=E.useContext(Rt);Dt(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=E.useContext(Lt),{pathname:g}=Tl(),v=bt(),j=Xc(r,$c(x),g,c==="path"),b=JSON.stringify(j);return E.useEffect(()=>{v(JSON.parse(b),{replace:o,state:d,relative:c})},[v,b,c,o,d]),null}function ze(r){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ep({basename:r="/",children:o=null,location:d,navigationType:c="POP",navigator:m,static:x=!1}){De(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),v=E.useMemo(()=>({basename:g,navigator:m,static:x,future:{}}),[g,m,x]);typeof d=="string"&&(d=Oa(d));let{pathname:j="/",search:b="",hash:w="",state:y=null,key:D="default"}=d,R=E.useMemo(()=>{let N=al(j,g);return N==null?null:{location:{pathname:N,search:b,hash:w,state:y,key:D},navigationType:c}},[g,j,b,w,y,D,c]);return Dt(R!=null,`<Router basename="${g}"> is not able to match the URL "${j}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:E.createElement(Rt.Provider,{value:v},E.createElement(Gn.Provider,{children:o,value:R}))}function tp({children:r,location:o}){return Lx(Yc(r),o)}function Yc(r,o=[]){let d=[];return E.Children.forEach(r,(c,m)=>{if(!E.isValidElement(c))return;let x=[...o,m];if(c.type===E.Fragment){d.push.apply(d,Yc(c.props.children,x));return}De(c.type===ze,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!c.props.index||!c.props.children,"An index route cannot have child routes.");let g={id:c.props.id||x.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=Yc(c.props.children,x)),d.push(g)}),d}var ci="get",oi="application/x-www-form-urlencoded";function fi(r){return r!=null&&typeof r.tagName=="string"}function lp(r){return fi(r)&&r.tagName.toLowerCase()==="button"}function ap(r){return fi(r)&&r.tagName.toLowerCase()==="form"}function np(r){return fi(r)&&r.tagName.toLowerCase()==="input"}function sp(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ip(r,o){return r.button===0&&(!o||o==="_self")&&!sp(r)}var si=null;function rp(){if(si===null)try{new FormData(document.createElement("form"),0),si=!1}catch{si=!0}return si}var cp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(r){return r!=null&&!cp.has(r)?(Dt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oi}"`),null):r}function op(r,o){let d,c,m,x,g;if(ap(r)){let v=r.getAttribute("action");c=v?al(v,o):null,d=r.getAttribute("method")||ci,m=Bc(r.getAttribute("enctype"))||oi,x=new FormData(r)}else if(lp(r)||np(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let j=r.getAttribute("formaction")||v.getAttribute("action");if(c=j?al(j,o):null,d=r.getAttribute("formmethod")||v.getAttribute("method")||ci,m=Bc(r.getAttribute("formenctype"))||Bc(v.getAttribute("enctype"))||oi,x=new FormData(v,r),!rp()){let{name:b,type:w,value:y}=r;if(w==="image"){let D=b?`${b}.`:"";x.append(`${D}x`,"0"),x.append(`${D}y`,"0")}else b&&x.append(b,y)}}else{if(fi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=ci,c=null,m=oi,g=r}return x&&m==="text/plain"&&(g=x,x=void 0),{action:c,method:d.toLowerCase(),encType:m,formData:x,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jc(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function dp(r,o,d){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${d}`:o&&al(c.pathname,o)==="/"?c.pathname=`${o.replace(/\/$/,"")}/_root.${d}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${d}`,c}async function up(r,o){if(r.id in o)return o[r.id];try{let d=await import(r.module);return o[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mp(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fp(r,o,d){let c=await Promise.all(r.map(async m=>{let x=o.routes[m.route.id];if(x){let g=await up(x,d);return g.links?g.links():[]}return[]}));return gp(c.flat(1).filter(mp).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function nf(r,o,d,c,m,x){let g=(j,b)=>d[b]?j.route.id!==d[b].route.id:!0,v=(j,b)=>d[b].pathname!==j.pathname||d[b].route.path?.endsWith("*")&&d[b].params["*"]!==j.params["*"];return x==="assets"?o.filter((j,b)=>g(j,b)||v(j,b)):x==="data"?o.filter((j,b)=>{let w=c.routes[j.route.id];if(!w||!w.hasLoader)return!1;if(g(j,b)||v(j,b))return!0;if(j.route.shouldRevalidate){let y=j.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:j.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function hp(r,o,{includeHydrateFallback:d}={}){return xp(r.map(c=>{let m=o.routes[c.route.id];if(!m)return[];let x=[m.module];return m.clientActionModule&&(x=x.concat(m.clientActionModule)),m.clientLoaderModule&&(x=x.concat(m.clientLoaderModule)),d&&m.hydrateFallbackModule&&(x=x.concat(m.hydrateFallbackModule)),m.imports&&(x=x.concat(m.imports)),x}).flat(1))}function xp(r){return[...new Set(r)]}function pp(r){let o={},d=Object.keys(r).sort();for(let c of d)o[c]=r[c];return o}function gp(r,o){let d=new Set;return new Set(o),r.reduce((c,m)=>{let x=JSON.stringify(pp(m));return d.has(x)||(d.add(x),c.push({key:x,link:m})),c},[])}function vf(){let r=E.useContext(Ba);return Jc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bp(){let r=E.useContext(mi);return Jc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Fc=E.createContext(void 0);Fc.displayName="FrameworkContext";function jf(){let r=E.useContext(Fc);return Jc(r,"You must render this element inside a <HydratedRouter> element"),r}function yp(r,o){let d=E.useContext(Fc),[c,m]=E.useState(!1),[x,g]=E.useState(!1),{onFocus:v,onBlur:j,onMouseEnter:b,onMouseLeave:w,onTouchStart:y}=o,D=E.useRef(null);E.useEffect(()=>{if(r==="render"&&g(!0),r==="viewport"){let S=C=>{C.forEach(p=>{g(p.isIntersecting)})},h=new IntersectionObserver(S,{threshold:.5});return D.current&&h.observe(D.current),()=>{h.disconnect()}}},[r]),E.useEffect(()=>{if(c){let S=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(S)}}},[c]);let R=()=>{m(!0)},N=()=>{m(!1),g(!1)};return d?r!=="intent"?[x,D,{}]:[x,D,{onFocus:Un(v,R),onBlur:Un(j,N),onMouseEnter:Un(b,R),onMouseLeave:Un(w,N),onTouchStart:Un(y,R)}]:[!1,D,{}]}function Un(r,o){return d=>{r&&r(d),d.defaultPrevented||o(d)}}function vp({page:r,...o}){let{router:d}=vf(),c=E.useMemo(()=>uf(d.routes,r,d.basename),[d.routes,r,d.basename]);return c?E.createElement(Np,{page:r,matches:c,...o}):null}function jp(r){let{manifest:o,routeModules:d}=jf(),[c,m]=E.useState([]);return E.useEffect(()=>{let x=!1;return fp(r,o,d).then(g=>{x||m(g)}),()=>{x=!0}},[r,o,d]),c}function Np({page:r,matches:o,...d}){let c=Tl(),{manifest:m,routeModules:x}=jf(),{basename:g}=vf(),{loaderData:v,matches:j}=bp(),b=E.useMemo(()=>nf(r,o,j,m,c,"data"),[r,o,j,m,c]),w=E.useMemo(()=>nf(r,o,j,m,c,"assets"),[r,o,j,m,c]),y=E.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let N=new Set,S=!1;if(o.forEach(C=>{let p=m.routes[C.route.id];!p||!p.hasLoader||(!b.some(k=>k.route.id===C.route.id)&&C.route.id in v&&x[C.route.id]?.shouldRevalidate||p.hasClientLoader?S=!0:N.add(C.route.id))}),N.size===0)return[];let h=dp(r,g,"data");return S&&N.size>0&&h.searchParams.set("_routes",o.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[h.pathname+h.search]},[g,v,c,m,b,o,r,x]),D=E.useMemo(()=>hp(w,m),[w,m]),R=jp(w);return E.createElement(E.Fragment,null,y.map(N=>E.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...d})),D.map(N=>E.createElement("link",{key:N,rel:"modulepreload",href:N,...d})),R.map(({key:N,link:S})=>E.createElement("link",{key:N,nonce:d.nonce,...S})))}function wp(...r){return o=>{r.forEach(d=>{typeof d=="function"?d(o):d!=null&&(d.current=o)})}}var Nf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nf&&(window.__reactRouterVersion="7.9.1")}catch{}function Sp({basename:r,children:o,window:d}){let c=E.useRef();c.current==null&&(c.current=ux({window:d,v5Compat:!0}));let m=c.current,[x,g]=E.useState({action:m.action,location:m.location}),v=E.useCallback(j=>{E.startTransition(()=>g(j))},[g]);return E.useLayoutEffect(()=>m.listen(v),[m,v]),E.createElement(ep,{basename:r,children:o,location:x.location,navigationType:x.action,navigator:m})}var wf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sf=E.forwardRef(function({onClick:o,discover:d="render",prefetch:c="none",relative:m,reloadDocument:x,replace:g,state:v,target:j,to:b,preventScrollReset:w,viewTransition:y,...D},R){let{basename:N}=E.useContext(Rt),S=typeof b=="string"&&wf.test(b),h,C=!1;if(typeof b=="string"&&S&&(h=b,Nf))try{let ee=new URL(window.location.href),xe=b.startsWith("//")?new URL(ee.protocol+b):new URL(b),oe=al(xe.pathname,N);xe.origin===ee.origin&&oe!=null?b=oe+xe.search+xe.hash:C=!0}catch{Dt(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Ux(b,{relative:m}),[k,B,A]=yp(c,D),z=Mp(b,{replace:g,state:v,target:j,preventScrollReset:w,relative:m,viewTransition:y});function V(ee){o&&o(ee),ee.defaultPrevented||z(ee)}let W=E.createElement("a",{...D,...A,href:h||p,onClick:C||x?o:V,ref:wp(R,B),target:j,"data-discover":!S&&d==="render"?"true":void 0});return k&&!S?E.createElement(E.Fragment,null,W,E.createElement(vp,{page:p})):W});Sf.displayName="Link";var kp=E.forwardRef(function({"aria-current":o="page",caseSensitive:d=!1,className:c="",end:m=!1,style:x,to:g,viewTransition:v,children:j,...b},w){let y=Yn(g,{relative:b.relative}),D=Tl(),R=E.useContext(mi),{navigator:N,basename:S}=E.useContext(Rt),h=R!=null&&Rp(y)&&v===!0,C=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,p=D.pathname,k=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;d||(p=p.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&S&&(k=al(k,S)||k);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=p===C||!m&&p.startsWith(C)&&p.charAt(B)==="/",z=k!=null&&(k===C||!m&&k.startsWith(C)&&k.charAt(C.length)==="/"),V={isActive:A,isPending:z,isTransitioning:h},W=A?o:void 0,ee;typeof c=="function"?ee=c(V):ee=[c,A?"active":null,z?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let xe=typeof x=="function"?x(V):x;return E.createElement(Sf,{...b,"aria-current":W,className:ee,ref:w,style:xe,to:g,viewTransition:v},typeof j=="function"?j(V):j)});kp.displayName="NavLink";var Ep=E.forwardRef(({discover:r="render",fetcherKey:o,navigate:d,reloadDocument:c,replace:m,state:x,method:g=ci,action:v,onSubmit:j,relative:b,preventScrollReset:w,viewTransition:y,...D},R)=>{let N=_p(),S=Dp(v,{relative:b}),h=g.toLowerCase()==="get"?"get":"post",C=typeof v=="string"&&wf.test(v),p=k=>{if(j&&j(k),k.defaultPrevented)return;k.preventDefault();let B=k.nativeEvent.submitter,A=B?.getAttribute("formmethod")||g;N(B||k.currentTarget,{fetcherKey:o,method:A,navigate:d,replace:m,state:x,relative:b,preventScrollReset:w,viewTransition:y})};return E.createElement("form",{ref:R,method:h,action:S,onSubmit:c?j:p,...D,"data-discover":!C&&r==="render"?"true":void 0})});Ep.displayName="Form";function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kf(r){let o=E.useContext(Ba);return De(o,Cp(r)),o}function Mp(r,{target:o,replace:d,state:c,preventScrollReset:m,relative:x,viewTransition:g}={}){let v=bt(),j=Tl(),b=Yn(r,{relative:x});return E.useCallback(w=>{if(ip(w,o)){w.preventDefault();let y=d!==void 0?d:Ln(j)===Ln(b);v(r,{replace:y,state:c,preventScrollReset:m,relative:x,viewTransition:g})}},[j,v,b,d,c,o,r,m,x,g])}var Tp=0,Ap=()=>`__${String(++Tp)}__`;function _p(){let{router:r}=kf("useSubmit"),{basename:o}=E.useContext(Rt),d=Jx();return E.useCallback(async(c,m={})=>{let{action:x,method:g,encType:v,formData:j,body:b}=op(c,o);if(m.navigate===!1){let w=m.fetcherKey||Ap();await r.fetch(w,d,m.action||x,{preventScrollReset:m.preventScrollReset,formData:j,body:b,formMethod:m.method||g,formEncType:m.encType||v,flushSync:m.flushSync})}else await r.navigate(m.action||x,{preventScrollReset:m.preventScrollReset,formData:j,body:b,formMethod:m.method||g,formEncType:m.encType||v,replace:m.replace,state:m.state,fromRouteId:d,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,o,d])}function Dp(r,{relative:o}={}){let{basename:d}=E.useContext(Rt),c=E.useContext(Lt);De(c,"useFormAction must be used inside a RouteContext");let[m]=c.matches.slice(-1),x={...Yn(r||".",{relative:o})},g=Tl();if(r==null){x.search=g.search;let v=new URLSearchParams(x.search),j=v.getAll("index");if(j.some(w=>w==="")){v.delete("index"),j.filter(y=>y).forEach(y=>v.append("index",y));let w=v.toString();x.search=w?`?${w}`:""}}return(!r||r===".")&&m.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(x.pathname=x.pathname==="/"?d:ll([d,x.pathname])),Ln(x)}function Rp(r,{relative:o}={}){let d=E.useContext(xf);De(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=kf("useViewTransitionState"),m=Yn(r,{relative:o});if(!d.isTransitioning)return!1;let x=al(d.currentLocation.pathname,c)||d.currentLocation.pathname,g=al(d.nextLocation.pathname,c)||d.nextLocation.pathname;return di(m.pathname,g)!=null||di(m.pathname,x)!=null}const sf=r=>{let o;const d=new Set,c=(b,w)=>{const y=typeof b=="function"?b(o):b;if(!Object.is(y,o)){const D=o;o=w??(typeof y!="object"||y===null)?y:Object.assign({},o,y),d.forEach(R=>R(o,D))}},m=()=>o,v={setState:c,getState:m,getInitialState:()=>j,subscribe:b=>(d.add(b),()=>d.delete(b))},j=o=r(c,m,v);return v},zp=(r=>r?sf(r):sf),Op=r=>r;function Bp(r,o=Op){const d=Pe.useSyncExternalStore(r.subscribe,Pe.useCallback(()=>o(r.getState()),[r,o]),Pe.useCallback(()=>o(r.getInitialState()),[r,o]));return Pe.useDebugValue(d),d}const rf=r=>{const o=zp(r),d=c=>Bp(o,c);return Object.assign(d,o),d},Hp=(r=>r?rf(r):rf),Up={id:"sakura",name:"사쿠라",role:"검술부 에이스",affectionStart:0,affectionMax:100,likes:["훈련","도전","정직함"],dislikes:["거짓말","나태함"],baseText:"쿨하고 실력 지상주의자. 강한 상대를 찾고 있다.",dialogues:{0:"...너도 이 학원의 학생인가?",20:"너의 실력이 궁금해지는군.",40:"함께 훈련하는 것도 나쁘지 않아.",60:"너와 있으면... 마음이 편해.",80:"내가 이런 감정을 느끼게 될 줄은...",100:"너를 지키기 위해서라면 뭐든 할 수 있어."},sprite:"🗡️",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},qp={id:"yuki",name:"유키",role:"도서부 부장",affectionStart:0,affectionMax:100,likes:["책","조용함","차"],dislikes:["시끄러움","무례함"],baseText:"수줍고 차분한 도서위원. 책 속 세계를 사랑한다.",dialogues:{0:"아... 안녕하세요...",20:"이 책... 같이 읽어보실래요?",40:"당신과 이야기하는 시간이 즐거워요.",60:"당신이 없으면... 외로울 것 같아요.",80:"이 감정이... 사랑인가요?",100:"영원히 당신 곁에 있고 싶어요."},sprite:"📚",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Lp={id:"luna",name:"루나",role:"마법학부 수석",affectionStart:0,affectionMax:100,likes:["마법","별","음악"],dislikes:["규칙","억압"],baseText:"밝고 사교적. 명문 마법 가문 출신이지만 자유로운 영혼.",dialogues:{0:"오! 새로운 친구네? 반가워!",20:"너도 마법의 아름다움을 느껴봐!",40:"너와 함께라면 가문의 압박도 잊을 수 있어.",60:"너를 만난 건 운명인 것 같아.",80:"매일 밤 네 생각에 잠들어.",100:"가문이 뭐든 상관없어. 널 선택할게."},sprite:"✨",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},Gp={id:"mystery",name:"???",role:"수수께끼의 전학생",affectionStart:0,affectionMax:100,likes:["비밀","밤","고양이"],dislikes:["거짓","배신"],baseText:"정체불명의 전학생. 특별한 조건을 만족해야 만날 수 있다.",dialogues:{0:"...넌 누구지?",20:"흥미로운 인간이군.",40:"너에게만은 진실을 말하고 싶어.",60:"내 비밀을... 알고도 곁에 있어줄래?",80:"처음으로... 누군가를 믿고 싶어졌어.",100:"내 전부를 너에게 바칠게."},sprite:"🌙",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",unlockCondition:{day:10,totalAffection:150}},Yp={id:"akane",name:"아카네",role:"학생회장",affectionStart:0,affectionMax:100,likes:["질서","책임감","리더십"],dislikes:["무책임","규칙 위반","게으름"],baseText:"카리스마 넘치는 학생회장. 완벽주의자지만 내면은 따뜻하다.",dialogues:{0:"신입생이군요. 학교 규칙은 숙지하셨나요?",20:"당신은 꽤 성실한 학생이네요.",40:"회장직이 힘들 때... 당신이 있어 든든해요.",60:"당신 앞에서만 진짜 나를 보여줄 수 있어요.",80:"이런 감정... 회장으로서 가져선 안 되는데...",100:"규칙보다 중요한 건... 당신이에요."},sprite:"👑",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},Qp={id:"hana",name:"하나",role:"요리부 부장",affectionStart:0,affectionMax:100,likes:["요리","디저트","가족"],dislikes:["음식 낭비","편식","인스턴트"],baseText:"따뜻하고 모성애 넘치는 성격. 모두를 먹이려 한다.",dialogues:{0:"배고프지 않아요? 제가 만든 도시락 드실래요?",20:"당신이 맛있게 먹는 모습이 좋아요.",40:"특별히 당신을 위한 요리를 준비했어요.",60:"매일 당신의 도시락을 만들고 싶어요.",80:"당신과 함께 요리하는 미래를 꿈꿔요.",100:"평생 당신의 곁에서 요리하고 싶어요."},sprite:"🍰",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},$p={id:"rin",name:"린",role:"육상부 스타",affectionStart:0,affectionMax:100,likes:["달리기","아침 햇살","스포츠 음료"],dislikes:["비 오는 날","포기","변명"],baseText:"활발하고 긍정적인 에너지. 항상 웃는 햇살 같은 소녀.",dialogues:{0:"안녕! 같이 아침 조깅할래요?",20:"당신과 달리면 더 빨라지는 것 같아요!",40:"당신이 응원해주면 무엇이든 할 수 있어요.",60:"당신과의 시간이 제일 소중해요.",80:"달리는 것보다... 당신이 더 좋아요.",100:"함께 인생을 완주하고 싶어요."},sprite:"🏃‍♀️",image:"https://images.unsplash.com/photo-1727466443068-779e1f8fe8e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXRlJTIwYW5pbWUlMjBib3klMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDExOTQyfDA&ixlib=rb-4.1.0&q=80&w=1080"},Xp={id:"mei",name:"메이",role:"미술부 천재",affectionStart:0,affectionMax:100,likes:["그림","고요함","영감"],dislikes:["소음","방해","틀에 박힌 것"],baseText:"예술적 감성이 풍부한 소녀. 자신만의 세계에 빠져있다.",dialogues:{0:"...당신의 색깔은 뭘까요?",20:"당신을 그려도 될까요?",40:"당신은 제 뮤즈예요.",60:"당신 없는 세상은 흑백이에요.",80:"당신이 제 캔버스의 전부예요.",100:"영원히 당신만을 그리고 싶어요."},sprite:"🎨",image:"https://images.unsplash.com/photo-1673047233994-78df05226bfc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrYXdhaWklMjBhbmltZSUyMGdpcmwlMjBjaGFyYWN0ZXJ8ZW58MXx8fHwxNzU3NDA2OTI1fDA&ixlib=rb-4.1.0&q=80&w=1080"},Zp={id:"sora",name:"소라",role:"과학부 천재",affectionStart:0,affectionMax:100,likes:["실험","발명","논리"],dislikes:["미신","비과학적 사고","실패"],baseText:"논리적이고 분석적. 감정보다 이성을 중시한다.",dialogues:{0:"흥미로운 실험 대상이네요.",20:"당신의 데이터가 궁금해요.",40:"이상해요... 당신을 보면 심박수가 올라가요.",60:"이 감정을 과학적으로 설명할 수 없어요.",80:"당신은 제 가설을 모두 뒤집었어요.",100:"사랑이 과학을 초월한다는 걸 깨달았어요."},sprite:"🔬",image:"https://images.unsplash.com/photo-1663035310226-8203dfbe03d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbmltZSUyMGdpcmwlMjBibHVlJTIwaGFpciUyMGNoYXJhY3RlcnxlbnwxfHx8fDE3NTc0MTE5Mzh8MA&ixlib=rb-4.1.0&q=80&w=1080"},Qn={sakura:Up,yuki:qp,luna:Lp,mystery:Gp,akane:Yp,hana:Qp,rin:$p,mei:Xp,sora:Zp},Vp=[{id:"sakura_training",name:"검술 훈련",trigger:{location:"training",character:"sakura",minAffection:20,chance:.5},description:"사쿠라가 검술 훈련을 제안한다.",choices:[{text:"좋아, 함께 훈련하자!",effects:{affection:{sakura:10},stats:{stamina:2},text:"사쿠라와 즐거운 훈련 시간을 보냈다."}},{text:"오늘은 좀 피곤해서...",effects:{affection:{sakura:-5},text:"사쿠라가 실망한 표정을 지었다."}}]},{id:"yuki_library",name:"도서관 데이트",trigger:{location:"library",character:"yuki",minAffection:30,chance:.4},description:"유키가 함께 책을 읽자고 제안한다.",choices:[{text:"좋은 생각이야!",effects:{affection:{yuki:15},stats:{intelligence:3},text:"유키와 조용한 시간을 보내며 친해졌다."}},{text:"미안, 다른 약속이 있어.",effects:{affection:{yuki:-3},text:"유키가 아쉬워하는 표정을 지었다."}}]},{id:"luna_magic",name:"마법 수업",trigger:{location:"classroom",character:"luna",minAffection:15,chance:.6},description:"루나가 특별한 마법을 보여주겠다고 한다.",choices:[{text:"와! 보고 싶어!",effects:{affection:{luna:12},stats:{intelligence:2,charm:1},text:"루나의 환상적인 마법에 매료되었다."}},{text:"마법은 위험하지 않아?",effects:{affection:{luna:5},text:"루나가 안전하다고 안심시켜준다."}}]},{id:"random_exam",name:"깜짝 시험",trigger:{location:"classroom",minDay:5,chance:.2},description:"갑작스러운 시험이 시작된다!",choices:[{text:"열심히 푼다",condition:{minIntelligence:15},effects:{stats:{intelligence:2,charm:1},text:"시험을 잘 봤다! 모두가 감탄한다."}},{text:"대충 찍는다",effects:{stats:{stamina:-1},text:"시험을 망쳤다..."}}]},{id:"confession_sakura",name:"사쿠라의 고백",trigger:{character:"sakura",minAffection:80,minDay:20,once:!0},description:"사쿠라가 진지한 표정으로 다가온다...",choices:[{text:"나도 좋아해",effects:{affection:{sakura:20},flag:"sakura_route",text:"사쿠라와 연인이 되었다!"}},{text:"미안, 친구로 남자",effects:{affection:{sakura:-30},text:"사쿠라가 슬픈 미소를 지으며 돌아섰다."}}]},{id:"mystery_encounter",name:"신비한 만남",trigger:{minDay:10,totalAffection:150,chance:.1,once:!0},description:"어둠 속에서 누군가 나타난다...",choices:[{text:"누구세요?",effects:{unlockCharacter:"mystery",text:"신비로운 전학생을 만났다!"}}]},{id:"sakura_secret_garden",name:"비밀 정원에서의 검술 연습",trigger:{location:"secretGarden",character:"sakura",minAffection:50,chance:.6},description:"비밀 정원에서 사쿠라가 달빛 아래 검술을 연습하고 있다. 아름다운 자세에 감탄하게 된다.",choices:[{text:"같이 연습해도 될까?",effects:{affection:{sakura:20},stats:{stamina:3,charm:2},text:"사쿠라와 달빛 아래에서 특별한 검술 연습을 했다. 둘 사이의 거리가 더욱 가까워졌다."}},{text:"조용히 감상하기",effects:{affection:{sakura:15},stats:{charm:1},text:"사쿠라의 우아한 검술을 감상했다. 그녀의 진지한 모습이 인상깊었다."}},{text:"다른 곳으로 가기",effects:{text:"조용히 자리를 떠났다."}}]},{id:"yuki_secret_garden",name:"비밀 정원의 독서 시간",trigger:{location:"secretGarden",character:"yuki",minAffection:50,chance:.6},description:"유키가 비밀 정원의 벤치에서 책을 읽고 있다. 달빛이 그녀의 은색 머리를 비추어 환상적인 모습이다.",choices:[{text:"옆에 앉아서 함께 읽기",effects:{affection:{yuki:20},stats:{intelligence:3,charm:2},text:"유키와 함께 달빛 아래에서 책을 읽었다. 조용하고 로맨틱한 시간이었다."}},{text:"책에 대해 이야기하기",effects:{affection:{yuki:15},stats:{intelligence:2,charm:1},text:"유키와 책에 대한 깊은 대화를 나누었다. 그녀의 지적인 매력에 빠져들었다."}},{text:"방해하지 않고 떠나기",effects:{affection:{yuki:5},text:"유키의 독서를 방해하지 않기 위해 조용히 떠났다."}}]},{id:"luna_secret_garden",name:"비밀 정원의 마법 의식",trigger:{location:"secretGarden",character:"luna",minAffection:50,chance:.6},description:"루나가 비밀 정원 중앙에서 신비한 마법 의식을 행하고 있다. 주변에 반짝이는 마법의 빛들이 춤추고 있다.",choices:[{text:"의식에 참여하기",condition:{minIntelligence:15},effects:{affection:{luna:25},stats:{intelligence:2,charm:3,luck:1},text:"루나와 함께 신비한 마법 의식에 참여했다. 마법의 힘이 몸 안으로 흘러들어오는 것을 느꼈다."}},{text:"경외심으로 지켜보기",effects:{affection:{luna:15},stats:{charm:2},text:"루나의 아름다운 마법 의식을 감상했다. 그녀의 신비한 매력에 마음이 설렜다."}},{text:"조용히 물러나기",effects:{text:"신성한 의식을 방해하지 않기 위해 조용히 물러났다."}}]},{id:"secret_garden_stargazing",name:"비밀 정원에서의 별보기",trigger:{location:"secretGarden",time:"night",minAffection:30,chance:.4},description:"비밀 정원에서 혼자 별을 보고 있는데, 누군가가 조용히 다가온다.",choices:[{text:"함께 별을 보자고 제안하기",effects:{stats:{charm:2,luck:1},text:"아름다운 별빛 아래에서 로맨틱한 시간을 보냈다."}},{text:"별자리에 대해 이야기하기",effects:{stats:{intelligence:2,charm:1},text:"별자리와 신화에 대한 흥미로운 대화를 나누었다."}}]},{id:"secret_garden_confession",name:"비밀 정원에서의 고백",trigger:{location:"secretGarden",minAffection:80,chance:.3,once:!0},description:"비밀 정원의 아름다운 분위기 속에서 특별한 누군가와 마주한다. 이제 마음을 전할 때인 것 같다.",choices:[{text:"솔직한 마음을 고백하기",effects:{flag:"secret_garden_confession",text:"비밀 정원에서 진심어린 고백을 했다. 특별한 추억이 만들어졌다."}},{text:"아직은 때가 아닌 것 같다",effects:{text:"마음을 전하지 못했지만, 이 순간만으로도 충분히 아름다웠다."}}]}],Kp={events:Vp},ui=Qn,Jp=Kp,Fp=Object.keys(ui).reduce((r,o)=>(r[o]=ui[o].affectionStart||0,r),{}),ii={name:"주인공",level:1,experience:0,hp:100,maxHp:100,mp:50,maxMp:50,stats:{intelligence:10,charm:10,stamina:10,strength:10,agility:10,luck:10},inventory:[],equipment:{},affection:Fp,location:"classroom",day:1,timeOfDay:"morning",money:1e3,flags:{},dungeonProgress:{currentFloor:1,maxFloorReached:1,position:{x:0,y:0}},achievements:[],achievementPoints:0,statistics:{monstersDefeated:0,treasuresFound:0,quizStreak:0,bestCardTime:1/0,loginStreak:1},metHeroines:[],defeatedMonsterTypes:[],defeatedBosses:[],collectedItems:[],unlockedEndings:[],participatedEvents:[]},Hc=["morning","noon","afternoon","evening","night"],Wp=30,he=Hp((r,o)=>({player:ii,unlockedCharacters:["sakura","yuki","luna"],completedEvents:[],currentEvent:null,gameMessage:"학원 생활이 시작됩니다!",gameEnding:null,gameDate:{year:2024,month:4,day:1},lastActivity:null,actions:{loadInitialGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const c=JSON.parse(d);r({player:c.player,unlockedCharacters:c.unlockedCharacters,completedEvents:c.completedEvents})}},saveGame:()=>{const{player:d,unlockedCharacters:c,completedEvents:m}=o(),x={player:d,unlockedCharacters:c,completedEvents:m,timestamp:Date.now(),version:"1.0.0"};localStorage.setItem("academyDatingSim",JSON.stringify(x)),r({gameMessage:"게임이 저장되었습니다!"})},loadGame:()=>{const d=localStorage.getItem("academyDatingSim");if(d){const c=JSON.parse(d);r({player:c.player,unlockedCharacters:c.unlockedCharacters,completedEvents:c.completedEvents,gameMessage:"게임을 불러왔습니다!"})}else r({gameMessage:"저장된 게임이 없습니다."})},resetGame:d=>{const c={...ii,name:d?.playerName||ii.name,stats:d?.startingStats||{...ii.stats},affection:Object.keys(ui).reduce((m,x)=>(m[x]=ui[x].affectionStart||0,m),{})};r({player:c,unlockedCharacters:["sakura","yuki","luna"],completedEvents:[],currentEvent:null,gameEnding:null,gameMessage:d?`${c.name}의 학원 생활이 시작됩니다!`:"새로운 게임을 시작합니다!",lastActivity:null}),localStorage.removeItem("academyDatingSim")},updateStats:d=>r(c=>({player:{...c.player,stats:{...c.player.stats,...d}}})),updateHpMp:(d,c)=>r(m=>({player:{...m.player,hp:Math.min(m.player.maxHp,m.player.hp+d),mp:Math.min(m.player.maxMp,m.player.mp+c)}})),updateAffection:(d,c)=>r(m=>({player:{...m.player,affection:{...m.player.affection,[d]:Math.max(0,Math.min(100,(m.player.affection[d]||0)+c))}}})),moveToLocation:d=>{r(c=>({player:{...c.player,location:d}})),o().actions.checkForEvents(d)},advanceTime:()=>{r(d=>{const m=Hc.indexOf(d.player.timeOfDay)+1;if(m>=Hc.length){const x=d.player.day+1;return x>Wp?(o().actions.checkEnding(),{}):{player:{...d.player,day:x,timeOfDay:"morning",hp:Math.min(d.player.hp+20,d.player.maxHp),mp:Math.min(d.player.mp+10,d.player.maxMp)}}}return{player:{...d.player,timeOfDay:Hc[m]}}})},checkForEvents:d=>{const{player:c,completedEvents:m}=o(),x=d||c.location,g=Jp.events.filter(v=>!(v.trigger.location&&v.trigger.location!==x||v.trigger.once&&m.includes(v.id)||v.trigger.minDay&&c.day<v.trigger.minDay||v.trigger.character&&v.trigger.minAffection&&(c.affection[v.trigger.character]||0)<v.trigger.minAffection||v.trigger.totalAffection&&Object.values(c.affection).reduce((b,w)=>b+w,0)<v.trigger.totalAffection||v.trigger.chance&&Math.random()>v.trigger.chance));if(g.length>0){const v=g[Math.floor(Math.random()*g.length)];r({currentEvent:v})}},handleEventChoice:(d,c)=>{const m=d.choices[c],{player:x,actions:g}=o();if(m.condition?.minIntelligence&&x.stats.intelligence<m.condition.minIntelligence){r({gameMessage:"지력이 부족합니다!"});return}m.effects.affection&&Object.entries(m.effects.affection).forEach(([v,j])=>g.updateAffection(v,j)),m.effects.stats&&g.updateStats(m.effects.stats),m.effects.item&&g.addItem(m.effects.item),m.effects.money&&r(v=>({player:{...v.player,money:v.player.money+m.effects.money}})),m.effects.flag&&r(v=>({player:{...v.player,flags:{...v.player.flags,[m.effects.flag]:!0}}})),m.effects.unlockCharacter&&r(v=>({unlockedCharacters:[...v.unlockedCharacters,m.effects.unlockCharacter]})),r({gameMessage:m.effects.text}),d.trigger.once&&r(v=>({completedEvents:[...v.completedEvents,d.id]})),r({currentEvent:null})},addItem:d=>r(c=>({player:{...c.player,inventory:[...c.player.inventory,d]}})),buyItem:d=>{o().actions.addItem(d)},updateMoney:d=>{r(c=>({player:{...c.player,money:c.player.money+d}}))},sellItem:(d,c)=>{const{player:m}=o(),x=m.inventory.indexOf(d);if(x>-1){const g=[...m.inventory];return g.splice(x,1),r(v=>({player:{...v.player,inventory:g,money:v.player.money+c}})),r({gameMessage:`${d}을(를) 판매했습니다.`}),!0}return r({gameMessage:"판매할 아이템이 없습니다."}),!1},purchaseItem:(d,c)=>{const{player:m}=o();return m.money>=c?(r(x=>({player:{...x.player,inventory:[...x.player.inventory,d],money:x.player.money-c}})),!0):!1},useItem:(d,c)=>{const{player:m}=o(),x=m.inventory.indexOf(d);if(x===-1){r({gameMessage:"아이템을 찾을 수 없습니다."});return}const g=[...m.inventory];g.splice(x,1);let v={...m,inventory:g},j=`${d}을(를) 사용했습니다.`;switch(d){case"healingPotion":v.hp=Math.min(v.hp+50,v.maxHp),j="체력 포션을 사용했습니다. HP +50";break;case"manaPotion":v.mp=Math.min(v.mp+30,v.maxMp),j="마나 포션을 사용했습니다. MP +30";break;case"energyDrink":v.stats.stamina+=2,j="에너지 드링크를 마셨습니다. 체력 +2";break;default:if(c){const b=d.includes("flower")?10:5;v.affection={...v.affection,[c]:Math.min((v.affection[c]||0)+b,100)},j=`${c}에게 ${d}을(를) 선물했습니다. 호감도 +${b}`}break}r({player:v,gameMessage:j})},performActivity:(d,c)=>{const{player:m}=o(),x=o().actions;if(m.stats.stamina<10&&!["휴식하기","쇼핑하기"].includes(d)){r({gameMessage:"체력이 부족합니다. 휴식을 취하세요."});return}let g={...m},v="",j=!0;switch(d){case"공부하기":g.stats.intelligence+=2,g.stats.stamina=Math.max(0,g.stats.stamina-10),v="열심히 공부했습니다. 지력 +2";break;case"운동하기":g.stats.strength+=2,g.stats.stamina=Math.max(0,g.stats.stamina-10),v="열심히 운동했습니다. 힘 +2";break;case"사교활동":g.stats.charm+=2,g.stats.stamina=Math.max(0,g.stats.stamina-10),v="사교활동을 했습니다. 매력 +2";break;case"휴식하기":g.hp=Math.min(g.hp+20,g.maxHp),g.mp=Math.min(g.mp+10,g.maxMp),g.stats.stamina=Math.min(g.stats.stamina+20,100),v="휴식을 취했습니다. HP +20, MP +10, 체력 +20";break;case"쇼핑하기":if(c){r({gameMessage:"매점으로 이동합니다..."}),c("/shopping");return}v="쇼핑을 했습니다.",j=!1;break;case"던전 탐험":if(c){r({gameMessage:"던전으로 이동합니다..."}),c("/dungeon");return}v="던전 탐험을 준비합니다.",j=!1;break;default:v=`${d}을(를) 했습니다.`;break}r({player:g,gameMessage:v,lastActivity:d}),j&&(x.advanceTime(),x.checkForEvents())},checkEnding:()=>{const{player:d}=o(),c=Object.entries(d.affection).reduce((m,[x,g])=>g>m.value?{char:x,value:g}:m,{char:"",value:0});c.value>=80?d.flags[`${c.char}_route`]?r({gameEnding:c.char}):r({gameEnding:"good"}):c.value>=50?r({gameEnding:"normal"}):r({gameEnding:"solo"})},setCurrentEvent:d=>r({currentEvent:d}),updatePlayer:d=>r(c=>({player:{...c.player,...d}})),goToNextFloor:()=>r(d=>{const c=d.player.dungeonProgress.currentFloor+1;return{player:{...d.player,dungeonProgress:{...d.player.dungeonProgress,currentFloor:c,maxFloorReached:Math.max(d.player.dungeonProgress.maxFloorReached,c),position:{x:1,y:1}}}}}),clearLastActivity:()=>r({lastActivity:null})}})),Ef=Pe.memo(()=>{const r=he(y=>y.player),o=E.useCallback((y,D=20)=>{const R=y/D*100;return R>=75?"text-green-500":R>=50?"text-yellow-500":R>=25?"text-orange-500":"text-red-500"},[]),d=E.useCallback((y,D=20)=>Math.min(y/D*100,100),[]),c=E.useMemo(()=>({morning:"아침",noon:"점심",afternoon:"오후",evening:"저녁",night:"밤"}),[]),m=E.useCallback(y=>c[y]||y,[c]),{currentHP:x,maxHP:g,currentMP:v,maxMP:j,hpPercentage:b,mpPercentage:w}=E.useMemo(()=>{const y=r.hp??100,D=r.maxHp??100,R=r.mp??50,N=r.maxMp??50;return{currentHP:y,maxHP:D,currentMP:R,maxMP:N,hpPercentage:y/D*100,mpPercentage:R/N*100}},[r.hp,r.maxHp,r.mp,r.maxMp]);return l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border text-text-primary p-6 mb-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-red-900/20 to-red-800/20 p-4 rounded-xl border border-red-500/30 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xl",children:"❤️"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-bold text-red-400",children:"체력"}),l.jsx("div",{className:"text-xs text-red-300",children:"Health Points"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-3xl font-bold text-red-400",children:x}),l.jsxs("span",{className:"text-red-300 text-xl",children:["/",g]}),l.jsxs("div",{className:"text-xs text-red-300",children:[Math.round(b),"%"]})]})]}),l.jsx("div",{className:"w-full bg-red-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":x,"aria-valuemin":0,"aria-valuemax":g,"aria-label":"체력",children:l.jsx("div",{className:"bg-gradient-to-r from-red-500 via-red-400 to-red-300 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${b}%`}})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/20 p-4 rounded-xl border border-blue-500/30 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xl",children:"💙"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-bold text-blue-400",children:"마나"}),l.jsx("div",{className:"text-xs text-blue-300",children:"Magic Points"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-3xl font-bold text-blue-400",children:v}),l.jsxs("span",{className:"text-blue-300 text-xl",children:["/",j]}),l.jsxs("div",{className:"text-xs text-blue-300",children:[Math.round(w),"%"]})]})]}),l.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-4 shadow-inner",role:"progressbar","aria-valuenow":v,"aria-valuemin":0,"aria-valuemax":j,"aria-label":"마나",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-blue-400 to-cyan-400 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${w}%`}})})]})]})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-xl font-bold text-pink-200",children:r.name}),l.jsxs("div",{className:"text-sm bg-purple-900/50 px-3 py-1 rounded-full",children:["레벨 ",r.level," • ",r.day,"일차 • ",m(r.timeOfDay)]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-yellow-600/20 px-3 py-1 rounded-full",children:[l.jsx("span",{className:"text-yellow-300",children:"💰"}),l.jsxs("span",{className:"font-semibold text-yellow-200",children:[r.money.toLocaleString(),"원"]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-purple-300",children:"⭐"}),l.jsx("span",{className:"text-sm font-medium text-purple-200",children:"경험치"})]}),l.jsxs("span",{className:"font-bold text-purple-200",children:[r.experience,"/100"]})]}),l.jsx("div",{className:"w-full bg-purple-950/50 rounded-full h-2",role:"progressbar","aria-valuenow":r.experience%100,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"경험치",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${r.experience%100}%`}})})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mt-4",children:[l.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-300",children:"🧠"}),l.jsx("span",{className:"text-xs font-medium text-blue-200",children:"지력"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.intelligence)}`,children:r.stats.intelligence})]}),l.jsx("div",{className:"w-full bg-blue-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.intelligence,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"지력 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.intelligence,50)}%`}})})]}),l.jsxs("div",{className:"bg-pink-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-pink-300",children:"✨"}),l.jsx("span",{className:"text-xs font-medium text-pink-200",children:"매력"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.charm)}`,children:r.stats.charm})]}),l.jsx("div",{className:"w-full bg-pink-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.charm,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"매력 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.charm,50)}%`}})})]}),l.jsxs("div",{className:"bg-green-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-300",children:"🏃"}),l.jsx("span",{className:"text-xs font-medium text-green-200",children:"체력"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.stamina)}`,children:r.stats.stamina})]}),l.jsx("div",{className:"w-full bg-green-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.stamina,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"체력 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.stamina,50)}%`}})})]}),l.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-orange-300",children:"💪"}),l.jsx("span",{className:"text-xs font-medium text-orange-200",children:"힘"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.strength)}`,children:r.stats.strength})]}),l.jsx("div",{className:"w-full bg-orange-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.strength,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"힘 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.strength,50)}%`}})})]}),l.jsxs("div",{className:"bg-cyan-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-cyan-300",children:"🏃‍♂️"}),l.jsx("span",{className:"text-xs font-medium text-cyan-200",children:"민첩"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.agility)}`,children:r.stats.agility})]}),l.jsx("div",{className:"w-full bg-cyan-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.agility,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"민첩 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.agility,50)}%`}})})]}),l.jsxs("div",{className:"bg-yellow-900/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-yellow-300",children:"🍀"}),l.jsx("span",{className:"text-xs font-medium text-yellow-200",children:"행운"})]}),l.jsx("span",{className:`font-bold text-xs ${o(r.stats.luck)}`,children:r.stats.luck})]}),l.jsx("div",{className:"w-full bg-yellow-950/50 rounded-full h-1.5",role:"progressbar","aria-valuenow":r.stats.luck,"aria-valuemin":0,"aria-valuemax":50,"aria-label":"행운 스탯",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${d(r.stats.luck,50)}%`}})})]})]}),l.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(r.affection).map(([y,D])=>l.jsxs("div",{className:"flex items-center justify-between bg-purple-900/20 px-3 py-2 rounded-lg",children:[l.jsx("span",{className:"text-sm text-purple-200 capitalize",children:y}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-12 bg-purple-950/50 rounded-full h-1",role:"progressbar","aria-valuenow":D,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`${y} 호감도`,children:l.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-1 rounded-full transition-all duration-300",style:{width:`${D}%`}})}),l.jsx("span",{className:"text-xs text-purple-300 font-medium",children:D})]})]},y))})]})});Ef.displayName="StatusBar";const Pp=({currentLocation:r,player:o,onPerformActivity:d,onMoveToLocation:c,availableLocations:m,characters:x,onInteractCharacter:g})=>{const v=y=>({공부하기:"📚",운동하기:"🏃‍♂️",사교활동:"🗣️",휴식하기:"😴",독서하기:"📖",명상하기:"🧘‍♂️",요리하기:"👨‍🍳","음식 먹기":"🍽️",쇼핑하기:"🛍️",구경하기:"👀",산책하기:"🚶‍♂️","벤치에 앉기":"🪑"})[y]||"⭐",j=y=>({classroom:"🏫",library:"📚",cafeteria:"🍽️",gym:"🏃‍♂️",garden:"🌸",shopping:"🛍️",secret:"🔒"})[y]||"📍",b=y=>y.time!=="any"&&y.time!==o.timeOfDay?!1:y.name==="휴식하기"||y.name==="휴식"||y.name==="쇼핑하기"||y.name==="구경하기"||y.name==="벤치에 앉기"?!0:o.stats.stamina>0,w=y=>y.unlockCondition?!(y.unlockCondition.item&&!o.inventory.includes(y.unlockCondition.item)||y.unlockCondition.flag&&!o.flags[y.unlockCondition.flag]):!0;return l.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"text-3xl",children:j(r.id)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-secondary",children:r.name}),l.jsx("p",{className:"text-text-secondary text-sm",children:r.description})]})]}),l.jsxs("div",{className:"text-sm text-text-secondary italic",children:[o.timeOfDay==="morning"&&"아침의 상쾌한 공기가 감돕니다.",o.timeOfDay==="noon"&&"점심시간의 활기찬 분위기입니다.",o.timeOfDay==="afternoon"&&"오후의 나른한 햇살이 내리쬐고 있습니다.",o.timeOfDay==="evening"&&"저녁 노을이 지고 있습니다.",o.timeOfDay==="night"&&"밤의 정적이 감돌고 있습니다."]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[l.jsx("span",{children:"⚡"}),"활동"]}),r.activities.length>0?l.jsx("div",{className:"space-y-3",children:r.activities.map((y,D)=>{const R=b(y);return l.jsx("button",{onClick:()=>d(y.name),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xl",children:v(y.name)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:y.name}),l.jsx("div",{className:"text-xs text-purple-300",children:y.time!=="any"&&`${y.time}에만 가능`})]})]}),l.jsx("div",{className:"text-xs space-y-1",children:Object.entries(y.effect).map(([N,S])=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("span",{className:S>0?"text-green-400":"text-red-400",children:[S>0?"+":"",S]}),l.jsx("span",{className:"text-purple-300 capitalize",children:N})]},N))})]})},D)})}):l.jsx("p",{className:"text-purple-400 text-sm italic",children:"이곳에서 할 수 있는 활동이 없습니다."})]}),l.jsxs("div",{className:"bg-purple-900/40 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-pink-200 mb-4 flex items-center gap-2",children:[l.jsx("span",{children:"🗺️"}),"이동"]}),l.jsx("div",{className:"space-y-3",children:Object.entries(m).filter(([y])=>y!==r.id).map(([y,D])=>{const R=w(D);return l.jsx("button",{onClick:()=>c(y),disabled:!R,className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${R?"bg-purple-800/60 hover:bg-purple-700/60 hover:scale-105 cursor-pointer":"bg-gray-800/40 cursor-not-allowed opacity-50"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xl",children:j(y)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:D.name}),l.jsx("div",{className:"text-xs text-purple-300",children:!R&&D.unlockCondition&&l.jsxs("span",{className:"text-red-400",children:[D.unlockCondition.item&&"아이템 필요",D.unlockCondition.flag&&"조건 미달성"]})})]})]})},y)})})]})]}),(()=>{const y=r.characterSchedule?r.characterSchedule[o.timeOfDay]||[]:r.characters||[];return y.length>0&&l.jsxs("div",{className:"mt-6 bg-black/20 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-secondary mb-4 flex items-center gap-2",children:[l.jsx("span",{children:"👥"}),"현재 위치한 캐릭터"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:y.map(D=>{const R=x[D];return R?l.jsxs("button",{onClick:()=>g?.(D),className:"bg-primary/20 px-4 py-2 rounded-full text-sm font-medium text-text-primary border border-border flex items-center gap-2 hover:bg-primary/30 hover:scale-105 transition-all duration-200 cursor-pointer",children:[l.jsx("span",{className:"text-xl",children:R.sprite}),l.jsx("span",{children:R.name}),l.jsx("span",{className:"text-xs text-pink-300",children:"💕"})]},D):null})})]})})(),l.jsxs("div",{className:"mt-4 flex justify-between items-center text-xs text-text-secondary",children:[l.jsx("div",{children:o.stats.stamina<=2&&l.jsx("span",{className:"text-red-400 font-medium",children:"⚠️ 체력이 부족합니다!"})}),l.jsx("div",{children:"활동 후 시간이 경과합니다"})]})]})},Ip=({characters:r,items:o})=>{const{player:d,unlockedCharacters:c}=he(),m=he(h=>h.actions.useItem),x=he(h=>h.actions.updateAffection),[g,v]=E.useState(null),[j,b]=E.useState(!1),w=h=>({sakura:"🌸",yuki:"❄️",luna:"🌙",mystery:"❓"})[h]||"👤",y=h=>h>=80?{level:"매우 친밀",color:"text-pink-400",bgColor:"bg-pink-500/20"}:h>=60?{level:"친밀",color:"text-purple-400",bgColor:"bg-purple-500/20"}:h>=40?{level:"친근",color:"text-blue-400",bgColor:"bg-blue-500/20"}:h>=20?{level:"보통",color:"text-green-400",bgColor:"bg-green-500/20"}:{level:"낯선",color:"text-gray-400",bgColor:"bg-gray-500/20"},D=h=>{x(h.id,1)},R=(h,C)=>{m(C,h.id),b(!1)},N=d.inventory.map(h=>o[h]).filter(h=>h&&h.type==="gift"),S=h=>({sakura:"from-pink-600 via-rose-500 to-pink-600",yuki:"from-blue-600 via-cyan-500 to-blue-600",luna:"from-purple-600 via-indigo-500 to-purple-600",mystery:"from-gray-600 via-slate-500 to-gray-600"})[h]||"from-purple-600 via-pink-500 to-purple-600";return l.jsxs("div",{className:"bg-black/30 backdrop-blur-md text-text-primary rounded-lg shadow-lg p-6 border border-border",children:[l.jsxs("h2",{className:"text-2xl font-bold text-pink-200 mb-6 flex items-center gap-2",children:[l.jsx("span",{children:"👥"}),"캐릭터 상호작용"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:c.map(h=>{const C=r[h];if(!C)return null;const p=d.affection[h]||0,k=y(p);return l.jsx("button",{onClick:()=>v(C),className:`p-4 rounded-lg transition-all duration-200 hover:scale-105 bg-gradient-to-br ${S(h)} hover:brightness-110`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:w(h)}),l.jsx("h3",{className:"font-bold text-lg text-white",children:C.name}),l.jsx("p",{className:"text-xs text-gray-200 mb-2",children:C.role}),l.jsxs("div",{className:`text-xs px-2 py-1 rounded-full ${k.bgColor} ${k.color} font-medium`,children:[k.level," (",p,"/100)"]}),l.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})},h)})}),g&&l.jsxs("div",{className:`bg-gradient-to-r ${S(g.id)} rounded-lg p-6 shadow-inner`,children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"text-6xl mb-3",children:w(g.id)}),l.jsx("h3",{className:"text-2xl font-bold text-white",children:g.name}),l.jsx("p",{className:"text-gray-200",children:g.role})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[l.jsx("div",{className:"text-sm text-gray-200 mb-3",children:g.baseText}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-green-300 mb-1",children:"좋아하는 것:"}),l.jsx("div",{className:"space-y-1",children:g.likes.map((h,C)=>l.jsxs("div",{className:"text-green-200",children:["• ",h]},C))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-red-300 mb-1",children:"싫어하는 것:"}),l.jsx("div",{className:"space-y-1",children:g.dislikes.map((h,C)=>l.jsxs("div",{className:"text-red-200",children:["• ",h]},C))})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[l.jsxs("button",{onClick:()=>D(g),className:"bg-blue-600/80 hover:bg-blue-500/80 px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[l.jsx("span",{children:"💬"}),"대화하기"]}),l.jsxs("button",{onClick:()=>b(!j),disabled:N.length===0,className:`px-6 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2 ${N.length>0?"bg-pink-600/80 hover:bg-pink-500/80":"bg-gray-600/50 cursor-not-allowed opacity-50"}`,children:[l.jsx("span",{children:"🎁"}),"선물하기 (",N.length,")"]})]}),j&&N.length>0&&l.jsxs("div",{className:"mt-4 bg-black/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-pink-200 mb-3",children:"선물 선택"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.map(h=>{const C=h.preferredBy?.includes(g.id);return l.jsx("button",{onClick:()=>R(g,h.id),className:`p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 ${C?"bg-yellow-600/60 hover:bg-yellow-500/60 border border-yellow-400/50":"bg-purple-800/60 hover:bg-purple-700/60"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:h.name}),l.jsx("div",{className:"text-xs text-gray-300",children:h.description}),C&&l.jsx("div",{className:"text-xs text-yellow-300 font-medium mt-1",children:"⭐ 선호 아이템!"})]}),l.jsx("div",{className:"text-lg",children:"🎁"})]})},h.id)})}),l.jsx("button",{onClick:()=>b(!1),className:"mt-3 w-full bg-gray-600/60 hover:bg-gray-500/60 px-4 py-2 rounded-lg text-sm transition-all duration-200",children:"닫기"})]})]}),!g&&l.jsxs("div",{className:"text-center text-purple-300 py-8",children:[l.jsx("div",{className:"text-4xl mb-3",children:"👆"}),l.jsx("p",{children:"상호작용할 캐릭터를 선택하세요"})]})]})},eg=({event:r,character:o,player:d,onChoice:c,onClose:m})=>{const[x,g]=E.useState(""),[v,j]=E.useState(!0),[b,w]=E.useState(!1);E.useEffect(()=>{g(""),j(!0),w(!1);let N=0;const S=r.description,h=setInterval(()=>{N<S.length?(g(S.substring(0,N+1)),N++):(j(!1),w(!0),clearInterval(h))},30);return()=>clearInterval(h)},[r]);const y=()=>{g(r.description),j(!1),w(!0)},D=N=>{const S=r.choices[N];if(S.condition){if(S.condition.minIntelligence&&d.stats.intelligence<S.condition.minIntelligence){alert("지력이 부족합니다!");return}if(S.condition.minCharm&&d.stats.charm<S.condition.minCharm){alert("매력이 부족합니다!");return}if(S.condition.minStamina&&d.stats.stamina<S.condition.minStamina){alert("체력이 부족합니다!");return}}c(r,N)},R=()=>{const N={classroom:"https://images.unsplash.com/photo-1580582932707-520aed937b7b",library:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570",garden:"https://images.unsplash.com/photo-1585320806297-9794b3e4eeae",dormitory:"https://images.unsplash.com/photo-1555854877-bab0e564b8d5",cafeteria:"https://images.unsplash.com/photo-1567521464027-f127ff144326",training_ground:"https://images.unsplash.com/photo-1569163139394-de4798aa62b6"};return N[r.trigger.location||"classroom"]||N.classroom};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50",onClick:y,children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-1000",style:{backgroundImage:`url(${R()})`,filter:"blur(8px) brightness(0.7)"}}),o&&l.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 h-full w-full flex items-end justify-center",children:l.jsx("img",{src:o.image,alt:o.name,className:"h-5/6 object-contain"})}),l.jsx("div",{className:"relative w-full max-w-4xl mx-auto mb-4 z-10",children:l.jsxs("div",{className:"bg-background/80 backdrop-blur-md rounded-xl shadow-2xl border border-border",children:[o&&l.jsx("div",{className:"px-6 py-2 bg-primary/50 rounded-t-xl",children:l.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:o.name})}),l.jsxs("div",{className:"p-6 min-h-[120px] text-xl text-text-primary leading-relaxed",children:[x,v&&l.jsx("span",{className:"animate-pulse",children:"|"})]}),b&&r.choices.length>0&&l.jsx("div",{className:"p-4 grid grid-cols-1 gap-3",children:r.choices.map((N,S)=>l.jsxs("button",{onClick:()=>D(S),disabled:!!(N.condition?.minIntelligence&&d.stats.intelligence<N.condition.minIntelligence)||!!(N.condition?.minCharm&&d.stats.charm<N.condition.minCharm)||!!(N.condition?.minStamina&&d.stats.stamina<N.condition.minStamina),className:"w-full text-left p-4 rounded-lg bg-primary/20 hover:bg-primary/40 text-text-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[N.text,N.condition&&l.jsxs("span",{className:"text-xs text-yellow-400 ml-2",children:["(필요:",N.condition.minIntelligence&&` 지력 ${N.condition.minIntelligence}`,N.condition.minCharm&&` 매력 ${N.condition.minCharm}`,N.condition.minStamina&&` 체력 ${N.condition.minStamina}`,")"]})]},S))})]})})]})},tg=JSON.parse('{"flower":{"id":"flower","name":"꽃다발","description":"라비린스 아카데미 정원에서 직접 따온 신선한 꽃다발. 장미, 백합, 벚꽃이 조화롭게 어우러져 있어 누구에게나 기쁨을 선사한다.","detailedDescription":"학원 내 플로리스트 샵에서 구매할 수 있는 기본적인 선물용 꽃다발입니다.","usage":"캐릭터와의 대화 중 선물하기 옵션에서 사용","useLocation":"모든 캐릭터와의 만남 장소","usableBy":"모든 캐릭터에게 선물 가능","lore":"학원의 마법적인 환경으로 인해 이 꽃들은 일반 꽃보다 오래 시들지 않으며, 은은한 마법의 향기를 내뿜는다.","type":"gift","rarity":"common","value":100,"effect":{"affection":10},"preferredBy":["sakura","luna"],"icon":"🌸","category":"선물"},"book":{"id":"book","name":"희귀한 책","description":"고대 마법 이론을 다룬 희귀한 서적. 학원 도서관에서도 찾기 힘든 귀중한 지식이 담겨 있어 학자들에게는 보물과 같은 존재다.","detailedDescription":"도서관의 제한 구역이나 고서점에서만 구할 수 있는 희귀 도서입니다. 특히 독서를 좋아하는 캐릭터들에게 큰 감동을 줍니다.","usage":"도서부 부장 유키에게 선물하거나, 마법학 수업에서 추가 점수 획득용으로 사용","useLocation":"도서관, 캐릭터 선물하기, 마법학부 교실","usableBy":"주로 유키, 지적인 캐릭터들에게 효과적","lore":"전설의 마법사가 쓴 이 책은 읽는 자의 지혜를 깨우치고, 숨겨진 마법의 비밀을 알려준다고 전해진다.","type":"gift","rarity":"uncommon","value":200,"effect":{"affection":15},"preferredBy":["yuki"],"icon":"📚","category":"선물"},"charm":{"id":"charm","name":"마법 부적","description":"고대 룬 문자가 새겨진 신비한 부적. 착용자를 악운으로부터 보호하고 마법력을 증진시키는 효과가 있다고 전해진다.","detailedDescription":"학원의 마법상점에서 판매하는 특별한 부적으로, 마법에 관심 있는 학생들 사이에서 인기가 높습니다.","usage":"마법학부 학생들에게 선물하거나, 던전 탐험 시 행운 증가 효과로 사용 가능","useLocation":"마법학부, 던전, 캐릭터 선물하기","usableBy":"루나, 미스터리 캐릭터 등 마법 관련 캐릭터들","lore":"학원 창립자가 직접 제작한 부적의 복제품으로, 원본의 10% 정도 효과를 지니고 있다.","type":"gift","rarity":"rare","value":300,"effect":{"affection":12},"preferredBy":["luna","mystery"],"icon":"🧿","category":"선물"},"studyGuide":{"id":"studyGuide","name":"공부 가이드","description":"라비린스 아카데미의 모든 과목을 망라한 종합 학습 가이드북. 효율적인 공부법과 핵심 요점이 정리되어 있어 단기간에 지식을 늘릴 수 있다.","detailedDescription":"학원 서점에서 판매하는 공식 교재로, 모든 학생들이 한 권씩은 가지고 있을 정도로 유용합니다.","usage":"인벤토리에서 직접 사용하여 지력 상승, 시험 기간에 사용하면 추가 보너스","useLocation":"도서관, 개인 기숙사, 교실","usableBy":"플레이어 캐릭터 전용","lore":"우수한 졸업생들이 후배들을 위해 만든 학습서로, 실제 시험에서 높은 적중률을 보인다.","type":"consumable","rarity":"common","value":150,"effect":{"intelligence":5},"icon":"📖","category":"소모품"},"energyDrink":{"id":"energyDrink","name":"에너지 드링크","description":"학원 내 카페테리아에서 판매하는 특제 에너지 음료. 마법적 성분이 첨가되어 일반 음료보다 피로 회복 효과가 뛰어나며, 체력과 정신력을 동시에 보충해준다.","detailedDescription":"시험 기간이나 던전 탐험 전후에 많이 찾는 인기 음료입니다.","usage":"피로하거나 HP가 부족할 때 즉시 사용하여 체력과 스태미나 회복","useLocation":"어디서든 사용 가능, 카페테리아에서 구매","usableBy":"모든 캐릭터","lore":"학원의 연금술사들이 개발한 특별한 배합으로, 부작용 없이 안전하게 에너지를 보충할 수 있다.","type":"consumable","rarity":"common","value":50,"effect":{"stamina":3,"hp":20},"icon":"🥤","category":"소모품"},"mirror":{"id":"mirror","name":"마법 거울","description":"사용자의 외모를 일시적으로 보정해주는 마법이 걸린 소형 거울. 자신감을 높이고 타인에게 더 매력적으로 보이게 해주는 효과가 있다.","detailedDescription":"마법상점에서 판매하는 뷰티 아이템으로, 특히 데이트나 중요한 만남 전에 사용하면 효과적입니다.","usage":"중요한 대화나 이벤트 전에 사용하여 매력도 일시 증가","useLocation":"기숙사, 화장실, 데이트 장소","usableBy":"플레이어 캐릭터","lore":"옛날 왕실에서 사용하던 마법 거울의 소형 버전으로, 진실한 아름다움을 비춰준다고 한다.","type":"consumable","rarity":"uncommon","value":120,"effect":{"charm":3},"icon":"🪞","category":"소모품"},"lunchbox":{"id":"lunchbox","name":"도시락","description":"직접 만든 정성 가득한 도시락. 영양 균형을 고려한 메뉴 구성과 예쁜 플레이팅으로 받는 이의 마음까지 따뜻하게 만들어주는 특별한 선물이다.","detailedDescription":"요리 수업에서 배운 기술로 직접 만들거나 카페테리아에서 주문 제작할 수 있습니다.","usage":"캐릭터에게 선물하여 호감도 상승, 함께 먹으면서 친밀도 증진","useLocation":"학원 곳곳, 피크닉 장소, 데이트 스팟","usableBy":"모든 캐릭터가 좋아함","lore":"수제 음식에는 만든 이의 마음이 담겨있어, 먹는 이에게 특별한 힘을 준다는 믿음이 있다.","type":"gift","rarity":"common","value":80,"effect":{"affection":8,"stamina":2},"preferredBy":["sakura","yuki","luna"],"icon":"🍱","category":"선물"},"trainingGear":{"id":"trainingGear","name":"훈련 장비","description":"최고급 강철로 제작된 검술 훈련용 장비 세트. 검, 갑옷, 보호구가 모두 포함되어 있으며, 실제 검술부에서 사용하는 전문가급 장비다.","detailedDescription":"무기상점에서 특별 주문으로만 구할 수 있는 고급 훈련 장비입니다.","usage":"검술부 에이스 사쿠라에게 선물하면 큰 감동, 훈련 효율 증가 효과","useLocation":"검술부 도장, 훈련장","usableBy":"주로 사쿠라, 전투 관련 캐릭터들","lore":"전설의 검사가 사용했다는 장비를 모델로 제작되었으며, 사용자의 잠재력을 끌어낸다.","type":"gift","rarity":"rare","value":500,"effect":{"affection":20},"preferredBy":["sakura"],"icon":"⚔️","category":"선물"},"mysteryKey":{"id":"mysteryKey","name":"수수께끼의 열쇠","description":"고대 룬 문자가 새겨진 신비로운 황금 열쇠. 학원 어딘가에 숨겨진 비밀의 방이나 보물고를 열 수 있는 것으로 추정되며, 특별한 이벤트를 해금할 수 있다.","detailedDescription":"전설적인 희귀 아이템으로, 특정 조건을 만족해야만 획득할 수 있습니다.","usage":"학원의 숨겨진 구역 해금, 미스터리 캐릭터 만남, 특별 엔딩 루트 개방","useLocation":"학원 지하, 금지된 탑, 비밀 통로","usableBy":"플레이어 캐릭터, 특정 조건 충족 시","lore":"학원 창립자가 남긴 마지막 비밀을 담고 있다고 전해지며, 진정한 졸업의 열쇠라고 불린다.","type":"special","rarity":"legendary","value":1000,"effect":{"unlockSecret":true},"icon":"🗝️","category":"특별"},"basicSword":{"id":"basicSword","name":"연습용 검","description":"검술부 신입생들이 첫 수업에서 사용하는 나무 연습검. 가벼워서 다루기 쉬우며, 기본적인 검술 동작을 익히는 데 적합하다. 안전을 위해 끝이 둥글게 처리되어 있다.","detailedDescription":"모든 신입생에게 지급되는 기본 장비로, 무기상점에서도 저렴하게 구매할 수 있습니다.","usage":"검술 훈련, 기본 전투, 던전 초급 층 탐험","useLocation":"검술부 도장, 훈련장, 던전","usableBy":"레벨 1 이상 모든 캐릭터","lore":"전설의 검사들도 이 같은 나무검으로 수련을 시작했다고 한다. 모든 위대한 여정의 첫 걸음이다.","type":"weapon","rarity":"common","value":200,"effect":{"strength":5,"agility":2},"requirements":{"level":1},"icon":"🗡️","category":"무기"},"steelSword":{"id":"steelSword","name":"강철 검","description":"전문 대장장이가 제작한 고품질 강철 검. 정교한 단조 과정을 거쳐 만들어졌으며, 날카로움과 내구성을 모두 지니고 있다. 중급자용 무기로 인기가 높다.","detailedDescription":"어느 정도 실력을 쌓은 학생들이 사용하는 중급자용 무기입니다.","usage":"중급 수준의 검술 훈련, 던전 중급 층 탐험, 실전 전투","useLocation":"검술부 고급 도장, 던전, 전투 관련 이벤트","usableBy":"레벨 5 이상, 힘 15 이상의 캐릭터","lore":"학원의 대장장이가 직접 단조한 작품으로, 착용자의 의지에 따라 그 위력이 달라진다고 한다.","type":"weapon","rarity":"uncommon","value":800,"effect":{"strength":12,"agility":5},"requirements":{"level":5,"stats":{"strength":15}},"icon":"⚔️","category":"무기"},"mysticStaff":{"id":"mysticStaff","name":"신비한 지팡이","description":"고대 마법사의 지팡이를 모델로 제작된 신비로운 무기. 각종 마법 보석이 박혀있으며, 마법력 증폭과 주문 성공률 상승 효과가 있다. 우아한 디자인으로 인해 매력도 날씬하게 해준다.","detailedDescription":"마법학부 고급생들에게 인기가 높은 고급 마법 무기입니다.","usage":"고급 마법 주문 시전, 마법학 연구, 던전 고급 층 탐험","useLocation":"마법학부, 마법 연구실, 던전","usableBy":"레벨 8 이상, 지력 20 이상의 마법사 타입 캐릭터","lore":"전설의 대마법사가 사용했다는 지팡이의 복제품으로, 사용자의 지혜와 마음에 반응한다.","type":"weapon","rarity":"rare","value":1200,"effect":{"intelligence":15,"mp":30,"charm":8},"requirements":{"level":8,"stats":{"intelligence":20}},"icon":"🪄","category":"무기"},"leatherArmor":{"id":"leatherArmor","name":"가죽 갑옷","description":"마수 거시에서 얻은 고급 가죽으로 제작한 경량 방어구. 유연성과 내구성을 모두 갖춘 실용적인 갑옷으로, 민첩성을 해치지 않으면서도 효과적인 방어를 제공한다.","detailedDescription":"초보자들이 가장 먼저 구입하는 기본적인 방어구입니다.","usage":"일반적인 던전 탐험, 기본 방어력 확보, 전투 훈련","useLocation":"던전, 훈련장, 일상 활동","usableBy":"레벨 2 이상 모든 캐릭터","lore":"모험가들의 기본 장비로 여겨지는 가죽 갑옷은 수많은 영웅들이 첫 모험에서 착용했던 동료이다.","type":"armor","rarity":"common","value":300,"effect":{"hp":20,"agility":3},"requirements":{"level":2},"icon":"🛡️","category":"방어구"},"plateArmor":{"id":"plateArmor","name":"판갑옷","description":"최고급 강철로 제작된 중장 방어구. 각 부분이 정밀하게 설계되어 최대한의 방어력을 제공하며, 무게감으로 인해 착용자의 힘도 증가시킨다. 기사들의 상징이다.","detailedDescription":"고급 전사들이 선호하는 중무장 방어구로, 높은 체력이 필요합니다.","usage":"고난이도 전투, 던전 보스전, 중요한 미션","useLocation":"던전 심층, 고난이도 전투 지역","usableBy":"레벨 6 이상, 힘 18 이상의 전사 타입 캐릭터","lore":"기사단의 정예 멤버들이 착용하는 갑옷으로, 착용자에게 불굴의 의지를 부여한다고 전해진다.","type":"armor","rarity":"uncommon","value":1000,"effect":{"hp":50,"strength":8},"requirements":{"level":6,"stats":{"strength":18}},"icon":"🛡️","category":"방어구"},"mageRobe":{"id":"mageRobe","name":"마법사 로브","description":"고대 마법사들이 착용했던 신비한 로브를 복원한 고급 마법 방어구. 마법 증폭 효과와 마나 회복 속도 향상 효과가 있으며, 우아한 디자인으로 인해 매력도 높여준다.","detailedDescription":"마법학부 고급생들의 선망의 대상이 되는 최고급 마법 장비입니다.","usage":"고등 마법 사용, 마법 연구, 중요한 마법 시연","useLocation":"마법학부, 마법 연구실, 개인 실험실","usableBy":"레벨 7 이상, 지력 22 이상의 마법사 타입 캐릭터","lore":"마법학부의 창립자가 직접 디자인한 로브으로, 착용자의 마법적 잠재력을 극대한 끌어낸다.","type":"armor","rarity":"rare","value":1500,"effect":{"mp":40,"intelligence":12,"charm":10},"requirements":{"level":7,"stats":{"intelligence":22}},"icon":"👘","category":"방어구"},"luckRing":{"id":"luckRing","name":"행운의 반지","description":"고대 점술사가 제작한 특별한 반지. 착용자에게 마법적인 행운을 선사하며, 예상치 못한 기회를 가져다준다. 매력적인 디자인으로 인해 평소에도 착용하기 좋다.","detailedDescription":"장신구 상점에서 인기가 높은 액세서리로, 학생들 사이에서 행운의 상징이다.","usage":"던전 탐험 시 드롭률 증가, 도박이나 게임에서 유리, 우연한 좋은 사건 발생 빈도 증가","useLocation":"던전, 카지노, 중요한 이벤트 지역","usableBy":"레벨 3 이상 모든 캐릭터","lore":"저주를 받은 가문의 상속녀가 운명을 바꿨다는 전설의 반지를 모델로 제작되었다.","type":"accessory","rarity":"uncommon","value":600,"effect":{"luck":10,"charm":5},"requirements":{"level":3},"icon":"💍","category":"장신구"},"strengthAmulet":{"id":"strengthAmulet","name":"힘의 부적","description":"고대 전사들이 사용했다는 신비로운 부적. 착용자의 부력에 까지 이어지는 빨간 힘줄이 보이며, 유사시 어디서나 힘이 손솔해 나온다. 체력과 지구력도 함께 증가시키는 전사들의 필수품이다.","detailedDescription":"전사들에게 매우 인기가 높은 액세서리로, 늨성 학생들 사이에서 특히 인기가 높다.","usage":"고난이도 전투, 무거운 물건 운반, 체력이 요구되는 활동","useLocation":"던전, 훈련장, 노동 현장","usableBy":"레벨 5 이상, 힘 중심 캐릭터","lore":"전설의 용사가 마왕을 쓰러뜨릴 때 착용했다는 부적의 복제품으로, 정의로운 마음을 지닌 자에게만 그 힘을 드러낸다.","type":"accessory","rarity":"rare","value":900,"effect":{"strength":8,"stamina":6,"hp":25},"requirements":{"level":5},"icon":"🧿","category":"장신구"},"wisdomPendant":{"id":"wisdomPendant","name":"지혜의 펜던트","description":"학원 역사상 가장 위대한 학자가 사용했다는 전설의 펜던트. 착용자의 지적 능력을 극대한 끌어올리며, 마법력과 학습 능력도 큕길하게 증진시킨다. 모든 마법사의 꿈이다.","detailedDescription":"가장 뛰어난 학생들만이 착용할 수 있는 전설적인 아이템입니다.","usage":"최고 수준의 마법 연구, 대학원 진학, 특별한 마법 시연","useLocation":"대학원 연구실, 특별 마법 실험실, 마법학 연구소","usableBy":"레벨 10 이상, 지력 25 이상의 최고 수준 학생","lore":"차원의 비밀을 해명한 대마법사의 유물로, 착용자에게 무한한 지식에 대한 갈망과 능력을 선사한다.","type":"accessory","rarity":"epic","value":1800,"effect":{"intelligence":15,"mp":35,"experience":50},"requirements":{"level":10,"stats":{"intelligence":25}},"icon":"📿","category":"장신구"},"healingPotion":{"id":"healingPotion","name":"치유 물약","description":"학원의 연금술사들이 제조한 효과적인 치유 물약. 대다수의 상처와 피로를 즉시 회복시켜주며, 달콤한 딥기 맛이 나서 아이들도 부담 없이 마실 수 있다.","detailedDescription":"던전 탐험이나 전투 후 필수품으로, 모든 모험가들이 항상 지니고 다니는 기본 아이템입니다.","usage":"체력이 낮을 때 즉시 사용하여 생명력 회복, 전투 중 응급 치료","useLocation":"던전, 전투 지역, 응급 상황","usableBy":"모든 캐릭터","lore":"연금술의 기본 쓰임으로 여겨지는 치유 물약은 수많은 생명을 구해온 경이로운 발명품이다.","type":"consumable","rarity":"common","value":100,"effect":{"hp":50},"icon":"🧪","category":"소모품"},"manaPotion":{"id":"manaPotion","name":"마나 물약","description":"마법의 힐을 담은 신비한 파란색 물약. 마법사들이 소진한 마나를 즉시 회복시켜주며, 마법 사용으로 인한 정신적 피로도 완화시켜준다. 연금술의 공정에서 원생 마나를 낙륙시켜 만든다.","detailedDescription":"마법사들에게는 마치 생명선과 같은 존재로, 마법을 많이 사용하는 학생들에게 필수품입니다.","usage":"마나가 부족할 때 사용하여 마법력 회복, 연속적인 마법 사용 전","useLocation":"마법 수업 중, 마법 실험, 던전 탐험","usableBy":"마법을 사용하는 모든 캐릭터","lore":"고대부터 마법사들의 동반자가 되어온 물약으로, 마법의 발전과 함께 함께 진보해왔다.","type":"consumable","rarity":"common","value":120,"effect":{"mp":40},"icon":"🧪","category":"소모품"},"experienceScroll":{"id":"experienceScroll","name":"경험치 두루마리","description":"전인들의 지식과 경험이 압축되어 담겨진 신비로운 두루마리. 사용하면 마치 오랜 수련을 한 것처럼 경험치를 얻을 수 있으며, 새로운 통찰력과 이해력이 얻어진다.","detailedDescription":"특별한 이벤트나 보상으로만 얻을 수 있는 귀중한 아이템입니다.","usage":"빠른 레벨 업을 위해 사용, 시험 기간 전 집중 학습","useLocation":"도서관, 개인 스터디룸, 명상 공간","usableBy":"모든 캐릭터","lore":"학원의 대선배들이 후배들의 성장을 위해 자신들의 경험을 흑어넣은 소중한 선물이다.","type":"consumable","rarity":"uncommon","value":250,"effect":{"experience":100},"icon":"📜","category":"소모품"},"statBooster":{"id":"statBooster","name":"능력치 강화제","description":"전설의 연금술사가 개발한 최고급 강화 물약. 모든 능력치를 동시에 강화시켜주는 기적의 약물로, 마시는 순간 전신에 활력이 넘친다. 하지만 강력한 효과로 인해 자주 사용할 수는 없다.","detailedDescription":"극히 희귀한 고급 소모품으로, 신중하게 사용해야 합니다.","usage":"중요한 시험이나 대회 전, 위기 상황에서 비상 용도로 사용","useLocation":"중요한 이벤트 전, 보스 전투 전, 합격 선언 직전","usableBy":"모든 캐릭터 (단, 과도한 사용 금지)","lore":"오직 단 한 번의 시험만을 위해 일년을 공들인 연금술사의 작품으로, 모든 능력의 조화를 이룬다.","type":"consumable","rarity":"rare","value":500,"effect":{"intelligence":3,"charm":3,"stamina":3,"strength":3,"agility":3,"luck":3},"icon":"⚗️","category":"소모품"},"chocolateBox":{"id":"chocolateBox","name":"고급 초콜릿 세트","description":"유명 파티시에가 만든 프리미엄 초콜릿 세트. 각기 다른 맛과 모양의 초콜릿 12개가 아름다운 상자에 정성스럽게 포장되어 있어, 받는 이의 마음을 설레게 한다.","detailedDescription":"발렌타인 데이나 특별한 기념일에 인기가 높은 선물입니다.","usage":"로맨틱한 이벤트나 고백 시 사용, 달콤함을 좋아하는 캐릭터들에게 효과적","useLocation":"카페, 데이트 장소, 기념일 이벤트","usableBy":"유키, 루나 등 단것을 좋아하는 캐릭터들","lore":"사랑의 감정을 달콤함으로 표현한다는 초콜릿의 전통을 이어받은 특별한 선물이다.","type":"gift","rarity":"uncommon","value":350,"effect":{"affection":18},"preferredBy":["yuki","luna"],"icon":"🍫","category":"선물"},"jewelryBox":{"id":"jewelryBox","name":"보석함","description":"희귀한 마법 보석들이 들어있는 최고급 장신구 상자. 루비, 사파이어, 에메랄드 등 각각 다른 마법적 속성을 지닌 보석들이 벨벳 안감의 상자에 정교하게 배치되어 있다.","detailedDescription":"왕실 보석상에서만 구할 수 있는 초고급 선물로, 진정한 사랑의 증표로 여겨집니다.","usage":"최고 수준의 호감도가 필요한 고백이나 프로포즈 시 사용","useLocation":"로맨틱한 장소, 특별한 이벤트","usableBy":"루나, 미스터리 등 고급스러운 것을 좋아하는 캐릭터들","lore":"각 보석에는 영원한 사랑을 기원하는 고대 마법이 깃들어 있어, 진실한 마음으로 선물할 때만 그 진가를 발휘한다.","type":"gift","rarity":"epic","value":1200,"effect":{"affection":35},"preferredBy":["luna","mystery"],"icon":"💎","category":"선물"}}'),Cf={items:tg},Mf=({onClose:r})=>{const{player:o,unlockedCharacters:d}=he(),c=he(z=>z.actions.useItem),m=Cf.items,x=Qn,[g,v]=E.useState(null),[j,b]=E.useState(null),[w,y]=E.useState(!1),[D,R]=E.useState("all"),N=z=>{const V={common:{color:"border-gray-400 bg-gray-500/10",text:"text-gray-400",name:"일반"},uncommon:{color:"border-green-400 bg-green-500/10",text:"text-green-400",name:"고급"},rare:{color:"border-blue-400 bg-blue-500/10",text:"text-blue-400",name:"희귀"},epic:{color:"border-purple-400 bg-purple-500/10",text:"text-purple-400",name:"영웅"},legendary:{color:"border-yellow-400 bg-yellow-500/10",text:"text-yellow-400",name:"전설"}};return z.rarity?V[z.rarity]:V.common},S=o.inventory.reduce((z,V)=>(m[V]&&(z[V]?z[V].count++:z[V]={item:m[V],count:1}),z),{}),h=Object.values(S).filter(({item:z})=>D==="all"?!0:z.type===D),C=z=>{z.type==="gift"?(v(z),y(!0)):["weapon","armor","accessory"].includes(z.type)?p(z)?(c(z.id),v(null)):alert("장비 요구 조건을 만족하지 않습니다."):(c(z.id),v(null))},p=z=>{if(!z.requirements)return!0;if(z.requirements.level&&o.level<z.requirements.level)return!1;if(z.requirements.stats){for(const[V,W]of Object.entries(z.requirements.stats))if(o.stats[V]<W)return!1}return!0},k=z=>{g&&(c(g.id,z),v(null),y(!1))},B=z=>({intelligence:"지력",charm:"매력",stamina:"체력",strength:"힘",agility:"민첩",luck:"행운"})[z]||z,A=z=>({sakura:"🌸",yuki:"❄️",luna:"🌙",mystery:"❓"})[z]||"👤";return l.jsxs("div",{className:"bg-background text-text-primary rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-secondary flex items-center gap-2",children:[l.jsx("span",{children:"🎒"}),"인벤토리"]}),l.jsxs("div",{className:"text-sm text-text-secondary",children:["총 ",Object.values(S).reduce((z,{count:V})=>z+V,0),"개 아이템"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:[{key:"all",label:"전체",icon:"📦"},{key:"gift",label:"선물",icon:"🎁"},{key:"consumable",label:"소모품",icon:"💊"},{key:"weapon",label:"무기",icon:"⚔️"},{key:"armor",label:"방어구",icon:"🛡️"},{key:"accessory",label:"장신구",icon:"💍"},{key:"special",label:"특별",icon:"⭐"}].map(({key:z,label:V,icon:W})=>l.jsxs("button",{onClick:()=>R(z),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${D===z?"bg-primary text-white shadow-lg":"bg-black/30 text-text-secondary hover:bg-primary/50"}`,children:[l.jsx("span",{children:W}),V]},z))}),Object.keys(S).length===0?l.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[l.jsx("div",{className:"text-4xl mb-3",children:"📦"}),l.jsx("p",{children:"인벤토리가 비어있습니다"})]}):h.length===0?l.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[l.jsx("div",{className:"text-4xl mb-3",children:"🔍"}),l.jsx("p",{children:"해당 종류의 아이템이 없습니다"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(({item:z,count:V})=>{const W=N(z);return l.jsxs("div",{onClick:()=>b(z),className:`bg-black/30 rounded-lg p-4 border transition-all duration-200 hover:scale-105 cursor-pointer ${W.color}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:z.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-text-primary",children:z.name}),l.jsx("p",{className:`text-xs ${W.text} capitalize`,children:z.type})]})]}),V>1&&l.jsxs("div",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:["×",V]})]}),l.jsx("p",{className:"text-sm text-text-secondary mb-4",children:z.description}),l.jsxs("div",{className:"space-y-1 mb-4",children:[z.effect.affection&&l.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:["💕 ",l.jsxs("span",{children:["호감도 +",z.effect.affection]})]}),z.effect.hp&&l.jsxs("div",{className:"text-xs text-red-300 flex items-center gap-1",children:["❤️ ",l.jsxs("span",{children:["체력 +",z.effect.hp]})]}),z.effect.mp&&l.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:["💙 ",l.jsxs("span",{children:["마나 +",z.effect.mp]})]}),z.effect.intelligence&&l.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1",children:["🧠 ",l.jsxs("span",{children:["지력 +",z.effect.intelligence]})]}),z.effect.charm&&l.jsxs("div",{className:"text-xs text-pink-300 flex items-center gap-1",children:["✨ ",l.jsxs("span",{children:["매력 +",z.effect.charm]})]}),z.effect.stamina&&l.jsxs("div",{className:"text-xs text-green-300 flex items-center gap-1",children:["💪 ",l.jsxs("span",{children:["체력 +",z.effect.stamina]})]}),z.effect.strength&&l.jsxs("div",{className:"text-xs text-orange-300 flex items-center gap-1",children:["💪 ",l.jsxs("span",{children:["힘 +",z.effect.strength]})]}),z.effect.agility&&l.jsxs("div",{className:"text-xs text-cyan-300 flex items-center gap-1",children:["🏃 ",l.jsxs("span",{children:["민첩 +",z.effect.agility]})]}),z.effect.luck&&l.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:["🍀 ",l.jsxs("span",{children:["행운 +",z.effect.luck]})]}),z.effect.experience&&l.jsxs("div",{className:"text-xs text-purple-300 flex items-center gap-1",children:["⭐ ",l.jsxs("span",{children:["경험치 +",z.effect.experience]})]}),z.effect.unlockSecret&&l.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:["🔓 ",l.jsx("span",{children:"비밀 해제"})]})]}),z.requirements&&l.jsxs("div",{className:"mb-4 p-2 bg-red-900/20 rounded border border-red-500/30",children:[l.jsx("div",{className:"text-xs text-red-300 font-medium mb-1",children:"필요 조건:"}),l.jsxs("div",{className:"space-y-1",children:[z.requirements.level&&l.jsxs("div",{className:"text-xs text-red-400",children:["레벨 ",z.requirements.level," 이상"]}),z.requirements.stats&&Object.entries(z.requirements.stats).map(([ee,xe])=>l.jsxs("div",{className:"text-xs text-red-400",children:[B(ee)," ",xe," 이상"]},ee))]})]}),z.value&&l.jsx("div",{className:"mb-3",children:l.jsxs("div",{className:"text-xs text-yellow-300 flex items-center gap-1",children:["💰 ",l.jsxs("span",{children:["가치: ",z.value," 골드"]})]})}),l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:`text-xs font-medium ${W.text}`,children:["등급: ",W.name]})}),z.preferredBy&&z.preferredBy.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-yellow-300 mb-1",children:"⭐ 선호 캐릭터:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:z.preferredBy.map(ee=>l.jsx("span",{className:"text-xs bg-yellow-600/20 text-yellow-200 px-2 py-1 rounded-full",children:x[ee]?.name||ee},ee))})]}),l.jsx("button",{onClick:()=>C(z),disabled:!p(z),className:`w-full py-2 rounded-lg text-sm font-medium transition-all duration-200 ${p(z)?z.type==="gift"?"bg-secondary hover:bg-secondary/80 text-white":z.type==="consumable"?"bg-green-600/80 hover:bg-green-500/80 text-white":["weapon","armor","accessory"].includes(z.type)?"bg-blue-600/80 hover:bg-blue-500/80 text-white":"bg-yellow-600/80 hover:bg-yellow-500/80 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:z.type==="gift"?"선물하기":z.type==="consumable"?"사용하기":["weapon","armor","accessory"].includes(z.type)?"장착하기":"확인하기"})]},z.id)})}),j&&l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>b(null),children:l.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",onClick:z=>z.stopPropagation(),children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-secondary",children:"아이템 정보"}),l.jsx("button",{onClick:()=>b(null),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:"×"})]}),l.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:j.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-text-primary",children:j.name}),l.jsx("div",{className:"text-sm text-text-secondary",children:j.description})]})]})})]})})}),w&&g&&l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-background rounded-lg shadow-2xl max-w-md w-full border border-border",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-secondary",children:"선물할 대상 선택"}),l.jsx("button",{onClick:()=>y(!1),className:"text-text-secondary hover:text-text-primary text-2xl transition-colors duration-200",children:"×"})]}),l.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:g.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-text-primary",children:g.name}),l.jsx("div",{className:"text-sm text-text-secondary",children:g.description})]})]})}),l.jsx("div",{className:"space-y-3",children:d.map(z=>{const V=x[z];if(!V)return null;const W=g.preferredBy?.includes(z);return l.jsxs("button",{onClick:()=>k(z),className:`w-full p-3 rounded-lg text-left transition-all duration-200 hover:scale-105 flex items-center gap-3 ${W?"bg-accent/60 hover:bg-accent/50 border border-accent/50":"bg-primary/60 hover:bg-primary/50"}`,children:[l.jsx("span",{className:"text-2xl",children:A(z)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-text-primary",children:V.name}),l.jsx("div",{className:"text-xs text-text-secondary",children:V.role}),W&&l.jsx("div",{className:"text-xs text-accent font-medium",children:"⭐ 선호 아이템!"})]})]},z)})})]})})})]})},lg=({character:r,player:o,onEventComplete:d,onClose:c})=>{const[m,x]=E.useState(null),[g,v]=E.useState(""),[j,b]=E.useState(!1),w=o.affection[r.id]||r.affectionStart,y=()=>[{id:"library_encounter",title:"도서관에서의 우연한 만남",description:`도서관에서 ${r.name}을(를) 우연히 마주쳤습니다. 그녀는 책을 읽고 있는 중입니다.`,type:"random",minAffection:0,choices:[{text:"조용히 옆에 앉아서 함께 읽기",condition:{minIntelligence:15},effects:{affection:8,stats:{intelligence:2},text:`${r.name}이(가) 미소를 지으며 당신을 환영합니다. 함께 조용한 시간을 보냈습니다.`}},{text:"말을 걸어 대화하기",condition:{minCharm:12},effects:{affection:5,stats:{charm:1},text:`즐거운 대화를 나누었습니다. ${r.name}이(가) 당신의 이야기에 관심을 보입니다.`}},{text:"그냥 지나가기",effects:{affection:-2,text:`${r.name}이(가) 당신을 봤지만, 인사하지 않고 지나갔습니다.`}}]},{id:"gift_giving",title:"선물하기",description:`${r.name}에게 특별한 선물을 주고 싶습니다. 어떤 선물을 할까요?`,type:"gift",minAffection:10,choices:[{text:"꽃다발 선물하기",condition:{hasItem:"flower"},effects:{affection:r.likes.includes("꽃")?15:10,text:r.likes.includes("꽃")?`${r.name}이(가) 꽃다발을 보고 매우 기뻐합니다!`:`${r.name}이(가) 선물에 감사해합니다.`}},{text:"초콜릿 선물하기",condition:{hasItem:"chocolateBox"},effects:{affection:12,text:`${r.name}이(가) 달콤한 초콜릿을 받고 행복해합니다.`}},{text:"직접 만든 도시락 주기",condition:{hasItem:"lunchbox"},effects:{affection:18,stats:{charm:2},text:`${r.name}이(가) 정성스러운 도시락에 감동받았습니다!`}},{text:"돈으로 비싼 선물 사주기",condition:{minMoney:1e3},effects:{affection:8,money:-1e3,text:`비싼 선물이지만 ${r.name}은(는) 진심이 더 중요하다고 말합니다.`}}]},{id:"study_together",title:"함께 공부하기",description:`${r.name}과(와) 함께 공부할 기회가 생겼습니다. 어떻게 하시겠습니까?`,type:"study",minAffection:20,choices:[{text:"열심히 공부에 집중하기",condition:{minIntelligence:20},effects:{affection:10,stats:{intelligence:3},text:`${r.name}이(가) 당신의 열정에 감명받았습니다. 함께 많은 것을 배웠습니다.`}},{text:"그녀를 도와주기",condition:{minIntelligence:15},effects:{affection:15,stats:{intelligence:1,charm:2},text:`${r.name}이(가) 당신의 도움에 고마워합니다. 더 가까워진 느낌입니다.`}},{text:"장난치며 분위기 띄우기",condition:{minCharm:18},effects:{affection:8,stats:{charm:2},text:"즐거운 시간을 보냈지만 공부는 별로 하지 못했습니다."}}]},{id:"cafe_date",title:"카페 데이트",description:`${r.name}과(와) 학교 근처 카페에서 만났습니다. 로맨틱한 분위기입니다.`,type:"date",minAffection:40,choices:[{text:"그녀가 좋아하는 음료 주문해주기",condition:{minMoney:200,minCharm:15},effects:{affection:12,money:-200,stats:{charm:1},text:`${r.name}이(가) 당신의 배려에 감동받았습니다.`}},{text:"깊은 대화 나누기",condition:{minIntelligence:25},effects:{affection:15,stats:{intelligence:1,charm:2},text:"의미 있는 대화를 나누며 서로를 더 깊이 알게 되었습니다."}},{text:"재미있는 농담하기",condition:{minCharm:20},effects:{affection:10,stats:{charm:2},text:`${r.name}이(가) 당신의 유머에 웃음을 터뜨립니다.`}},{text:"조용히 함께 시간 보내기",effects:{affection:8,text:"편안하고 평화로운 시간을 함께 보냈습니다."}}]},{id:"valentine_event",title:"발렌타인 데이",description:`발렌타인 데이입니다. ${r.name}이(가) 당신에게 뭔가 전하고 싶어하는 것 같습니다.`,type:"holiday",minAffection:50,choices:[{text:"먼저 초콜릿 선물하기",condition:{hasItem:"chocolateBox"},effects:{affection:20,text:`${r.name}이(가) 깜짝 놀라며 기뻐합니다. 그녀도 당신을 위해 준비한 것이 있다고 합니다.`}},{text:"그녀의 선물을 기다리기",effects:{affection:15,item:"chocolateBox",text:`${r.name}이(가) 수줍게 수제 초콜릿을 건네줍니다.`}},{text:"특별한 데이트 제안하기",condition:{minCharm:25,minMoney:500},effects:{affection:25,money:-500,stats:{charm:3},text:`로맨틱한 데이트 제안에 ${r.name}이(가) 감동받았습니다.`}}]},{id:"confession_event",title:"고백의 순간",description:`${r.name}과(와) 둘만의 시간을 보내고 있습니다. 마음을 전할 절호의 기회인 것 같습니다.`,type:"confession",minAffection:70,choices:[{text:"진심으로 고백하기",condition:{minCharm:30},effects:{affection:w>=80?30:15,text:w>=80?`${r.name}이(가) 눈물을 글썽이며 당신의 마음을 받아줍니다.`:`${r.name}이(가) 당신의 진심을 느끼지만 아직 시간이 필요하다고 합니다.`}},{text:"로맨틱하게 고백하기",condition:{minCharm:35,hasItem:"flower"},effects:{affection:w>=75?35:20,text:w>=75?`완벽한 고백에 ${r.name}이(가) "네"라고 대답합니다!`:`${r.name}이(가) 감동받았지만 아직 조금 더 시간이 필요하다고 합니다.`}},{text:"마음을 더 키운 후에 하기",effects:{affection:5,text:"아직 때가 아닌 것 같습니다. 더 가까워진 후에 마음을 전하기로 했습니다."}}]}].filter(S=>w>=S.minAffection),D=()=>{const N=y();return N[Math.floor(Math.random()*N.length)]},R=N=>{if(N.condition){const{minIntelligence:h,minCharm:C,minStamina:p,hasItem:k,minMoney:B}=N.condition;if(h&&o.stats.intelligence<h){v(`지력이 부족합니다. (필요: ${h}, 현재: ${o.stats.intelligence})`),b(!0);return}if(C&&o.stats.charm<C){v(`매력이 부족합니다. (필요: ${C}, 현재: ${o.stats.charm})`),b(!0);return}if(p&&o.stats.stamina<p){v(`체력이 부족합니다. (필요: ${p}, 현재: ${o.stats.stamina})`),b(!0);return}if(k&&!o.inventory.includes(k)){v(`필요한 아이템이 없습니다: ${k}`),b(!0);return}if(B&&o.money<B){v(`돈이 부족합니다. (필요: ${B}원, 현재: ${o.money}원)`),b(!0);return}}const S={affection:N.effects.affection?{[r.id]:N.effects.affection}:{},stats:N.effects.stats||{},money:N.effects.money||0,item:N.effects.item};v(N.effects.text),b(!0),setTimeout(()=>{d(S)},3e3)};return E.useEffect(()=>{m||x(D())},[]),m?j?l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-800 rounded-2xl p-8 max-w-lg w-full text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:r.sprite}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"결과"}),l.jsx("p",{className:"text-purple-200 text-lg leading-relaxed mb-6",children:g}),l.jsx("div",{className:"w-full bg-purple-500/20 rounded-full h-2 mb-4",children:l.jsx("div",{className:"bg-purple-400 h-2 rounded-full w-0 animate-pulse"})}),l.jsx("p",{className:"text-sm text-purple-300",children:"잠시 후 계속됩니다..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-purple-500/30",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-4xl",children:r.sprite}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:m.title}),l.jsxs("p",{className:"text-purple-300",children:["와(과) 함께하는 ",r.name]})]})]}),l.jsx("button",{onClick:c,className:"text-purple-300 hover:text-white transition-colors text-2xl",children:"✕"})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:l.jsx("p",{className:"text-white leading-relaxed",children:m.description})}),l.jsx("div",{className:"space-y-3",children:m.choices.map((N,S)=>{const h=!N.condition||(!N.condition.minIntelligence||o.stats.intelligence>=N.condition.minIntelligence)&&(!N.condition.minCharm||o.stats.charm>=N.condition.minCharm)&&(!N.condition.minStamina||o.stats.stamina>=N.condition.minStamina)&&(!N.condition.hasItem||o.inventory.includes(N.condition.hasItem))&&(!N.condition.minMoney||o.money>=N.condition.minMoney);return l.jsx("button",{onClick:()=>R(N),disabled:!h,className:`w-full p-4 rounded-lg text-left transition-all duration-300 ${h?"bg-purple-700/30 hover:bg-purple-600/40 text-white border border-purple-500/30 hover:border-purple-400/50":"bg-gray-700/30 text-gray-400 border border-gray-600/30 cursor-not-allowed"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"flex-1",children:N.text}),N.condition&&l.jsxs("div",{className:"text-xs ml-4 opacity-70",children:[N.condition.minIntelligence&&`지력 ${N.condition.minIntelligence}+`,N.condition.minCharm&&`매력 ${N.condition.minCharm}+`,N.condition.minStamina&&`체력 ${N.condition.minStamina}+`,N.condition.hasItem&&`${N.condition.hasItem} 필요`,N.condition.minMoney&&`${N.condition.minMoney}원 필요`]})]})},S)})}),l.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm text-purple-300",children:[l.jsxs("span",{children:["이벤트 타입: ",m.type]}),l.jsxs("span",{children:["필요 호감도: ",m.minAffection]})]})]})]})}):null},ag={conversations:[{id:"sakura_first_meeting",requiredAffection:0,dialogue:["아침 햇살이 비치는 훈련장. 한 소녀가 나무 인형을 상대로 검술 연습을 하고 있다.","정확하고 날카로운 검격이 공기를 가른다. 그녀의 이마에는 땀방울이 맺혀있다.","당신의 발소리를 듣고 그녀가 돌아본다. 날카로운 눈빛이 순간 부드러워진다.","「아... 누군가 있었군요. 실례했습니다.」","그녀가 검을 내리고 숨을 고른다.","「저는 키리시마 사쿠라. 2학년이고 검술부 부장을 맡고 있어요.」","「새벽부터 연습하는 게 습관이 되어서... 시끄러웠다면 죄송해요.」","사쿠라가 수건으로 땀을 닦으며 당신을 관찰한다.","「당신은... 최근에 전학 온 학생이시죠? 소문을 들었어요.」","「이 학교는 겉보기와는 달리 꽤 특별한 곳이에요. 조심하셔야 할 거예요.」","그녀의 표정이 진지해진다.","「특히 밤에는... 아니, 이건 너무 이른 이야기네요.」","「혹시 검술에 관심이 있으신가요? 아니면 그냥 산책 중이신건가요?」"],choices:[{text:"검술을 배우고 싶습니다. 가르쳐 주실 수 있나요?",affectionChange:7,response:`사쿠라의 눈이 반짝인다.
「정말이에요? 기뻐요! 요즘 검술에 관심 있는 사람이 드물거든요.」
그녀가 연습용 목검을 건넨다.
「기초부터 차근차근 가르쳐드릴게요. 매일 아침 이 시간에 만나요.」
「그리고... 함께 연습할 사람이 생겨서 저도 기뻐요.」`},{text:"사실 당신이 궁금해서 왔어요. 더 알고 싶어요.",affectionChange:5,response:`사쿠라가 놀란 듯 눈을 크게 뜬다. 뺨이 살짝 붉어진다.
「저, 저요? 저는 별로 특별한 사람이 아닌데...」
잠시 망설이다가 작게 웃는다.
「그래도... 관심 가져주셔서 고마워요. 친구가 되어주실래요?」`},{text:"밤에 무슨 일이 있나요? 더 자세히 알려주세요.",affectionChange:2,response:`사쿠라가 주변을 둘러보고 목소리를 낮춘다.
「아직은... 자세히 말씀드릴 수 없어요. 하지만 조심하세요.」
「이 학교 지하에는 오래된 미궁이 있다는 소문이 있어요.」
「언젠가는 알게 되실 거예요. 그때까지는... 제 곁에 있어주세요.」`}]},{id:"sakura_training_together",requiredAffection:15,dialogue:["며칠째 이어지는 아침 훈련. 사쿠라와의 만남이 일상이 되어가고 있다.","「오늘도 오셨네요! 정말 성실하시네요.」","사쿠라가 환한 미소로 당신을 맞이한다. 예전보다 훨씬 편안해 보인다.","「오늘은 특별한 걸 가르쳐드릴까 해요. 우리 가문의 기초 검술이에요.」","그녀가 아름다운 자세로 검을 든다. 아침 햇살이 그녀를 감싸 신비롭게 보인다.","「키리시마류는 단순한 검술이 아니에요. 마음을 다스리는 법이기도 하죠.」","「숨을 고르고, 상대를 느끼고, 자연과 하나가 되는 거예요.」","사쿠라가 당신 뒤로 다가와 자세를 교정해준다. 그녀의 손이 당신의 손을 감싼다.","「이렇게... 힘을 빼고, 자연스럽게...」","가까이서 느껴지는 그녀의 체온과 은은한 벚꽃 향기.","「어... 너무 가까웠나요? 죄, 죄송해요!」","당황한 사쿠라가 한 걸음 물러선다. 얼굴이 새빨개졌다.","「그런데... 당신과 함께 있으면 이상하게 마음이 편해져요.」","「원래 남에게 가문의 검술을 가르치는 건 금기인데...」","「당신이라면 괜찮을 것 같아요. 믿을 수 있을 것 같거든요.」"],choices:[{text:"저도 사쿠라 씨와 있으면 마음이 편해요. 더 가까이 있고 싶어요.",affectionChange:10,response:`사쿠라의 눈이 흔들린다. 검을 내려놓고 당신을 바라본다.
「정말... 그렇게 생각하세요?」
「저도... 당신과 더 많은 시간을 보내고 싶어요.」
그녀가 수줍게 당신의 손을 잡는다.
「천천히... 서로를 알아가요. 검술도, 그리고 서로의 마음도...」`},{text:"가문의 검술을 가르쳐주셔서 영광입니다. 열심히 배울게요.",affectionChange:6,response:`사쿠라가 안도한 듯 미소 짓는다.
「열정적이시네요! 그런 모습이 좋아요.」
「키리시마류를 제대로 익히려면 몸과 마음이 하나가 되어야 해요.」
「함께 노력하면 분명 해낼 수 있을 거예요. 제가 도와드릴게요.」`},{text:"가문의 비밀이 더 있는 것 같은데요?",affectionChange:3,response:`사쿠라의 표정이 복잡해진다.
「역시... 눈치채셨군요. 당신은 예리하시네요.」
「언젠가는 모든 걸 말씀드릴게요. 하지만 지금은...」
「지금은 그저 순수하게 검술을 즐겼으면 좋겠어요.」`}]},{id:"sakura_secret_revealed",requiredAffection:40,dialogue:["깊은 밤, 사쿠라가 급하게 당신을 찾아온다. 그녀의 표정이 심상치 않다.","「일어나세요! 큰일이에요!」","창밖으로 보이는 학교 상공에 이상한 붉은 빛이 소용돌이치고 있다.","「미궁이... 미궁의 봉인이 약해지고 있어요.」","사쿠라가 진짜 검을 들고 있다. 날카로운 일본도가 달빛에 번뜩인다.","「이제 숨길 수 없겠네요. 저희 가문은 대대로 미궁의 봉인을 지켜왔어요.」","「키리시마류 검술은 사실 마물을 베기 위한 퇴마의 검술이에요.」","그녀의 눈빛이 결연하다.","「제 운명이에요. 피할 수 없는... 하지만 당신은 달라요.」","「위험해지기 전에 떠나세요. 이건 우리 가문의 일이니까...」","사쿠라가 돌아서려 하지만, 그녀의 손이 떨리고 있는 게 보인다.","「...무서워요. 사실은 정말 무서워요.」","「할아버지께서는 봉인이 풀리면 목숨을 걸어야 한다고 하셨어요.」","「하지만... 해야만 해요. 이게 제 운명이니까.」","그녀가 당신을 바라본다. 눈에 눈물이 맺혀있다.","「당신과 더 많은 시간을 보내고 싶었는데...」"],choices:[{text:"혼자 가게 둘 수 없어요. 함께 싸울게요.",affectionChange:15,response:`사쿠라의 눈에서 눈물이 흐른다.
「바보... 왜 그런 위험한 선택을...」
하지만 그녀의 표정에 안도감이 번진다.
「고마워요. 정말... 정말 고마워요.」
「함께라면... 어떤 운명도 이겨낼 수 있을 것 같아요.」
사쿠라가 당신의 손을 꼭 잡는다.
「약속해요. 절대 당신을 지킬게요. 제 검에 걸고 맹세해요.」`},{text:"도망치지 마세요. 다른 방법을 찾아봐요.",affectionChange:8,response:`사쿠라가 고개를 젓는다.
「다른 방법은... 없어요. 이건 정해진 운명이에요.」
「하지만... 당신이 걱정해주는 마음은 알겠어요.」
「돌아올게요. 꼭 돌아와서 다시 만날게요. 약속해요.」`},{text:"너무 위험해요. 다른 사람들의 도움을 받아야 해요.",affectionChange:5,response:`「그럴 시간이 없어요. 그리고...」
「이 비밀을 아는 사람이 많아질수록 더 위험해져요.」
「걱정해 주셔서 고마워요. 하지만 이건 제가 해야 할 일이에요.」`}]},{id:"sakura_confession",requiredAffection:70,dialogue:["미궁의 위기가 지나간 후, 평화로운 봄날. 학교 뒤뜰의 벚꽃이 만개했다.","사쿠라가 벚꽃나무 아래서 당신을 기다리고 있다. 바람에 꽃잎이 흩날린다.","「와주셨네요... 사실 오늘 꼭 하고 싶은 말이 있어서...」","그녀가 깊은 숨을 쉰다. 평소의 강인한 모습과 달리 긴장한 것 같다.","「그동안 정말 많은 일이 있었죠? 함께 싸워주셔서 정말 고마웠어요.」","「당신이 없었다면... 저는 아마 포기했을 거예요.」","사쿠라가 한 걸음 다가선다. 그녀의 뺨이 벚꽃처럼 붉게 물든다.","「처음엔 그저 검술을 가르쳐 드리려고 했을 뿐이었는데...」","「어느새 매일 아침 당신을 기다리는 제 자신을 발견했어요.」","「당신의 미소를 보면 하루가 행복하고, 당신이 다치면 가슴이 아팠어요.」","그녀가 용기를 내어 당신의 눈을 똑바로 바라본다.","「키리시마 사쿠라는... 한 명의 검사이기 이전에 한 명의 여자로서...」","「당신을 사랑합니다.」","벚꽃 꽃잎이 두 사람 사이에 흩날린다.","「제 곁에... 영원히 있어주실래요?」","「검의 길도, 운명도, 모든 것을 함께 나누고 싶어요.」"],choices:[{text:"저도 사쿠라를 사랑해요. 영원히 함께해요.",affectionChange:25,response:`사쿠라의 얼굴이 환하게 밝아진다. 눈물이 뺨을 타고 흐른다.
「정말... 정말이에요? 꿈이 아니죠?」
그녀가 당신에게 뛰어들어 꼭 안긴다.
「행복해요... 이렇게 행복해도 되는 걸까요?」
「이제 뭐든 이겨낼 수 있어요. 당신과 함께라면...」
사쿠라가 발꿈치를 들고 당신에게 입맞춤한다.
「사랑해요... 영원히, 변치 않을게요.」`},{text:"사쿠라는 소중한 사람이에요. 하지만 조금 더 시간이 필요해요.",affectionChange:0,response:`사쿠라가 쓸쓸하게 미소 짓는다.
「그렇군요... 제가 너무 서둘렀나봐요.」
「괜찮아요. 기다릴게요. 당신의 마음이 준비될 때까지...」
「그래도 제 마음은 변하지 않을 거예요. 알아주세요.」`},{text:"미안해요... 친구로 남았으면 해요.",affectionChange:-20,response:`사쿠라의 눈에서 빛이 사라진다. 그녀가 한 걸음 물러선다.
「아... 그렇군요. 제가 착각했나봐요.」
눈물을 참으며 억지로 미소 짓는다.
「괜찮아요... 친구로라도 곁에 있을 수 있다면...」
「실례했어요. 저... 먼저 갈게요.」
사쿠라가 돌아서 뛰어간다. 떨어지는 벚꽃잎이 슬퍼 보인다.`}]}]},ng={conversations:[{id:"yuki_library_encounter",requiredAffection:0,dialogue:["도서관 가장 깊은 곳, 고대 마법서가 보관된 구역. 희미한 마법 조명만이 공간을 비춘다.","한 소녀가 공중에 띄운 여러 권의 책을 동시에 읽고 있다. 책장이 저절로 넘어간다.","당신의 인기척에 그녀가 고개를 든다. 차가운 눈빛이 당신을 관찰한다.","「...침입자인가요? 아니면 길을 잃은 어린 양?」","책들이 천천히 제자리로 돌아간다. 소녀가 우아하게 일어선다.","「여기는 일반 학생 출입 금지 구역이에요. 모르셨나요?」","「아, 그 유명한 전학생이시군요. 소문을 들었어요.」","그녀가 당신 주위를 천천히 걷는다. 마치 품평하듯이.","「흥미롭네요... 평범해 보이는데 뭔가 특별한 기운이 느껴져요.」","「저는 유키노시타 유키. 마법학부 수석이자 이 도서관의 관리자예요.」","「대부분의 사람들은 저를 '얼음 마녀'라고 부르죠. 차갑고 접근하기 어렵다고.」","하지만 그녀의 눈에 호기심이 번뜩인다.","「그런데 당신은... 두려워하지 않는군요. 왜죠?」","「혹시 마법에 관심이 있으신가요? 아니면...」","「저에게 관심이 있는 건가요?」"],choices:[{text:"당신이 아름다워서 두려움보다 매력을 느꼈어요.",affectionChange:8,response:`유키가 순간 당황한다. 차가운 가면에 균열이 생긴다.
「...뭐라고요? 그런 직설적인 말을...」
뺨이 살짝 붉어진다.
「흥... 입이 가벼운 사람은 싫어하는데...」
하지만 입꼬리가 살짝 올라간다.
「재미있네요. 오랜만에 이런 담대한 사람을 만났어요.」
「좋아요. 특별히 이 구역 출입을 허가해드릴게요.」`},{text:"마법을 배우고 싶어서 왔어요. 가르쳐주실 수 있나요?",affectionChange:5,response:`유키의 눈이 반짝인다.
「마법을요? 흥미로운 선택이네요.」
「대부분의 사람들은 마법을 두려워하거나 불가능하다고 생각하죠.」
「하지만 당신에게는... 가능성이 보여요.」
「좋아요. 제가 직접 가르쳐드리죠. 대신 쉽지 않을 거예요.」`},{text:"우연히 들어왔어요. 나가는 길을 알려주세요.",affectionChange:-2,response:`유키가 실망한 표정을 짓는다.
「그렇군요. 역시 평범한 사람이었나...」
「저쪽 복도로 나가면 일반 도서관이 나올 거예요.」
그녀가 다시 책으로 시선을 돌린다.
「다시는 이곳에 오지 마세요. 위험하니까.」`}]},{id:"yuki_magic_lesson",requiredAffection:20,dialogue:["마법 실습실. 유키가 복잡한 마법진을 그리고 있다. 공기 중에 마력이 진동한다.","「왔군요. 시간 약속을 지키는 건 마법사의 기본이에요.」","그녀가 손짓하자 의자가 저절로 움직여 당신 앞에 놓인다.","「오늘은 마법의 본질에 대해 가르쳐드릴게요.」","유키가 손을 들자 작은 빛의 구체가 나타난다.","「마법은 단순한 힘이 아니에요. 세계의 법칙을 이해하고 재구성하는 것이죠.」","「감정, 의지, 지식... 이 모든 것이 조화를 이뤄야 진정한 마법이 됩니다.」","빛의 구체가 나비 모양으로 변한다. 아름다운 빛의 나비가 날아다닌다.","「제가 처음 마법을 배웠을 때... 너무 외로웠어요.」","유키의 목소리가 부드러워진다.","「천재라고 불렸지만, 아무도 저를 이해하지 못했죠.」","「마법만이 제 친구였어요. 차갑고 완벽한...」","그녀가 당신을 바라본다.","「하지만 당신은 달라요. 당신과 있으면...」","「처음으로 마법을 나누고 싶다는 생각이 들어요.」","빛의 나비가 당신 손에 내려앉는다. 따뜻한 온기가 느껴진다."],choices:[{text:"유키 씨의 외로움을 이해해요. 제가 곁에 있을게요.",affectionChange:12,response:`유키의 눈가가 촉촉해진다.
「당신이... 정말로 이해한다고요?」
빛의 나비가 더 밝게 빛난다.
「이상해요... 당신과 있으면 얼어붙은 제 마음이 녹는 것 같아요.」
그녀가 당신의 손을 잡는다. 차가웠던 손이 점점 따뜻해진다.
「더 많은 것을 가르쳐드릴게요. 마법도... 그리고 저에 대해서도...」`},{text:"마법이 정말 아름다워요. 더 배우고 싶어요.",affectionChange:7,response:`유키가 희미하게 미소 짓는다.
「열정적이시네요. 좋은 자세예요.」
「마법의 세계는 무궁무진해요. 평생을 바쳐도 다 배울 수 없죠.」
「하지만 함께라면... 그 여정이 즐거울 것 같네요.」`},{text:"천재의 세계는 범인과는 다른가 봐요.",affectionChange:-3,response:`유키의 표정이 다시 차가워진다.
「...그렇죠. 역시 이해받기는 어렵군요.」
빛의 나비가 사라진다.
「오늘 수업은 여기까지예요. 돌아가세요.」`}]},{id:"yuki_forbidden_magic",requiredAffection:45,dialogue:["한밤중, 유키가 당신을 비밀 장소로 안내한다. 지하 깊은 곳의 숨겨진 방.","「이곳은 아무도 모르는 제 비밀 연구실이에요.」","벽면에는 고대 문자로 된 금지된 마법진들이 가득하다.","「저는... 금지된 마법을 연구하고 있어요.」","유키가 한 권의 검은 책을 꺼낸다. 불길한 기운이 느껴진다.","「시공간 마법. 과거와 미래, 평행세계를 오가는 궁극의 마법.」","「이 마법으로... 모든 비극을 막을 수 있어요. 모든 실수를 되돌릴 수 있죠.」","그녀의 눈빛이 광기 어린다.","「하지만 대가가 있어요. 사용자의 수명을 갉아먹죠.」","「그래도 괜찮아요. 완벽한 세계를 만들 수 있다면...」","유키가 갑자기 당신의 손을 잡는다.","「당신을 만난 후로... 생각이 바뀌었어요.」","「완벽한 세계보다... 불완전해도 당신과 함께하는 현재가 더 소중해요.」","「하지만 이 연구를 멈출 수 없어요. 다가오는 재앙을 막아야 하니까.」","「미궁이 열리면... 이 세계는 끝날 거예요.」","「도와주실래요? 위험하지만... 당신이 필요해요.」"],choices:[{text:"위험해도 상관없어요. 유키 씨를 도울게요.",affectionChange:18,response:`유키의 차가운 가면이 완전히 무너진다. 그녀가 당신을 꼭 안는다.
「바보... 왜 그렇게 쉽게 위험을 감수하는 거예요?」
「하지만... 고마워요. 정말 고마워요.」
「처음으로... 혼자가 아니라는 느낌이 들어요.」
그녀가 당신의 이마에 입을 맞춘다.
「이것은 보호의 마법. 제가 당신을 지킬게요. 무슨 일이 있어도.」`},{text:"다른 방법을 찾아봐요. 당신의 수명을 희생할 순 없어요.",affectionChange:10,response:`유키가 놀란 듯 당신을 바라본다.
「제 수명을... 걱정해주시는 건가요?」
「아무도... 그런 말을 해준 적이 없었는데...」
「좋아요. 함께 다른 방법을 찾아봐요. 당신과 함께라면 가능할지도...」`},{text:"너무 위험해요. 이런 금지된 마법은 사용하면 안 돼요.",affectionChange:-5,response:`유키가 차갑게 웃는다.
「역시... 일반인의 한계군요.」
「돌아가세요. 이건 제 운명이니까 혼자 해결할게요.」
「오늘 본 것은 모두 잊어주세요.」`}]},{id:"yuki_true_feelings",requiredAffection:75,dialogue:["마법으로 만든 환상의 정원. 하늘에는 은하수가 흐르고, 발밑에는 빛나는 꽃들이 피어있다.","유키가 당신을 이 특별한 공간으로 초대했다.","「이곳은 제 마음속 풍경이에요. 당신에게만 보여드리는 거예요.」","그녀가 당신과 나란히 걷는다. 평소의 차가움은 온데간데없다.","「어렸을 때부터 저는 남들과 달랐어요.」","「5살에 원소 마법을 마스터하고, 10살에 대학 과정을 끝냈죠.」","「모두가 저를 천재라고 불렀지만... 그저 외로운 아이였을 뿐이에요.」","별빛이 그녀의 은발을 비춘다.","「마법은 완벽했어요. 배신하지 않고, 예측 가능하고, 통제할 수 있었으니까.」","「하지만 당신을 만나고... 처음으로 통제할 수 없는 감정을 느꼈어요.」","유키가 멈춰 서서 당신을 마주본다.","「사랑이라는 마법. 가장 강력하면서도 가장 이해할 수 없는...」","「제 차가운 이성으로는 설명할 수 없는 이 감정...」","「당신 때문에 완벽했던 제 세계가 무너졌어요.」","그녀가 당신의 뺨을 어루만진다.","「그런데... 이상하게도 행복해요.」","「유키노시타 유키는... 당신을 사랑합니다.」","「이 불완전하고 예측할 수 없는 감정과 함께... 영원히 살고 싶어요.」"],choices:[{text:"나도 유키를 사랑해. 불완전한 우리가 함께 완전해지자.",affectionChange:30,response:`유키의 눈에서 눈물이 흐른다. 처음으로 보는 진짜 눈물.
「완벽을 추구했던 제가... 불완전한 사랑에 빠지다니...」
「아이러니하면서도... 너무나 아름다워요.」
환상의 정원이 더욱 밝게 빛난다. 두 사람을 축복하듯이.
「당신과 함께라면 어떤 마법도 필요 없어요.」
「당신이 제 가장 위대한 마법이니까요.」
유키가 당신에게 입맞춤한다. 마법의 불꽃이 두 사람을 감싸 춤춘다.`},{text:"유키는 특별해. 하지만 천천히 서로를 알아가고 싶어.",affectionChange:5,response:`유키가 이해한다는 듯 고개를 끄덕인다.
「그래요... 저도 너무 서둘렀나봐요.」
「천 년을 살아도 다 알 수 없는 게 사랑이라고 하죠.」
「기다릴게요. 영원이 있다면 그것도 당신과 함께하고 싶으니까.」`},{text:"미안... 그런 마음으로 보지 않았어.",affectionChange:-25,response:`환상의 정원이 깨지기 시작한다. 유키의 표정이 얼어붙는다.
「...그렇군요. 제가 착각했나봐요.」
「역시 저 같은 사람은... 사랑받을 자격이 없나봐요.」
모든 환상이 사라지고 차가운 현실만 남는다.
「돌아가세요. 그리고... 다시는 오지 마세요.」
유키가 순간이동으로 사라진다. 남은 건 차가운 공기뿐.`}]}]},sg={conversations:[{id:"luna_moonlight_meeting",requiredAffection:0,dialogue:["보름달이 뜬 밤. 학교 옥상에서 한 소녀를 발견한다.","창백한 피부와 붉은 눈을 가진 그녀가 달빛 아래 서 있다.","마치 이 세상 사람이 아닌 것처럼 신비롭고 아름답다.","「...인간.」","그녀가 천천히 돌아본다. 붉은 눈이 당신을 꿰뚫어본다.","「이런 시간에 여기 있다니... 죽음을 원하는 건가요?」","차가운 미소가 그녀의 입가에 맺힌다.","「농담이에요. 요즘은 인간을 해치지 않아요.」","「저는 루나. 루나 크림슨.」","「당신들 말로는... '전학생'이라고 하죠.」","바람에 그녀의 은발이 나부낀다.","「당신에게서 특별한 향기가 나네요. 다른 인간들과는 다른...」","「흥미롭군요. 오랜만에 관심이 가는 인간을 만났어요.」","그녀가 한 걸음 다가온다. 차가운 체온이 느껴진다.","「두려워하지 않는군요. 왜죠?」","「본능적으로 알아야 할 텐데... 제가 포식자라는 것을.」"],choices:[{text:"무서운 것보다 아름다운 게 먼저 보여서요.",affectionChange:10,response:`루나가 처음으로 진짜 놀란 표정을 짓는다.
「...뭐라고요?」
수백 년 만에 처음으로 당황한 듯하다.
「인간이... 저를 아름답다고?」
작게 웃음이 새어 나온다.
「재미있는 인간이군요. 오랜만에 지루하지 않을 것 같아요.」
「좋아요. 당신을 특별히 제 '친구'로 인정해드리죠.」`},{text:"당신이 뭔지는 모르지만, 적의는 없어 보여요.",affectionChange:6,response:`루나가 고개를 갸웃거린다.
「적의가 없다... 맞아요. 적어도 지금은요.」
「하지만 언제 마음이 바뀔지는 저도 몰라요.」
「그래도 당신의 담대함은 마음에 드네요.」`},{text:"뱀파이어... 맞죠?",affectionChange:3,response:`루나의 눈이 날카로워진다.
「호오... 눈치가 빠르시네요.」
「그래요. 저는 밤의 종족. 당신들이 두려워하는 존재죠.」
「그런데도 도망가지 않는 건... 용감한 건가요, 어리석은 건가요?」`}]},{id:"luna_blood_moon",requiredAffection:30,dialogue:["붉은 달이 뜬 밤. 루나가 평소와 다르게 불안정해 보인다.","「오지 말라고 했는데... 왜 온 거예요?」","그녀의 붉은 눈이 평소보다 더 강렬하게 빛난다.","「오늘은... 피의 달이 뜬 날이에요.」","「우리 종족의 본능이 가장 강해지는 날이죠.」","루나가 괴로운 듯 벽을 짚는다.","「500년 동안... 한 번도 인간의 피를 마시지 않았어요.」","「하지만 오늘은... 참기 어려워요.」","그녀가 당신을 바라본다. 갈망과 고통이 섞인 눈빛.","「당신의 향기가... 너무 달콤해요.」","「도망가세요. 제가 이성을 잃기 전에...」","하지만 그녀의 다리가 떨리고 있다. 몸이 약해 보인다.","「사실... 너무 오래 피를 마시지 않아서...」","「힘이... 점점 약해지고 있어요.」","루나가 무릎을 꿇는다.","「이렇게 끝나는 것도... 나쁘지 않네요.」","「적어도... 당신을 해치지 않고 끝날 수 있으니까.」"],choices:[{text:"내 피를 마셔도 돼. 널 믿어.",affectionChange:20,response:`루나의 눈이 크게 떠진다.
「당신이... 무슨 말을 하는지 알고 있는 거예요?」
「한 번 피를 나누면... 영원히 연결되는 거예요.」
하지만 그녀의 눈에 눈물이 맺힌다.
「왜... 왜 저를 위해 그런 위험을...」
당신이 팔을 내밀자 루나가 조심스럽게 다가온다.
「약속할게요... 최소한만... 그리고 당신을 영원히 지킬게요.」
그녀의 송곳니가 당신의 목에 닿는다. 아프지만 이상하게 황홀하다.
「고마워요... 이제 당신은 제 전부예요.」`},{text:"다른 방법을 찾아봐요. 동물의 피라도...",affectionChange:8,response:`루나가 쓸쓸하게 웃는다.
「동물의 피로는... 한계가 있어요.」
「하지만 당신이 걱정해주는 마음... 느껴져요.」
「좋아요. 조금 더 버텨볼게요. 당신을 위해서...」`},{text:"병원에 가서 혈액 팩이라도 구해올게요.",affectionChange:5,response:`「그런 걸로는... 해결되지 않아요.」
「우리에게 필요한 건 살아있는 생명력이니까요.」
「하지만 고마워요. 저를 도우려 하다니...」`}]},{id:"luna_past_revealed",requiredAffection:55,dialogue:["루나가 당신을 오래된 교회 폐허로 데려간다.","「여기는... 제 가족이 있던 곳이에요.」","무너진 제단과 깨진 스테인드글라스. 시간이 멈춘 듯한 공간.","「300년 전, 인간들이 우리 일족을 사냥했어요.」","「뱀파이어는 악마라고, 모두 죽여야 한다고...」","그녀의 목소리에 깊은 슬픔이 묻어난다.","「우리는 그저 평화롭게 살고 싶었을 뿐인데...」","「어머니는 저를 지키다가... 아버지는 인간들과 싸우다가...」","「저만 살아남았어요. 저주받은 불멸의 삶을 가지고.」","루나가 무너진 벽에 기댄다.","「그 후로 계속 혼자였어요. 300년 동안.」","「인간을 미워했고, 복수를 꿈꿨죠.」","「하지만... 너무 외로웠어요.」","그녀가 당신을 바라본다.","「당신을 만나고... 처음으로 복수가 아닌 다른 것을 원하게 됐어요.」","「따뜻함, 이해, 그리고... 사랑.」","「하지만 저는 괴물이에요. 당신과는 너무 다른 존재죠.」","「그래도... 곁에 있어도 될까요?」"],choices:[{text:"당신은 괴물이 아니에요. 상처받은 영혼일 뿐이에요.",affectionChange:25,response:`루나의 눈에서 붉은 눈물이 흐른다.
「300년 만에... 처음으로 들어요.」
「제가 괴물이 아니라고 말해주는 사람...」
그녀가 당신을 꽉 안는다.
「당신이 제 구원이에요. 어둠 속의 유일한 빛...」
「영원을 살아도 당신만을 사랑할게요.」
「인간의 수명이 다할 때까지... 아니, 그 이후에도...」`},{text:"과거는 과거예요. 이제 새롭게 시작해요.",affectionChange:15,response:`루나가 희망에 찬 눈으로 당신을 바라본다.
「새롭게... 시작할 수 있을까요?」
「300년의 증오와 슬픔을 내려놓을 수 있을까요?」
「당신과 함께라면... 가능할지도 모르겠어요.」`},{text:"시간이 해결해줄 거예요.",affectionChange:5,response:`「시간... 저에게는 너무 많은 시간이 있어요.」
「하지만 당신에게는 한정된 시간만이...」
「그래도 기다릴게요. 당신이 받아들일 때까지.」`}]},{id:"luna_eternal_love",requiredAffection:80,dialogue:["월식이 일어나는 밤. 루나가 당신을 특별한 장소로 인도한다.","고대 뱀파이어들의 성역. 시간을 초월한 아름다움이 펼쳐진다.","「여기는 우리 종족의 성지예요. 천 년에 한 번 월식 때만 나타나죠.」","「그리고... 여기서만 가능한 의식이 있어요.」","루나가 당신의 손을 잡는다. 그녀의 손이 떨린다.","「'영원의 맹세'. 뱀파이어가 단 한 사람과 영혼을 나누는 의식.」","「이 의식을 하면... 저는 불멸을 포기하게 돼요.」","「대신 당신과 같은 수명을 갖게 되죠. 함께 늙고, 함께 죽는...」","그녀의 붉은 눈이 간절함으로 빛난다.","「500년을 살았지만... 진정으로 살아있다고 느낀 건 당신을 만난 후예요.」","「영원한 삶보다 당신과의 한정된 시간이 더 소중해요.」","월식의 붉은 빛이 두 사람을 비춘다.","「루나 크림슨은... 불멸의 뱀파이어가 아닌 한 명의 여자로서...」","「당신을 사랑해요. 영원히가 아닌, 죽음이 갈라놓을 때까지.」","「제 모든 것을 버리고 당신을 선택하고 싶어요.」","「받아주실래요? 이 불완전한 괴물을...」"],choices:[{text:"함께 살고 함께 죽자. 그게 진정한 영원이야.",affectionChange:35,response:`루나가 환하게 웃는다. 500년 만의 진정한 미소.
「네... 그게 제가 원했던 영원이에요.」
의식이 시작된다. 두 사람의 영혼이 하나로 연결된다.
「아아... 심장이 뛰어요. 진짜로 뛰어요!」
루나의 창백한 피부에 생기가 돈다.
「이제 저도 인간이에요. 당신과 같은...」
그녀가 당신에게 입맞춤한다. 따뜻한 체온이 느껴진다.
「사랑해요... 남은 생이 60년이든 하루든... 매 순간 사랑할게요.」`},{text:"불멸을 포기하지 마. 다른 방법을 찾아보자.",affectionChange:10,response:`루나가 고개를 젓는다.
「다른 방법은 없어요. 이것만이...」
「하지만 당신이 제 불멸을 걱정해주는 것도 사랑스러워요.」
「조금 더 시간을 주세요. 당신이 준비될 때까지 기다릴게요.」`},{text:"너무 큰 희생이야. 그럴 가치가 없어.",affectionChange:-30,response:`루나의 표정이 얼어붙는다.
「가치가... 없다고요?」
「제 500년 삶에서 유일한 의미였는데...」
월식이 끝나고 성역이 사라지기 시작한다.
「그렇군요... 역시 인간과 괴물은...」
루나가 어둠 속으로 사라진다.
「안녕히... 다시는 만나지 않겠어요.」`}]}]},ig={sakura:ag,yuki:ng,luna:sg},rg={classroom:{id:"classroom",name:"교실",description:"밝고 정돈된 교실. 수업이 진행되는 곳이다.",activities:[{name:"수업 듣기",effect:{intelligence:2,stamina:-1},time:"morning"},{name:"자습하기",effect:{intelligence:1},time:"any"}],characterSchedule:{morning:["luna","yuki"],noon:[],afternoon:["luna"],evening:[],night:[]},sprite:"🏫"},library:{id:"library",name:"도서관",description:"조용하고 아늑한 도서관. 책 냄새가 가득하다.",activities:[{name:"책 읽기",effect:{intelligence:3,charm:1},time:"any"},{name:"조용히 휴식",effect:{stamina:2},time:"any"}],characterSchedule:{morning:[],noon:["yuki"],afternoon:["yuki","luna"],evening:["yuki"],night:[]},sprite:"📚"},training:{id:"training",name:"훈련장",description:"넓은 훈련장. 검술과 체육 활동이 이루어진다.",activities:[{name:"운동하기",effect:{stamina:3,intelligence:-1},time:"any"},{name:"검술 연습",effect:{stamina:2,charm:1},time:"afternoon"}],characterSchedule:{morning:["sakura"],noon:[],afternoon:["sakura"],evening:["sakura"],night:[]},sprite:"⚔️"},cafeteria:{id:"cafeteria",name:"카페테리아",description:"학생들이 모여 식사하는 곳. 활기가 넘친다.",activities:[{name:"식사하기",effect:{stamina:3},time:"noon"},{name:"친구들과 대화",effect:{charm:2},time:"any"}],characterSchedule:{morning:[],noon:["luna","yuki","sakura"],afternoon:[],evening:["luna"],night:[]},sprite:"🍽️"},garden:{id:"garden",name:"정원",description:"아름다운 꽃들이 피어있는 정원. 평화롭다.",activities:[{name:"산책하기",effect:{stamina:1,charm:1},time:"any"},{name:"꽃 구경",effect:{charm:2},time:"afternoon"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["yuki"],night:["luna","sakura"]},sprite:"🌸"},dormitory:{id:"dormitory",name:"기숙사",description:"학생들이 생활하는 기숙사.",activities:[{name:"휴식",effect:{stamina:5},time:"evening"},{name:"일기 쓰기",effect:{charm:1,intelligence:1},time:"night"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:["yuki","sakura"]},sprite:"🏠"},shop:{id:"shop",name:"매점",description:"각종 물건을 살 수 있는 학교 매점.",activities:[{name:"쇼핑하기",effect:{},time:"any",special:"shop"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:[],night:[]},sprite:"🏪"},secretGarden:{id:"secretGarden",name:"비밀 정원",description:"숨겨진 아름다운 정원. 특별한 조건을 만족해야 갈 수 있다.",activities:[{name:"비밀 데이트",effect:{charm:5},time:"any"}],characterSchedule:{morning:[],noon:[],afternoon:[],evening:["mystery"],night:["mystery"]},sprite:"🌙",unlockCondition:{item:"mysteryKey"}}},cg={locations:rg},_t=Qn,cf=cg,og=()=>{const r=bt(),o=he(M=>M.player),d=he(M=>M.unlockedCharacters),c=he(M=>M.currentEvent),m=he(M=>M.gameMessage),{saveGame:x,loadGame:g,performActivity:v,moveToLocation:j,advanceTime:b,handleEventChoice:w,updateAffection:y}=he(M=>M.actions),D=E.useMemo(()=>cf.locations[o.location],[o.location]),[R,N]=Pe.useState(!1),[S,h]=Pe.useState("location"),[C,p]=Pe.useState(!1),[k,B]=Pe.useState(null),[A,z]=Pe.useState(!1),[V,W]=Pe.useState(null),[ee,xe]=Pe.useState(0),[oe,ve]=Pe.useState(null),[Ce,ie]=Pe.useState(!1),[K,U]=Pe.useState([]),X=E.useCallback(M=>{if(!_t[M])return;const J=o.affection[M]||0,F=ig[M]?.conversations||[];let le=F[0];for(const pe of F)if(pe.requiredAffection<=J)le=pe;else break;le&&(ve(le),U(le.dialogue),xe(0),ie(!1)),W(M),z(!0)},[o.affection]),P=E.useCallback(()=>{ee<K.length-1?xe(ee+1):oe?.choices?ie(!0):(z(!1),W(null),ve(null))},[ee,K.length,oe]),be=E.useCallback(M=>{if(!oe||!V)return;const $=oe.choices[M];$&&($.affectionChange&&V&&y(V,$.affectionChange),U([$.response]),xe(0),ie(!1),ve(null))},[oe,V,y]);return l.jsx("div",{className:"min-h-screen bg-background p-4 text-text-primary",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center text-white text-2xl shadow-lg",children:"🎓"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Academy Dating Simulator"}),l.jsx("p",{className:"text-text-secondary text-sm",children:"라비린스 아카데미에 오신 것을 환영합니다"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>r("/characters"),className:"px-4 py-2 bg-primary text-white rounded-xl hover:bg-secondary transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"캐릭터 목록 페이지로 이동",role:"button",children:"👥 캐릭터"}),l.jsx("button",{onClick:()=>r("/dungeon"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"던전 탐험 페이지로 이동",role:"button",children:"⚔️ 던전"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/achievements"),className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"업적 확인",role:"button",children:"🏆 업적"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/collection"),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"도감 열기",role:"button",children:"📚 도감"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/quests"),className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"일일 퀘스트",role:"button",children:"📋 퀘스트"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/calendar"),className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"이벤트 캘린더",role:"button",children:"📅 이벤트"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/crafting"),className:"px-4 py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"크래프팅",role:"button",children:"🔨 제작"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/guild"),className:"px-4 py-2 bg-indigo-500 text-white rounded-xl hover:bg-indigo-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"길드",role:"button",children:"⚔️ 길드"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:()=>r("/pets"),className:"px-4 py-2 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"펫 시스템",role:"button",children:"🐾 펫"}),l.jsx("div",{className:"border-l border-border mx-2 h-10","aria-hidden":"true"}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"현재 게임 진행상황 저장",role:"button",children:"💾 저장"}),l.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":"저장된 게임 불러오기",role:"button",children:"📂 불러오기"}),l.jsx("button",{onClick:()=>N(!R),className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl","aria-label":R?"인벤토리 닫기":"인벤토리 열기","aria-expanded":R,role:"button",children:"🎒 인벤토리"})]})]})}),l.jsx(Ef,{}),l.jsx("div",{className:"bg-black/20 border border-border rounded-2xl p-4 mb-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:"💭"}),l.jsx("p",{className:"font-medium text-text-primary flex-1",children:m})]})}),l.jsxs("div",{className:`grid grid-cols-1 ${R?"lg:grid-cols-5":"lg:grid-cols-3"} gap-6`,children:[l.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[l.jsxs("div",{className:"flex gap-3 mb-6",role:"tablist","aria-label":"게임 콘텐츠 탭",children:[l.jsx("button",{onClick:()=>h("location"),className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${S==="location"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":S==="location","aria-controls":"location-panel",tabIndex:S==="location"?0:-1,children:"📍 현재 장소"}),l.jsx("button",{onClick:()=>h("characters"),className:`px-6 py-3 rounded-xl transition-all duration-200 font-medium ${S==="characters"?"bg-black/50 backdrop-blur-md text-text-primary shadow-lg transform scale-105 border border-primary/50":"bg-black/30 backdrop-blur-md hover:bg-black/40 text-text-secondary hover:scale-105 border border-border"}`,role:"tab","aria-selected":S==="characters","aria-controls":"characters-panel",tabIndex:S==="characters"?0:-1,children:"👥 캐릭터"})]}),l.jsx("div",{id:S==="location"?"location-panel":"characters-panel",role:"tabpanel","aria-labelledby":S==="location"?"location-tab":"characters-tab",children:S==="location"?l.jsx(Pp,{currentLocation:D,player:o,onPerformActivity:M=>v(M,r),onMoveToLocation:j,availableLocations:cf.locations,characters:_t,onInteractCharacter:X}):l.jsx(Ip,{characters:_t,items:{}})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm",children:"⏰"}),l.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"시간"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-4",children:[l.jsxs("div",{className:"text-2xl font-bold text-text-primary mb-1",children:["Day ",o.day]}),l.jsxs("div",{className:"text-lg text-text-secondary",children:[dg(o.timeOfDay)," ",ug(o.timeOfDay)]})]}),l.jsx("button",{onClick:b,className:"w-full px-4 py-3 bg-primary text-white rounded-xl hover:bg-secondary transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium","aria-label":"게임 시간을 다음 시간대로 진행",role:"button",children:"⏭️ 시간 진행"})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-white text-sm",children:"💕"}),l.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"호감도"})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(o.affection).map(([M,$])=>{const J=_t[M];return!J||!d.includes(M)?null:l.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:J.sprite}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"font-medium text-text-primary",children:J.name}),l.jsxs("span",{className:"text-sm font-bold text-secondary",children:[String($),"/100"]})]})})]}),l.jsx("div",{className:"w-full bg-black/50 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:"bg-secondary h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${$}%`}})})]},M)})})]})]})]}),R&&l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl shadow-xl border border-border h-full",children:[l.jsxs("div",{className:"sticky top-0 bg-background/80 backdrop-blur-md border-b border-border p-4 flex justify-between items-center",children:[l.jsx("h2",{id:"inventory-title",className:"text-2xl font-bold text-text-primary",children:"🎒 인벤토리"}),l.jsx("button",{onClick:()=>N(!1),className:"text-text-secondary hover:text-text-primary text-2xl","aria-label":"인벤토리 창 닫기",role:"button",children:"✕"})]}),l.jsx("div",{className:"p-4 max-h-[calc(100vh-120px)] overflow-y-auto",children:l.jsx(Mf,{onClose:()=>N(!1)})})]})})]}),c&&l.jsx(eg,{event:c,character:c.trigger.character?_t[c.trigger.character]:void 0,player:o,onChoice:w,onClose:()=>{console.log("Closing event dialog")}}),C&&k&&_t[k]&&l.jsx(lg,{character:_t[k],player:o,onEventComplete:M=>{M.affection&&Object.entries(M.affection).forEach(([$,J])=>{console.log(`Updating affection for ${$} by ${J}`)}),M.stats&&console.log("Updating stats:",M.stats),M.money&&console.log("Money change:",M.money),M.item&&console.log("Adding item:",M.item),p(!1),B(null)},onClose:()=>{p(!1),B(null)}}),A&&V&&_t[V]&&l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-black/90 backdrop-blur-md rounded-2xl p-6 max-w-3xl w-full border border-primary/30",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("span",{className:"text-6xl",children:_t[V].sprite}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:_t[V].name}),l.jsx("p",{className:"text-text-secondary",children:_t[V].role})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-pink-400 text-sm",children:"💕"}),l.jsx("div",{className:"w-24 bg-black/50 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(o.affection[V]||0,100)}%`}})}),l.jsx("span",{className:"text-pink-300 text-xs",children:o.affection[V]||0})]})]}),l.jsx("div",{className:"bg-black/50 rounded-lg p-6 mb-4 min-h-[200px]",children:Ce?l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-text-secondary mb-4",children:"무엇을 말할까요?"}),oe?.choices?.map((M,$)=>l.jsxs("button",{onClick:()=>be($),className:"w-full text-left p-4 bg-black/30 hover:bg-primary/20 rounded-lg transition-all duration-200 border border-border hover:border-primary/50",children:[l.jsx("p",{className:"text-text-primary",children:M.text}),M.affectionChange!==0&&l.jsxs("span",{className:`text-xs mt-1 inline-block ${M.affectionChange>0?"text-green-400":"text-red-400"}`,children:[M.affectionChange>0?"+":"",M.affectionChange," 호감도"]})]},$))]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-text-primary leading-relaxed text-lg whitespace-pre-line",children:K[ee]||"..."}),l.jsx("div",{className:"mt-4 text-right",children:l.jsxs("span",{className:"text-text-secondary text-sm",children:[ee+1," / ",K.length]})})]})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[!Ce&&K.length>0&&l.jsx("button",{onClick:P,className:"bg-primary hover:bg-secondary px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:ee<K.length-1?"다음":oe?.choices?"선택지 보기":"대화 종료"}),!oe&&l.jsx("button",{onClick:()=>{z(!1),W(null),xe(0),U([])},className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-full text-white font-medium transition-all duration-200",children:"닫기"})]})]})})]})})},dg=r=>({morning:"🌅",noon:"☀️",afternoon:"🌤️",evening:"🌆",night:"🌙"})[r]||"⏰",ug=r=>({morning:"아침",noon:"점심",afternoon:"오후",evening:"저녁",night:"밤"})[r]||r,mg=({onRestart:r,onMainMenu:o})=>{const{player:d,gameEnding:c}=he(),m=c;if(!m)return l.jsx("div",{children:"엔딩을 로드하는 중..."});const[x,g]=E.useState(!1),[v,j]=E.useState(0),w=(S=>{switch(S){case"true":return{title:"진실한 사랑",description:"모든 비밀을 해결하고 진정한 사랑을 찾았습니다. 당신의 선택이 만들어낸 완벽한 결말입니다.",background:"from-yellow-400 via-pink-500 to-purple-600",emoji:"👑",message:"축하합니다! 최고의 엔딩을 달성했습니다!",achievement:"🏆 True Ending Master"};case"good":return{title:"행복한 결말",description:"좋은 관계를 유지하며 행복한 학원 생활을 마쳤습니다. 앞으로도 좋은 추억이 계속될 것 같습니다.",background:"from-pink-400 via-purple-500 to-blue-500",emoji:"😊",message:"훌륭한 선택이었습니다!",achievement:"🌟 Happy Life"};case"sakura":return{title:"사쿠라와 함께",description:"활발하고 밝은 사쿠라와 특별한 관계를 쌓았습니다. 그녀의 웃음이 당신의 학원 생활을 더욱 빛나게 했습니다.",background:"from-pink-300 via-pink-500 to-rose-600",emoji:"🌸",message:'사쿠라: "앞으로도 함께 행복하게 지내요!"',achievement:"🌸 Cherry Blossom Love"};case"yuki":return{title:"유키와의 약속",description:"차가워 보이지만 따뜻한 마음을 가진 유키와 깊은 유대감을 형성했습니다. 그녀만의 특별한 온기를 느낄 수 있었습니다.",background:"from-blue-300 via-cyan-500 to-blue-700",emoji:"❄️",message:'유키: "당신과 함께한 시간이 정말 소중했어요..."',achievement:"❄️ Winter Romance"};case"luna":return{title:"루나의 비밀",description:"신비로운 루나와 함께 특별한 모험을 했습니다. 그녀의 신비로운 세계에 발을 들여놓게 되었습니다.",background:"from-purple-400 via-indigo-500 to-purple-700",emoji:"🌙",message:'루나: "이제 당신도 내 세계의 일부예요..."',achievement:"🌙 Moonlight Mystery"};case"mystery":return{title:"숨겨진 진실",description:"모든 미스터리를 해결하고 숨겨진 캐릭터의 정체를 밝혀냈습니다. 예상치 못한 놀라운 진실이 기다리고 있었습니다.",background:"from-gray-400 via-purple-500 to-black",emoji:"❓",message:'???: "결국 모든 것을 알아내셨군요..."',achievement:"🔍 Truth Seeker"};case"normal":return{title:"평범한 결말",description:"무난하게 학원 생활을 마쳤습니다. 특별한 로맨스는 없었지만, 나름대로 의미 있는 시간이었습니다.",background:"from-gray-400 via-purple-400 to-gray-500",emoji:"📚",message:"평범하지만 의미 있는 학원 생활이었습니다.",achievement:"📖 Student Life"};case"bad":return{title:"아쉬운 결말",description:"좀 더 노력했다면 더 좋은 결과를 얻을 수 있었을 텐데... 하지만 이것도 하나의 경험입니다.",background:"from-red-400 via-orange-500 to-red-600",emoji:"😔",message:"다음에는 더 좋은 선택을 해보세요!",achievement:"💔 Learning Experience"};case"solo":return{title:"홀로서기",description:"연애보다는 자신의 성장에 집중했습니다. 때로는 혼자만의 시간이 가장 소중한 법입니다.",background:"from-blue-400 via-teal-500 to-green-500",emoji:"🚶‍♂️",message:"자신만의 길을 걸어가는 것도 훌륭한 선택입니다.",achievement:"🎯 Self Growth"};default:return{title:"새로운 시작",description:"학원 생활이 끝났습니다. 어떤 결말이든 새로운 시작의 기회입니다.",background:"from-purple-400 via-pink-500 to-purple-600",emoji:"✨",message:"새로운 모험이 기다리고 있습니다!"}}})(m);E.useEffect(()=>{const S=setTimeout(()=>j(1),500),h=setTimeout(()=>j(2),1500),C=setTimeout(()=>j(3),2500);return()=>{clearTimeout(S),clearTimeout(h),clearTimeout(C)}},[]);const D=(()=>{const S=Object.values(d.affection).reduce((C,p)=>C+p,0),h=Object.entries(d.affection).reduce((C,[p,k])=>k>C.value?{char:p,value:k}:C,{char:"",value:0});return{totalAffection:S,maxAffection:h,totalStats:d.stats.intelligence+d.stats.charm+d.stats.stamina,inventoryCount:d.inventory.length,moneyEarned:d.money}})(),N=m==="true"?{grade:"S+",color:"text-yellow-400"}:m==="good"||["sakura","yuki","luna","mystery"].includes(m)?{grade:"A",color:"text-pink-400"}:m==="normal"?{grade:"B",color:"text-blue-400"}:m==="solo"?{grade:"C",color:"text-green-400"}:{grade:"D",color:"text-red-400"};return l.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${w.background} flex items-center justify-center p-4 relative overflow-hidden`,children:[l.jsx("div",{className:"absolute inset-0 opacity-20",children:[...Array(20)].map((S,h)=>l.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`},children:w.emoji},h))}),l.jsx("div",{className:"max-w-4xl w-full relative z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:`transition-all duration-1000 ${v>=1?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[l.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:w.emoji}),l.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg",children:w.title}),l.jsxs("div",{className:`text-2xl font-bold mb-8 ${N.color}`,children:["GRADE: ",N.grade]})]}),l.jsx("div",{className:`transition-all duration-1000 delay-500 ${v>=2?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/20",children:[l.jsx("p",{className:"text-lg md:text-xl text-white leading-relaxed mb-6",children:w.description}),l.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:l.jsxs("p",{className:"text-yellow-200 font-medium italic",children:['"',w.message,'"']})})]})}),w.achievement&&l.jsx("div",{className:`transition-all duration-1000 delay-1000 ${v>=3?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:l.jsx("div",{className:"bg-yellow-500/20 border-2 border-yellow-400/50 rounded-xl p-4 mb-8 backdrop-blur-sm",children:l.jsxs("div",{className:"text-yellow-300 font-bold text-lg",children:["🏆 업적 달성: ",w.achievement]})})}),l.jsx("div",{className:`transition-all duration-1000 delay-1500 ${v>=3?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[l.jsxs("button",{onClick:()=>g(!x),className:"bg-blue-600/80 hover:bg-blue-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[l.jsx("span",{children:"📊"}),x?"통계 숨기기":"통계 보기"]}),l.jsxs("button",{onClick:r,className:"bg-green-600/80 hover:bg-green-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[l.jsx("span",{children:"🔄"}),"다시 시작"]}),l.jsxs("button",{onClick:o,className:"bg-purple-600/80 hover:bg-purple-500/80 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[l.jsx("span",{children:"🏠"}),"메인 메뉴"]})]})}),x&&l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/20 animate-fadeIn",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"최종 통계"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:"기본 능력치"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-300",children:"🧠 지력"}),l.jsx("span",{className:"text-white font-medium",children:d.stats.intelligence})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-pink-300",children:"✨ 매력"}),l.jsx("span",{className:"text-white font-medium",children:d.stats.charm})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-green-300",children:"💪 체력"}),l.jsx("span",{className:"text-white font-medium",children:d.stats.stamina})]}),l.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[l.jsx("span",{className:"text-yellow-300",children:"합계"}),l.jsx("span",{className:"text-white",children:D.totalStats})]})]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:"호감도"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(d.affection).map(([S,h])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-300 capitalize",children:S}),l.jsx("span",{className:"text-white font-medium",children:h})]},S)),l.jsxs("div",{className:"flex justify-between font-bold border-t border-white/20 pt-2",children:[l.jsx("span",{className:"text-yellow-300",children:"총합"}),l.jsx("span",{className:"text-white",children:D.totalAffection})]}),l.jsxs("div",{className:"text-xs text-purple-300 mt-2",children:["최고: ",D.maxAffection.char," (",D.maxAffection.value,")"]})]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("h4",{className:"text-pink-200 font-semibold mb-3",children:"게임 진행"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-300",children:"📅 최종 일차"}),l.jsxs("span",{className:"text-white font-medium",children:[d.day,"/30"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-green-300",children:"💰 최종 소지금"}),l.jsxs("span",{className:"text-white font-medium",children:[D.moneyEarned.toLocaleString(),"원"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-yellow-300",children:"🎒 아이템 수"}),l.jsxs("span",{className:"text-white font-medium",children:[D.inventoryCount,"개"]})]})]})]})]})]})]})}),l.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          25% { transform: translateY(-10px) rotate(5deg); }
          50% { transform: translateY(-5px) rotate(-5deg); }
          75% { transform: translateY(-15px) rotate(3deg); }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})},qn=({characterId:r,emotion:o="neutral",size:d="medium",className:c=""})=>{const m={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},x=y=>{const D="#FFE5B4",R="#2C1810";let N="",S="";switch(y){case"happy":N='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":N='<circle cx="40" cy="47" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="47" r="2" fill="#000" opacity="0.8"/>',S='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"angry":N='<line x1="35" y1="42" x2="45" y2="47" stroke="#000" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#000" stroke-width="2"/>',S='<line x1="45" y1="58" x2="55" y2="58" stroke="#FF0000" stroke-width="2"/>';break;case"surprised":N='<circle cx="40" cy="45" r="3" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="3" fill="#000" opacity="0.8"/>',S='<ellipse cx="50" cy="58" rx="3" ry="5" fill="#000" opacity="0.6"/>';break;case"love":N='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:N='<circle cx="40" cy="45" r="2" fill="#000" opacity="0.8"/> <circle cx="60" cy="45" r="2" fill="#000" opacity="0.8"/>',S='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FF6B9D, #C44569)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 40 Q 50 15 80 40 Q 75 30 50 25 Q 25 30 20 40" fill="${R}"/>
        <path d="M 15 45 Q 20 35 30 40 Q 25 50 15 55 Z" fill="${R}"/>
        <path d="M 70 40 Q 80 35 85 45 Q 75 50 85 55 Z" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${D}"/>

        <!-- Eyes -->
        ${N}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${S}

        <!-- Blush -->
        <circle cx="30" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="70" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Hair accessories -->
        <circle cx="25" cy="35" r="2" fill="#FF4757"/>
        <circle cx="75" cy="35" r="2" fill="#FF4757"/>
      </svg>
    `},g=y=>{const D="#FFEEE6",R="#4A4A4A";let N="",S="";switch(y){case"happy":N='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"sad":N='<circle cx="40" cy="47" r="2" fill="#4A90E2"/> <circle cx="60" cy="47" r="2" fill="#4A90E2"/>',S='<path d="M 45 60 Q 50 55 55 60" stroke="#4A90E2" stroke-width="2" fill="none"/>';break;case"love":N='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:N='<circle cx="40" cy="45" r="2" fill="#4A90E2"/> <circle cx="60" cy="45" r="2" fill="#4A90E2"/>',S='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #A8E6CF, #7FCDCD)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 25 35 Q 50 20 75 35 Q 70 25 50 22 Q 30 25 25 35" fill="${R}"/>
        <rect x="45" y="22" width="10" height="25" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="23" ry="28" fill="${D}"/>

        <!-- Eyes -->
        ${N}

        <!-- Glasses -->
        <circle cx="40" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <circle cx="60" cy="45" r="8" fill="none" stroke="#333" stroke-width="1"/>
        <line x1="48" y1="45" x2="52" y2="45" stroke="#333" stroke-width="1"/>

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${S}

        <!-- Blush -->
        <circle cx="28" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>
        <circle cx="72" cy="52" r="2" fill="#FFB6C1" opacity="0.4"/>

        <!-- Book -->
        <rect x="15" y="70" width="12" height="8" fill="#8B4513" rx="1"/>
        <line x1="21" y1="70" x2="21" y2="78" stroke="#654321" stroke-width="1"/>
      </svg>
    `},v=y=>{const D="#FFE8D6",R="#FFD700";let N="",S="";switch(y){case"happy":N='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"love":N='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:N='<circle cx="40" cy="45" r="2" fill="#9B59B6"/> <circle cx="60" cy="45" r="2" fill="#9B59B6"/>',S='<path d="M 45 55 Q 50 58 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #FFB347, #FFCC5C)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 20 38 Q 50 18 80 38 Q 75 28 50 23 Q 25 28 20 38" fill="${R}"/>
        <path d="M 15 42 Q 25 32 35 38 Q 30 48 20 52" fill="${R}"/>
        <path d="M 65 38 Q 75 32 85 42 Q 80 48 70 52" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${D}"/>

        <!-- Eyes -->
        ${N}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${S}

        <!-- Blush -->
        <circle cx="29" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>
        <circle cx="71" cy="52" r="3" fill="#FFB6C1" opacity="0.6"/>

        <!-- Magic sparkles -->
        <circle cx="20" cy="25" r="1" fill="#FFD700"/>
        <circle cx="80" cy="30" r="1" fill="#FFD700"/>
        <circle cx="85" cy="60" r="1" fill="#FFD700"/>
        <circle cx="15" cy="65" r="1" fill="#FFD700"/>

        <!-- Star accessory -->
        <path d="M 70 30 L 72 35 L 77 35 L 73 38 L 75 43 L 70 40 L 65 43 L 67 38 L 63 35 L 68 35 Z" fill="#9B59B6"/>
      </svg>
    `},j=y=>{const D="#F5F5DC",R="#2C2C2C";let N="",S="";switch(y){case"happy":N='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#666" stroke-width="2" fill="none"/>';break;case"love":N='<path d="M 35 42 L 40 47 L 45 42 L 42.5 39 L 40 40 L 37.5 39 Z" fill="#FF69B4"/> <path d="M 55 42 L 60 47 L 65 42 L 62.5 39 L 60 40 L 57.5 39 Z" fill="#FF69B4"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF1493" stroke-width="2" fill="none"/>';break;default:N='<circle cx="40" cy="45" r="2" fill="#8E44AD"/> <circle cx="60" cy="45" r="2" fill="#8E44AD"/>',S='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #2C3E50, #34495E)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 18 40 Q 50 15 82 40 Q 77 25 50 20 Q 23 25 18 40" fill="${R}"/>
        <path d="M 12 48 Q 18 38 28 42 Q 23 52 12 58" fill="${R}"/>
        <path d="M 72 42 Q 82 38 88 48 Q 77 52 88 58" fill="${R}"/>

        <!-- Face (partially in shadow) -->
        <ellipse cx="50" cy="55" rx="25" ry="30" fill="${D}"/>
        <path d="M 25 45 Q 35 40 50 45 L 50 85 Q 35 80 25 75 Z" fill="#000" opacity="0.3"/>

        <!-- Eyes -->
        ${N}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.5"/>

        <!-- Mouth -->
        ${S}

        <!-- Mystery mask -->
        <path d="M 35 35 Q 50 32 65 35 Q 60 42 50 40 Q 40 42 35 35" fill="#000" opacity="0.7"/>

        <!-- Mysterious aura -->
        <circle cx="30" cy="20" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="70" cy="25" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="85" cy="70" r="1" fill="#9B59B6" opacity="0.8"/>
        <circle cx="15" cy="75" r="1" fill="#9B59B6" opacity="0.8"/>
      </svg>
    `},b=y=>{const D="#FDBCB4",R="#8B4513";let N="",S="";switch(y){case"happy":N='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',S='<path d="M 45 55 Q 50 60 55 55" stroke="#FF6B6B" stroke-width="2" fill="none"/>';break;case"determined":N='<line x1="35" y1="42" x2="45" y2="47" stroke="#654321" stroke-width="2"/> <line x1="55" y1="47" x2="65" y2="42" stroke="#654321" stroke-width="2"/>',S='<line x1="45" y1="58" x2="55" y2="58" stroke="#333" stroke-width="2"/>';break;default:N='<circle cx="40" cy="45" r="2" fill="#654321"/> <circle cx="60" cy="45" r="2" fill="#654321"/>',S='<line x1="47" y1="58" x2="53" y2="58" stroke="#666" stroke-width="1"/>'}return`
      <svg viewBox="0 0 100 100" className="w-full h-full">
        <!-- Background circle -->
        <circle cx="50" cy="50" r="48" fill="linear-gradient(135deg, #3498DB, #2980B9)" stroke="#fff" stroke-width="2"/>

        <!-- Hair -->
        <path d="M 22 38 Q 50 18 78 38 Q 73 28 50 23 Q 27 28 22 38" fill="${R}"/>
        <path d="M 18 45 Q 28 35 38 40 Q 33 50 23 55" fill="${R}"/>
        <path d="M 62 40 Q 72 35 82 45 Q 77 50 67 55" fill="${R}"/>

        <!-- Face -->
        <ellipse cx="50" cy="55" rx="24" ry="29" fill="${D}"/>

        <!-- Eyes -->
        ${N}

        <!-- Nose -->
        <circle cx="50" cy="50" r="1" fill="#DEB887" opacity="0.7"/>

        <!-- Mouth -->
        ${S}

        <!-- Sword emblem -->
        <rect x="75" y="15" width="2" height="15" fill="#C0C0C0"/>
        <rect x="73" y="12" width="6" height="3" fill="#FFD700"/>
      </svg>
    `},w=()=>{switch(r){case"sakura":return l.jsx("div",{dangerouslySetInnerHTML:{__html:x(o)}});case"yuki":return l.jsx("div",{dangerouslySetInnerHTML:{__html:g(o)}});case"luna":return l.jsx("div",{dangerouslySetInnerHTML:{__html:v(o)}});case"mystery":return l.jsx("div",{dangerouslySetInnerHTML:{__html:j(o)}});case"hero":return l.jsx("div",{dangerouslySetInnerHTML:{__html:b(o)}});default:return l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white text-2xl",children:"?"})}};return l.jsx("div",{className:`${m[d]} ${c} rounded-full overflow-hidden shadow-lg border-2 border-white/20`,children:w()})},Tf=Pe.memo(({isLoggedIn:r,user:o,onLogout:d})=>{const c=bt(),{resetGame:m,loadGame:x}=he(p=>p.actions),[g,v]=E.useState(0),[j,b]=E.useState(!1);E.useEffect(()=>{const p=localStorage.getItem("academyDatingSim");b(!!p)},[]);const w=E.useCallback(()=>{d(),window.location.reload()},[d]);E.useEffect(()=>{const p=setInterval(()=>{v(k=>(k+1)%4)},2e3);return()=>clearInterval(p)},[]);const y=E.useCallback(()=>{m(),c("/character-creation")},[m,c]),D=E.useCallback(()=>{x(),c("/game")},[x,c]),R=E.useCallback(()=>{c("/account-creation")},[c]),N=E.useCallback(()=>{c("/login")},[c]),S=E.useCallback(()=>{c("/settings")},[c]),h=E.useCallback(()=>{c("/game-info")},[c]),C=E.useMemo(()=>Array.from({length:20},(p,k)=>l.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`},"aria-hidden":"true",children:l.jsx("div",{className:"w-2 h-2 bg-white/20 rounded-full"})},k)),[]);return l.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 text-text-primary",children:[l.jsx("div",{className:"absolute inset-0 overflow-hidden","aria-hidden":"true",children:C}),l.jsxs("div",{className:"relative z-10 max-w-6xl w-full",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-6xl md:text-8xl font-bold bg-gradient-to-r from-secondary via-primary to-accent bg-clip-text text-transparent mb-4 animate-pulse",children:"Labyrinth Academy"}),l.jsx("h2",{className:"text-2xl md:text-3xl text-text-primary mb-2",children:"데이팅 시뮬레이션 게임"}),l.jsx("p",{className:"text-lg text-text-secondary",children:"마법과 모험이 가득한 학원에서 특별한 인연을 만나보세요"})]}),l.jsxs("div",{className:"flex justify-center items-center gap-8 mb-12",children:[l.jsxs("div",{className:`transition-all duration-1000 ${g===0?"scale-110":"scale-100"}`,children:[l.jsx(qn,{characterId:"sakura",emotion:g===0?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),l.jsxs("div",{className:"text-center mt-2",children:[l.jsx("div",{className:"text-text-primary font-semibold",children:"사쿠라"}),l.jsx("div",{className:"text-text-secondary text-sm",children:"검술부 에이스"})]})]}),l.jsxs("div",{className:`transition-all duration-1000 ${g===1?"scale-110":"scale-100"}`,children:[l.jsx(qn,{characterId:"yuki",emotion:g===1?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),l.jsxs("div",{className:"text-center mt-2",children:[l.jsx("div",{className:"text-text-primary font-semibold",children:"유키"}),l.jsx("div",{className:"text-text-secondary text-sm",children:"도서부 부장"})]})]}),l.jsxs("div",{className:`transition-all duration-1000 ${g===2?"scale-110":"scale-100"}`,children:[l.jsx(qn,{characterId:"luna",emotion:g===2?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),l.jsxs("div",{className:"text-center mt-2",children:[l.jsx("div",{className:"text-text-primary font-semibold",children:"루나"}),l.jsx("div",{className:"text-text-secondary text-sm",children:"마법학부 수석"})]})]}),l.jsxs("div",{className:`transition-all duration-1000 ${g===3?"scale-110":"scale-100"}`,children:[l.jsx(qn,{characterId:"mystery",emotion:g===3?"happy":"neutral",size:"large",className:"hover:scale-110 transition-transform cursor-pointer"}),l.jsxs("div",{className:"text-center mt-2",children:[l.jsx("div",{className:"text-text-primary font-semibold",children:"???"}),l.jsx("div",{className:"text-text-secondary text-sm",children:"수수께끼의 전학생"})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-border",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:"게임 시작"}),r&&o&&l.jsxs("div",{className:"bg-green-500/20 border border-green-400/30 rounded-lg p-3 mb-4",children:[l.jsx("div",{className:"text-green-300 text-sm",children:"로그인됨"}),l.jsx("div",{className:"text-text-primary font-medium",children:o.username})]}),l.jsx("button",{onClick:y,disabled:!r,className:`w-full py-4 px-6 text-text-primary font-bold rounded-xl transition-all duration-300 transform shadow-lg ${r?"bg-primary hover:bg-secondary hover:scale-105":"bg-gray-500 cursor-not-allowed opacity-50"}`,"aria-label":r?"새로운 게임 시작하기":"로그인 후 게임 시작 가능",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"🎮"}),l.jsx("span",{children:r?"새 게임 시작":"로그인 후 이용 가능"})]})}),j&&l.jsx("button",{onClick:D,className:"w-full py-4 px-6 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg","aria-label":"저장된 게임 불러오기",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"📂"}),l.jsx("span",{children:"게임 불러오기"})]})}),l.jsx("button",{onClick:R,className:"w-full py-4 px-6 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg","aria-label":"새 계정 생성하기",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"👤"}),l.jsx("span",{children:"계정 생성"})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:"계정 관리"}),l.jsx("button",{onClick:r?w:N,className:"w-full py-4 px-6 bg-orange-500 hover:bg-red-600 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg","aria-label":r?"계정에서 로그아웃하기":"계정에 로그인하기",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-2xl","aria-hidden":"true",children:r?"🚪":"🔐"}),l.jsx("span",{children:r?"로그아웃":"로그인"})]})}),l.jsx("button",{onClick:S,className:"w-full py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"게임 설정 페이지로 이동",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-xl","aria-hidden":"true",children:"⚙️"}),l.jsx("span",{children:"설정"})]})}),l.jsx("button",{onClick:h,className:"w-full py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"게임 정보 페이지로 이동",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-xl","aria-hidden":"true",children:"ℹ️"}),l.jsx("span",{children:"게임 정보"})]})}),l.jsx("button",{onClick:()=>c("/api-test"),className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105","aria-label":"API 연결 테스트 페이지로 이동",role:"button",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-xl","aria-hidden":"true",children:"🔗"}),l.jsx("span",{children:"API 테스트"})]})})]})]}),l.jsxs("div",{className:"mt-8 border-t border-border pt-6",children:[l.jsx("h4",{className:"text-lg font-bold text-text-primary mb-4",children:"게임 특징"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"bg-primary/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:"💕"}),l.jsx("div",{className:"text-text-primary font-semibold",children:"로맨스"}),l.jsx("div",{className:"text-text-secondary text-sm",children:"다양한 캐릭터와의 특별한 인연"})]}),l.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:"⚔️"}),l.jsx("div",{className:"text-text-primary font-semibold",children:"던전 탐험"}),l.jsx("div",{className:"text-blue-200 text-sm",children:"신비한 던전에서의 모험"})]}),l.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:"📚"}),l.jsx("div",{className:"text-text-primary font-semibold",children:"학원 생활"}),l.jsx("div",{className:"text-green-200 text-sm",children:"마법 학원에서의 일상"})]})]})]})]}),l.jsx("div",{className:"text-center mt-8 text-text-secondary",children:l.jsx("p",{children:"© 2024 Labyrinth Academy Dating Sim. Made with ❤️"})})]})]})});Tf.displayName="Homepage";const fg=({onLogin:r})=>{const[o,d]=E.useState(""),[c,m]=E.useState(""),[x,g]=E.useState(!1),[v,j]=E.useState(""),b=bt(),w=async y=>{y.preventDefault(),g(!0),j("");try{await new Promise(R=>setTimeout(R,1e3)),r(o,c)?b("/"):j("아이디 또는 비밀번호가 잘못되었습니다.")}catch{j("로그인 중 오류가 발생했습니다.")}finally{g(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"로그인"}),l.jsx("p",{className:"text-purple-200",children:"계정에 로그인하여 게임을 계속하세요"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"아이디"}),l.jsx("input",{type:"text",value:o,onChange:y=>d(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"아이디를 입력하세요",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"비밀번호"}),l.jsx("input",{type:"password",value:c,onChange:y=>m(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"비밀번호를 입력하세요",required:!0})]}),v&&l.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:l.jsx("p",{className:"text-red-300 text-sm",children:v})}),l.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:x?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"로그인 중..."})]}):"로그인"})]}),l.jsxs("div",{className:"mt-6 text-center space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-1 h-px bg-white/20"}),l.jsx("span",{className:"text-white/50 text-sm",children:"또는"}),l.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),l.jsx("button",{onClick:()=>b("/character-creation"),className:"w-full py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105",children:"새 계정 만들기"}),l.jsx("button",{onClick:()=>b("/"),className:"w-full py-2 px-4 text-purple-300 hover:text-white transition-colors",children:"홈으로 돌아가기"}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("button",{className:"text-purple-300 hover:text-white text-sm transition-colors",children:"비밀번호를 잊으셨나요?"})})]}),l.jsxs("div",{className:"mt-6 bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:"데모 계정"}),l.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[l.jsx("p",{children:"아이디: demo"}),l.jsx("p",{children:"비밀번호: password"})]})]})]})})},hg=({onCancel:r})=>{const o=bt(),{resetGame:d}=he(A=>A.actions),[c,m]=E.useState(1),[x,g]=E.useState(!1),[v,j]=E.useState(""),[b,w]=E.useState({playerName:"",startingStats:{intelligence:10,charm:10,stamina:10,strength:10,agility:10,luck:10}}),y=Object.values(b.startingStats).reduce((A,z)=>A+z,0),D=80,R=D-y,N=(A,z)=>{w(V=>({...V,[A]:z}))},S=(A,z)=>{const V=Math.max(5,Math.min(20,z));Object.values(b.startingStats).reduce((xe,oe)=>xe+oe,0)-b.startingStats[A]+V<=D&&w(xe=>({...xe,startingStats:{...xe.startingStats,[A]:V}}))},h=()=>b.playerName.trim()?b.playerName.length<2?"캐릭터 이름은 최소 2자 이상이어야 합니다.":null:"캐릭터 이름을 입력해주세요.",C=()=>{if(j(""),c===1){const A=h();if(A){j(A);return}}m(A=>A+1)},p=async()=>{j(""),g(!0);try{await new Promise(A=>setTimeout(A,1e3)),d(b),o("/game")}catch{j("캐릭터 생성 중 오류가 발생했습니다.")}finally{g(!1)}},k=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"캐릭터 설정"}),l.jsx("p",{className:"text-purple-200",children:"게임에서 사용할 캐릭터 이름을 설정하세요"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsx(qn,{characterId:"hero",size:"large"})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"캐릭터 이름"}),l.jsx("input",{type:"text",value:b.playerName,onChange:A=>N("playerName",A.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 text-center",placeholder:"캐릭터 이름을 입력하세요"})]}),l.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-blue-300 font-semibold mb-2",children:"캐릭터 정보"}),l.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[l.jsx("p",{children:"• 학원의 신입생으로 시작합니다"}),l.jsx("p",{children:"• 다양한 활동을 통해 능력치를 성장시킬 수 있습니다"}),l.jsx("p",{children:"• 히로인들과의 관계를 발전시켜 특별한 엔딩을 볼 수 있습니다"})]})]})]}),B=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"능력치 분배"}),l.jsxs("p",{className:"text-purple-200",children:["총 ",D,"포인트를 각 능력치에 분배하세요 (남은 포인트: ",R,")"]})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(b.startingStats).map(([A,z])=>{const W={intelligence:{name:"지력",icon:"🧠",color:"blue"},charm:{name:"매력",icon:"✨",color:"pink"},stamina:{name:"체력",icon:"🏃",color:"green"},strength:{name:"힘",icon:"💪",color:"orange"},agility:{name:"민첩",icon:"🏃‍♂️",color:"cyan"},luck:{name:"행운",icon:"🍀",color:"yellow"}}[A];return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 w-24",children:[l.jsx("span",{className:"text-lg",children:W.icon}),l.jsx("span",{className:"text-white font-medium",children:W.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx("button",{onClick:()=>S(A,z-1),disabled:z<=5,className:"w-8 h-8 bg-red-500/50 hover:bg-red-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"-"}),l.jsxs("div",{className:"flex-1 mx-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-white",children:z}),l.jsxs("span",{className:"text-gray-400",children:[z,"/20"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`bg-gradient-to-r from-${W.color}-400 to-${W.color}-600 h-2 rounded-full transition-all duration-300`,style:{width:`${z/20*100}%`}})})]}),l.jsx("button",{onClick:()=>S(A,z+1),disabled:z>=20||R<=0,className:"w-8 h-8 bg-green-500/50 hover:bg-green-500/70 disabled:bg-gray-500/30 disabled:cursor-not-allowed text-white rounded-full flex items-center justify-center transition-colors",children:"+"})]})]},A)})}),l.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"능력치 안내"}),l.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[l.jsx("p",{children:"• 지력: 학습 활동과 마법 관련 이벤트에 영향"}),l.jsx("p",{children:"• 매력: 캐릭터와의 관계 발전에 중요"}),l.jsx("p",{children:"• 체력: 활동할 수 있는 시간과 체력 관리"}),l.jsx("p",{children:"• 힘: 전투와 물리적 활동에 영향"}),l.jsx("p",{children:"• 민첩: 전투 순서와 회피율에 영향"}),l.jsx("p",{children:"• 행운: 랜덤 이벤트와 드롭률에 영향"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-lg w-full",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between text-sm text-purple-300 mb-2",children:[l.jsxs("span",{children:["단계 ",c,"/2"]}),l.jsxs("span",{children:[Math.round(c/2*100),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${c/2*100}%`}})})]}),c===1&&k(),c===2&&B(),v&&l.jsx("div",{className:"mt-6 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:l.jsx("p",{className:"text-red-300 text-sm",children:v})}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[c>1&&l.jsx("button",{onClick:()=>m(A=>A-1),className:"flex-1 py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:"이전"}),c<2?l.jsx("button",{onClick:C,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105",children:"다음"}):l.jsx("button",{onClick:p,disabled:x||R!==0,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:x?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"생성 중..."})]}):"캐릭터 생성"})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("button",{onClick:()=>r?r():o("/"),className:"text-purple-300 hover:text-white text-sm transition-colors",children:r?"취소":"홈으로 돌아가기"})})]})})},of=({monsterId:r,size:o="medium"})=>{const d={small:"text-2xl",medium:"text-4xl",large:"text-6xl"};return l.jsx("div",{className:`${d[o]} flex items-center justify-center`,children:l.jsx("span",{children:r})})},xg=({player:r,currentFloor:o,onMovePlayer:d,onInteract:c})=>{const[m,x]=E.useState(null),[g,v]=E.useState(r.dungeonProgress.position),[j,b]=E.useState(!1),[w,y]=E.useState(null);E.useEffect(()=>{v(r.dungeonProgress.position)},[r.dungeonProgress.position]);const D=(S,h,C)=>{const p=g.x===S&&g.y===h,k=w&&w.to.x===S&&w.to.y===h,B=w&&w.from.x===S&&w.from.y===h;if(p||k)return l.jsx("div",{className:`absolute inset-0 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg transition-all duration-300 ${j?"animate-pulse":""} ${k?"scale-110":"scale-100"}`,style:{animation:k?"playerArrive 0.3s ease-out":B?"playerLeave 0.3s ease-in":"none",zIndex:10},children:l.jsx("span",{className:"animate-bounce",children:"🚶"})});switch(C){case 0:return l.jsx("div",{className:"w-full h-full bg-gray-100 hover:bg-gray-200 transition-colors cursor-pointer"});case 1:return l.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-sm"})});case 2:return l.jsx("div",{className:"w-full h-full bg-green-400 flex items-center justify-center cursor-pointer",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"S"})});case 3:return l.jsx("div",{className:"w-full h-full bg-yellow-400 flex items-center justify-center cursor-pointer hover:bg-yellow-500 transition-colors",children:l.jsx("span",{className:"text-yellow-800 text-xs font-bold",children:"↑"})});case 4:const A=o.treasures.find(z=>z.position.x===S&&z.position.y===h);return l.jsx("div",{className:`w-full h-full ${A?.opened?"bg-brown-300":"bg-yellow-600"} flex items-center justify-center cursor-pointer hover:scale-110 transition-transform`,children:l.jsx("span",{className:"text-yellow-100 text-xs",children:A?.opened?"📦":"💰"})});case 5:return l.jsx("div",{className:"w-full h-full bg-red-500 flex items-center justify-center cursor-pointer hover:bg-red-600 transition-colors",children:l.jsx("span",{className:"text-white text-xs",children:"👹"})});case 6:return l.jsx("div",{className:"w-full h-full bg-purple-600 flex items-center justify-center cursor-pointer hover:bg-purple-700 transition-colors",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"👑"})});default:return l.jsx("div",{className:"w-full h-full bg-gray-300"})}},R=(S,h,C)=>{if(C===1)return;const p=g.x,k=g.y;(Math.abs(S-p)<=1&&Math.abs(h-k)<=1&&Math.abs(S-p)+Math.abs(h-k)===1||S===p&&h===k)&&(S===p&&h===k?c(S,h):(b(!0),y({from:{x:p,y:k},to:{x:S,y:h}}),setTimeout(()=>{d(S,h),b(!1),y(null)},300)),x({x:S,y:h}))},N=(S,h,C)=>{switch(S){case 0:return"빈 공간";case 1:return"벽";case 2:return"시작 지점";case 3:return"다음 층으로 가는 계단";case 4:return o.treasures.find(k=>k.position.x===h&&k.position.y===C)?.opened?"빈 상자":"보물 상자";case 5:return"몬스터 출현 지점";case 6:return"보스 방";default:return"알 수 없는 지역"}};return l.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-blue-900 to-purple-900 p-6 rounded-lg shadow-2xl",children:[l.jsx("style",{children:`
        @keyframes playerArrive {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.7;
          }
          100% {
            transform: scale(1) rotate(360deg);
            opacity: 1;
          }
        }
        @keyframes playerLeave {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          100% {
            transform: scale(0);
            opacity: 0;
          }
        }
        @keyframes cellPulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.7; }
        }
        .player-sprite {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
      `}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-bold text-white",children:[o.name," (층 ",o.id,")"]}),l.jsxs("div",{className:"text-sm text-purple-200",children:["위치: (",g.x,", ",g.y,")"]})]}),l.jsx("p",{className:"text-purple-200 text-sm mb-4",children:o.description}),l.jsx("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:l.jsx("div",{className:"grid gap-1 mx-auto",style:{gridTemplateColumns:`repeat(${o.layout[0].length}, 1fr)`,maxWidth:"400px"},children:o.layout.map((S,h)=>S.map((C,p)=>l.jsx("div",{className:`
                  w-8 h-8 border border-gray-600 relative overflow-hidden
                  ${m?.x===p&&m?.y===h?"ring-2 ring-blue-400 animate-pulse":""}
                  ${w&&w.to.x===p&&w.to.y===h?"bg-blue-300/20":""}
                  transition-all duration-200
                `,onClick:()=>R(p,h,C),title:N(C,p,h),style:{animation:w&&w.to.x===p&&w.to.y===h?"cellPulse 0.3s":"none"},children:D(p,h,C)},`${p}-${h}`)))})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs text-purple-200",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),l.jsx("span",{children:"플레이어"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-gray-800"}),l.jsx("span",{children:"벽"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-yellow-600 flex items-center justify-center text-white text-xs",children:"💰"}),l.jsx("span",{children:"보물"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-red-500 flex items-center justify-center text-white text-xs",children:"👹"}),l.jsx("span",{children:"몬스터"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-yellow-400 flex items-center justify-center text-yellow-800 text-xs",children:"↑"}),l.jsx("span",{children:"계단"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-purple-600 flex items-center justify-center text-white text-xs",children:"👑"}),l.jsx("span",{children:"보스"})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-red-900/20 p-3 rounded-lg border border-red-500/30",children:[l.jsx("h4",{className:"font-bold text-red-200 mb-2",children:"등장 몬스터"}),l.jsxs("div",{className:"space-y-2",children:[o.enemies.map(S=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(of,{monsterId:S.sprite,size:"small"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-red-200",children:S.name}),l.jsxs("div",{className:"text-xs text-red-300",children:["HP: ",S.hp," | 공격: ",S.attack]})]})]},S.id)),o.boss&&l.jsx("div",{className:"border-t border-red-500/30 pt-2 mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(of,{monsterId:o.boss.sprite,size:"small"}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-yellow-200 font-bold",children:[o.boss.name," (보스)"]}),l.jsxs("div",{className:"text-xs text-yellow-300",children:["HP: ",o.boss.hp," | 공격: ",o.boss.attack]})]})]})})]})]}),l.jsxs("div",{className:"bg-yellow-900/20 p-3 rounded-lg border border-yellow-500/30",children:[l.jsx("h4",{className:"font-bold text-yellow-200 mb-2",children:"보물 상자"}),l.jsx("div",{className:"space-y-1",children:o.treasures.map(S=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("span",{className:S.opened?"text-gray-400 line-through":"text-yellow-200",children:["위치: (",S.position.x,", ",S.position.y,")"]}),S.opened&&l.jsx("span",{className:"text-green-300 ml-2",children:"✓ 개봉함"})]},S.id))})]})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("p",{className:"text-purple-200 text-sm",children:"인접한 칸을 클릭하여 이동하거나, 현재 위치를 클릭하여 상호작용하세요."})})]})},pg=({enemy:r,onVictory:o,onDefeat:d,onFlee:c})=>{bt();const m=he(ie=>ie.player),{updateHpMp:x,gainExperience:g,addGold:v}=he(ie=>ie.actions),[j,b]=E.useState(r.hp),[w,y]=E.useState(!0),[D,R]=E.useState([`${r.name}이(가) 나타났다!`]),[N,S]=E.useState(!1),[h,C]=E.useState(""),[p,k]=E.useState(""),[B,A]=E.useState(!1),z=ie=>{R(K=>[...K,ie])},V=(ie,K)=>{const U=ie.attack||ie.strength,X=K.defense||0,P=Math.random()*.4+.8;return Math.max(1,Math.floor((U-X/2)*P))},W=()=>{if(!w||N||B)return;S(!0),C("attack");const ie=V(m.stats,r),K=Math.random()<.1,U=K?ie*2:ie;setTimeout(()=>{k("hurt"),b(X=>{const P=Math.max(0,X-U);return z(`플레이어의 공격! ${K?"크리티컬!":""} ${U}의 데미지!`),P<=0&&(z(`${r.name}을(를) 물리쳤다!`),ve()),P}),setTimeout(()=>{C(""),k(""),S(!1),j>U&&(y(!1),setTimeout(()=>ee(),1e3))},500)},500)},ee=()=>{if(w||N||B)return;S(!0),k("attack");const ie=V(r,m.stats);setTimeout(()=>{C("hurt"),x(-ie,0),z(`${r.name}의 공격! ${ie}의 데미지!`),m.hp-ie<=0&&(z("플레이어가 쓰러졌다..."),Ce()),setTimeout(()=>{C(""),k(""),S(!1),y(!0)},500)},500)},xe=ie=>{if(!w||N||B)return;S(!0),C("skill");let K=0,U=0;switch(ie){case"fireball":K=Math.floor(m.stats.intelligence*2),U=10;break;case"heal":const X=Math.floor(m.stats.intelligence*1.5);x(X,-10),z(`회복 마법! HP를 ${X} 회복했다!`),y(!1),setTimeout(()=>ee(),1e3);return;default:K=V(m.stats,r)}if(m.mp<U){z("MP가 부족합니다!"),S(!1),C("");return}x(0,-U),setTimeout(()=>{k("hurt"),b(X=>{const P=Math.max(0,X-K);return z(`${ie} 사용! ${K}의 데미지!`),P<=0&&(z(`${r.name}을(를) 물리쳤다!`),ve()),P}),setTimeout(()=>{C(""),k(""),S(!1),j>K&&(y(!1),setTimeout(()=>ee(),1e3))},500)},500)},oe=()=>{if(!w||N||B)return;const ie=m.stats.agility/(m.stats.agility+r.agility);Math.random()<ie?(z("성공적으로 도망쳤다!"),A(!0),setTimeout(()=>c(),1500)):(z("도망칠 수 없었다!"),y(!1),setTimeout(()=>ee(),1e3))},ve=()=>{A(!0);const ie={exp:r.experience,gold:r.gold||Math.floor(Math.random()*50)+20,items:[]};g(ie.exp),v(ie.gold),setTimeout(()=>{o(ie)},2e3)},Ce=()=>{A(!0),setTimeout(()=>{d()},2e3)};return l.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-red-900 via-black to-purple-900 z-50",children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('/battle-bg.jpg')] bg-cover bg-center opacity-30"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),l.jsxs("div",{className:"relative h-full flex items-center justify-between px-8 md:px-20",children:[l.jsxs("div",{className:`flex flex-col items-center ${h}`,children:[l.jsx("div",{className:`text-8xl mb-4 transition-all duration-300 ${h==="attack"?"translate-x-10 scale-125":""} ${h==="hurt"?"animate-pulse text-red-500":""} ${h==="skill"?"animate-spin":""}`,children:"🗡️"}),l.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-lg p-4 border-2 border-blue-500",children:[l.jsx("div",{className:"text-white font-bold mb-2",children:m.name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400",children:"HP"}),l.jsxs("div",{className:"w-32 bg-gray-800 rounded-full h-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-red-600 to-red-400 rounded-full transition-all duration-500",style:{width:`${m.hp/m.maxHp*100}%`}}),l.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[m.hp,"/",m.maxHp]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-400",children:"MP"}),l.jsxs("div",{className:"w-32 bg-gray-800 rounded-full h-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-blue-600 to-blue-400 rounded-full transition-all duration-500",style:{width:`${m.mp/m.maxMp*100}%`}}),l.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[m.mp,"/",m.maxMp]})]})]})]})]})]}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:l.jsx("div",{className:"text-6xl font-bold text-yellow-500 animate-pulse drop-shadow-2xl",children:"VS"})}),l.jsxs("div",{className:`flex flex-col items-center ${p}`,children:[l.jsx("div",{className:`text-8xl mb-4 transition-all duration-300 ${p==="attack"?"-translate-x-10 scale-125":""} ${p==="hurt"?"animate-pulse text-red-500":""}`,children:r.sprite}),l.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-lg p-4 border-2 border-red-500",children:[l.jsx("div",{className:"text-white font-bold mb-2",children:r.name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400",children:"HP"}),l.jsxs("div",{className:"w-32 bg-gray-800 rounded-full h-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-red-600 to-red-400 rounded-full transition-all duration-500",style:{width:`${j/r.maxHp*100}%`}}),l.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[j,"/",r.maxHp]})]})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["공격력: ",r.attack," | 방어력: ",r.defense]})]})]})]})]})]}),l.jsx("div",{className:"bg-black/80 backdrop-blur border-t border-gray-700 p-4",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"bg-gray-900/50 rounded-lg p-3 h-24 overflow-y-auto mb-4",children:D.slice(-4).map((ie,K)=>l.jsx("div",{className:"text-sm text-gray-300 mb-1",children:ie},K))})})}),l.jsx("div",{className:"bg-gradient-to-t from-purple-900 to-black/80 backdrop-blur border-t border-purple-700 p-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx("button",{onClick:W,disabled:!w||N||B,className:`p-4 rounded-lg font-bold text-white transition-all ${!w||N||B?"bg-gray-600 opacity-50 cursor-not-allowed":"bg-red-600 hover:bg-red-700 hover:scale-105 active:scale-95"}`,children:"⚔️ 공격"}),l.jsx("button",{onClick:()=>xe("fireball"),disabled:!w||N||B||m.mp<10,className:`p-4 rounded-lg font-bold text-white transition-all ${!w||N||B||m.mp<10?"bg-gray-600 opacity-50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:scale-105 active:scale-95"}`,children:"🔥 파이어볼 (10 MP)"}),l.jsx("button",{onClick:()=>xe("heal"),disabled:!w||N||B||m.mp<10,className:`p-4 rounded-lg font-bold text-white transition-all ${!w||N||B||m.mp<10?"bg-gray-600 opacity-50 cursor-not-allowed":"bg-green-600 hover:bg-green-700 hover:scale-105 active:scale-95"}`,children:"💚 회복 (10 MP)"}),l.jsx("button",{onClick:oe,disabled:!w||N||B,className:`p-4 rounded-lg font-bold text-white transition-all ${!w||N||B?"bg-gray-600 opacity-50 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-700 hover:scale-105 active:scale-95"}`,children:"🏃 도망"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("div",{className:`inline-block px-6 py-2 rounded-full font-bold ${w?"bg-blue-600 text-white":"bg-red-600 text-white"}`,children:w?"플레이어 턴":"적 턴"})})]})})]})})},gg=[{id:1,name:"학원 지하실",description:"학원 건물 아래 숨겨진 지하실. 오래된 책과 수상한 물건들이 널려있다.",layout:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,2,0,1,0,3,1],[1,0,0,0,1,0,0,1],[1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,1],[1,0,4,0,0,0,5,1],[1,1,1,1,1,1,1,1]],enemies:[{id:"dustBunny",name:"먼지 토끼",hp:15,maxHp:15,attack:5,defense:2,agility:8,experience:10,drops:[{itemId:"energyDrink",chance:.3,quantity:1}],sprite:"🐰",description:"오래된 책에서 나온 작은 먼지 덩어리. 해롭지는 않다."}],treasures:[{id:"chest1",position:{x:2,y:2},contents:[{itemId:"healingPotion",chance:1,quantity:2},{itemId:"flower",chance:.5,quantity:1}],opened:!1},{id:"chest2",position:{x:6,y:2},contents:[{itemId:"studyGuide",chance:1,quantity:1}],opened:!1}],nextFloorRequirement:{bossDefeated:!1}},{id:2,name:"마법 연구실",description:"버려진 마법 연구실. 여전히 마법의 잔재가 남아있다.",layout:[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,1,0,0,0,1],[1,0,2,0,0,0,0,3,0,1],[1,0,0,0,1,1,0,0,0,1],[1,1,0,1,1,1,1,0,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,1,0,0,6,1],[1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"magicBook",name:"마법서",hp:25,maxHp:25,attack:8,defense:4,agility:6,experience:20,drops:[{itemId:"manaPotion",chance:.4,quantity:1},{itemId:"mirror",chance:.2,quantity:1}],sprite:"📚",description:"스스로 날아다니는 마법서. 위험한 주문을 시전한다."}],treasures:[{id:"magicChest1",position:{x:2,y:2},contents:[{itemId:"manaPotion",chance:1,quantity:3},{itemId:"charm",chance:.3,quantity:1}],opened:!1},{id:"magicChest2",position:{x:7,y:2},contents:[{itemId:"mysticStaff",chance:.8,quantity:1}],opened:!1},{id:"secretChest",position:{x:8,y:8},contents:[{itemId:"mysteryKey",chance:1,quantity:1}],opened:!1}],boss:{id:"shadowMage",name:"그림자 마법사",hp:80,maxHp:80,attack:15,defense:8,agility:10,experience:100,drops:[{itemId:"mageRobe",chance:.8,quantity:1},{itemId:"wisdomPendant",chance:.3,quantity:1},{itemId:"experienceScroll",chance:1,quantity:3}],sprite:"🧿",description:"어둠의 힘에 타락한 옛 마법사. 강력한 어둠 마법을 구사한다."},nextFloorRequirement:{bossDefeated:!0}},{id:3,name:"고대 유적",description:"학원 설립 이전부터 존재했던 고대 유적. 신비한 힘이 느껴진다.",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,1,1,1,1,0,3,0,1],[1,0,0,0,1,0,0,1,0,0,0,1],[1,0,1,0,1,0,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,0,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,4,0,1,1,1,1,0,5,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"ancientGuardian",name:"고대 수호자",hp:50,maxHp:50,attack:12,defense:10,agility:4,experience:40,drops:[{itemId:"strengthAmulet",chance:.2,quantity:1},{itemId:"plateArmor",chance:.1,quantity:1}],sprite:"🗿",description:"고대 유적을 지키는 돌 수호자. 느리지만 강력하다."}],treasures:[{id:"ancientChest1",position:{x:2,y:2},contents:[{itemId:"steelSword",chance:.7,quantity:1},{itemId:"healingPotion",chance:1,quantity:5}],opened:!1},{id:"ancientChest2",position:{x:9,y:2},contents:[{itemId:"luckRing",chance:.6,quantity:1}],opened:!1},{id:"sacredAltar",position:{x:6,y:10},contents:[{itemId:"jewelryBox",chance:1,quantity:1},{itemId:"statBooster",chance:.5,quantity:1}],opened:!1}],boss:{id:"ancientDragon",name:"고대 드래곤",hp:150,maxHp:150,attack:25,defense:15,agility:8,experience:200,drops:[{itemId:"wisdomPendant",chance:1,quantity:1},{itemId:"jewelryBox",chance:.8,quantity:1},{itemId:"experienceScroll",chance:1,quantity:5}],sprite:"🐉",description:"고대 유적의 최고 수호자. 전설적인 힘을 지녔다."},nextFloorRequirement:{bossDefeated:!0,itemRequired:"mysteryKey"}},{id:4,name:"얼음 동굴",description:"영원히 얼어붙은 동굴. 극한의 추위가 모험자를 시험한다.",layout:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,1,1,0,0,0,3,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,4,4,0,0,0,0,1],[1,0,1,1,0,0,0,0,1,1,0,1],[1,0,0,1,0,5,5,0,1,0,0,1],[1,1,0,1,0,0,0,0,1,0,1,1],[1,0,0,0,0,1,1,0,0,0,0,1],[1,0,0,0,0,0,6,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"iceGolem",name:"얼음 골렘",hp:80,maxHp:80,attack:18,defense:15,agility:3,experience:60,gold:80,drops:[{itemId:"iceShard",chance:.3,quantity:1}],sprite:"🧊",description:"얼음으로 만들어진 거대한 골렘"},{id:"frostSprite",name:"서리 정령",hp:45,maxHp:45,attack:22,defense:8,agility:12,experience:45,gold:60,sprite:"❄️",description:"차가운 바람을 조종하는 정령"}],treasures:[{id:"iceChest1",position:{x:5,y:5},contents:[{itemId:"frostArmor",chance:.8,quantity:1}],opened:!1},{id:"iceChest2",position:{x:6,y:5},contents:[{itemId:"healingPotion",chance:1,quantity:10}],opened:!1}],boss:{id:"iceQueen",name:"얼음 여왕",hp:250,maxHp:250,attack:35,defense:20,agility:10,experience:300,gold:500,drops:[{itemId:"iceQueenCrown",chance:.7,quantity:1},{itemId:"experienceScroll",chance:1,quantity:10}],sprite:"👸",description:"얼음 동굴의 절대적인 지배자"},nextFloorRequirement:{bossDefeated:!0}},{id:5,name:"용암 지대",description:"뜨거운 용암이 흐르는 위험한 지역. 한 걸음 실수하면 끝이다.",layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,0,1,1,0,0,0,0,3,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,4,4,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,0,1,1,1,0,1],[1,0,0,0,0,0,5,5,0,0,0,0,0,1],[1,1,1,0,1,1,0,0,1,1,0,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,1,1,6,6,1,1,1,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1]],enemies:[{id:"lavaSerpent",name:"용암 뱀",hp:90,maxHp:90,attack:28,defense:10,agility:15,experience:80,gold:100,sprite:"🐍",description:"용암 속에서 태어난 불의 뱀"},{id:"fireElemental",name:"화염 정령",hp:70,maxHp:70,attack:32,defense:5,agility:8,experience:70,gold:90,sprite:"🔥",description:"순수한 화염으로 이루어진 정령"}],treasures:[{id:"lavaChest1",position:{x:6,y:5},contents:[{itemId:"fireResistRing",chance:.9,quantity:1}],opened:!1},{id:"lavaChest2",position:{x:7,y:5},contents:[{itemId:"phoenixFeather",chance:.5,quantity:1}],opened:!1}],boss:{id:"firedragon",name:"화염 드래곤",hp:400,maxHp:400,attack:45,defense:25,agility:12,experience:500,gold:1e3,drops:[{itemId:"dragonScale",chance:.8,quantity:1},{itemId:"legendaryWeapon",chance:.3,quantity:1}],sprite:"🐲",description:"용암 지대의 최강자, 전설의 화염 드래곤"},nextFloorRequirement:{bossDefeated:!0,levelRequired:30}}],bg={floors:gg},Uc=bg.floors,yg=()=>{const r=bt(),o=he(W=>W.player),{updateHpMp:d,advanceTime:c,addItem:m,goToNextFloor:x}=he(W=>W.actions),v=Uc.find(W=>W.id===o.dungeonProgress.currentFloor)||Uc[0],[j,b]=E.useState(!1),[w,y]=E.useState(null),[D,R]=E.useState("던전에 입장했습니다!"),[N,S]=E.useState(!1),[h,C]=E.useState(o.dungeonProgress.position),p=()=>{r("/game")},k=(W,ee)=>{if(W<0||ee<0||ee>=v.layout.length||W>=v.layout[0].length||v.layout[ee][W]===1)return;C({x:W,y:ee}),he.setState(oe=>({player:{...oe.player,dungeonProgress:{...oe.player.dungeonProgress,position:{x:W,y:ee}}}}));const xe=v.layout[ee][W];if(xe===5||xe===0&&Math.random()<.2){const oe=v.enemies||[],ve=oe[Math.floor(Math.random()*oe.length)]||{id:"slime",name:"슬라임",hp:30,maxHp:30,attack:10,defense:5,agility:8,experience:15,gold:10,sprite:"🟢"},Ce={...ve,hp:ve.hp||ve.maxHp,gold:ve.gold||Math.floor(Math.random()*50)+20};y(Ce),R(`${Ce.name}이(가) 나타났습니다!`),b(!0)}else if(xe===6&&v.boss){const oe={...v.boss,hp:v.boss.hp||v.boss.maxHp,gold:v.boss.gold||200};y(oe),R(`보스 ${oe.name}이(가) 나타났습니다!`),b(!0)}else R("던전을 탐험 중입니다...")},B=(W,ee)=>{switch(v.layout[ee][W]){case 3:const oe=v.treasures?.find(Ce=>Ce.position.x===W&&Ce.position.y===ee);if(oe){let Ce=[];oe.contents.forEach(ie=>{if(Math.random()<ie.chance){for(let K=0;K<ie.quantity;K++)m(ie.itemId);Ce.push(`${ie.itemId} x${ie.quantity}`)}}),Ce.length>0?R(`보물 상자를 열어 ${Ce.join(", ")}을(를) 획득했습니다!`):R("보물 상자가 비어있었습니다.")}else R("보물 상자를 발견했지만, 지금은 열 수 없는 것 같습니다.");break;case 4:Uc.some(Ce=>Ce.id===v.id+1)?(R("다음 층으로 이동합니다."),x()):R("더 이상 내려갈 곳이 없습니다. 여기가 마지막 층입니다.");break;case 2:R("함정에 걸렸습니다! 체력이 감소했습니다."),d(-15,0);break;default:R("특별한 것이 없습니다.")}},A=W=>{b(!1),y(null),R(`승리! 경험치 +${W.exp}, 골드 +${W.gold}를 획득했습니다!`);const ee=v.layout[h.y][h.x];(ee===5||ee===6)&&(v.layout[h.y][h.x]=0)},z=()=>{b(!1),y(null),R("패배했습니다... 던전 입구로 돌아갑니다.");const W={x:1,y:1};C(W),he.setState(ee=>({player:{...ee.player,dungeonProgress:{...ee.player.dungeonProgress,position:W}}}))},V=()=>{b(!1),y(null),R("전투에서 도망쳤습니다.")};return j&&w?l.jsx(pg,{enemy:w,onVictory:A,onDefeat:z,onFlee:V}):l.jsxs("div",{className:"min-h-screen bg-background p-4 text-text-primary",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-4 mb-4 border border-border",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-500 to-primary bg-clip-text text-transparent",children:"⚔️ 던전 탐험"}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition",children:"🚪 던전 나가기"})})]})}),l.jsx("div",{className:"bg-black/40 backdrop-blur-md rounded-lg shadow-lg p-4 mb-4 border border-border",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-text-primary",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400",children:"❤️"}),l.jsxs("span",{children:["체력: ",o.hp,"/",o.maxHp]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-400",children:"💧"}),l.jsxs("span",{children:["마나: ",o.mp,"/",o.maxMp]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-yellow-400",children:"⭐"}),l.jsxs("span",{children:["레벨: ",o.level]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-purple-400",children:"🏢"}),l.jsxs("span",{children:["층수: ",o.dungeonProgress.currentFloor]})]})]})}),l.jsx("div",{className:"bg-black/20 border-l-4 border-accent text-accent p-4 mb-4 rounded",children:l.jsx("p",{className:"font-medium",children:D})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[l.jsx("div",{className:"lg:col-span-3",children:l.jsxs("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-4 border border-border",children:[l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-4",children:"🗺️ 던전 지도"}),l.jsx(xg,{player:{...o,dungeonProgress:{...o.dungeonProgress,position:h}},currentFloor:v,onMovePlayer:k,onInteract:B})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-4 border border-border",children:[l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"🎮 조작"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("div",{}),l.jsx("button",{onClick:()=>k(h.x,h.y-1),className:"p-2 bg-primary hover:bg-secondary text-white rounded transition",children:"↑"}),l.jsx("div",{}),l.jsx("button",{onClick:()=>k(h.x-1,h.y),className:"p-2 bg-primary hover:bg-secondary text-white rounded transition",children:"←"}),l.jsx("button",{onClick:()=>B(h.x,h.y),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition text-sm",children:"조사"}),l.jsx("button",{onClick:()=>k(h.x+1,h.y),className:"p-2 bg-primary hover:bg-secondary text-white rounded transition",children:"→"}),l.jsx("div",{}),l.jsx("button",{onClick:()=>k(h.x,h.y+1),className:"p-2 bg-primary hover:bg-secondary text-white rounded transition",children:"↓"}),l.jsx("div",{})]})]}),l.jsxs("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-4 border border-border",children:[l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"⚡ 행동"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>R("주변을 살펴보았습니다."),className:"w-full p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"🔍 주변 조사"}),l.jsx("button",{onClick:()=>{d(20,10),c(),R("휴식을 취해 체력과 마나를 회복했습니다.")},className:"w-full p-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition",children:"💤 휴식"}),l.jsx("button",{onClick:()=>S(!0),className:"w-full p-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:"🎒 인벤토리"})]})]}),l.jsxs("div",{className:"bg-black/50 backdrop-blur-md rounded-lg shadow-lg p-4 border border-border",children:[l.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:"📋 범례"}),l.jsxs("div",{className:"space-y-1 text-sm text-text-secondary",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-blue-500 rounded"}),l.jsx("span",{children:"플레이어"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-gray-800 rounded"}),l.jsx("span",{children:"벽"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-gray-200 rounded"}),l.jsx("span",{children:"통로"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-yellow-500 rounded"}),l.jsx("span",{children:"보물"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-green-500 rounded"}),l.jsx("span",{children:"계단"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 bg-red-500 rounded"}),l.jsx("span",{children:"몬스터"})]})]})]})]})]})]}),N&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-background rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto border border-border",children:[l.jsxs("div",{className:"sticky top-0 bg-background/80 backdrop-blur-md border-b border-border p-4 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"🎒 인벤토리"}),l.jsx("button",{onClick:()=>S(!1),className:"text-text-secondary hover:text-text-primary text-2xl",children:"✕"})]}),l.jsx("div",{className:"p-4",children:l.jsx(Mf,{onClose:()=>S(!1)})})]})})]})},qc=Cf.items,vg=()=>{const r=bt(),o=he(A=>A.player),{buyItem:d,updateMoney:c,sellItem:m}=he(A=>A.actions),[x,g]=E.useState("buy"),[v,j]=E.useState(null),[b,w]=E.useState("전체"),y=Object.values(qc).filter(A=>A.type==="gift"||A.type==="consumable"),D=["전체","선물","소모품","특별"],R=y.filter(A=>b==="전체"?!0:b==="선물"?A.category==="선물":b==="소모품"?A.category==="소모품":b==="특별"?A.rarity==="rare"||A.rarity==="legendary":!0),N=he(A=>A.player.inventory),S=E.useMemo(()=>{const A=N.reduce((z,V)=>(z[V]=(z[V]||0)+1,z),{});return Object.entries(A).map(([z,V])=>({...qc[z],count:V}))},[N]),h=A=>{if(o.money<A.value){alert("골드가 부족합니다!");return}c(-A.value),d(A.id),alert(`${A.name}을(를) 구매했습니다!`)},C=A=>{const z=Math.floor(A.value/2);m(A.id,z),alert(`${A.name}을(를) ${z}G에 판매했습니다!`),j(null)},p=A=>{g(A),j(null)},k=A=>{switch(A){case"common":return"일반";case"uncommon":return"고급";case"rare":return"희귀";case"epic":return"영웅";case"legendary":return"전설";default:return"일반"}},B=v?qc[v]:null;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 to-purple-200 p-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"🏪 아카데미 상점"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("span",{className:"text-yellow-600",children:"💰"}),l.jsxs("span",{className:"font-semibold text-gray-800",children:[o.money," 골드"]})]})]}),l.jsx("button",{onClick:()=>r("/game"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transition",children:"게임으로 돌아가기"})]})}),l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-1 rounded-xl shadow-md",children:[l.jsxs("button",{onClick:()=>p("buy"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${x==="buy"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[l.jsx("span",{role:"img","aria-label":"buy",children:"🛍️"})," 구매"]}),l.jsxs("button",{onClick:()=>p("sell"),className:`px-8 py-3 text-lg font-bold rounded-lg transition-all duration-300 ${x==="sell"?"bg-gradient-to-r from-green-500 to-teal-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-200"}`,children:[l.jsx("span",{role:"img","aria-label":"sell",children:"💸"})," 판매"]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:x==="buy"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex gap-2 mb-4",children:D.map(A=>l.jsx("button",{onClick:()=>w(A),className:`px-4 py-2 rounded-lg font-medium transition ${b===A?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:A},A))}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:R.map(A=>l.jsx("div",{onClick:()=>j(A.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${v===A.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-3xl",children:A.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:A.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.description}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded ${A.rarity==="legendary"?"bg-yellow-100 text-yellow-800":A.rarity==="epic"?"bg-purple-100 text-purple-800":A.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:k(A.rarity)}),l.jsxs("span",{className:"font-bold text-yellow-700",children:[A.value," G"]})]})]})]})},A.id))})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto pr-2",children:S.length>0?S.map(A=>l.jsx("div",{onClick:()=>j(A.id),className:`p-4 rounded-xl cursor-pointer transition border-2 ${v===A.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-3xl",children:A.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-semibold text-gray-800",children:[A.name," ",l.jsxs("span",{className:"text-sm text-gray-500",children:["x",A.count]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.description}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded ${A.rarity==="legendary"?"bg-yellow-100 text-yellow-800":A.rarity==="epic"?"bg-purple-100 text-purple-800":A.rarity==="rare"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:k(A.rarity)}),l.jsxs("span",{className:"font-bold text-green-700",children:["판매가: ",Math.floor(A.value/2)," G"]})]})]})]})},A.id)):l.jsxs("div",{className:"col-span-full text-center text-gray-500 py-8",children:[l.jsx("span",{className:"text-4xl mb-4 block",children:"🎒"}),l.jsx("p",{children:"판매할 아이템이 없습니다."})]})})}),l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"상세 정보"}),B?l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-6xl mb-2",children:B.icon}),l.jsx("h4",{className:"text-xl font-bold text-gray-800",children:B.name})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:"설명"}),l.jsx("p",{className:"text-sm text-gray-600",children:B.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:"효과"}),l.jsx("div",{className:"space-y-1 text-sm",children:B.effects?.map((A,z)=>l.jsxs("div",{className:"text-gray-600",children:["• ",A.type,": ",A.value]},z))})]})]}),l.jsx("div",{className:"border-t pt-3",children:x==="buy"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"font-medium",children:"가격"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-600",children:"💰"}),l.jsxs("span",{className:"font-bold text-yellow-800",children:[B.value," 골드"]})]})]}),l.jsx("button",{onClick:()=>h(B),disabled:o.money<B.value,className:`w-full py-3 rounded-lg font-bold transition ${o.money>=B.value?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o.money>=B.value?"구매하기":"골드 부족"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"font-medium",children:"판매 가격"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-600",children:"💰"}),l.jsxs("span",{className:"font-bold text-green-800",children:[Math.floor(B.value/2)," 골드"]})]})]}),l.jsx("button",{onClick:()=>C(B),className:"w-full py-3 rounded-lg font-bold transition bg-red-500 hover:bg-red-600 text-white",children:"판매하기"})]})})]}):l.jsxs("div",{className:"text-center text-gray-500 py-8",children:[l.jsx("span",{className:"text-4xl mb-4 block",children:"📦"}),l.jsx("p",{children:"상품을 선택하면 상세 정보를 볼 수 있습니다."})]})]})]})]})})},jg={fullName:"키리시마 사쿠라 (霧島 桜)",age:18,birthday:"4월 5일",height:"165cm",bloodType:"O형",hobby:["검술 수련","고전 문학 읽기","벚꽃 구경"],favorite:["단팥빵","녹차","아침 수련"],dislike:["나태함","거짓말","폭력적인 사람"],background:"명문 검술 가문 '키리시마류'의 후계자. 5살 때부터 검을 잡았으며, 전국 고등학생 검도 대회 3연패를 달성한 천재 검사. 겉으로는 강인해 보이지만 내면은 따뜻하고 정의로운 성격.",secretStory:"사실 그녀의 가문은 고대로부터 미궁의 봉인을 지키는 수호자 가문이다. 사쿠라는 이 운명을 거부하고 평범한 삶을 원하지만, 미궁이 다시 열리면서 자신의 운명과 마주해야 한다.",personality:"책임감이 강하고 노력파. 남을 잘 돌보지만 자신의 감정 표현에는 서툴다. 정의감이 강해 불의를 보면 참지 못한다.",relationships:{yuki:"라이벌이면서도 친한 친구. 서로의 실력을 인정한다.",luna:"신비로운 그녀를 경계하면서도 호기심을 느낀다."},specialSkills:["키리시마류 비전 검술","초고속 거합","검기 방출"],weakness:"귀여운 것에 약하다. 특히 고양이를 보면 이성을 잃는다.",dream:"진정한 검의 길을 찾고, 사랑하는 사람과 평범한 행복을 누리는 것"},Ng={fullName:"유키노시타 유키 (雪ノ下 雪)",age:17,birthday:"12월 24일",height:"158cm",bloodType:"AB형",hobby:["마법 연구","천체 관측","홍차 블렌딩"],favorite:["책","고요한 장소","별이 빛나는 밤"],dislike:["시끄러운 곳","무지","규칙 위반"],background:"대대로 마법사를 배출한 유키노시타 가문의 막내. 10살에 대학 과정을 마친 천재로, 역대 최연소로 마법학부에 입학했다. 차가워 보이지만 실은 외로움을 많이 타는 성격.",secretStory:"그녀는 금지된 고대 마법을 연구하다가 시공간의 균열을 발견했다. 이 균열이 미궁과 연결되어 있음을 알게 되고, 혼자서 이를 막으려 하지만 점점 위험에 빠진다.",personality:"완벽주의자이며 이성적. 감정보다는 논리를 중시하지만, 마음 깊은 곳에는 따뜻함을 간직하고 있다.",relationships:{sakura:"그녀의 열정과 순수함을 부러워한다.",luna:"그녀의 정체를 의심하며 조사 중이다."},specialSkills:["원소 마법 마스터","시공간 마법","정신계 마법"],weakness:"체력이 약하고, 예상치 못한 상황에 당황한다. 귀여운 것을 좋아하지만 부끄러워서 숨긴다.",dream:"모든 마법의 진리를 깨닫고, 진정으로 이해해주는 사람을 만나는 것"},wg={fullName:"루나 크림슨 (Luna Crimson)",age:"???",birthday:"10월 31일",height:"162cm",bloodType:"불명",hobby:["달빛 아래 산책","오래된 책 수집","꿈 관찰"],favorite:["달빛","붉은 장미","자정의 정적"],dislike:["태양","마늘","십자가(?)"],background:"갑자기 나타난 전학생. 과거가 베일에 싸여있으며, 낮에는 잘 나타나지 않는다. 고대 뱀파이어 일족의 마지막 후예로, 인간 세계에서 공존하는 법을 배우고 있다.",secretStory:"500년 전 미궁이 처음 열렸을 때, 그녀의 일족이 봉인을 도왔다. 루나는 미궁이 다시 열릴 것을 예견하고 학교에 왔다. 그녀는 불멸의 삶에 지쳐 있으며, 진정한 사랑을 찾으면 인간이 될 수 있다는 전설을 믿고 있다.",personality:"신비롭고 우아하며, 수백 년의 지혜를 가지고 있다. 겉으로는 차가워 보이지만 실은 깊은 외로움과 슬픔을 간직하고 있다.",relationships:{sakura:"그녀의 순수한 정의감에 끌린다.",yuki:"그녀의 지적 호기심이 위험할 수 있음을 경고한다."},specialSkills:["밤의 권능","정신 지배","그림자 조작","불멸의 재생력"],weakness:"진정한 사랑 앞에서는 힘을 잃는다. 은제품과 성수에 약하다.",dream:"영원한 삶의 굴레에서 벗어나 진정한 사랑을 찾고, 한 번뿐인 인생을 살아보는 것"},Sg={fullName:"??? (미스터리)",age:"불명",birthday:"불명",height:"가변",bloodType:"불명",hobby:["관찰","수수께끼 내기","운명 조작"],favorite:["혼돈","예측 불가능한 상황","흥미로운 인간"],dislike:["예측 가능한 결말","지루함","정해진 운명"],background:"학교에 숨겨진 또 다른 존재. 때로는 학생으로, 때로는 교사로, 때로는 그림자로 나타난다. 미궁의 수호자이자 시험관.",secretStory:"고대 신들이 만든 미궁의 관리자. 수천 년 동안 가치 있는 인간을 찾아 시험해왔다. 주인공에게서 특별한 가능성을 발견하고 관심을 가진다.",personality:"변덕스럽고 장난기 많지만, 그 이면에는 깊은 지혜와 슬픔이 있다.",relationships:{all:"모든 캐릭터를 관찰하고 시험한다."},specialSkills:["현실 조작","운명 간섭","모든 것을 아는 지식"],weakness:"진정한 인간의 감정을 이해하지 못한다.",dream:"자신도 모르는 무언가를 찾고 있다. 아마도... 자유?"},kg={fullName:"타카미네 아카네 (鷹峯 茱音)",age:18,birthday:"9월 15일",height:"168cm",bloodType:"A형",hobby:["회장 업무","피아노 연주","전략 게임"],favorite:["질서","진주 테","클래식 음악"],dislike:["무질서","게으름","약속 위반"],background:"정치 명문가의 외동딸. 어린 시절부터 리더로 키워졌고, 중학교부터 학생회장을 역임했다. 완벽함 뒤에 숨겨진 외로움을 가지고 있다.",secretStory:"부모님의 기대에 부응하기 위해 자신을 억압하며 살아왔다. 진짜 자신은 자유롭게 웃고 떠들고 싶어하는 평범한 소녀다.",personality:"카리스마가 넘치고 책임감이 강하다. 하지만 내면은 부드럽고 따뜻한 마음을 가지고 있다.",relationships:{hana:"먼 친체. 서로를 가족처럼 아낀다.",rin:"그녀의 자유로움을 부러워한다.",mei:"예술적 감각을 이해하려 노력한다."},specialSkills:["카리스마 리더십","완벽한 스케줄 관리","협상 능력"],weakness:"완벽해야 한다는 강박관념. 새로운 것을 시도하기 두려워한다.",dream:"자신을 있는 그대로 받아주는 사람을 만나 진정한 모습을 보여주는 것"},Eg={fullName:"모리모토 하나 (森本 花)",age:17,birthday:"3월 8일",height:"160cm",bloodType:"B형",hobby:["요리 연구","환한 가드닝","빵 굳기"],favorite:["가족","따뜻한 수프","맛있게 먹는 사람들"],dislike:["음식 낭비","차가운 사람","혁오스러운 비판"],background:"요리사 부모님 아래 태어나 어렸을 때부터 주방에서 자랐다. 모두를 먹이고 행복하게 하는 것이 목표.",secretStory:"어렸을 때 가난함으로 굶주린 기억이 있어, 누구도 배고프지 않게 하려고 한다. 특별한 능력으로 사람의 감정을 음식의 맛으로 느낄 수 있다.",personality:"항상 웃는 햇살 같은 성격. 모성애가 강하고 다정하다.",relationships:{akane:"사촌 자매 같은 사이. 어렸을 때부터 친했다.",rin:"운동 후 영양식을 함께 준비한다.",sora:"과학적 요리에 함께 관심이 많다."},specialSkills:["천재적 요리 손재주","감정 요리법","영양학 지식"],weakness:"너무 다정해서 혼자 많은 류를 짊어진다. 자기 관리를 소홀히 한다.",dream:"사랑하는 사람들과 함께 레스토랑을 열고 행복한 가정을 만드는 것"},Cg={fullName:"키노시타 린 (木下 凛)",age:16,birthday:"7월 21일",height:"163cm",bloodType:"O형",hobby:["아침 달리기","스포츠 관람","산악 등반"],favorite:["햇살","스포츠 음료","당근 주스"],dislike:["비 오는 날","실내","정체된 것"],background:"전국 육상 대회 금메달리스트. 태양처럼 밝고 에너지 넘치는 성격으로 모두에게 사랑받는다.",secretStory:"사실 어렸을 때 큰 다치로 달리지 못할 뻔했다. 하지만 포기하지 않고 재활을 통해 더 강해졌다. 바람을 읽는 특별한 능력이 있다.",personality:"항상 긍정적이고 활발하다. 누군가 우울해하면 반드시 위로해준다.",relationships:{sakura:"운동 라이벌이자 친구.",hana:"함께 아침 조깅을 한다.",sora:"과학적 트레이닝에 관심이 많다."},specialSkills:["초인적인 체력","바람 읽기","동기부여 연설"],weakness:"비 오는 날 우울해진다. 가만히 있지 못하는 성격.",dream:"올림픽에 출전해 금메달을 따고, 사랑하는 사람과 함께 세계를 여행하는 것"},Mg={fullName:"카나자와 메이 (金沢 芽衣)",age:17,birthday:"11월 3일",height:"155cm",bloodType:"AB형",hobby:["그림 그리기","미술관 탐방","색채 수집"],favorite:["고요함","자연광","빈 캔버스"],dislike:["큰 소리","강요","틀에 박힌 것"],background:"감각적이고 예술적인 재능을 타고난 미술부의 에이스. 조용하지만 그림으로 모든 것을 표현한다.",secretStory:"그녀의 그림은 미래를 예측할 수 있다. 하지만 이 능력을 두려워하여 숨기고 있다. 색깔로 사람의 감정과 오라를 볼 수 있다.",personality:"내향적이고 예민하다. 감성이 풍부하고 서지지만 표현할 때는 대담하다.",relationships:{luna:"신비로운 영감을 주는 뮤즈.",akane:"예술을 이해하려 노력하는 모습이 고마워서.",sora:"과학과 예술의 융합에 관심이 많다."},specialSkills:["미래 예측 그림","감정 색깔 보기","초상화 재능"],weakness:"사회적 불안. 큰 소리나 갑작스러운 상황에 약하다.",dream:"자신의 그림으로 세상을 더 아름답게 만들고, 진정으로 이해해주는 사람을 만나는 것"},Tg={fullName:"하야카와 소라 (早川 空)",age:16,birthday:"2월 14일",height:"152cm",bloodType:"B형",hobby:["실험","발명","로봇 제작"],favorite:["발견","논리","효율성"],dislike:["비논리","무계획","비효율"],background:"IQ 180의 초천재 과학자. 12살에 대학 졸업, 15살에 박사학위를 취득했다. 하지만 사회성을 기르기 위해 고등학교에 다니고 있다.",secretStory:"차원 이동 장치를 개발 중이며, 평행우주의 존재를 증명하려고 한다. 감정이라는 비논리적인 존재를 이해하기 위해 학교에 다닌다.",personality:"논리적이고 분석적이다. 하지만 인간관계에는 서툴고 순수한 면이 있다.",relationships:{yuki:"지적 라이벌이자 친구.",hana:"분자 요리학에 흥미가 있다.",mei:"예술과 과학의 융합에 관심이 많다."},specialSkills:["초천재적 두뇌","차원 이론 연구","발명 재능"],weakness:"체력이 약하고 운동신경이 둔하다. 감정 표현에 서툴다.",dream:"세계를 바꾸는 발명을 하고, 감정의 비밀을 과학적으로 증명하는 것"},Af={sakura:jg,yuki:Ng,luna:wg,mystery:Sg,akane:kg,hana:Eg,rin:Cg,mei:Mg,sora:Tg},Ag=({currentCharacter:r,onCharacterSelect:o})=>{const d=Af,c=d[r];if(!c||!c.relationships)return null;const m={sakura:"🌸",yuki:"❄️",luna:"🌙",mystery:"❓",akane:"💼",hana:"🌺",rin:"⚡",mei:"🎨",sora:"🔬"},x={sakura:"사쿠라",yuki:"유키",luna:"루나",mystery:"미스터리",akane:"아카네",hana:"하나",rin:"린",mei:"메이",sora:"소라"};return l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-3 text-secondary flex items-center gap-2",children:"🔗 캐릭터 관계도"}),l.jsx("div",{className:"space-y-3",children:Object.entries(c.relationships).map(([g,v])=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/30 rounded-lg hover:bg-black/40 transition-colors",children:[l.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center text-xl border-2 border-primary/30 ${o?"cursor-pointer hover:scale-110 transition-transform":""}`,onClick:()=>o?.(g),children:m[g]||"👤"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium text-accent",children:x[g]||g}),o&&l.jsx("button",{onClick:()=>o(g),className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded hover:bg-primary/30 transition-colors",children:"보기"})]}),l.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:v})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-pink-400 to-red-400 rounded-full animate-pulse"})})]},g))}),l.jsxs("div",{className:"mt-4 pt-3 border-t border-border/30",children:[l.jsx("h6",{className:"text-sm font-medium text-text-secondary mb-2",children:"🤝 상호 관계"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(c.relationships).map(g=>{const j=d[g]?.relationships?.[r];return j?l.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-black/20 rounded",children:[l.jsxs("span",{className:"text-accent",children:[x[g],"의 시각:"]}),l.jsx("span",{className:"text-text-primary flex-1",children:j})]},g):null})})]})]})},df=Qn,We=Af,_f=Pe.memo(()=>{const r=bt(),o=he(p=>p.player),d=he(p=>p.unlockedCharacters),[c,m]=E.useState(d[0]||"sakura"),x=E.useMemo(()=>({sakura:"검도장",yuki:"도서관",luna:"마법학부",mystery:"???"}),[]),g=E.useMemo(()=>({morning:"수업 준비 중",noon:"점심시간",afternoon:"동아리 활동",evening:"자유시간",night:"휴식 중"}),[]),v=E.useCallback(p=>{const k=o.affection[p]||0;return{poise:Math.max(60+Math.floor(k/5),0),stress:Math.max(40-Math.floor(k/3),0),arousal:Math.min(20+Math.floor(k/8),100),affection:k}},[o.affection]),j=E.useCallback(p=>x[p]||"학교 본관",[x]),b=E.useCallback(p=>(o.affection[p]||0)>=70?"당신을 기다리는 중":g[o.timeOfDay]||"대화 가능",[o.affection,o.timeOfDay,g]),w=E.useCallback(p=>{const k=o.affection[p]||0;return k>=80?"특별한 의상":k>=60?"캐주얼 복장":k>=40?"학교 복장 (편안)":"학교 복장"},[o.affection]),y=E.useCallback(p=>{const k=o.affection[p]||0;return k>=90?"연인":k>=75?"매우 친밀":k>=60?"친밀한 친구":k>=40?"친구":k>=20?"지인":"낯선 사람"},[o.affection]),D=E.useCallback((p,k)=>{const B=o.affection[k]||0;if(B===0)return"최근 대화가 없습니다. 만남을 가지세요.";const A=Object.keys(p.dialogues).map(Number).sort((z,V)=>V-z);for(const z of A)if(B>=z)return p.dialogues[z.toString()]||"최근 대화가 없습니다. 만남을 가지세요.";return p.dialogues[0]||"최근 대화가 없습니다. 만남을 가지세요."},[o.affection]),R=E.useMemo(()=>({morning:"8:30 AM",noon:"12:00 PM",afternoon:"3:00 PM",evening:"6:30 PM",night:"10:00 PM"}),[]),N=E.useCallback(()=>R[o.timeOfDay]||"Unknown",[o.timeOfDay,R]),S=E.useMemo(()=>{const p=new Date,k=p.getMonth()+1,B=p.getDate(),z=["일","월","화","수","목","금","토"][p.getDay()];return`${p.getFullYear()}-${k.toString().padStart(2,"0")}-${B.toString().padStart(2,"0")} ${z}`},[]),h=E.useMemo(()=>df[c],[c]),C=E.useCallback(()=>{r("/game")},[r]);return l.jsx("div",{className:"min-h-screen bg-background p-4 text-text-primary",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg shadow-lg p-4 mb-4 border border-border",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"👥 캐릭터 카드"}),l.jsx("button",{onClick:C,className:"px-4 py-2 bg-primary hover:bg-secondary text-white rounded-lg transition","aria-label":"메인 게임 화면으로 돌아가기",role:"button",children:"🏠 게임으로 돌아가기"})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:l.jsxs("div",{className:"lg:col-span-4",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-t-lg shadow-lg p-4 border-b border-border",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 text-text-primary text-center",children:"캐릭터 선택"}),l.jsx("div",{className:"flex gap-4 justify-center overflow-x-auto pb-2",children:d.map(p=>{const k=df[p];return k?l.jsxs("button",{onClick:()=>m(p),className:`px-6 py-3 rounded-lg transition-all border-2 flex flex-col items-center gap-2 min-w-[120px] ${c===p?"border-primary bg-primary/20 scale-105 shadow-lg":"border-border hover:border-primary hover:bg-primary/10 hover:shadow-md"}`,"aria-label":`${k.name} 캐릭터 선택하기`,"aria-pressed":c===p,role:"button",children:[l.jsx("span",{className:"text-3xl","aria-hidden":"true",children:k.sprite}),l.jsx("div",{className:"font-bold text-text-primary text-sm whitespace-nowrap",children:k.name})]},p):null})})]}),h&&l.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-b-2xl shadow-2xl overflow-hidden border border-border border-t-0",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 min-h-[700px]",children:[l.jsxs("div",{className:"bg-black/20 p-8 flex flex-col items-center justify-center relative",children:["                    ",l.jsx("div",{className:"absolute top-4 right-4 text-6xl opacity-10",children:h.sprite}),l.jsxs("div",{className:"w-56 h-56 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-8xl mb-6 shadow-xl border-4 border-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),l.jsx("span",{className:"relative z-10",children:h.sprite})]}),l.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2 text-center",children:h.name}),l.jsx("p",{className:"text-secondary font-medium text-lg mb-4",children:h.role}),l.jsx("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4 w-full",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-secondary",children:v(c).affection}),l.jsx("div",{className:"text-sm text-text-secondary",children:"호감도"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-primary",children:y(c)}),l.jsx("div",{className:"text-sm text-text-secondary",children:"관계"})]})]})})]}),l.jsxs("div",{className:"lg:col-span-2 p-8",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"📍 위치"}),l.jsx("div",{className:"font-medium text-lg text-text-primary",children:j(c)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"👔 복장"}),l.jsx("div",{className:"font-medium text-lg text-text-primary",children:w(c)})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"💭 상태"}),l.jsx("div",{className:"font-medium text-lg text-text-primary",children:b(c)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"💕 관계"}),l.jsx("div",{className:"font-medium text-lg text-text-primary",children:y(c)})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"📊 상태"}),l.jsx("div",{className:"space-y-4",children:Object.entries(v(c)).map(([p,k])=>{const A={poise:{icon:"🧘",label:"침착함",color:"from-blue-400 to-blue-600"},stress:{icon:"😰",label:"스트레스",color:"from-orange-400 to-orange-600"},arousal:{icon:"💕",label:"흥분",color:"from-pink-400 to-pink-600"},affection:{icon:"💖",label:"호감도",color:"from-red-400 to-red-600"}}[p];return A?l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"font-medium flex items-center gap-2 text-text-primary",children:[l.jsx("span",{className:"text-xl",children:A.icon}),l.jsx("span",{children:A.label})]}),l.jsxs("span",{className:"font-bold text-lg text-text-primary",children:[k,"%"]})]}),l.jsx("div",{className:"w-full bg-black/50 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${A.color} transition-all duration-1000 ease-out relative`,style:{width:`${Math.max(k,0)}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent rounded-full"})})})]},p):null})})]}),We[c]&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"📖 캐릭터 정보"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"기본 정보"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary",children:"이름:"})," ",l.jsx("span",{className:"text-text-primary",children:We[c].fullName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary",children:"나이:"})," ",l.jsx("span",{className:"text-text-primary",children:We[c].age})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary",children:"생일:"})," ",l.jsx("span",{className:"text-text-primary",children:We[c].birthday})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary",children:"혈액형:"})," ",l.jsx("span",{className:"text-text-primary",children:We[c].bloodType})]})]})]}),l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"배경"}),l.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:We[c].background})]}),l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"성격"}),l.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:We[c].personality})]}),l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"취미 & 선호도"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary text-sm",children:"취미:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:We[c].hobby?.map((p,k)=>l.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs",children:p},k))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary text-sm",children:"좋아하는 것:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:We[c].favorite?.map((p,k)=>l.jsxs("span",{className:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs",children:["💙 ",p]},k))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-secondary text-sm",children:"싫어하는 것:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:We[c].dislike?.map((p,k)=>l.jsxs("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs",children:["💔 ",p]},k))})]})]})]}),l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"특별한 능력"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:We[c].specialSkills?.map((p,k)=>l.jsxs("span",{className:"bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-sm font-medium border border-purple-500/30",children:["⚡ ",p]},k))})]}),We[c].weakness&&l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"약점"}),l.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:["😅 ",We[c].weakness]})]}),l.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("h5",{className:"text-md font-semibold mb-2 text-secondary",children:"꿈과 목표"}),l.jsxs("p",{className:"text-sm text-text-primary leading-relaxed",children:["🌟 ",We[c].dream]})]}),We[c].secretStory&&o.affection[c]>=50&&l.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 backdrop-blur-sm rounded-lg p-4 border border-purple-500/30",children:[l.jsxs("h5",{className:"text-md font-semibold mb-2 text-purple-300 flex items-center gap-2",children:["🔐 비밀 이야기",l.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded",children:"호감도 50+ 잠금해제"})]}),l.jsx("p",{className:"text-sm text-purple-100 leading-relaxed",children:We[c].secretStory})]}),We[c].secretStory&&o.affection[c]<50&&l.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-gray-600/30",children:[l.jsxs("h5",{className:"text-md font-semibold mb-2 text-gray-400 flex items-center gap-2",children:["🔒 비밀 이야기",l.jsx("span",{className:"text-xs bg-gray-600/20 text-gray-400 px-2 py-1 rounded",children:"호감도 50 필요"})]}),l.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"더 깊은 관계가 되면 알 수 있을 것 같다..."})]}),l.jsx(Ag,{currentCharacter:c,onCharacterSelect:p=>{d.includes(p)&&m(p)}})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"💬 최근 대화"}),l.jsx("div",{className:"bg-black/20 rounded-lg p-6 border-l-4 border-primary",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:h.sprite}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-primary mb-2",children:h.name}),l.jsxs("p",{className:"text-text-secondary italic leading-relaxed",children:['"',D(h,c),'"']})]})]})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-lg font-bold mb-4 text-text-primary",children:"❤️ 좋아하는 것들"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:h.likes?.slice(0,8).map((p,k)=>l.jsx("span",{className:"bg-primary/20 text-primary px-4 py-2 rounded-full text-sm font-medium border border-primary/50",children:p},k))})]}),l.jsxs("div",{className:"border-t border-border pt-6 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-6 text-sm text-text-secondary",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"📅"}),l.jsx("span",{children:S})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"🕐"}),l.jsx("span",{children:N()})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"bg-accent text-background px-3 py-1 rounded-full text-sm font-medium",children:["Day ",o.day]})})]})]})]})})]})})]})})});_f.displayName="CharacterCardPage";const _g=({onCreateAccount:r})=>{const o=bt(),[d,c]=E.useState(!1),[m,x]=E.useState(""),[g,v]=E.useState({username:"",email:"",password:"",confirmPassword:""}),j=(y,D)=>{v(R=>({...R,[y]:D}))},b=()=>g.username.trim()?g.username.length<3?"아이디는 최소 3자 이상이어야 합니다.":g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)?g.password.trim()?g.password.length<6?"비밀번호는 최소 6자 이상이어야 합니다.":g.password!==g.confirmPassword?"비밀번호가 일치하지 않습니다.":null:"비밀번호를 입력해주세요.":"올바른 이메일 형식을 입력해주세요.":"이메일을 입력해주세요.":"아이디를 입력해주세요.",w=async y=>{y.preventDefault(),x("");const D=b();if(D){x(D);return}c(!0);try{await new Promise(N=>setTimeout(N,2e3)),r(g)?(alert("계정이 성공적으로 생성되었습니다!"),o("/login")):x("계정 생성 중 오류가 발생했습니다.")}catch{x("계정 생성 중 오류가 발생했습니다.")}finally{c(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"계정 생성"}),l.jsx("p",{className:"text-purple-200",children:"Labyrinth Academy에 오신 것을 환영합니다"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"아이디"}),l.jsx("input",{type:"text",value:g.username,onChange:y=>j("username",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"아이디를 입력하세요 (3자 이상)",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"이메일"}),l.jsx("input",{type:"email",value:g.email,onChange:y=>j("email",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"이메일을 입력하세요",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"비밀번호"}),l.jsx("input",{type:"password",value:g.password,onChange:y=>j("password",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"비밀번호를 입력하세요 (6자 이상)",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white text-sm font-semibold mb-2",children:"비밀번호 확인"}),l.jsx("input",{type:"password",value:g.confirmPassword,onChange:y=>j("confirmPassword",y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"비밀번호를 다시 입력하세요",required:!0})]}),m&&l.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:l.jsx("p",{className:"text-red-300 text-sm",children:m})}),l.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-4",children:[l.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"서비스 약관"}),l.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[l.jsx("p",{children:"• 본 게임은 18세 이상 이용 가능합니다"}),l.jsx("p",{children:"• 부적절한 사용자명은 제재될 수 있습니다"}),l.jsx("p",{children:"• 게임 데이터는 로컬에 저장됩니다"})]})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-500 disabled:to-gray-600 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:d?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"계정 생성 중..."})]}):"계정 생성"})]}),l.jsxs("div",{className:"flex justify-between items-center mt-6 text-sm",children:[l.jsx("button",{onClick:()=>o("/"),className:"text-purple-300 hover:text-white transition-colors",children:"← 홈으로 돌아가기"}),l.jsx("button",{onClick:()=>o("/login"),className:"text-purple-300 hover:text-white transition-colors",children:"이미 계정이 있나요? 로그인 →"})]})]})})},Dg=()=>{const r=bt();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"게임 정보"}),l.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:"← 메인으로"})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"🎮 게임 개요"}),l.jsxs("div",{className:"text-purple-200 space-y-3",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Labyrinth Academy"}),"는 마법과 모험이 가득한 학원을 배경으로 한 데이팅 시뮬레이션 게임입니다."]}),l.jsx("p",{children:"플레이어는 학원 학생이 되어 다양한 히로인들과 관계를 쌓고, 던전을 탐험하며, 자신만의 스토리를 만들어 나갑니다."}),l.jsx("p",{children:"총 30일의 학원 생활 동안 어떤 결말을 맞이할지는 당신의 선택에 달려있습니다!"})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"🎯 조작법 및 컨트롤"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-purple-200",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"기본 조작"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"이동:"})," 화면 우측의 위치 버튼 클릭"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"시간 진행:"}),' "시간 진행" 버튼 클릭']}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"활동:"})," 각 장소에서 활동 선택"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"대화:"})," 캐릭터 탭에서 대화 상대 선택"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"게임 진행"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"저장/불러오기:"})," 상단 버튼 사용"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"인벤토리:"})," 아이템 사용 및 관리"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"던전:"}),' "던전 입장" 버튼으로 탐험']}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"캐릭터 카드:"})," 히로인 상세 정보 확인"]})]})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"⚙️ 게임 시스템"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-pink-300 mb-3",children:"💕 호감도 시스템"}),l.jsxs("div",{className:"text-purple-200 space-y-2",children:[l.jsx("p",{children:"• 캐릭터와의 대화나 선물을 통해 호감도가 상승합니다"}),l.jsx("p",{children:"• 호감도에 따라 다른 대화와 이벤트가 발생합니다"}),l.jsx("p",{children:"• 높은 호감도는 특별한 엔딩으로 이어질 수 있습니다"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-3",children:"📊 스탯 시스템"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-purple-200",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"지력 (Intelligence)"}),l.jsx("div",{className:"text-sm",children:"학습 활동의 효과 증가"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"매력 (Charm)"}),l.jsx("div",{className:"text-sm",children:"캐릭터와의 관계 개선"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"체력 (Stamina)"}),l.jsx("div",{className:"text-sm",children:"활동 지속 능력"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"힘 (Strength)"}),l.jsx("div",{className:"text-sm",children:"던전 탐험 및 전투"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"민첩 (Agility)"}),l.jsx("div",{className:"text-sm",children:"회피 및 속도"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:"운 (Luck)"}),l.jsx("div",{className:"text-sm",children:"특별 이벤트 발생률"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-3",children:"⏰ 시간 시스템"}),l.jsxs("div",{className:"text-purple-200 space-y-2",children:[l.jsx("p",{children:"• 하루는 5개의 시간대로 나뉩니다: 아침, 점심, 오후, 저녁, 밤"}),l.jsx("p",{children:"• 각 시간대마다 다른 활동과 캐릭터를 만날 수 있습니다"}),l.jsx("p",{children:"• 총 30일의 제한된 시간 내에 목표를 달성해야 합니다"})]})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"👥 캐릭터 소개"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-pink-500/20 p-4 rounded-lg border border-pink-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"text-3xl",children:"🌸"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"사쿠라"}),l.jsx("p",{className:"text-pink-300",children:"검술부 에이스"})]})]}),l.jsx("p",{className:"text-purple-200 text-sm",children:"강하고 당당한 성격의 검술부 부장. 정의감이 강하고 친구들을 아끼는 마음이 깊습니다."})]}),l.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"text-3xl",children:"📚"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"유키"}),l.jsx("p",{className:"text-blue-300",children:"도서부 부장"})]})]}),l.jsx("p",{className:"text-purple-200 text-sm",children:"조용하고 지적인 성격의 도서부 부장. 책을 사랑하며 깊은 지식을 가지고 있습니다."})]}),l.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg border border-purple-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"text-3xl",children:"🌙"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"루나"}),l.jsx("p",{className:"text-purple-300",children:"마법학부 수석"})]})]}),l.jsx("p",{className:"text-purple-200 text-sm",children:"신비로운 마법학부의 수석. 천재적인 마법 실력을 가지고 있지만 어딘가 외로워 보입니다."})]}),l.jsxs("div",{className:"bg-gray-500/20 p-4 rounded-lg border border-gray-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"text-3xl",children:"❓"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"???"}),l.jsx("p",{className:"text-gray-300",children:"수수께끼의 전학생"})]})]}),l.jsx("p",{className:"text-purple-200 text-sm",children:"정체를 알 수 없는 신비한 전학생. 특별한 조건에서만 만날 수 있습니다."})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"💡 게임 팁"}),l.jsxs("div",{className:"text-purple-200 space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"각 캐릭터는 선호하는 시간대와 장소가 있습니다. 캐릭터의 일정을 파악해보세요!"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"스탯을 균형 있게 키우는 것보다는 목표에 맞게 집중하는 것이 효과적입니다."})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"선물을 주기 전에 각 캐릭터가 좋아하는 아이템을 확인해보세요."})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"던전에서는 좋은 아이템을 얻을 수 있지만, 충분한 준비가 필요합니다."})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"이벤트는 특정 조건에서 발생합니다. 다양한 선택을 시도해보세요!"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-400 mt-1",children:"▶"}),l.jsx("p",{children:"게임을 자주 저장하여 다양한 선택지를 실험해볼 수 있습니다."})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:"🏆 엔딩 정보"}),l.jsxs("div",{className:"text-purple-200 space-y-3",children:[l.jsx("p",{children:"게임에는 여러 가지 엔딩이 준비되어 있습니다:"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"bg-pink-500/20 p-3 rounded border border-pink-400/30",children:[l.jsx("div",{className:"font-semibold text-pink-300",children:"💖 캐릭터 엔딩"}),l.jsx("div",{className:"text-sm",children:"특정 캐릭터와 높은 호감도 달성"})]}),l.jsxs("div",{className:"bg-green-500/20 p-3 rounded border border-green-400/30",children:[l.jsx("div",{className:"font-semibold text-green-300",children:"😊 굿 엔딩"}),l.jsx("div",{className:"text-sm",children:"전반적으로 좋은 성과 달성"})]}),l.jsxs("div",{className:"bg-blue-500/20 p-3 rounded border border-blue-400/30",children:[l.jsx("div",{className:"font-semibold text-blue-300",children:"😐 노멀 엔딩"}),l.jsx("div",{className:"text-sm",children:"평범한 학원 생활 완주"})]}),l.jsxs("div",{className:"bg-gray-500/20 p-3 rounded border border-gray-400/30",children:[l.jsx("div",{className:"font-semibold text-gray-300",children:"😞 솔로 엔딩"}),l.jsx("div",{className:"text-sm",children:"낮은 호감도로 게임 종료"})]})]})]})]})]})})},ri={masterVolume:80,musicVolume:70,soundVolume:80,voiceVolume:80,difficulty:"normal",autoSave:!0,fastText:!1,skipRead:!1,fullscreen:!1,animations:!0},Rg=()=>{const r=bt(),[o,d]=E.useState(ri),[c,m]=E.useState(!1);E.useEffect(()=>{const y=localStorage.getItem("academyDatingSimSettings");if(y)try{const D=JSON.parse(y);d({...ri,...D})}catch(D){console.error("Failed to load settings:",D)}},[]);const x=(y,D)=>{d(R=>({...R,[y]:D})),m(!0)},g=()=>{localStorage.setItem("academyDatingSimSettings",JSON.stringify(o)),m(!1),alert("설정이 저장되었습니다!")},v=()=>{confirm("모든 설정을 기본값으로 되돌리시겠습니까?")&&(d(ri),m(!0))},j=()=>{const y=JSON.stringify(o,null,2),D=new Blob([y],{type:"application/json"}),R=URL.createObjectURL(D),N=document.createElement("a");N.href=R,N.download="academy-dating-sim-settings.json",N.click(),URL.revokeObjectURL(R)},b=y=>{const D=y.target.files?.[0];if(D){const R=new FileReader;R.onload=N=>{try{const S=JSON.parse(N.target?.result);d({...ri,...S}),m(!0),alert("설정을 불러왔습니다!")}catch{alert("설정 파일을 읽을 수 없습니다.")}},R.readAsText(D)}},w=()=>{confirm("정말로 모든 게임 데이터를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")&&confirm("진짜로 확실하시나요? 저장된 게임, 설정 등 모든 데이터가 삭제됩니다.")&&(localStorage.removeItem("academyDatingSim"),localStorage.removeItem("academyDatingSimSettings"),alert("모든 데이터가 삭제되었습니다."),r("/"))};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"게임 설정"}),l.jsxs("div",{className:"flex gap-2",children:[c&&l.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition",children:"💾 저장"}),l.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:"← 메인으로"})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"🔊 오디오 설정"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-white font-medium mb-2",children:["마스터 볼륨: ",o.masterVolume,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:o.masterVolume,onChange:y=>x("masterVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-white font-medium mb-2",children:["음악 볼륨: ",o.musicVolume,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:o.musicVolume,onChange:y=>x("musicVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-white font-medium mb-2",children:["효과음 볼륨: ",o.soundVolume,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:o.soundVolume,onChange:y=>x("soundVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-white font-medium mb-2",children:["음성 볼륨: ",o.voiceVolume,"%"]}),l.jsx("input",{type:"range",min:"0",max:"100",value:o.voiceVolume,onChange:y=>x("voiceVolume",parseInt(y.target.value)),className:"w-full h-2 bg-purple-700 rounded-lg appearance-none cursor-pointer"})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"🎮 게임플레이 설정"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-medium mb-3",children:"난이도"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","normal","hard"].map(y=>l.jsxs("button",{onClick:()=>x("difficulty",y),className:`p-3 rounded-lg border transition ${o.difficulty===y?"bg-purple-600 border-purple-400 text-white":"bg-purple-800/30 border-purple-600/30 text-purple-200 hover:bg-purple-700/40"}`,children:[y==="easy"&&"🟢 쉬움",y==="normal"&&"🟡 보통",y==="hard"&&"🔴 어려움"]},y))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.autoSave,onChange:y=>x("autoSave",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),l.jsx("span",{children:"자동 저장"})]}),l.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.fastText,onChange:y=>x("fastText",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),l.jsx("span",{children:"빠른 텍스트"})]}),l.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.skipRead,onChange:y=>x("skipRead",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),l.jsx("span",{children:"읽은 텍스트 건너뛰기"})]}),l.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.animations,onChange:y=>x("animations",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),l.jsx("span",{children:"애니메이션 효과"})]})]})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"🖥️ 화면 설정"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.fullscreen,onChange:y=>x("fullscreen",y.target.checked),className:"form-checkbox h-5 w-5 text-purple-600 rounded"}),l.jsx("span",{children:"전체화면 모드"})]})})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"📁 데이터 관리"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx("button",{onClick:j,className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"📤 설정 내보내기"}),l.jsxs("label",{className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition flex items-center justify-center gap-2 cursor-pointer",children:["📥 설정 가져오기",l.jsx("input",{type:"file",accept:".json",onChange:b,className:"hidden"})]}),l.jsx("button",{onClick:v,className:"px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"🔄 기본값으로"}),l.jsx("button",{onClick:w,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center justify-center gap-2",children:"🗑️ 모든 데이터 삭제"})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:"💾 저장/불러오기"}),l.jsxs("div",{className:"text-purple-200 space-y-4",children:[l.jsx("p",{children:"게임 저장과 불러오기는 게임 화면에서 사용할 수 있습니다."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-white mb-2",children:"자동 저장"}),l.jsx("p",{className:"text-sm",children:"주요 이벤트마다 자동으로 게임이 저장됩니다."})]}),l.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-white mb-2",children:"수동 저장"}),l.jsx("p",{className:"text-sm",children:"게임 화면에서 언제든지 저장 버튼을 눌러 저장할 수 있습니다."})]})]})]})]}),c&&l.jsx("div",{className:"fixed bottom-4 right-4 bg-orange-600 text-white p-4 rounded-lg shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"⚠️"}),l.jsx("span",{children:"저장되지 않은 변경사항이 있습니다"}),l.jsx("button",{onClick:g,className:"ml-2 px-3 py-1 bg-white text-orange-600 rounded hover:bg-gray-100 transition",children:"저장"})]})})]})})},zg=[{id:"first_love",name:"첫사랑",description:"첫 번째 히로인과 호감도 50 달성",icon:"💕",points:10,category:"romance",condition:{type:"affection",value:50}},{id:"popular",name:"인기남/인기녀",description:"모든 히로인과 호감도 30 이상",icon:"🌟",points:20,category:"romance",condition:{type:"all_affection",value:30}},{id:"true_love",name:"진정한 사랑",description:"한 히로인과 호감도 100 달성",icon:"❤️",points:30,category:"romance",condition:{type:"max_affection",value:100}},{id:"monster_slayer",name:"몬스터 슬레이어",description:"몬스터 100마리 처치",icon:"⚔️",points:15,category:"combat",condition:{type:"monsters_defeated",value:100}},{id:"dragon_slayer",name:"드래곤 슬레이어",description:"화염 드래곤 처치",icon:"🐉",points:50,category:"combat",condition:{type:"boss_defeated",value:"fire_dragon"}},{id:"dungeon_master",name:"던전 마스터",description:"모든 던전 층 클리어",icon:"🏰",points:40,category:"exploration",condition:{type:"dungeon_clear",value:5}},{id:"treasure_hunter",name:"보물 사냥꾼",description:"보물 50개 발견",icon:"💎",points:20,category:"exploration",condition:{type:"treasures_found",value:50}},{id:"millionaire",name:"백만장자",description:"100만 골드 보유",icon:"💰",points:25,category:"wealth",condition:{type:"gold",value:1e6}},{id:"quiz_master",name:"퀴즈 마스터",description:"퀴즈 게임 10회 연속 정답",icon:"🧠",points:15,category:"minigame",condition:{type:"quiz_streak",value:10}},{id:"card_shark",name:"카드 샤크",description:"카드 매칭 30초 이내 클리어",icon:"🃏",points:15,category:"minigame",condition:{type:"card_time",value:30}},{id:"level_50",name:"레벨 50 달성",description:"캐릭터 레벨 50 도달",icon:"⭐",points:30,category:"growth",condition:{type:"level",value:50}},{id:"stat_master",name:"스탯 마스터",description:"모든 스탯 50 이상",icon:"📊",points:35,category:"growth",condition:{type:"all_stats",value:50}},{id:"perfect_attendance",name:"개근상",description:"30일 연속 로그인",icon:"📅",points:20,category:"dedication",condition:{type:"login_streak",value:30}},{id:"night_owl",name:"올빼미",description:"자정 이후 플레이",icon:"🦉",points:5,category:"special",condition:{type:"play_time",value:"midnight"}},{id:"completionist",name:"완벽주의자",description:"모든 업적 달성",icon:"🏆",points:100,category:"special",condition:{type:"all_achievements",value:!0}}],Kl={achievements:zg};class za{constructor(){this.bgmAudio=null,this.sfxVolume=.5,this.bgmVolume=.3,this.isMuted=!1,this.bgmTracks={menu:"/sounds/bgm/menu.mp3",game:"/sounds/bgm/game.mp3",battle:"/sounds/bgm/battle.mp3",dungeon:"/sounds/bgm/dungeon.mp3",victory:"/sounds/bgm/victory.mp3",romantic:"/sounds/bgm/romantic.mp3"},this.sfxTracks={click:"/sounds/sfx/click.mp3",hover:"/sounds/sfx/hover.mp3",success:"/sounds/sfx/success.mp3",error:"/sounds/sfx/error.mp3",levelUp:"/sounds/sfx/levelup.mp3",attack:"/sounds/sfx/attack.mp3",damage:"/sounds/sfx/damage.mp3",heal:"/sounds/sfx/heal.mp3",coin:"/sounds/sfx/coin.mp3",open:"/sounds/sfx/open.mp3",close:"/sounds/sfx/close.mp3",notification:"/sounds/sfx/notification.mp3"};const o=localStorage.getItem("soundSettings");if(o){const d=JSON.parse(o);this.sfxVolume=d.sfxVolume??.5,this.bgmVolume=d.bgmVolume??.3,this.isMuted=d.isMuted??!1}}static getInstance(){return za.instance||(za.instance=new za),za.instance}playBGM(o){try{this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0),this.bgmAudio=new Audio(this.bgmTracks[o]),this.bgmAudio.volume=this.isMuted?0:this.bgmVolume,this.bgmAudio.loop=!0;const d=this.bgmAudio.play();d!==void 0&&d.catch(c=>{console.log("BGM autoplay prevented:",c)})}catch(d){console.error("Error playing BGM:",d)}}stopBGM(){this.bgmAudio&&(this.bgmAudio.pause(),this.bgmAudio.currentTime=0)}pauseBGM(){this.bgmAudio&&this.bgmAudio.pause()}resumeBGM(){this.bgmAudio&&!this.isMuted&&this.bgmAudio.play().catch(o=>{console.log("BGM resume prevented:",o)})}playSFX(o){if(!this.isMuted)try{const d=new Audio(this.sfxTracks[o]);d.volume=this.sfxVolume;const c=d.play();c!==void 0&&c.catch(m=>{console.log("SFX play prevented:",m)})}catch(d){console.error("Error playing SFX:",d)}}setSFXVolume(o){this.sfxVolume=Math.max(0,Math.min(1,o)),this.saveSettings()}setBGMVolume(o){this.bgmVolume=Math.max(0,Math.min(1,o)),this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}toggleMute(){return this.isMuted=!this.isMuted,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings(),this.isMuted}setMute(o){this.isMuted=o,this.bgmAudio&&(this.bgmAudio.volume=this.isMuted?0:this.bgmVolume),this.saveSettings()}getSFXVolume(){return this.sfxVolume}getBGMVolume(){return this.bgmVolume}isMutedStatus(){return this.isMuted}saveSettings(){const o={sfxVolume:this.sfxVolume,bgmVolume:this.bgmVolume,isMuted:this.isMuted};localStorage.setItem("soundSettings",JSON.stringify(o))}playClickSound(){this.playSFX("click")}playHoverSound(){this.playSFX("hover")}playSuccessSound(){this.playSFX("success")}playErrorSound(){this.playSFX("error")}playLevelUpSound(){this.playSFX("levelUp")}playCoinSound(){this.playSFX("coin")}playNotificationSound(){this.playSFX("notification")}playAttackSound(){this.playSFX("attack")}playDamageSound(){this.playSFX("damage")}playHealSound(){this.playSFX("heal")}}const He=za.getInstance(),Og=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState(r.achievements||[]),[m,x]=E.useState("all"),[g,v]=E.useState(null),j=[{id:"all",name:"전체",icon:"📋"},{id:"romance",name:"로맨스",icon:"💕"},{id:"combat",name:"전투",icon:"⚔️"},{id:"exploration",name:"탐험",icon:"🗺️"},{id:"wealth",name:"재산",icon:"💰"},{id:"minigame",name:"미니게임",icon:"🎮"},{id:"growth",name:"성장",icon:"⭐"},{id:"dedication",name:"헌신",icon:"📅"},{id:"special",name:"특별",icon:"🏆"}],b=S=>{if(d.includes(S.id))return!0;switch(S.condition.type){case"affection":return Object.values(r.affection||{}).some(h=>h>=S.condition.value);case"all_affection":return Object.values(r.affection||{}).every(h=>h>=S.condition.value);case"max_affection":return Object.values(r.affection||{}).some(h=>h>=S.condition.value);case"monsters_defeated":return(r.statistics?.monstersDefeated||0)>=S.condition.value;case"boss_defeated":return r.defeatedBosses?.includes(S.condition.value)||!1;case"dungeon_clear":return(r.dungeonProgress?.floor||1)>=S.condition.value;case"treasures_found":return(r.statistics?.treasuresFound||0)>=S.condition.value;case"gold":return r.gold>=S.condition.value;case"level":return r.level>=S.condition.value;case"all_stats":return r.strength>=S.condition.value&&r.intelligence>=S.condition.value&&r.charm>=S.condition.value&&r.luck>=S.condition.value;case"quiz_streak":return(r.statistics?.quizStreak||0)>=S.condition.value;case"card_time":return(r.statistics?.bestCardTime||1/0)<=S.condition.value;case"login_streak":return(r.statistics?.loginStreak||0)>=S.condition.value;case"play_time":if(S.condition.value==="midnight"){const h=new Date().getHours();return h>=0&&h<6}return!1;case"all_achievements":return d.length>=Kl.achievements.length-1;default:return!1}},w=S=>{if(!d.includes(S.id)){const h=[...d,S.id];c(h),o({achievements:h,achievementPoints:(r.achievementPoints||0)+S.points}),He.playSuccessSound(),v(S),setTimeout(()=>{v(null)},3e3)}};E.useEffect(()=>{Kl.achievements.forEach(S=>{b(S)&&w(S)})},[r]);const y=Kl.achievements.filter(S=>m==="all"||S.category===m),D=Kl.achievements.reduce((S,h)=>S+h.points,0),R=Kl.achievements.filter(S=>d.includes(S.id)).reduce((S,h)=>S+h.points,0),N=Math.floor(d.length/Kl.achievements.length*100);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-pink-900 p-4",children:[g&&l.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-4xl",children:g.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:"업적 달성!"}),l.jsx("div",{className:"text-lg",children:g.name}),l.jsxs("div",{className:"text-sm opacity-90",children:["+",g.points," 포인트"]})]})]})})}),l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🏆 업적"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-white",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-80",children:"달성률"}),l.jsxs("div",{className:"text-2xl font-bold",children:[N,"%"]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${N}%`}})})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-80",children:"획득 포인트"}),l.jsxs("div",{className:"text-2xl font-bold",children:[R," / ",D]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-80",children:"달성 업적"}),l.jsxs("div",{className:"text-2xl font-bold",children:[d.length," / ",Kl.achievements.length]})]})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(S=>l.jsxs("button",{onClick:()=>x(S.id),className:`px-4 py-2 rounded-lg transition-all ${m===S.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("span",{className:"mr-2",children:S.icon}),S.name]},S.id))})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(S=>{const h=d.includes(S.id);return l.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${h?"bg-gradient-to-br from-yellow-400/20 to-orange-400/20 border-2 border-yellow-400/50":"bg-black/30 border-2 border-white/10"}`,children:[h&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs px-2 py-1 rounded-full",children:"✓ 달성"})}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`text-4xl ${h?"":"opacity-30 grayscale"}`,children:S.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-bold text-lg ${h?"text-yellow-300":"text-white/70"}`,children:S.name}),l.jsx("p",{className:`text-sm mt-1 ${h?"text-white/90":"text-white/50"}`,children:S.description}),l.jsx("div",{className:"flex items-center gap-2 mt-2",children:l.jsxs("span",{className:`text-sm ${h?"text-yellow-300":"text-white/40"}`,children:["+",S.points," 포인트"]})})]})]}),!h&&l.jsx("div",{className:"mt-3",children:l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:"0%"}})})})]},S.id)})})]}),l.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})},Bg=()=>{const{player:r}=he(),[o,d]=E.useState("heroines"),c={heroines:r.metHeroines||[],monsters:r.defeatedMonsterTypes||[],items:r.collectedItems||[],endings:r.unlockedEndings||[]},m=[{id:"heroines",name:"히로인",icon:"💕"},{id:"monsters",name:"몬스터",icon:"👾"},{id:"items",name:"아이템",icon:"📦"},{id:"endings",name:"엔딩",icon:"🎭"}],x=Object.entries(Qn).map(([N,S])=>({id:N,name:S.name,description:S.role||"",icon:S.sprite||"👤",category:"heroines",unlocked:c.heroines.includes(N),affection:r.affection?.[N]||0})),g=[{id:"slime",name:"슬라임",description:"끈적끈적한 몬스터",icon:"🟢"},{id:"goblin",name:"고블린",description:"작고 교활한 몬스터",icon:"👺"},{id:"skeleton",name:"스켈레톤",description:"언데드 전사",icon:"💀"},{id:"orc",name:"오크",description:"거대한 전사",icon:"👹"},{id:"ghost",name:"유령",description:"영혼 몬스터",icon:"👻"},{id:"vampire",name:"뱀파이어",description:"피를 빨아먹는 언데드",icon:"🧛"},{id:"ice_golem",name:"얼음 골렘",description:"얼음으로 된 거인",icon:"🧊"},{id:"frost_spirit",name:"서리 정령",description:"차가운 정령",icon:"❄️"},{id:"lava_serpent",name:"용암 뱀",description:"불타는 뱀",icon:"🔥"},{id:"flame_elemental",name:"화염 정령",description:"불의 정령",icon:"🔥"},{id:"dark_knight",name:"다크 나이트",description:"타락한 기사 (보스)",icon:"⚔️"},{id:"lich_king",name:"리치 킹",description:"언데드의 왕 (보스)",icon:"👑"},{id:"ice_queen",name:"얼음 여왕",description:"얼음의 지배자 (보스)",icon:"👸"},{id:"fire_dragon",name:"화염 드래곤",description:"불의 용 (보스)",icon:"🐉"}].map(N=>({...N,category:"monsters",unlocked:c.monsters.includes(N.id)})),v=[{id:"health_potion",name:"체력 포션",description:"HP를 회복한다",icon:"🧪",rarity:"common"},{id:"mana_potion",name:"마나 포션",description:"MP를 회복한다",icon:"💙",rarity:"common"},{id:"sword",name:"검",description:"기본적인 무기",icon:"⚔️",rarity:"common"},{id:"shield",name:"방패",description:"방어구",icon:"🛡️",rarity:"common"},{id:"magic_staff",name:"마법 지팡이",description:"마법 공격력 증가",icon:"🔮",rarity:"rare"},{id:"dragon_scale",name:"드래곤 비늘",description:"전설의 재료",icon:"🐉",rarity:"legendary"},{id:"phoenix_feather",name:"피닉스 깃털",description:"부활의 힘",icon:"🪶",rarity:"legendary"},{id:"crystal_heart",name:"크리스탈 하트",description:"순수한 마력의 결정",icon:"💎",rarity:"epic"},{id:"ancient_tome",name:"고대의 서",description:"잊혀진 지식",icon:"📚",rarity:"epic"},{id:"golden_apple",name:"황금 사과",description:"신의 과실",icon:"🍎",rarity:"legendary"}].map(N=>({...N,category:"items",unlocked:c.items.includes(N.id)})),j=[{id:"true_end_luna",name:"루나 트루 엔딩",description:"루나와의 진정한 사랑",icon:"🌙"},{id:"true_end_sakura",name:"사쿠라 트루 엔딩",description:"사쿠라와의 진정한 사랑",icon:"🌸"},{id:"true_end_ice",name:"아이스 트루 엔딩",description:"아이스와의 진정한 사랑",icon:"❄️"},{id:"true_end_rose",name:"로즈 트루 엔딩",description:"로즈와의 진정한 사랑",icon:"🌹"},{id:"true_end_star",name:"스타 트루 엔딩",description:"스타와의 진정한 사랑",icon:"⭐"},{id:"harem_ending",name:"하렘 엔딩",description:"모두와 함께하는 미래",icon:"👑"},{id:"normal_ending",name:"노멀 엔딩",description:"평범한 학원 생활",icon:"🎓"},{id:"bad_ending",name:"배드 엔딩",description:"슬픈 결말",icon:"💔"},{id:"secret_ending",name:"시크릿 엔딩",description:"숨겨진 진실",icon:"🔐"},{id:"legend_ending",name:"전설 엔딩",description:"전설이 되다",icon:"🏆"}].map(N=>({...N,category:"endings",unlocked:c.endings.includes(N.id)})),w=(()=>{switch(o){case"heroines":return x;case"monsters":return g;case"items":return v;case"endings":return j;default:return[]}})(),y=w.filter(N=>N.unlocked).length,D=Math.floor(y/w.length*100),R=N=>{switch(N){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"📚 도감"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4 text-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{children:"수집률"}),l.jsxs("span",{className:"font-bold",children:[y," / ",w.length]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${D}%`}})}),l.jsxs("div",{className:"text-center mt-2 text-xl font-bold",children:[D,"%"]})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(N=>l.jsxs("button",{onClick:()=>d(N.id),className:`px-4 py-2 rounded-lg transition-all ${o===N.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("span",{className:"mr-2",children:N.icon}),N.name]},N.id))})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map(N=>l.jsxs("div",{className:`relative rounded-xl p-4 transition-all ${N.unlocked?"bg-gradient-to-br from-white/20 to-white/10 border-2 border-white/30":"bg-black/30 border-2 border-white/5"}`,children:[N.rarity&&N.unlocked&&l.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-bold text-white bg-gradient-to-r ${R(N.rarity)}`,children:N.rarity.toUpperCase()}),l.jsx("div",{className:`text-5xl text-center mb-3 ${N.unlocked?"":"grayscale opacity-30"}`,children:N.unlocked?N.icon:"❓"}),l.jsx("h3",{className:`font-bold text-center ${N.unlocked?"text-white":"text-white/30"}`,children:N.unlocked?N.name:"???"}),N.unlocked&&l.jsx("p",{className:"text-xs text-white/70 text-center mt-2",children:N.description}),N.category==="heroines"&&N.unlocked&&l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-xs text-white/60 mb-1",children:"호감도"}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${Math.min(N.affection,100)}%`}})}),l.jsxs("div",{className:"text-xs text-center text-white/80 mt-1",children:[N.affection,"/100"]})]}),!N.unlocked&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-3xl opacity-20",children:"🔒"})})]},N.id))}),w.length===0&&l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📭"}),l.jsx("p",{className:"text-xl",children:"아직 수집한 항목이 없습니다."}),l.jsx("p",{className:"text-white/70 mt-2",children:"게임을 플레이하며 다양한 컬렉션을 모아보세요!"})]})]})})},Hg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState([]),[m,x]=E.useState("daily"),[g,v]=E.useState(null),j=[{id:"daily_talk",title:"친목 도모",description:"히로인과 3번 대화하기",icon:"💬",requirement:{type:"talk",target:3},reward:{gold:500,exp:100}},{id:"daily_battle",title:"전투 훈련",description:"몬스터 5마리 처치",icon:"⚔️",requirement:{type:"battle",target:5},reward:{gold:800,exp:150}},{id:"daily_dungeon",title:"던전 탐험",description:"던전 1층 클리어",icon:"🏰",requirement:{type:"dungeon",target:1},reward:{gold:1e3,exp:200}},{id:"daily_shop",title:"쇼핑",description:"상점에서 아이템 구매",icon:"🛍️",requirement:{type:"shop",target:1},reward:{gold:300,exp:50}},{id:"daily_minigame",title:"미니게임 마스터",description:"미니게임 2회 플레이",icon:"🎮",requirement:{type:"minigame",target:2},reward:{gold:600,exp:120}}],b=[{id:"weekly_affection",title:"인기스타",description:"총 호감도 50 올리기",icon:"❤️",requirement:{type:"affection",target:50},reward:{gold:5e3,exp:1e3,achievementPoints:10}},{id:"weekly_monster",title:"몬스터 헌터",description:"몬스터 50마리 처치",icon:"👾",requirement:{type:"monster",target:50},reward:{gold:8e3,exp:1500,items:["rare_weapon"]}},{id:"weekly_level",title:"성장의 증거",description:"레벨 5 올리기",icon:"⭐",requirement:{type:"level",target:5},reward:{gold:1e4,exp:2e3,achievementPoints:20}}],w=[{id:"special_boss",title:"보스 레이드",description:"보스 몬스터 처치",icon:"🐉",requirement:{type:"boss",target:1},reward:{gold:2e4,exp:5e3,items:["legendary_item"]}},{id:"special_perfect",title:"완벽한 하루",description:"모든 일일 퀘스트 완료",icon:"🏆",requirement:{type:"all_daily",target:5},reward:{gold:15e3,achievementPoints:50}}];E.useEffect(()=>{const h=new Date().toDateString();if(localStorage.getItem("lastQuestDate")!==h){const p=j.map(V=>({...V,type:"daily",requirement:{...V.requirement,current:0},completed:!1,claimed:!1})),B=new Date().getDay()===1?b.map(V=>({...V,type:"weekly",requirement:{...V.requirement,current:0},completed:!1,claimed:!1})):y("weekly"),A=w.map(V=>({...V,type:"special",requirement:{...V.requirement,current:0},completed:!1,claimed:!1})),z=[...p,...B,...A];c(z),localStorage.setItem("lastQuestDate",h),localStorage.setItem("dailyQuests",JSON.stringify(z))}else{const p=localStorage.getItem("dailyQuests");p&&c(JSON.parse(p))}},[]);const y=h=>{const C=localStorage.getItem("dailyQuests");return C?JSON.parse(C).filter(k=>k.type===h):[]},D=h=>{if(!h.completed||h.claimed)return;const C=h.reward;let p={...r};C.gold&&(p.gold=r.gold+C.gold),C.exp&&(p.experience=r.experience+C.exp),C.achievementPoints&&(p.achievementPoints=(r.achievementPoints||0)+C.achievementPoints),o(p);const k=d.map(B=>B.id===h.id?{...B,claimed:!0}:B);c(k),localStorage.setItem("dailyQuests",JSON.stringify(k)),v(h),He.playCoinSound(),setTimeout(()=>{v(null)},2e3)},R=d.filter(h=>h.type===m),N=R.filter(h=>h.completed).length,S=R.length;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-800 to-pink-900 p-4",children:[g&&l.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce-in",children:l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white p-4 rounded-lg shadow-2xl",children:[l.jsx("div",{className:"font-bold text-lg mb-2",children:"보상 획득!"}),l.jsxs("div",{className:"flex items-center gap-3",children:[g.reward.gold&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"💰"}),l.jsxs("span",{children:["+",g.reward.gold]})]}),g.reward.exp&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"⭐"}),l.jsxs("span",{children:["+",g.reward.exp," EXP"]})]})]})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"📋 일일 퀘스트"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between text-white text-sm mb-2",children:[l.jsx("span",{children:"오늘의 진행도"}),l.jsxs("span",{children:[N," / ",S]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-full rounded-full transition-all",style:{width:`${N/S*100}%`}})})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsx("div",{className:"flex gap-2",children:["daily","weekly","special"].map(h=>l.jsxs("button",{onClick:()=>x(h),className:`px-4 py-2 rounded-lg transition-all flex-1 ${m===h?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[h==="daily"&&"일일",h==="weekly"&&"주간",h==="special"&&"특별"]},h))})}),l.jsx("div",{className:"space-y-4",children:R.map(h=>l.jsx("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${h.completed?"border-2 border-green-400/50":"border-2 border-white/10"}`,children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`text-4xl ${h.completed?"":"opacity-50"}`,children:h.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:`font-bold text-lg ${h.completed?"text-green-400":"text-white"}`,children:h.title}),h.completed&&!h.claimed&&l.jsx("span",{className:"bg-green-400 text-black text-xs px-2 py-1 rounded-full font-bold",children:"완료!"}),h.claimed&&l.jsx("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:"수령 완료"})]}),l.jsx("p",{className:"text-white/70 text-sm mt-1",children:h.description}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-1",children:[l.jsx("span",{children:"진행도"}),l.jsxs("span",{children:[h.requirement.current," / ",h.requirement.target]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-full rounded-full transition-all ${h.completed?"bg-gradient-to-r from-green-400 to-emerald-400":"bg-gradient-to-r from-blue-400 to-purple-400"}`,style:{width:`${h.requirement.current/h.requirement.target*100}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-3 text-sm",children:[l.jsx("span",{className:"text-white/60",children:"보상:"}),h.reward.gold&&l.jsxs("span",{className:"text-yellow-400",children:["💰 ",h.reward.gold]}),h.reward.exp&&l.jsxs("span",{className:"text-blue-400",children:["⭐ ",h.reward.exp," EXP"]}),h.reward.achievementPoints&&l.jsxs("span",{className:"text-purple-400",children:["🏆 ",h.reward.achievementPoints,"P"]})]})]}),h.completed&&!h.claimed&&l.jsx("button",{onClick:()=>D(h),className:"bg-gradient-to-r from-green-400 to-emerald-400 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all animate-pulse",children:"수령"})]})},h.id))}),R.length===0&&l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-8 text-center text-white",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📭"}),l.jsx("p",{className:"text-xl",children:"현재 진행 중인 퀘스트가 없습니다."})]})]}),l.jsx("style",{jsx:!0,children:`
        @keyframes bounce-in {
          0% {
            transform: translateX(-50%) scale(0.5);
            opacity: 0;
          }
          50% {
            transform: translateX(-50%) scale(1.1);
          }
          100% {
            transform: translateX(-50%) scale(1);
            opacity: 1;
          }
        }

        .animate-bounce-in {
          animation: bounce-in 0.5s ease-out;
        }
      `})]})},Ug=()=>{const{player:r,gameDate:o,updatePlayer:d}=he(),[c,m]=E.useState(o.month),[x,g]=E.useState(null),[v,j]=E.useState(r.participatedEvents||[]),b=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],w=[{id:"cherry_blossom",name:"벚꽃 축제",description:"봄의 시작을 알리는 벚꽃 축제! 히로인과 함께 벚꽃을 구경하세요.",icon:"🌸",type:"festival",date:15,month:4,duration:3,rewards:{affection:{sakura:20,luna:10,ice:10,rose:10,star:10}}},{id:"spring_sports",name:"봄 체육대회",description:"학원 전체가 참가하는 체육대회! 우승하면 큰 보상이!",icon:"🏃",type:"competition",date:25,month:5,duration:2,rewards:{gold:5e3,exp:1e3,items:["trophy"]},requirements:{level:10}},{id:"summer_festival",name:"여름 축제",description:"불꽃놀이와 함께하는 여름 축제! 유카타를 입고 참가하세요.",icon:"🎆",type:"festival",date:20,month:7,duration:3,rewards:{affection:{luna:15,sakura:15,ice:15,rose:15,star:15}}},{id:"beach_event",name:"해변 이벤트",description:"모두 함께 해변으로! 수영복 이벤트도 있어요.",icon:"🏖️",type:"special",date:10,month:8,duration:7,rewards:{gold:3e3,affection:{ice:20,rose:20}}},{id:"harvest_festival",name:"수확 축제",description:"가을 수확을 축하하는 축제. 맛있는 음식이 가득!",icon:"🍂",type:"festival",date:15,month:10,duration:3,rewards:{gold:4e3,items:["harvest_basket"]}},{id:"halloween",name:"할로윈 파티",description:"으스스한 할로윈 파티! 코스튬 대회도 열립니다.",icon:"🎃",type:"special",date:31,month:10,duration:1,rewards:{exp:2e3,items:["halloween_costume"],affection:{star:25}}},{id:"culture_festival",name:"문화제",description:"학원 최대 행사인 문화제! 각 반이 준비한 행사를 즐기세요.",icon:"🎭",type:"festival",date:20,month:11,duration:5,rewards:{gold:1e4,exp:3e3,affection:{luna:20,sakura:20,ice:20,rose:20,star:20}},requirements:{level:15}},{id:"christmas",name:"크리스마스",description:"로맨틱한 크리스마스! 특별한 선물을 준비하세요.",icon:"🎄",type:"special",date:24,month:12,duration:2,rewards:{items:["christmas_gift"],affection:{luna:30,sakura:30,ice:30,rose:30,star:30}}},{id:"new_year",name:"신년 축제",description:"새해를 맞이하는 축제! 신사 참배와 함께.",icon:"🎍",type:"seasonal",date:1,month:1,duration:3,rewards:{gold:8888,exp:2e3,items:["lucky_charm"]}},{id:"valentines",name:"발렌타인 데이",description:"사랑을 고백하는 날! 초콜릿을 주고받으세요.",icon:"💝",type:"special",date:14,month:2,duration:1,rewards:{affection:{luna:50,sakura:50,ice:50,rose:50,star:50},items:["chocolate"]},requirements:{affection:{luna:30}}},{id:"midterm_exam",name:"중간고사",description:"학업 성취도를 평가하는 중간고사. 좋은 성적을 받으면 보상이!",icon:"📝",type:"competition",date:15,month:6,duration:3,rewards:{gold:3e3,exp:1500,items:["study_guide"]},requirements:{level:5}},{id:"final_exam",name:"기말고사",description:"한 학기를 마무리하는 기말고사. 최고 성적을 목표로!",icon:"📚",type:"competition",date:15,month:12,duration:3,rewards:{gold:5e3,exp:2500,items:["diploma"]},requirements:{level:20}}],y=C=>w.filter(p=>p.month===C),D=C=>{if(C.requirements){if(C.requirements.level&&r.level<C.requirements.level){alert(`레벨 ${C.requirements.level} 이상이어야 참가할 수 있습니다.`);return}if(C.requirements.affection){for(const[B,A]of Object.entries(C.requirements.affection))if((r.affection?.[B]||0)<A){alert(`${B}의 호감도가 ${A} 이상이어야 참가할 수 있습니다.`);return}}}if(v.includes(C.id)){alert("이미 참가한 이벤트입니다!");return}let p={...r};if(C.rewards.gold&&(p.gold=r.gold+C.rewards.gold),C.rewards.exp&&(p.experience=r.experience+C.rewards.exp),C.rewards.affection){p.affection={...r.affection};for(const[B,A]of Object.entries(C.rewards.affection))p.affection[B]=(p.affection[B]||0)+A}C.rewards.items&&(p.inventory=[...r.inventory||[],...C.rewards.items.map(B=>({id:B,quantity:1}))]);const k=[...v,C.id];j(k),p.participatedEvents=k,d(p),He.playSuccessSound(),alert(`${C.name}에 참가했습니다! 보상을 획득했습니다.`),g(null)},N=(()=>{const C=new Date(o.year,c-1,1).getDay(),p=new Date(o.year,c,0).getDate(),k=[];for(let B=0;B<C;B++)k.push(null);for(let B=1;B<=p;B++)k.push(B);return k})(),S=y(c),h=C=>C?S.find(p=>C>=p.date&&C<p.date+p.duration):null;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"📅 이벤트 캘린더"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-white",children:[l.jsx("div",{className:"text-sm opacity-80",children:"현재 날짜"}),l.jsxs("div",{className:"text-xl font-bold",children:[o.year,"년 ",o.month,"월 ",o.day,"일"]})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between text-white",children:[l.jsx("button",{onClick:()=>m(c===1?12:c-1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:"◀"}),l.jsx("h2",{className:"text-2xl font-bold",children:b[c-1]}),l.jsx("button",{onClick:()=>m(c===12?1:c+1),className:"p-2 hover:bg-white/20 rounded-lg transition-all",children:"▶"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsx("div",{className:"grid grid-cols-7 gap-2 text-white mb-2",children:["일","월","화","수","목","금","토"].map(C=>l.jsx("div",{className:"text-center font-bold text-sm opacity-80",children:C},C))}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:N.map((C,p)=>{const k=h(C),B=C===o.day&&c===o.month;return l.jsx("div",{onClick:()=>k&&g(k),className:`
                      aspect-square rounded-lg p-2 flex flex-col items-center justify-center
                      ${C?"bg-white/10 hover:bg-white/20 cursor-pointer":""}
                      ${B?"ring-2 ring-yellow-400":""}
                      ${k?"bg-gradient-to-br from-purple-500/30 to-pink-500/30":""}
                      transition-all
                    `,children:C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`text-white ${B?"font-bold":""}`,children:C}),k&&l.jsx("div",{className:"text-2xl mt-1",children:k.icon})]})},p)})})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"이달의 이벤트"}),l.jsxs("div",{className:"space-y-3",children:[S.map(C=>{const p=v.includes(C.id);return l.jsx("div",{onClick:()=>g(C),className:`
                      bg-white/10 rounded-lg p-3 cursor-pointer transition-all
                      ${p?"opacity-50":"hover:bg-white/20"}
                    `,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:C.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:C.name}),l.jsxs("div",{className:"text-xs text-white/70",children:[C.month,"월 ",C.date,"일 (",C.duration,"일간)"]}),p&&l.jsx("div",{className:"text-xs text-green-400 mt-1",children:"✓ 참가 완료"})]})]})},C.id)}),S.length===0&&l.jsx("div",{className:"text-white/50 text-center py-4",children:"이달은 이벤트가 없습니다."})]})]})]}),x&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full border-2 border-white/20",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-5xl mb-3",children:x.icon}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:x.name}),l.jsxs("div",{className:"text-white/70 text-sm mt-2",children:[x.month,"월 ",x.date,"일 ~ ",x.date+x.duration-1,"일"]})]}),l.jsx("p",{className:"text-white/90 mb-4",children:x.description}),x.requirements&&l.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[l.jsx("div",{className:"text-sm font-bold text-white mb-2",children:"참가 조건"}),x.requirements.level&&l.jsxs("div",{className:"text-white/70 text-sm",children:["레벨 ",x.requirements.level," 이상"]}),x.requirements.affection&&l.jsx("div",{className:"text-white/70 text-sm",children:"호감도 조건 필요"})]}),l.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[l.jsx("div",{className:"text-sm font-bold text-white mb-2",children:"보상"}),l.jsxs("div",{className:"space-y-1",children:[x.rewards.gold&&l.jsxs("div",{className:"text-yellow-400 text-sm",children:["💰 ",x.rewards.gold," 골드"]}),x.rewards.exp&&l.jsxs("div",{className:"text-blue-400 text-sm",children:["⭐ ",x.rewards.exp," EXP"]}),x.rewards.affection&&l.jsx("div",{className:"text-pink-400 text-sm",children:"❤️ 호감도 상승"}),x.rewards.items&&l.jsx("div",{className:"text-green-400 text-sm",children:"📦 특별 아이템"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>D(x),disabled:v.includes(x.id),className:`
                    flex-1 py-3 rounded-lg font-bold transition-all
                    ${v.includes(x.id)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg"}
                  `,children:v.includes(x.id)?"참가 완료":"참가하기"}),l.jsx("button",{onClick:()=>g(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-bold transition-all",children:"닫기"})]})]})})]})})},qg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState("all"),[m,x]=E.useState(null),g=[{id:"health_potion_large",name:"대형 체력 포션",description:"HP를 100 회복한다",result:{id:"health_potion_large",quantity:1},materials:[{id:"health_potion",quantity:3},{id:"herb",quantity:2}],category:"consumable",requiredLevel:5,icon:"🧪"},{id:"iron_sword",name:"철검",description:"기본적인 철제 무기",result:{id:"iron_sword",quantity:1},materials:[{id:"iron_ore",quantity:5},{id:"wood",quantity:2}],category:"weapon",requiredLevel:3,icon:"⚔️"},{id:"magic_staff",name:"마법 지팡이",description:"마법 공격력을 증가시킨다",result:{id:"magic_staff",quantity:1},materials:[{id:"magic_crystal",quantity:3},{id:"ancient_wood",quantity:2},{id:"gold",quantity:100}],category:"weapon",requiredLevel:10,icon:"🔮"},{id:"leather_armor",name:"가죽 갑옷",description:"방어력을 증가시킨다",result:{id:"leather_armor",quantity:1},materials:[{id:"leather",quantity:5},{id:"thread",quantity:3}],category:"armor",requiredLevel:5,icon:"🦺"},{id:"crystal_ring",name:"크리스탈 반지",description:"마나를 증가시킨다",result:{id:"crystal_ring",quantity:1},materials:[{id:"crystal",quantity:2},{id:"silver",quantity:3}],category:"accessory",requiredLevel:8,icon:"💍"},{id:"dragon_scale_armor",name:"드래곤 비늘 갑옷",description:"최강의 방어구",result:{id:"dragon_scale_armor",quantity:1},materials:[{id:"dragon_scale",quantity:10},{id:"mythril",quantity:5},{id:"gold",quantity:1e3}],category:"armor",requiredLevel:25,icon:"🐉"},{id:"phoenix_feather_accessory",name:"불사조 깃털 부적",description:"한 번 부활할 수 있다",result:{id:"phoenix_feather_accessory",quantity:1},materials:[{id:"phoenix_feather",quantity:1},{id:"holy_water",quantity:5}],category:"accessory",requiredLevel:20,icon:"🪶"},{id:"elixir",name:"엘릭서",description:"HP와 MP를 완전 회복",result:{id:"elixir",quantity:1},materials:[{id:"health_potion_large",quantity:2},{id:"mana_potion_large",quantity:2},{id:"unicorn_horn",quantity:1}],category:"consumable",requiredLevel:15,icon:"🏺"}],v=[{id:"all",name:"전체",icon:"📦"},{id:"weapon",name:"무기",icon:"⚔️"},{id:"armor",name:"방어구",icon:"🛡️"},{id:"accessory",name:"액세서리",icon:"💎"},{id:"consumable",name:"소비",icon:"🧪"}],j=y=>y.materials.every(D=>{const R=r.inventory?.find(N=>N.id===D.id);return R&&R.quantity>=D.quantity}),b=y=>{if(r.level<y.requiredLevel){alert(`레벨 ${y.requiredLevel} 이상이어야 제작할 수 있습니다.`);return}if(!j(y)){alert("재료가 부족합니다!");return}let D=[...r.inventory||[]];y.materials.forEach(N=>{const S=D.findIndex(h=>h.id===N.id);S!==-1&&(D[S].quantity-=N.quantity,D[S].quantity<=0&&D.splice(S,1))});const R=D.find(N=>N.id===y.result.id);R?R.quantity+=y.result.quantity:D.push({...y.result}),o({inventory:D}),He.playSuccessSound(),alert(`${y.name}을(를) 제작했습니다!`)},w=d==="all"?g:g.filter(y=>y.category===d);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-brown-800 to-orange-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🔨 크래프팅"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex gap-4",children:[l.jsxs("div",{className:"text-white",children:[l.jsx("span",{className:"text-sm opacity-80",children:"레벨"}),l.jsx("div",{className:"font-bold",children:r.level})]}),l.jsxs("div",{className:"text-yellow-400",children:[l.jsx("span",{className:"text-sm opacity-80",children:"골드"}),l.jsx("div",{className:"font-bold",children:r.gold||0})]})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(y=>l.jsxs("button",{onClick:()=>c(y.id),className:`px-4 py-2 rounded-lg transition-all ${d===y.id?"bg-gradient-to-r from-amber-500 to-orange-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("span",{className:"mr-2",children:y.icon}),y.name]},y.id))})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(y=>{const D=r.level>=y.requiredLevel&&j(y);return l.jsxs("div",{className:`bg-black/30 backdrop-blur rounded-xl p-4 transition-all ${D?"border-2 border-amber-400/50 hover:border-amber-400":"border-2 border-white/10 opacity-75"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:"text-4xl",children:y.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-white",children:y.name}),l.jsx("p",{className:"text-sm text-white/70",children:y.description}),l.jsxs("div",{className:"text-xs text-amber-400 mt-1",children:["Lv.",y.requiredLevel," 필요"]})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2 mb-3",children:[l.jsx("div",{className:"text-sm font-bold text-white/80 mb-1",children:"재료"}),l.jsx("div",{className:"space-y-1",children:y.materials.map(R=>{const N=r.inventory?.find(h=>h.id===R.id),S=N&&N.quantity>=R.quantity;return l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:S?"text-green-400":"text-red-400",children:R.id}),l.jsxs("span",{className:S?"text-green-400":"text-red-400",children:[N?.quantity||0," / ",R.quantity]})]},R.id)})})]}),l.jsx("button",{onClick:()=>b(y),disabled:!D,className:`w-full py-2 rounded-lg font-bold transition-all ${D?"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:D?"제작하기":r.level<y.requiredLevel?"레벨 부족":"재료 부족"})]},y.id)})})]})})},Lg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState("overview"),[m,x]=E.useState(null),[g,v]=E.useState(!1),[j,b]=E.useState(""),w=[{id:"crimson_phoenix",name:"진홍의 불사조",description:"전투에 특화된 길드",icon:"🔥",level:15,exp:8500,maxExp:1e4,members:[],maxMembers:50,benefits:["공격력 +10%","던전 보상 +20%","전투 경험치 +15%"],treasury:15e4,ranking:1},{id:"azure_dragon",name:"푸른 용",description:"마법과 지식을 추구하는 길드",icon:"🐲",level:12,exp:6e3,maxExp:8e3,members:[],maxMembers:40,benefits:["마나 +20%","스킬 쿨다운 -10%","학습 속도 +25%"],treasury:12e4,ranking:2},{id:"golden_merchant",name:"황금 상단",description:"경제와 무역을 중시하는 길드",icon:"💰",level:10,exp:4500,maxExp:6e3,members:[],maxMembers:60,benefits:["상점 할인 20%","판매 가격 +15%","일일 골드 보너스"],treasury:5e5,ranking:3}],y=[{id:"daily_dungeon",name:"일일 던전 클리어",description:"길드원들이 던전을 10회 클리어",reward:{guildExp:100,treasury:5e3},requirement:"던전 10회 클리어",difficulty:"easy",progress:3,maxProgress:10},{id:"boss_raid",name:"보스 레이드",description:"강력한 보스 처치",reward:{guildExp:500,treasury:2e4,items:["legendary_weapon"]},requirement:"레이드 보스 처치",difficulty:"hard",progress:0,maxProgress:1},{id:"guild_war",name:"길드 전쟁 승리",description:"다른 길드와의 전쟁에서 승리",reward:{guildExp:1e3,treasury:5e4},requirement:"길드전 승리",difficulty:"legendary",progress:0,maxProgress:1},{id:"resource_gathering",name:"자원 수집",description:"길드 창고에 자원 기부",reward:{guildExp:200,treasury:1e4},requirement:"자원 100개 기부",difficulty:"medium",progress:45,maxProgress:100}],D=[{id:"guild_blessing",name:"길드의 축복",description:"모든 스탯 +10 (24시간)",cost:1e4,icon:"✨"},{id:"guild_teleport",name:"길드 순간이동 주문서",description:"길드 홀로 즉시 이동",cost:1e3,icon:"🌀"},{id:"guild_exp_boost",name:"경험치 부스터",description:"경험치 +50% (1시간)",cost:5e3,icon:"⭐"},{id:"guild_weapon",name:"길드 전용 무기",description:"길드원만 사용 가능한 특별 무기",cost:5e4,icon:"⚔️"},{id:"guild_mount",name:"길드 탈것",description:"이동속도 +100%",cost:1e5,icon:"🐎"}],R=()=>{if(!j){alert("길드 이름을 입력해주세요.");return}if((r.gold||0)<5e4){alert("길드 창설에는 50,000 골드가 필요합니다.");return}const h={id:`guild_${Date.now()}`,name:j,description:"새로 창설된 길드",icon:"⚔️",level:1,exp:0,maxExp:1e3,members:[{id:r.id||"player",name:r.name,role:"leader",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:"👤"}],maxMembers:20,benefits:["길드 창설자 버프"],treasury:0,ranking:999};x(h),o({gold:(r.gold||0)-5e4}),He.playSuccessSound(),v(!1)},N=h=>{const C={id:r.id||"player",name:r.name,role:"member",level:r.level,contribution:0,joinDate:new Date().toISOString(),avatar:"👤"};h.members.push(C),x(h),He.playSuccessSound(),alert(`${h.name} 길드에 가입했습니다!`)},S=h=>{switch(h){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";case"legendary":return"text-purple-400";default:return"text-white"}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"⚔️ 길드 시스템"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]})}),m?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"text-6xl",children:m.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:m.name}),l.jsx("p",{className:"text-white/70",children:m.description}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("span",{className:"text-yellow-400",children:["Lv.",m.level]}),l.jsxs("span",{className:"text-blue-400",children:["랭킹 #",m.ranking]}),l.jsxs("span",{className:"text-green-400",children:["멤버 ",m.members.length,"/",m.maxMembers]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white/80",children:"길드 금고"}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[m.treasury.toLocaleString()," G"]})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[l.jsx("span",{children:"길드 경험치"}),l.jsxs("span",{children:[m.exp," / ",m.maxExp]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-full rounded-full",style:{width:`${m.exp/m.maxExp*100}%`}})})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4",children:l.jsx("div",{className:"flex gap-2",children:["overview","members","quests","shop"].map(h=>l.jsxs("button",{onClick:()=>c(h),className:`px-4 py-2 rounded-lg transition-all ${d===h?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[h==="overview"&&"📊 개요",h==="members"&&"👥 멤버",h==="quests"&&"📜 퀘스트",h==="shop"&&"🏪 상점"]},h))})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[d==="overview"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"길드 혜택"}),l.jsx("div",{className:"grid gap-2",children:m.benefits.map((h,C)=>l.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-3 text-purple-300",children:["✨ ",h]},C))})]}),d==="members"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"길드 멤버"}),l.jsx("div",{className:"space-y-2",children:m.members.map(h=>l.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center gap-3",children:[l.jsx("div",{className:"text-2xl",children:h.avatar}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:h.name}),l.jsxs("div",{className:"text-sm text-white/70",children:["Lv.",h.level," | ",h.role==="leader"?"👑 길드장":h.role==="officer"?"⚔️ 간부":"👤 멤버"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-white/60",children:"기여도"}),l.jsx("div",{className:"text-yellow-400 font-bold",children:h.contribution})]})]},h.id))})]}),d==="quests"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"길드 퀘스트"}),l.jsx("div",{className:"grid gap-3",children:y.map(h=>l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:h.name}),l.jsx("div",{className:"text-sm text-white/70",children:h.description}),l.jsxs("div",{className:`text-sm mt-1 ${S(h.difficulty)}`,children:["난이도: ",h.difficulty.toUpperCase()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-white/60",children:"보상"}),l.jsxs("div",{className:"text-yellow-400",children:["+",h.reward.guildExp," EXP"]}),l.jsxs("div",{className:"text-green-400",children:["+",h.reward.treasury," G"]})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-2",children:[l.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[l.jsx("span",{children:"진행도"}),l.jsxs("span",{children:[h.progress," / ",h.maxProgress]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 h-full rounded-full",style:{width:`${h.progress/h.maxProgress*100}%`}})})]})]},h.id))})]}),d==="shop"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"길드 상점"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(h=>l.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-3xl",children:h.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:h.name}),l.jsx("div",{className:"text-sm text-white/70",children:h.description}),l.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxs("span",{className:"text-yellow-400 font-bold",children:[h.cost," G"]}),l.jsx("button",{className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg text-sm font-bold hover:shadow-lg transition-all",children:"구매"})]})]})]})},h.id))})]})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"길드 가입/창설"}),l.jsx("button",{onClick:()=>v(!0),className:"w-full mb-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"🏰 길드 창설 (50,000 골드)"}),l.jsx("div",{className:"grid gap-4",children:w.map(h=>l.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"text-5xl",children:h.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:h.name}),l.jsx("p",{className:"text-white/70 mb-2",children:h.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[l.jsxs("div",{className:"text-white/80",children:[l.jsxs("span",{className:"text-yellow-400",children:["Lv.",h.level]})," |",l.jsxs("span",{className:"text-blue-400",children:[" 랭킹 #",h.ranking]})]}),l.jsxs("div",{className:"text-white/80",children:["멤버: ",h.members.length,"/",h.maxMembers]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.benefits.map((C,p)=>l.jsx("span",{className:"bg-purple-500/30 px-2 py-1 rounded text-xs text-purple-300",children:C},p))}),l.jsx("button",{onClick:()=>N(h),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"가입하기"})]})]})},h.id))})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-xl p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"길드 창설"}),l.jsx("input",{type:"text",value:j,onChange:h=>b(h.target.value),placeholder:"길드 이름 입력",className:"w-full p-3 rounded-lg bg-black/30 text-white placeholder-white/50 mb-4",maxLength:20}),l.jsxs("div",{className:"text-white/70 mb-4",children:[l.jsx("p",{children:"• 창설 비용: 50,000 골드"}),l.jsx("p",{children:"• 초기 멤버 제한: 20명"}),l.jsx("p",{children:"• 길드 레벨업으로 확장 가능"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:R,className:"flex-1 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold",children:"창설하기"}),l.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg font-bold",children:"취소"})]})]})})]})]})})},Gg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState(null),[m,x]=E.useState(!1),[g,v]=E.useState([]),[j,b]=E.useState("care"),w=[{id:"cat_1",name:"루비",species:"마법 고양이",icon:"🐱",level:1,exp:0,maxExp:100,happiness:100,hunger:80,stats:{attack:10,defense:8,speed:15,intelligence:12},skills:["할퀴기","민첩"],rarity:"common"},{id:"dog_1",name:"맥스",species:"충성 강아지",icon:"🐕",level:1,exp:0,maxExp:100,happiness:100,hunger:70,stats:{attack:12,defense:10,speed:10,intelligence:8},skills:["물기","충성심"],rarity:"common"},{id:"dragon_1",name:"스파크",species:"아기 드래곤",icon:"🐉",level:1,exp:0,maxExp:150,happiness:80,hunger:60,stats:{attack:20,defense:15,speed:12,intelligence:18},skills:["화염 숨결","비행"],evolution:"adult_dragon",rarity:"legendary"},{id:"fox_1",name:"미스티",species:"구미호",icon:"🦊",level:1,exp:0,maxExp:120,happiness:90,hunger:75,stats:{attack:15,defense:12,speed:18,intelligence:20},skills:["환영","마법"],rarity:"epic"},{id:"bird_1",name:"스카이",species:"불사조",icon:"🦅",level:1,exp:0,maxExp:130,happiness:85,hunger:65,stats:{attack:18,defense:10,speed:25,intelligence:15},skills:["급강하","재생"],rarity:"epic"},{id:"rabbit_1",name:"모찌",species:"달토끼",icon:"🐰",level:1,exp:0,maxExp:90,happiness:95,hunger:85,stats:{attack:8,defense:6,speed:20,intelligence:10},skills:["점프","행운"],rarity:"rare"}],y=[{id:"basic_food",name:"기본 사료",icon:"🥫",hungerRestore:20,happinessBonus:5,cost:100},{id:"premium_food",name:"프리미엄 사료",icon:"🍖",hungerRestore:40,happinessBonus:15,cost:500},{id:"treat",name:"특별 간식",icon:"🍪",hungerRestore:10,happinessBonus:30,cost:300},{id:"magic_food",name:"마법 사료",icon:"✨",hungerRestore:50,happinessBonus:25,cost:1e3}],D=[{id:"attack_training",name:"공격 훈련",stat:"attack",cost:500,expGain:20,icon:"⚔️"},{id:"defense_training",name:"방어 훈련",stat:"defense",cost:500,expGain:20,icon:"🛡️"},{id:"speed_training",name:"속도 훈련",stat:"speed",cost:500,expGain:20,icon:"💨"},{id:"intelligence_training",name:"지능 훈련",stat:"intelligence",cost:500,expGain:20,icon:"🧠"}];E.useEffect(()=>{const p=setInterval(()=>{v(k=>k.map(B=>({...B,hunger:Math.max(0,B.hunger-1),happiness:Math.max(0,B.happiness-.5)})))},3e4);return()=>clearInterval(p)},[]);const R=p=>{const k=p.rarity==="legendary"?1e4:p.rarity==="epic"?5e3:p.rarity==="rare"?2e3:1e3;if((r.gold||0)<k){alert(`${k} 골드가 필요합니다!`);return}const B={...p,id:`${p.id}_${Date.now()}`};v([...g,B]),o({gold:(r.gold||0)-k}),He.playSuccessSound(),alert(`${p.name}을(를) 입양했습니다!`),x(!1)},N=(p,k)=>{if((r.gold||0)<k.cost){alert("골드가 부족합니다!");return}const B=g.map(A=>A.id===p.id?{...A,hunger:Math.min(100,A.hunger+k.hungerRestore),happiness:Math.min(100,A.happiness+k.happinessBonus)}:A);v(B),o({gold:(r.gold||0)-k.cost}),He.playSuccessSound()},S=(p,k)=>{if((r.gold||0)<k.cost){alert("골드가 부족합니다!");return}const B=g.map(A=>{if(A.id===p.id){const z=A.exp+k.expGain,V=z>=A.maxExp;return{...A,exp:V?z-A.maxExp:z,level:V?A.level+1:A.level,maxExp:V?A.maxExp*1.5:A.maxExp,stats:{...A.stats,[k.stat]:A.stats[k.stat]+(V?5:2)}}}return A});v(B),o({gold:(r.gold||0)-k.cost}),He.playSuccessSound()},h=p=>{if(!p.evolution||p.level<10){alert("레벨 10 이상이어야 진화할 수 있습니다!");return}const k={...p,species:"성체 "+p.species,icon:"🐲",stats:{attack:p.stats.attack*2,defense:p.stats.defense*2,speed:p.stats.speed*1.5,intelligence:p.stats.intelligence*2},skills:[...p.skills,"진화의 힘"],evolution:void 0},B=g.map(A=>A.id===p.id?k:A);v(B),He.playLevelUpSound(),alert(`${p.name}이(가) 진화했습니다!`)},C=p=>{switch(p){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-teal-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🐾 펫 시스템"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:shadow-lg transition-all",children:"🏪 펫 상점"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]})]})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"나의 펫"}),g.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🐾"}),l.jsx("p",{className:"text-white/70",children:"아직 펫이 없습니다. 펫 상점에서 입양해보세요!"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(p=>l.jsx("div",{onClick:()=>c(p),className:`bg-gradient-to-br ${C(p.rarity)} p-0.5 rounded-xl cursor-pointer hover:scale-105 transition-all`,children:l.jsxs("div",{className:"bg-black/80 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"text-4xl",children:p.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:p.name}),l.jsx("div",{className:"text-sm text-white/70",children:p.species}),l.jsxs("div",{className:"text-xs text-yellow-400",children:["Lv.",p.level]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[l.jsx("span",{children:"행복도"}),l.jsxs("span",{children:[Math.floor(p.happiness),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-red-400 h-full rounded-full",style:{width:`${p.happiness}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1",children:[l.jsx("span",{children:"배고픔"}),l.jsxs("span",{children:[Math.floor(p.hunger),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${p.hunger}%`}})})]})]})]})},p.id))})]}),d&&l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[l.jsx("div",{className:"text-8xl",children:d.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:d.name}),l.jsx("p",{className:"text-white/70",children:d.species}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("span",{className:"text-yellow-400",children:["Lv.",d.level]}),l.jsxs("span",{className:"text-blue-400",children:["EXP: ",d.exp,"/",d.maxExp]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[l.jsxs("div",{className:"bg-white/10 rounded p-2",children:[l.jsx("span",{className:"text-white/60 text-sm",children:"공격력"}),l.jsxs("div",{className:"text-white font-bold",children:["⚔️ ",d.stats.attack]})]}),l.jsxs("div",{className:"bg-white/10 rounded p-2",children:[l.jsx("span",{className:"text-white/60 text-sm",children:"방어력"}),l.jsxs("div",{className:"text-white font-bold",children:["🛡️ ",d.stats.defense]})]}),l.jsxs("div",{className:"bg-white/10 rounded p-2",children:[l.jsx("span",{className:"text-white/60 text-sm",children:"속도"}),l.jsxs("div",{className:"text-white font-bold",children:["💨 ",d.stats.speed]})]}),l.jsxs("div",{className:"bg-white/10 rounded p-2",children:[l.jsx("span",{className:"text-white/60 text-sm",children:"지능"}),l.jsxs("div",{className:"text-white font-bold",children:["🧠 ",d.stats.intelligence]})]})]})]})]}),l.jsx("div",{className:"flex gap-2 mb-4",children:["care","train","battle","evolve"].map(p=>l.jsxs("button",{onClick:()=>b(p),className:`px-4 py-2 rounded-lg transition-all ${j===p?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[p==="care"&&"🍽️ 돌보기",p==="train"&&"💪 훈련",p==="battle"&&"⚔️ 전투",p==="evolve"&&"✨ 진화"]},p))}),l.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[j==="care"&&l.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(p=>l.jsx("button",{onClick:()=>N(d,p),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-3xl",children:p.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:p.name}),l.jsxs("div",{className:"text-xs text-white/60",children:["배고픔 +",p.hungerRestore," | 행복 +",p.happinessBonus]}),l.jsxs("div",{className:"text-sm text-yellow-400",children:[p.cost," G"]})]})]})},p.id))}),j==="train"&&l.jsx("div",{className:"grid grid-cols-2 gap-3",children:D.map(p=>l.jsx("button",{onClick:()=>S(d,p),className:"bg-black/30 rounded-lg p-3 hover:bg-black/40 transition-all text-left",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-3xl",children:p.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:p.name}),l.jsxs("div",{className:"text-xs text-white/60",children:["+",p.expGain," EXP"]}),l.jsxs("div",{className:"text-sm text-yellow-400",children:[p.cost," G"]})]})]})},p.id))}),j==="battle"&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-4",children:"🚧"}),l.jsx("p",{className:"text-white/70",children:"펫 배틀 시스템 준비 중..."})]}),j==="evolve"&&l.jsx("div",{className:"text-center py-8",children:d.evolution?l.jsxs("div",{children:[l.jsx("div",{className:"text-6xl mb-4",children:"✨"}),l.jsx("p",{className:"text-white mb-4",children:"레벨 10에 진화 가능합니다!"}),l.jsx("button",{onClick:()=>h(d),disabled:d.level<10,className:`px-6 py-3 rounded-lg font-bold ${d.level>=10?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"진화시키기"})]}):l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),l.jsx("p",{className:"text-white/70",children:"이 펫은 최종 진화 상태입니다."})]})})]})]}),m&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-emerald-900 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"🏪 펫 상점"}),l.jsx("button",{onClick:()=>x(!1),className:"text-white hover:text-red-400 text-2xl",children:"✕"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(p=>{const k=p.rarity==="legendary"?1e4:p.rarity==="epic"?5e3:p.rarity==="rare"?2e3:1e3;return l.jsx("div",{className:`bg-gradient-to-br ${C(p.rarity)} p-0.5 rounded-xl`,children:l.jsx("div",{className:"bg-black/80 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"text-5xl",children:p.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:p.name}),l.jsx("div",{className:"text-sm text-white/70",children:p.species}),l.jsx("div",{className:"text-xs text-yellow-400 uppercase",children:p.rarity}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:p.skills.map(B=>l.jsx("span",{className:"bg-white/20 px-2 py-1 rounded text-xs text-white",children:B},B))}),l.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[l.jsxs("span",{className:"text-yellow-400 font-bold",children:[k," G"]}),l.jsx("button",{onClick:()=>R(p),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"입양하기"})]})]})]})})},p.id)})})]})})]})})},Yg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState(!1),[m,x]=E.useState(!1),[g,v]=E.useState(null),[j,b]=E.useState(50),[w,y]=E.useState(!1),[D,R]=E.useState(50),[N,S]=E.useState([]),[h,C]=E.useState("basic"),[p,k]=E.useState("wooden");E.useRef(null);const B=[{id:"minnow",name:"피라미",icon:"🐟",rarity:"common",size:5,value:50,difficulty:10},{id:"carp",name:"잉어",icon:"🐠",rarity:"common",size:15,value:100,difficulty:20},{id:"bass",name:"배스",icon:"🐟",rarity:"common",size:20,value:150,difficulty:25},{id:"salmon",name:"연어",icon:"🍣",rarity:"rare",size:30,value:300,difficulty:40},{id:"tuna",name:"참치",icon:"🐟",rarity:"rare",size:40,value:500,difficulty:50},{id:"eel",name:"장어",icon:"🐍",rarity:"rare",size:25,value:400,difficulty:45},{id:"swordfish",name:"황새치",icon:"⚔️",rarity:"epic",size:60,value:1e3,difficulty:70},{id:"shark",name:"상어",icon:"🦈",rarity:"epic",size:80,value:1500,difficulty:80},{id:"octopus",name:"문어",icon:"🐙",rarity:"epic",size:35,value:800,difficulty:60},{id:"golden_fish",name:"황금 물고기",icon:"🏆",rarity:"legendary",size:50,value:5e3,difficulty:90},{id:"dragon_fish",name:"용왕의 물고기",icon:"🐉",rarity:"legendary",size:100,value:1e4,difficulty:95},{id:"mermaid_tear",name:"인어의 눈물",icon:"💎",rarity:"legendary",size:1,value:2e4,difficulty:100}],A={basic:{name:"기본 미끼",cost:10,bonus:0,icon:"🪱"},premium:{name:"고급 미끼",cost:50,bonus:20,icon:"🦐"},special:{name:"특수 미끼",cost:200,bonus:50,icon:"✨"}},z={wooden:{name:"나무 낚싯대",power:1,cost:0,icon:"🎣"},iron:{name:"철제 낚싯대",power:1.5,cost:1e3,icon:"🔧"},golden:{name:"황금 낚싯대",power:2,cost:5e3,icon:"⭐"}};E.useEffect(()=>{let K;if(d&&!m){const X=20+A[h].bonus;K=setInterval(()=>{if(Math.random()*100<X){const P=V();v(P),x(!0),He.playNotificationSound()}},1e3)}return()=>clearInterval(K)},[d,m,h]),E.useEffect(()=>{let K;return w&&g&&(K=setInterval(()=>{const U=g.difficulty/100;z[p].power,R(X=>{const P=X+(Math.random()-.5)*U*20;return Math.max(0,Math.min(100,P))}),b(X=>{const P=U*2,be=X-P;return be<=0?(y(!1),x(!1),v(null),b(50),alert("물고기가 도망갔습니다!"),50):be})},100)),()=>clearInterval(K)},[w,g,p]);const V=()=>{const K=Math.random()*100;let U;return h==="special"?K<10?U=B.filter(X=>X.rarity==="legendary"):K<30?U=B.filter(X=>X.rarity==="epic"):K<60?U=B.filter(X=>X.rarity==="rare"):U=B.filter(X=>X.rarity==="common"):h==="premium"?K<5?U=B.filter(X=>X.rarity==="legendary"):K<20?U=B.filter(X=>X.rarity==="epic"):K<50?U=B.filter(X=>X.rarity==="rare"):U=B.filter(X=>X.rarity==="common"):K<1?U=B.filter(X=>X.rarity==="legendary"):K<10?U=B.filter(X=>X.rarity==="epic"):K<30?U=B.filter(X=>X.rarity==="rare"):U=B.filter(X=>X.rarity==="common"),U[Math.floor(Math.random()*U.length)]},W=()=>{const K=A[h].cost;if((r.gold||0)<K){alert("미끼를 살 골드가 부족합니다!");return}o({gold:(r.gold||0)-K}),c(!0),x(!1),b(50)},ee=()=>{c(!1),x(!1),v(null),y(!1),b(50)},xe=()=>{!m||!g||y(!0)},oe=()=>{if(!w||!g)return;const U=10*z[p].power;b(X=>Math.min(100,X+U)),j>80&&Math.abs(D-50)<20&&ve(g)},ve=K=>{S([...N,K]),o({gold:(r.gold||0)+K.value,experience:r.experience+K.size*10}),He.playSuccessSound(),alert(`${K.name}을(를) 잡았습니다! +${K.value} 골드`),y(!1),x(!1),v(null),b(50),c(!1)},Ce=K=>{const U=z[K];if((r.gold||0)<U.cost){alert("골드가 부족합니다!");return}o({gold:(r.gold||0)-U.cost}),k(K),He.playSuccessSound()},ie=K=>{switch(K){case"legendary":return"from-orange-400 to-red-500";case"epic":return"from-purple-400 to-pink-500";case"rare":return"from-blue-400 to-indigo-500";default:return"from-gray-400 to-gray-500"}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-900 via-blue-700 to-cyan-600 p-4",children:[l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🎣 낚시터"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"relative h-64 bg-gradient-to-b from-cyan-600/50 to-blue-800/50 rounded-xl overflow-hidden mb-4",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"wave wave1"}),l.jsx("div",{className:"wave wave2"})]}),d&&l.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2",children:[l.jsx("div",{className:"w-0.5 h-48 bg-white/50"}),l.jsx("div",{className:"text-2xl transform -translate-x-1/2",children:m?"❗":"🪝"})]}),m&&g&&l.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"text-4xl animate-pulse",children:g.icon})})]}),w&&g&&l.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"mb-2 text-white font-bold",children:[g.name,"을(를) 낚는 중!"]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[l.jsx("span",{children:"파워"}),l.jsxs("span",{children:[Math.floor(j),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:l.jsx("div",{className:`h-full rounded-full transition-all ${j>80?"bg-green-500":j>30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${j}%`}})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-sm text-white/80 mb-1",children:"물고기 위치"}),l.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:[l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-full bg-green-500/30"}),l.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 text-2xl",style:{left:`${D}%`},children:"🐟"})]})]}),l.jsx("button",{onClick:oe,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"당기기! (연타)"})]}),d?l.jsxs("div",{className:"space-y-3",children:[m&&!w&&l.jsx("button",{onClick:xe,className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all animate-pulse",children:"❗ 낚아채기!"}),l.jsx("button",{onClick:ee,className:"w-full py-3 bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700 transition-all",children:"그만두기"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold mb-2",children:"미끼 선택"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.keys(A).map(K=>l.jsxs("button",{onClick:()=>C(K),className:`p-3 rounded-lg transition-all ${h===K?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:A[K].icon}),l.jsx("div",{className:"text-sm",children:A[K].name}),l.jsxs("div",{className:"text-xs opacity-80",children:[A[K].cost," G"]})]},K))})]}),l.jsx("button",{onClick:W,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold text-xl hover:shadow-lg transition-all",children:"🎣 낚시 시작"})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"🛍️ 장비 상점"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${p==="iron"?"border-2 border-green-400":""}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-3xl",children:"🔧"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:"철제 낚싯대"}),l.jsx("div",{className:"text-sm text-white/70",children:"파워 +50%"}),l.jsx("div",{className:"text-yellow-400",children:"1,000 G"})]}),p!=="iron"&&p!=="golden"&&l.jsx("button",{onClick:()=>Ce("iron"),className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-bold",children:"구매"})]})}),l.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${p==="golden"?"border-2 border-yellow-400":""}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-3xl",children:"⭐"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-white",children:"황금 낚싯대"}),l.jsx("div",{className:"text-sm text-white/70",children:"파워 +100%"}),l.jsx("div",{className:"text-yellow-400",children:"5,000 G"})]}),p!=="golden"&&l.jsx("button",{onClick:()=>Ce("golden"),className:"px-3 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-bold",children:"구매"})]})})]})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"🏆 오늘의 어획"}),N.length===0?l.jsx("p",{className:"text-white/70 text-center py-4",children:"아직 잡은 물고기가 없습니다."}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:N.map((K,U)=>l.jsx("div",{className:`bg-gradient-to-br ${ie(K.rarity)} p-0.5 rounded-lg`,children:l.jsxs("div",{className:"bg-black/80 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-3xl mb-1",children:K.icon}),l.jsx("div",{className:"text-sm font-bold text-white",children:K.name}),l.jsxs("div",{className:"text-xs text-yellow-400",children:[K.size,"cm"]})]})},U))}),l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("div",{className:"text-white/80",children:"총 수익"}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[N.reduce((K,U)=>K+U.value,0)," G"]})]})]})]}),l.jsx("style",{jsx:!0,children:`
        .wave {
          position: absolute;
          width: 200%;
          height: 100%;
          background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          animation: wave 3s linear infinite;
        }

        .wave1 {
          animation-delay: 0s;
        }

        .wave2 {
          animation-delay: 1.5s;
        }

        @keyframes wave {
          0% {
            transform: translateX(-50%);
          }
          100% {
            transform: translateX(0);
          }
        }
      `})]})},Qg=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState(()=>{const C=[];for(let p=0;p<12;p++)C.push({id:p,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null,isUnlocked:p<4});return C}),[m,x]=E.useState(null),[g,v]=E.useState(Date.now()),j=[{id:"wheat",name:"밀",icon:"🌾",seedCost:50,growthTime:60,sellPrice:150,waterNeeded:2},{id:"carrot",name:"당근",icon:"🥕",seedCost:100,growthTime:120,sellPrice:350,waterNeeded:3},{id:"tomato",name:"토마토",icon:"🍅",seedCost:150,growthTime:180,sellPrice:500,waterNeeded:4},{id:"corn",name:"옥수수",icon:"🌽",seedCost:200,growthTime:240,sellPrice:700,waterNeeded:5},{id:"pumpkin",name:"호박",icon:"🎃",seedCost:300,growthTime:300,sellPrice:1e3,waterNeeded:6},{id:"watermelon",name:"수박",icon:"🍉",seedCost:400,growthTime:360,sellPrice:1500,waterNeeded:7},{id:"strawberry",name:"딸기",icon:"🍓",seedCost:500,growthTime:150,sellPrice:800,waterNeeded:4},{id:"grapes",name:"포도",icon:"🍇",seedCost:600,growthTime:400,sellPrice:2e3,waterNeeded:8},{id:"apple",name:"사과",icon:"🍎",seedCost:800,growthTime:600,sellPrice:3e3,waterNeeded:10},{id:"golden_apple",name:"황금사과",icon:"✨",seedCost:5e3,growthTime:1200,sellPrice:2e4,waterNeeded:20}];E.useEffect(()=>{const C=setInterval(()=>{v(Date.now()),b()},1e3);return()=>clearInterval(C)},[d]);const b=()=>{c(C=>C.map(p=>{if(!p.crop||!p.plantedAt)return p;const B=(Date.now()-p.plantedAt)/1e3/p.crop.growthTime,A=p.lastWateredAt?(Date.now()-p.lastWateredAt)/1e3:1/0;let z=p.crop.stage;return A>120&&p.crop.stage!=="dead"?z="dead":B>=1&&p.wateredTimes>=p.crop.waterNeeded?z="mature":B>=.66?z="growing":B>=.33&&(z="sprout"),{...p,crop:{...p.crop,stage:z}}}))},w=C=>{if(!m){alert("먼저 씨앗을 선택해주세요!");return}const p=j.find(B=>B.id===m);if(!p)return;if((r.gold||0)<p.seedCost){alert("골드가 부족합니다!");return}const k={...p,stage:"seed"};c(B=>B.map(A=>A.id===C?{...A,crop:k,plantedAt:Date.now(),wateredTimes:0,lastWateredAt:null}:A)),o({gold:(r.gold||0)-p.seedCost}),He.playSuccessSound()},y=C=>{const p=d.find(B=>B.id===C);if(!p||!p.crop)return;if(p.crop.stage==="dead"){alert("죽은 작물은 물을 줄 수 없습니다!");return}if(p.crop.stage==="mature"){alert("다 자란 작물입니다!");return}if((p.lastWateredAt?(Date.now()-p.lastWateredAt)/1e3:1/0)<30){alert("너무 자주 물을 주면 안됩니다! 30초 후에 다시 시도하세요.");return}c(B=>B.map(A=>A.id===C?{...A,wateredTimes:A.wateredTimes+1,lastWateredAt:Date.now()}:A)),He.playSuccessSound()},D=C=>{const p=d.find(B=>B.id===C);if(!p||!p.crop)return;if(p.crop.stage!=="mature"){alert("아직 수확할 수 없습니다!");return}const k=p.crop.sellPrice;o({gold:(r.gold||0)+k,experience:r.experience+Math.floor(k/10)}),c(B=>B.map(A=>A.id===C?{...A,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:A)),He.playSuccessSound(),alert(`${p.crop.name}을(를) 수확했습니다! +${k} 골드`)},R=C=>{c(p=>p.map(k=>k.id===C?{...k,crop:null,plantedAt:null,wateredTimes:0,lastWateredAt:null}:k))},N=C=>{const p=1e3*(C-2);if((r.gold||0)<p){alert(`${p} 골드가 필요합니다!`);return}c(k=>k.map(B=>B.id===C?{...B,isUnlocked:!0}:B)),o({gold:(r.gold||0)-p}),He.playSuccessSound()},S=C=>{if(!C.crop)return"🟫";switch(C.crop.stage){case"seed":return"🌱";case"sprout":return"🌿";case"growing":return"🌾";case"mature":return C.crop.icon;case"dead":return"💀";default:return"🟫"}},h=C=>{if(!C.crop||!C.plantedAt)return 0;const p=(g-C.plantedAt)/1e3;return Math.min(100,p/C.crop.growthTime*100)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-700 via-green-600 to-yellow-600 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🌾 농장"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-white",children:[l.jsx("span",{className:"text-yellow-400",children:"💰"})," ",r.gold||0," G"]}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]})]})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"🌰 씨앗 선택"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:j.map(C=>l.jsxs("button",{onClick:()=>x(C.id),className:`p-3 rounded-lg transition-all ${m===C.id?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:C.icon}),l.jsx("div",{className:"text-sm font-bold",children:C.name}),l.jsxs("div",{className:"text-xs",children:["씨: ",C.seedCost,"G"]}),l.jsxs("div",{className:"text-xs",children:["판매: ",C.sellPrice,"G"]}),l.jsxs("div",{className:"text-xs opacity-70",children:[C.growthTime,"초"]})]},C.id))})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"🌻 농장 밭"}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:d.map(C=>l.jsx("div",{className:`relative aspect-square rounded-lg p-4 ${C.isUnlocked?"bg-gradient-to-b from-amber-700 to-amber-900":"bg-gray-800"}`,children:C.isUnlocked?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-5xl text-center mb-2",children:S(C)}),C.crop&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-white font-bold",children:C.crop.name}),C.crop.stage!=="dead"&&C.crop.stage!=="mature"&&l.jsx("div",{className:"mt-1",children:l.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full",style:{width:`${h(C)}%`}})})}),C.crop.stage!=="dead"&&C.crop.stage!=="mature"&&l.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:["💧 ",C.wateredTimes,"/",C.crop.waterNeeded]}),C.crop.stage==="mature"&&l.jsx("div",{className:"text-xs text-green-400 font-bold mt-1",children:"수확 가능!"}),C.crop.stage==="dead"&&l.jsx("div",{className:"text-xs text-red-400 font-bold mt-1",children:"죽음"})]}),l.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex gap-1",children:[!C.crop&&l.jsx("button",{onClick:()=>w(C.id),className:"flex-1 py-1 px-2 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:"심기"}),C.crop&&C.crop.stage!=="mature"&&C.crop.stage!=="dead"&&l.jsx("button",{onClick:()=>y(C.id),className:"flex-1 py-1 px-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:"물주기"}),C.crop&&C.crop.stage==="mature"&&l.jsx("button",{onClick:()=>D(C.id),className:"flex-1 py-1 px-2 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:"수확"}),C.crop&&C.crop.stage==="dead"&&l.jsx("button",{onClick:()=>R(C.id),className:"flex-1 py-1 px-2 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:"제거"})]})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-3xl mb-2",children:"🔒"}),l.jsxs("button",{onClick:()=>N(C.id),className:"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:["해금 (",1e3*(C.id-2),"G)"]})]})},C.id))}),l.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-4",children:[l.jsx("h3",{className:"font-bold text-white mb-2",children:"🌟 팁"}),l.jsxs("ul",{className:"text-sm text-white/80 space-y-1",children:[l.jsx("li",{children:"• 작물은 정기적으로 물을 줘야 합니다 (30초마다)"}),l.jsx("li",{children:"• 물을 2분 이상 안 주면 작물이 죽습니다"}),l.jsx("li",{children:"• 각 작물마다 필요한 물 횟수가 다릅니다"}),l.jsx("li",{children:"• 황금사과는 특별한 보상을 줍니다!"})]})]})]})]})})},$g=()=>{const{player:r,updatePlayer:o}=he(),[d,c]=E.useState({id:"starter_room",name:"기본 방",size:"small",furniture:[],wallpaper:"basic",flooring:"wood",comfort:0,style:0,maxFurniture:10}),[m,x]=E.useState("room"),[g,v]=E.useState(null),j=[{id:"basic_bed",name:"기본 침대",icon:"🛏️",category:"bed",cost:500,comfort:10,style:5},{id:"luxury_bed",name:"고급 침대",icon:"🛏️",category:"bed",cost:2e3,comfort:30,style:20},{id:"royal_bed",name:"왕실 침대",icon:"👑",category:"bed",cost:1e4,comfort:100,style:80},{id:"wooden_chair",name:"나무 의자",icon:"🪑",category:"chair",cost:200,comfort:5,style:3},{id:"gaming_chair",name:"게이밍 체어",icon:"💺",category:"chair",cost:1500,comfort:25,style:15},{id:"throne",name:"왕좌",icon:"🪑",category:"chair",cost:8e3,comfort:50,style:70},{id:"study_desk",name:"책상",icon:"🪵",category:"table",cost:300,comfort:5,style:5},{id:"dining_table",name:"식탁",icon:"🍽️",category:"table",cost:800,comfort:10,style:10},{id:"magic_table",name:"마법 테이블",icon:"✨",category:"table",cost:5e3,comfort:20,style:50},{id:"plant",name:"화분",icon:"🪴",category:"decoration",cost:100,comfort:3,style:5},{id:"painting",name:"그림",icon:"🖼️",category:"decoration",cost:500,comfort:5,style:15},{id:"chandelier",name:"샹들리에",icon:"💎",category:"decoration",cost:3e3,comfort:15,style:40},{id:"aquarium",name:"수족관",icon:"🐠",category:"decoration",cost:1200,comfort:20,style:25},{id:"fireplace",name:"벽난로",icon:"🔥",category:"decoration",cost:2500,comfort:35,style:30},{id:"bookshelf",name:"책장",icon:"📚",category:"storage",cost:600,comfort:8,style:12},{id:"wardrobe",name:"옷장",icon:"🚪",category:"storage",cost:900,comfort:10,style:10},{id:"treasure_chest",name:"보물상자",icon:"💰",category:"storage",cost:4e3,comfort:5,style:35},{id:"piano",name:"피아노",icon:"🎹",category:"special",cost:7e3,comfort:40,style:60},{id:"telescope",name:"망원경",icon:"🔭",category:"special",cost:3500,comfort:15,style:30},{id:"gaming_setup",name:"게이밍 셋업",icon:"🎮",category:"special",cost:1e4,comfort:60,style:45},{id:"magic_crystal",name:"마법 크리스탈",icon:"🔮",category:"special",cost:15e3,comfort:50,style:100}],b=[{id:"basic",name:"기본 벽지",cost:0,style:0,icon:"⬜"},{id:"floral",name:"꽃무늬 벽지",cost:500,style:10,icon:"🌸"},{id:"starry",name:"별무늬 벽지",cost:1e3,style:20,icon:"⭐"},{id:"royal",name:"왕실 벽지",cost:3e3,style:50,icon:"👑"},{id:"magical",name:"마법 벽지",cost:5e3,style:80,icon:"✨"}],w=[{id:"wood",name:"나무 바닥",cost:0,style:5,icon:"🟫"},{id:"carpet",name:"카펫",cost:800,style:15,icon:"🟥"},{id:"marble",name:"대리석",cost:2e3,style:35,icon:"⬜"},{id:"crystal",name:"크리스탈 바닥",cost:6e3,style:70,icon:"💎"}],y=[{size:"medium",name:"중형 방",cost:5e3,maxFurniture:20},{size:"large",name:"대형 방",cost:15e3,maxFurniture:35},{size:"mansion",name:"맨션",cost:5e4,maxFurniture:50}],D=k=>{if((r.gold||0)<k.cost){alert("골드가 부족합니다!");return}if(d.furniture.length>=d.maxFurniture){alert("방에 더 이상 가구를 놓을 수 없습니다!");return}const B={...k,position:{x:50,y:50}};c(A=>({...A,furniture:[...A.furniture,B],comfort:A.comfort+k.comfort,style:A.style+k.style})),o({gold:(r.gold||0)-k.cost}),He.playSuccessSound()},R=k=>{const B=d.furniture.find(z=>z.id===k);if(!B)return;const A=Math.floor(B.cost*.5);c(z=>({...z,furniture:z.furniture.filter(V=>V.id!==k),comfort:z.comfort-B.comfort,style:z.style-B.style})),o({gold:(r.gold||0)+A}),He.playCoinSound()},N=k=>{const B=b.find(A=>A.id===k);if(B){if((r.gold||0)<B.cost){alert("골드가 부족합니다!");return}c(A=>({...A,wallpaper:k,style:A.style+B.style})),o({gold:(r.gold||0)-B.cost}),He.playSuccessSound()}},S=k=>{const B=w.find(A=>A.id===k);if(B){if((r.gold||0)<B.cost){alert("골드가 부족합니다!");return}c(A=>({...A,flooring:k,style:A.style+B.style})),o({gold:(r.gold||0)-B.cost}),He.playSuccessSound()}},h=k=>{const B=y.find(A=>A.size===k);if(B){if((r.gold||0)<B.cost){alert("골드가 부족합니다!");return}c(A=>({...A,size:k,maxFurniture:B.maxFurniture})),o({gold:(r.gold||0)-B.cost}),He.playLevelUpSound()}},p=(()=>{const k=Math.floor(d.comfort/10),B=Math.floor(d.style/10);return{happiness:k*2,charm:B,dailyGold:(k+B)*10}})();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-800 to-purple-900 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"🏠 마이 하우스"}),l.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-all",children:"돌아가기"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-white/70",children:"편안함"}),l.jsxs("div",{className:"text-xl font-bold text-white",children:["😌 ",d.comfort]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-white/70",children:"스타일"}),l.jsxs("div",{className:"text-xl font-bold text-white",children:["✨ ",d.style]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-white/70",children:"가구"}),l.jsxs("div",{className:"text-xl font-bold text-white",children:["🪑 ",d.furniture.length,"/",d.maxFurniture]})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-white/70",children:"크기"}),l.jsxs("div",{className:"text-xl font-bold text-white",children:["📐 ",d.size]})]})]})]}),l.jsx("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 mb-6",children:l.jsx("div",{className:"flex gap-2",children:["room","furniture","customize","upgrade"].map(k=>l.jsxs("button",{onClick:()=>x(k),className:`px-4 py-2 rounded-lg transition-all ${m===k?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[k==="room"&&"🏠 내 방",k==="furniture"&&"🪑 가구 상점",k==="customize"&&"🎨 꾸미기",k==="upgrade"&&"⬆️ 업그레이드"]},k))})}),l.jsxs("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6",children:[m==="room"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"내 방"}),l.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-800 rounded-xl h-64 mb-4 relative overflow-hidden",children:[d.furniture.map((k,B)=>l.jsx("div",{className:"absolute text-4xl cursor-pointer hover:scale-110 transition-all",style:{left:`${k.position?.x||50}%`,top:`${k.position?.y||50}%`,transform:"translate(-50%, -50%)"},onClick:()=>R(k.id),title:`${k.name} (클릭시 판매)`,children:k.icon},B)),d.furniture.length===0&&l.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:"가구를 구매하여 방을 꾸며보세요!"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("h3",{className:"font-bold text-white mb-2",children:"🎁 방 보너스"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-pink-400",children:["행복 +",p.happiness]})}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-purple-400",children:["매력 +",p.charm]})}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-yellow-400",children:["일일 골드 +",p.dailyGold]})})]})]})]}),m==="furniture"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"가구 상점"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(k=>l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("div",{className:"text-3xl text-center mb-2",children:k.icon}),l.jsx("div",{className:"text-sm font-bold text-white",children:k.name}),l.jsx("div",{className:"text-xs text-white/70",children:k.category}),l.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[l.jsxs("span",{className:"text-blue-400",children:["편안함 +",k.comfort]}),l.jsxs("span",{className:"text-purple-400",children:["스타일 +",k.style]})]}),l.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[l.jsxs("span",{className:"text-yellow-400 font-bold",children:[k.cost," G"]}),l.jsx("button",{onClick:()=>D(k),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded text-sm font-bold hover:shadow-lg transition-all",children:"구매"})]})]},k.id))})]}),m==="customize"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"방 꾸미기"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"벽지"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:b.map(k=>l.jsxs("button",{onClick:()=>N(k.id),className:`p-3 rounded-lg transition-all ${d.wallpaper===k.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:k.icon}),l.jsx("div",{className:"text-xs",children:k.name}),l.jsxs("div",{className:"text-xs",children:[k.cost," G"]})]},k.id))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"바닥재"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:w.map(k=>l.jsxs("button",{onClick:()=>S(k.id),className:`p-3 rounded-lg transition-all ${d.flooring===k.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:k.icon}),l.jsx("div",{className:"text-xs",children:k.name}),l.jsxs("div",{className:"text-xs",children:[k.cost," G"]})]},k.id))})]})]}),m==="upgrade"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"방 업그레이드"}),l.jsx("div",{className:"grid gap-4",children:y.map(k=>l.jsx("div",{className:`bg-white/10 rounded-lg p-4 ${d.size===k.size?"border-2 border-green-400":""}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-white",children:k.name}),l.jsxs("div",{className:"text-sm text-white/70",children:["최대 가구: ",k.maxFurniture,"개"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-yellow-400 font-bold text-xl",children:[k.cost," G"]}),d.size!==k.size&&l.jsx("button",{onClick:()=>h(k.size),className:"mt-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"업그레이드"})]})]})},k.size))})]})]})]})})},Xg="http://localhost:3001";class Zg{constructor(o=Xg){this.baseUrl=o}async healthCheck(){try{return await(await fetch(`${this.baseUrl}/health`)).json()}catch(o){throw console.error("Health check failed:",o),o}}async testApi(){try{return await(await fetch(`${this.baseUrl}/api/test`)).json()}catch(o){throw console.error("API test failed:",o),o}}async login(o,d){try{return await(await fetch(`${this.baseUrl}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:d})})).json()}catch(c){throw console.error("Login failed:",c),c}}async register(o,d,c){try{return await(await fetch(`${this.baseUrl}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,username:d,password:c})})).json()}catch(m){throw console.error("Registration failed:",m),m}}async saveGame(o){try{return await(await fetch(`${this.baseUrl}/api/game/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(o)})).json()}catch(d){throw console.error("Save game failed:",d),d}}async loadGame(){try{return await(await fetch(`${this.baseUrl}/api/game/load`,{headers:{Authorization:`Bearer ${this.getToken()}`}})).json()}catch(o){throw console.error("Load game failed:",o),o}}getToken(){return localStorage.getItem("authToken")}setToken(o){localStorage.setItem("authToken",o)}removeToken(){localStorage.removeItem("authToken")}}const Lc=new Zg,Vg=()=>{const[r,o]=E.useState(null),[d,c]=E.useState(null),[m,x]=E.useState(!1),[g,v]=E.useState(null);E.useEffect(()=>{j()},[]);const j=async()=>{x(!0),v(null);try{const y=await Lc.healthCheck();o(y)}catch(y){v("백엔드 연결 실패: "+y.message)}finally{x(!1)}},b=async()=>{x(!0),v(null);try{const y=await Lc.testApi();c(y)}catch(y){v("API 테스트 실패: "+y.message)}finally{x(!1)}},w=async()=>{x(!0),v(null);try{const y=await Lc.login("demo@academy-dating-sim.com","demo123");console.log("Login result:",y),alert("로그인 테스트 결과를 콘솔에서 확인하세요")}catch(y){v("로그인 테스트 실패: "+y.message)}finally{x(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-8 border border-white/20",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"🔗 백엔드 API 연결 테스트"}),g&&l.jsxs("div",{className:"bg-red-500/20 border border-red-500 rounded-lg p-4 mb-6 text-red-200",children:[l.jsx("strong",{children:"오류:"})," ",g]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"🏥 Health Check"}),l.jsx("button",{onClick:j,disabled:m,className:"w-full mb-4 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?"테스트 중...":"서버 상태 확인"}),r&&l.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:l.jsx("pre",{className:"text-green-300 whitespace-pre-wrap",children:JSON.stringify(r,null,2)})})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"🧪 API 테스트"}),l.jsx("button",{onClick:b,disabled:m,className:"w-full mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?"테스트 중...":"API 엔드포인트 테스트"}),d&&l.jsx("div",{className:"bg-black/50 rounded p-3 text-sm",children:l.jsx("pre",{className:"text-blue-300 whitespace-pre-wrap",children:JSON.stringify(d,null,2)})})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"🔐 인증 테스트"}),l.jsx("button",{onClick:w,disabled:m,className:"w-full mb-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-all",children:m?"테스트 중...":"로그인 테스트 (demo 계정)"}),l.jsx("p",{className:"text-gray-300 text-xs",children:"데모 계정: demo@academy-dating-sim.com / demo123"})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"📊 연결 상태"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-300",children:"프론트엔드:"}),l.jsx("span",{className:"text-green-400",children:"✅ http://localhost:5173"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-300",children:"백엔드:"}),l.jsxs("span",{className:r?"text-green-400":"text-red-400",children:[r?"✅":"❌"," http://localhost:3001"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-300",children:"데이터베이스:"}),l.jsx("span",{className:"text-green-400",children:"✅ Supabase PostgreSQL"})]})]})]})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all",children:"← 돌아가기"})})]})})})};function Kg(){const[r,o]=E.useState(!1),[d,c]=E.useState(null),m=he(j=>j.gameEnding);E.useEffect(()=>{const j=localStorage.getItem("user");j&&(c(JSON.parse(j)),o(!0))},[]);const x=(j,b)=>{if(j==="demo"&&b==="password"){const w={username:j,email:"demo@example.com"};return o(!0),c(w),localStorage.setItem("user",JSON.stringify(w)),!0}return!1},g=j=>{const b={username:j.username,email:j.email};return o(!0),c(b),localStorage.setItem("user",JSON.stringify(b)),!0},v=()=>{o(!1),c(null),localStorage.removeItem("user")};return l.jsx(Sp,{children:l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:l.jsxs(tp,{children:[l.jsx(ze,{path:"/",element:l.jsx(Tf,{isLoggedIn:r,user:d,onLogout:v})}),l.jsx(ze,{path:"/login",element:l.jsx(fg,{onLogin:x})}),l.jsx(ze,{path:"/account-creation",element:l.jsx(_g,{onCreateAccount:g})}),l.jsx(ze,{path:"/character-creation",element:l.jsx(hg,{})}),l.jsx(ze,{path:"/game-info",element:l.jsx(Dg,{})}),l.jsx(ze,{path:"/settings",element:l.jsx(Rg,{})}),l.jsx(ze,{path:"/api-test",element:l.jsx(Vg,{})}),l.jsx(ze,{path:"/dungeon",element:l.jsx(yg,{})}),l.jsx(ze,{path:"/shopping",element:l.jsx(vg,{})}),l.jsx(ze,{path:"/characters",element:l.jsx(_f,{})}),l.jsx(ze,{path:"/achievements",element:l.jsx(Og,{})}),l.jsx(ze,{path:"/collection",element:l.jsx(Bg,{})}),l.jsx(ze,{path:"/quests",element:l.jsx(Hg,{})}),l.jsx(ze,{path:"/calendar",element:l.jsx(Ug,{})}),l.jsx(ze,{path:"/crafting",element:l.jsx(qg,{})}),l.jsx(ze,{path:"/guild",element:l.jsx(Lg,{})}),l.jsx(ze,{path:"/pets",element:l.jsx(Gg,{})}),l.jsx(ze,{path:"/fishing",element:l.jsx(Yg,{})}),l.jsx(ze,{path:"/farming",element:l.jsx(Qg,{})}),l.jsx(ze,{path:"/housing",element:l.jsx($g,{})}),l.jsx(ze,{path:"/game",element:m?l.jsx(mg,{}):l.jsx(og,{})}),l.jsx(ze,{path:"*",element:l.jsx(Ix,{to:"/",replace:!0})})]})})})}dx.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(Kg,{})}));
